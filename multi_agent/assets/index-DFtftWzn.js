const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-4EVJKHTY-COc1V311.js","assets/graph-CkZqqRSL.js","assets/_baseUniq-B7EDobJg.js","assets/layout-DmycVAYd.js","assets/_basePickBy-DhxcBUXx.js","assets/clone-Jozpkrcx.js","assets/c4Diagram-6F5ED5ID-DeFXYuLM.js","assets/chunk-ASOPGD6M-CSj1RFxZ.js","assets/flowDiagram-7ASYPVHJ-DdGkzYDO.js","assets/chunk-5HRBRIJM-BIzHa4IR.js","assets/channel-DvoCgSYe.js","assets/erDiagram-6RL3IURR-Le2ct7Z1.js","assets/gitGraphDiagram-NRZ2UAAF-B1zUoHlE.js","assets/chunk-TMUBEWPD-DPXdCHUE.js","assets/chunk-KFBOBJHC-BXZ0T3rd.js","assets/gitGraph-YCYPL57B-DMrzOfDq.js","assets/ganttDiagram-NTVNEXSI-DHer1oSA.js","assets/linear-tP6hIRnr.js","assets/init-Gi6I4Gst.js","assets/infoDiagram-A4XQUW5V--k7otcNt.js","assets/pieDiagram-YF2LJOPJ-BJ7Gkulp.js","assets/arc-D-ry6Dse.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-OS5C2QUG-D2TsaX0j.js","assets/xychartDiagram-6QU3TZC5-H1PmjuJs.js","assets/requirementDiagram-MIRIMTAZ-DtQd3eEd.js","assets/sequenceDiagram-G6AWOVSC-ClZyoJ68.js","assets/classDiagram-LNE6IOMH-Cp6o7nK8.js","assets/chunk-T2TOU4HS-C7QEqUpX.js","assets/classDiagram-v2-MQ7JQ4JX-Cp6o7nK8.js","assets/stateDiagram-MAYHULR4-B50MOICp.js","assets/chunk-7U56Z5CX-kN0NGMdq.js","assets/stateDiagram-v2-4JROLMXI-b941QvXL.js","assets/journeyDiagram-G5WM74LC-Cnn-ODUJ.js","assets/timeline-definition-U7ZMHBDA-CSgoyS0F.js","assets/mindmap-definition-GWI6TPTV-_gtlj1a6.js","assets/cytoscape.esm-BQaXIfA_.js","assets/sankeyDiagram-Y46BX6SQ-CFHocR8d.js","assets/diagram-QW4FP2JN-BQYfWc8x.js","assets/blockDiagram-ZHA2E4KO-D8zH_BXO.js","assets/architectureDiagram-UYN6MBPD-BihYGYVy.js"])))=>i.map(i=>d[i]);
var Qm=Object.defineProperty;var Uf=ee=>{throw TypeError(ee)};var eg=(ee,te,ne)=>te in ee?Qm(ee,te,{enumerable:!0,configurable:!0,writable:!0,value:ne}):ee[te]=ne;var gn=(ee,te,ne)=>eg(ee,typeof te!="symbol"?te+"":te,ne),tg=(ee,te,ne)=>te.has(ee)||Uf("Cannot "+ne);var zf=(ee,te,ne)=>te.has(ee)?Uf("Cannot add the same private member more than once"):te instanceof WeakSet?te.add(ee):te.set(ee,ne);var Ps=(ee,te,ne)=>(tg(ee,te,"access private method"),ne);(function(){const te=document.createElement("link").relList;if(te&&te.supports&&te.supports("modulepreload"))return;for(const ie of document.querySelectorAll('link[rel="modulepreload"]'))ae(ie);new MutationObserver(ie=>{for(const se of ie)if(se.type==="childList")for(const oe of se.addedNodes)oe.tagName==="LINK"&&oe.rel==="modulepreload"&&ae(oe)}).observe(document,{childList:!0,subtree:!0});function ne(ie){const se={};return ie.integrity&&(se.integrity=ie.integrity),ie.referrerPolicy&&(se.referrerPolicy=ie.referrerPolicy),ie.crossOrigin==="use-credentials"?se.credentials="include":ie.crossOrigin==="anonymous"?se.credentials="omit":se.credentials="same-origin",se}function ae(ie){if(ie.ep)return;ie.ep=!0;const se=ne(ie);fetch(ie.href,se)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ee){return ee&&ee.__esModule&&Object.prototype.hasOwnProperty.call(ee,"default")?ee.default:ee}function getAugmentedNamespace(ee){if(Object.prototype.hasOwnProperty.call(ee,"__esModule"))return ee;var te=ee.default;if(typeof te=="function"){var ne=function ae(){return this instanceof ae?Reflect.construct(te,arguments,this.constructor):te.apply(this,arguments)};ne.prototype=te.prototype}else ne={};return Object.defineProperty(ne,"__esModule",{value:!0}),Object.keys(ee).forEach(function(ae){var ie=Object.getOwnPropertyDescriptor(ee,ae);Object.defineProperty(ne,ae,ie.get?ie:{enumerable:!0,get:function(){return ee[ae]}})}),ne}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var ee=Symbol.for("react.transitional.element"),te=Symbol.for("react.fragment");function ne(ae,ie,se){var oe=null;if(se!==void 0&&(oe=""+se),ie.key!==void 0&&(oe=""+ie.key),"key"in ie){se={};for(var le in ie)le!=="key"&&(se[le]=ie[le])}else se=ie;return ie=se.ref,{$$typeof:ee,type:ae,key:oe,ref:ie!==void 0?ie:null,props:se}}return reactJsxRuntime_production.Fragment=te,reactJsxRuntime_production.jsx=ne,reactJsxRuntime_production.jsxs=ne,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var ee=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),he=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),ge=Symbol.iterator;function ye(Ie){return Ie===null||typeof Ie!="object"?null:(Ie=ge&&Ie[ge]||Ie["@@iterator"],typeof Ie=="function"?Ie:null)}var xe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},be=Object.assign,Se={};function ve(Ie,Fe,Le){this.props=Ie,this.context=Fe,this.refs=Se,this.updater=Le||xe}ve.prototype.isReactComponent={},ve.prototype.setState=function(Ie,Fe){if(typeof Ie!="object"&&typeof Ie!="function"&&Ie!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ie,Fe,"setState")},ve.prototype.forceUpdate=function(Ie){this.updater.enqueueForceUpdate(this,Ie,"forceUpdate")};function Te(){}Te.prototype=ve.prototype;function Ce(Ie,Fe,Le){this.props=Ie,this.context=Fe,this.refs=Se,this.updater=Le||xe}var Pe=Ce.prototype=new Te;Pe.constructor=Ce,be(Pe,ve.prototype),Pe.isPureReactComponent=!0;var Be=Array.isArray;function Ae(){}var Me={H:null,A:null,T:null,S:null},Ge=Object.prototype.hasOwnProperty;function Ue(Ie,Fe,Le){var Ze=Le.ref;return{$$typeof:ee,type:Ie,key:Fe,ref:Ze!==void 0?Ze:null,props:Le}}function Ve(Ie,Fe){return Ue(Ie.type,Fe,Ie.props)}function je(Ie){return typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===ee}function De(Ie){var Fe={"=":"=0",":":"=2"};return"$"+Ie.replace(/[=:]/g,function(Le){return Fe[Le]})}var Ye=/\/+/g;function ke(Ie,Fe){return typeof Ie=="object"&&Ie!==null&&Ie.key!=null?De(""+Ie.key):Fe.toString(36)}function $e(Ie){switch(Ie.status){case"fulfilled":return Ie.value;case"rejected":throw Ie.reason;default:switch(typeof Ie.status=="string"?Ie.then(Ae,Ae):(Ie.status="pending",Ie.then(function(Fe){Ie.status==="pending"&&(Ie.status="fulfilled",Ie.value=Fe)},function(Fe){Ie.status==="pending"&&(Ie.status="rejected",Ie.reason=Fe)})),Ie.status){case"fulfilled":return Ie.value;case"rejected":throw Ie.reason}}throw Ie}function Oe(Ie,Fe,Le,Ze,Qe){var St=typeof Ie;(St==="undefined"||St==="boolean")&&(Ie=null);var Nt=!1;if(Ie===null)Nt=!0;else switch(St){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(Ie.$$typeof){case ee:case te:Nt=!0;break;case fe:return Nt=Ie._init,Oe(Nt(Ie._payload),Fe,Le,Ze,Qe)}}if(Nt)return Qe=Qe(Ie),Nt=Ze===""?"."+ke(Ie,0):Ze,Be(Qe)?(Le="",Nt!=null&&(Le=Nt.replace(Ye,"$&/")+"/"),Oe(Qe,Fe,Le,"",function(At){return At})):Qe!=null&&(je(Qe)&&(Qe=Ve(Qe,Le+(Qe.key==null||Ie&&Ie.key===Qe.key?"":(""+Qe.key).replace(Ye,"$&/")+"/")+Nt)),Fe.push(Qe)),1;Nt=0;var Ct=Ze===""?".":Ze+":";if(Be(Ie))for(var kt=0;kt<Ie.length;kt++)Ze=Ie[kt],St=Ct+ke(Ze,kt),Nt+=Oe(Ze,Fe,Le,St,Qe);else if(kt=ye(Ie),typeof kt=="function")for(Ie=kt.call(Ie),kt=0;!(Ze=Ie.next()).done;)Ze=Ze.value,St=Ct+ke(Ze,kt++),Nt+=Oe(Ze,Fe,Le,St,Qe);else if(St==="object"){if(typeof Ie.then=="function")return Oe($e(Ie),Fe,Le,Ze,Qe);throw Fe=String(Ie),Error("Objects are not valid as a React child (found: "+(Fe==="[object Object]"?"object with keys {"+Object.keys(Ie).join(", ")+"}":Fe)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function He(Ie,Fe,Le){if(Ie==null)return Ie;var Ze=[],Qe=0;return Oe(Ie,Ze,"","",function(St){return Fe.call(Le,St,Qe++)}),Ze}function qe(Ie){if(Ie._status===-1){var Fe=Ie._result;Fe=Fe(),Fe.then(function(Le){(Ie._status===0||Ie._status===-1)&&(Ie._status=1,Ie._result=Le)},function(Le){(Ie._status===0||Ie._status===-1)&&(Ie._status=2,Ie._result=Le)}),Ie._status===-1&&(Ie._status=0,Ie._result=Fe)}if(Ie._status===1)return Ie._result.default;throw Ie._result}var Xe=typeof reportError=="function"?reportError:function(Ie){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ie=="object"&&Ie!==null&&typeof Ie.message=="string"?String(Ie.message):String(Ie),error:Ie});if(!window.dispatchEvent(Fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ie);return}console.error(Ie)},ze={map:He,forEach:function(Ie,Fe,Le){He(Ie,function(){Fe.apply(this,arguments)},Le)},count:function(Ie){var Fe=0;return He(Ie,function(){Fe++}),Fe},toArray:function(Ie){return He(Ie,function(Fe){return Fe})||[]},only:function(Ie){if(!je(Ie))throw Error("React.Children.only expected to receive a single React element child.");return Ie}};return react_production.Activity=pe,react_production.Children=ze,react_production.Component=ve,react_production.Fragment=ne,react_production.Profiler=ie,react_production.PureComponent=Ce,react_production.StrictMode=ae,react_production.Suspense=ce,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Me,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Ie){return Me.H.useMemoCache(Ie)}},react_production.cache=function(Ie){return function(){return Ie.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(Ie,Fe,Le){if(Ie==null)throw Error("The argument must be a React element, but you passed "+Ie+".");var Ze=be({},Ie.props),Qe=Ie.key;if(Fe!=null)for(St in Fe.key!==void 0&&(Qe=""+Fe.key),Fe)!Ge.call(Fe,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Fe.ref===void 0||(Ze[St]=Fe[St]);var St=arguments.length-2;if(St===1)Ze.children=Le;else if(1<St){for(var Nt=Array(St),Ct=0;Ct<St;Ct++)Nt[Ct]=arguments[Ct+2];Ze.children=Nt}return Ue(Ie.type,Qe,Ze)},react_production.createContext=function(Ie){return Ie={$$typeof:oe,_currentValue:Ie,_currentValue2:Ie,_threadCount:0,Provider:null,Consumer:null},Ie.Provider=Ie,Ie.Consumer={$$typeof:se,_context:Ie},Ie},react_production.createElement=function(Ie,Fe,Le){var Ze,Qe={},St=null;if(Fe!=null)for(Ze in Fe.key!==void 0&&(St=""+Fe.key),Fe)Ge.call(Fe,Ze)&&Ze!=="key"&&Ze!=="__self"&&Ze!=="__source"&&(Qe[Ze]=Fe[Ze]);var Nt=arguments.length-2;if(Nt===1)Qe.children=Le;else if(1<Nt){for(var Ct=Array(Nt),kt=0;kt<Nt;kt++)Ct[kt]=arguments[kt+2];Qe.children=Ct}if(Ie&&Ie.defaultProps)for(Ze in Nt=Ie.defaultProps,Nt)Qe[Ze]===void 0&&(Qe[Ze]=Nt[Ze]);return Ue(Ie,St,Qe)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Ie){return{$$typeof:le,render:Ie}},react_production.isValidElement=je,react_production.lazy=function(Ie){return{$$typeof:fe,_payload:{_status:-1,_result:Ie},_init:qe}},react_production.memo=function(Ie,Fe){return{$$typeof:he,type:Ie,compare:Fe===void 0?null:Fe}},react_production.startTransition=function(Ie){var Fe=Me.T,Le={};Me.T=Le;try{var Ze=Ie(),Qe=Me.S;Qe!==null&&Qe(Le,Ze),typeof Ze=="object"&&Ze!==null&&typeof Ze.then=="function"&&Ze.then(Ae,Xe)}catch(St){Xe(St)}finally{Fe!==null&&Le.types!==null&&(Fe.types=Le.types),Me.T=Fe}},react_production.unstable_useCacheRefresh=function(){return Me.H.useCacheRefresh()},react_production.use=function(Ie){return Me.H.use(Ie)},react_production.useActionState=function(Ie,Fe,Le){return Me.H.useActionState(Ie,Fe,Le)},react_production.useCallback=function(Ie,Fe){return Me.H.useCallback(Ie,Fe)},react_production.useContext=function(Ie){return Me.H.useContext(Ie)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Ie,Fe){return Me.H.useDeferredValue(Ie,Fe)},react_production.useEffect=function(Ie,Fe){return Me.H.useEffect(Ie,Fe)},react_production.useEffectEvent=function(Ie){return Me.H.useEffectEvent(Ie)},react_production.useId=function(){return Me.H.useId()},react_production.useImperativeHandle=function(Ie,Fe,Le){return Me.H.useImperativeHandle(Ie,Fe,Le)},react_production.useInsertionEffect=function(Ie,Fe){return Me.H.useInsertionEffect(Ie,Fe)},react_production.useLayoutEffect=function(Ie,Fe){return Me.H.useLayoutEffect(Ie,Fe)},react_production.useMemo=function(Ie,Fe){return Me.H.useMemo(Ie,Fe)},react_production.useOptimistic=function(Ie,Fe){return Me.H.useOptimistic(Ie,Fe)},react_production.useReducer=function(Ie,Fe,Le){return Me.H.useReducer(Ie,Fe,Le)},react_production.useRef=function(Ie){return Me.H.useRef(Ie)},react_production.useState=function(Ie){return Me.H.useState(Ie)},react_production.useSyncExternalStore=function(Ie,Fe,Le){return Me.H.useSyncExternalStore(Ie,Fe,Le)},react_production.useTransition=function(){return Me.H.useTransition()},react_production.version="19.2.1",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(ee){function te(Oe,He){var qe=Oe.length;Oe.push(He);e:for(;0<qe;){var Xe=qe-1>>>1,ze=Oe[Xe];if(0<ie(ze,He))Oe[Xe]=He,Oe[qe]=ze,qe=Xe;else break e}}function ne(Oe){return Oe.length===0?null:Oe[0]}function ae(Oe){if(Oe.length===0)return null;var He=Oe[0],qe=Oe.pop();if(qe!==He){Oe[0]=qe;e:for(var Xe=0,ze=Oe.length,Ie=ze>>>1;Xe<Ie;){var Fe=2*(Xe+1)-1,Le=Oe[Fe],Ze=Fe+1,Qe=Oe[Ze];if(0>ie(Le,qe))Ze<ze&&0>ie(Qe,Le)?(Oe[Xe]=Qe,Oe[Ze]=qe,Xe=Ze):(Oe[Xe]=Le,Oe[Fe]=qe,Xe=Fe);else if(Ze<ze&&0>ie(Qe,qe))Oe[Xe]=Qe,Oe[Ze]=qe,Xe=Ze;else break e}}return He}function ie(Oe,He){var qe=Oe.sortIndex-He.sortIndex;return qe!==0?qe:Oe.id-He.id}if(ee.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var se=performance;ee.unstable_now=function(){return se.now()}}else{var oe=Date,le=oe.now();ee.unstable_now=function(){return oe.now()-le}}var ce=[],he=[],fe=1,pe=null,ge=3,ye=!1,xe=!1,be=!1,Se=!1,ve=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,Ce=typeof setImmediate<"u"?setImmediate:null;function Pe(Oe){for(var He=ne(he);He!==null;){if(He.callback===null)ae(he);else if(He.startTime<=Oe)ae(he),He.sortIndex=He.expirationTime,te(ce,He);else break;He=ne(he)}}function Be(Oe){if(be=!1,Pe(Oe),!xe)if(ne(ce)!==null)xe=!0,Ae||(Ae=!0,De());else{var He=ne(he);He!==null&&$e(Be,He.startTime-Oe)}}var Ae=!1,Me=-1,Ge=5,Ue=-1;function Ve(){return Se?!0:!(ee.unstable_now()-Ue<Ge)}function je(){if(Se=!1,Ae){var Oe=ee.unstable_now();Ue=Oe;var He=!0;try{e:{xe=!1,be&&(be=!1,Te(Me),Me=-1),ye=!0;var qe=ge;try{t:{for(Pe(Oe),pe=ne(ce);pe!==null&&!(pe.expirationTime>Oe&&Ve());){var Xe=pe.callback;if(typeof Xe=="function"){pe.callback=null,ge=pe.priorityLevel;var ze=Xe(pe.expirationTime<=Oe);if(Oe=ee.unstable_now(),typeof ze=="function"){pe.callback=ze,Pe(Oe),He=!0;break t}pe===ne(ce)&&ae(ce),Pe(Oe)}else ae(ce);pe=ne(ce)}if(pe!==null)He=!0;else{var Ie=ne(he);Ie!==null&&$e(Be,Ie.startTime-Oe),He=!1}}break e}finally{pe=null,ge=qe,ye=!1}He=void 0}}finally{He?De():Ae=!1}}}var De;if(typeof Ce=="function")De=function(){Ce(je)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,ke=Ye.port2;Ye.port1.onmessage=je,De=function(){ke.postMessage(null)}}else De=function(){ve(je,0)};function $e(Oe,He){Me=ve(function(){Oe(ee.unstable_now())},He)}ee.unstable_IdlePriority=5,ee.unstable_ImmediatePriority=1,ee.unstable_LowPriority=4,ee.unstable_NormalPriority=3,ee.unstable_Profiling=null,ee.unstable_UserBlockingPriority=2,ee.unstable_cancelCallback=function(Oe){Oe.callback=null},ee.unstable_forceFrameRate=function(Oe){0>Oe||125<Oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ge=0<Oe?Math.floor(1e3/Oe):5},ee.unstable_getCurrentPriorityLevel=function(){return ge},ee.unstable_next=function(Oe){switch(ge){case 1:case 2:case 3:var He=3;break;default:He=ge}var qe=ge;ge=He;try{return Oe()}finally{ge=qe}},ee.unstable_requestPaint=function(){Se=!0},ee.unstable_runWithPriority=function(Oe,He){switch(Oe){case 1:case 2:case 3:case 4:case 5:break;default:Oe=3}var qe=ge;ge=Oe;try{return He()}finally{ge=qe}},ee.unstable_scheduleCallback=function(Oe,He,qe){var Xe=ee.unstable_now();switch(typeof qe=="object"&&qe!==null?(qe=qe.delay,qe=typeof qe=="number"&&0<qe?Xe+qe:Xe):qe=Xe,Oe){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=qe+ze,Oe={id:fe++,callback:He,priorityLevel:Oe,startTime:qe,expirationTime:ze,sortIndex:-1},qe>Xe?(Oe.sortIndex=qe,te(he,Oe),ne(ce)===null&&Oe===ne(he)&&(be?(Te(Me),Me=-1):be=!0,$e(Be,qe-Xe))):(Oe.sortIndex=ze,te(ce,Oe),xe||ye||(xe=!0,Ae||(Ae=!0,De()))),Oe},ee.unstable_shouldYield=Ve,ee.unstable_wrapCallback=function(Oe){var He=ge;return function(){var qe=ge;ge=He;try{return Oe.apply(this,arguments)}finally{ge=qe}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var ee=requireReact();function te(ce){var he="https://react.dev/errors/"+ce;if(1<arguments.length){he+="?args[]="+encodeURIComponent(arguments[1]);for(var fe=2;fe<arguments.length;fe++)he+="&args[]="+encodeURIComponent(arguments[fe])}return"Minified React error #"+ce+"; visit "+he+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ne(){}var ae={d:{f:ne,r:function(){throw Error(te(522))},D:ne,C:ne,L:ne,m:ne,X:ne,S:ne,M:ne},p:0,findDOMNode:null},ie=Symbol.for("react.portal");function se(ce,he,fe){var pe=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:pe==null?null:""+pe,children:ce,containerInfo:he,implementation:fe}}var oe=ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function le(ce,he){if(ce==="font")return"";if(typeof he=="string")return he==="use-credentials"?he:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,reactDom_production.createPortal=function(ce,he){var fe=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!he||he.nodeType!==1&&he.nodeType!==9&&he.nodeType!==11)throw Error(te(299));return se(ce,he,null,fe)},reactDom_production.flushSync=function(ce){var he=oe.T,fe=ae.p;try{if(oe.T=null,ae.p=2,ce)return ce()}finally{oe.T=he,ae.p=fe,ae.d.f()}},reactDom_production.preconnect=function(ce,he){typeof ce=="string"&&(he?(he=he.crossOrigin,he=typeof he=="string"?he==="use-credentials"?he:"":void 0):he=null,ae.d.C(ce,he))},reactDom_production.prefetchDNS=function(ce){typeof ce=="string"&&ae.d.D(ce)},reactDom_production.preinit=function(ce,he){if(typeof ce=="string"&&he&&typeof he.as=="string"){var fe=he.as,pe=le(fe,he.crossOrigin),ge=typeof he.integrity=="string"?he.integrity:void 0,ye=typeof he.fetchPriority=="string"?he.fetchPriority:void 0;fe==="style"?ae.d.S(ce,typeof he.precedence=="string"?he.precedence:void 0,{crossOrigin:pe,integrity:ge,fetchPriority:ye}):fe==="script"&&ae.d.X(ce,{crossOrigin:pe,integrity:ge,fetchPriority:ye,nonce:typeof he.nonce=="string"?he.nonce:void 0})}},reactDom_production.preinitModule=function(ce,he){if(typeof ce=="string")if(typeof he=="object"&&he!==null){if(he.as==null||he.as==="script"){var fe=le(he.as,he.crossOrigin);ae.d.M(ce,{crossOrigin:fe,integrity:typeof he.integrity=="string"?he.integrity:void 0,nonce:typeof he.nonce=="string"?he.nonce:void 0})}}else he==null&&ae.d.M(ce)},reactDom_production.preload=function(ce,he){if(typeof ce=="string"&&typeof he=="object"&&he!==null&&typeof he.as=="string"){var fe=he.as,pe=le(fe,he.crossOrigin);ae.d.L(ce,fe,{crossOrigin:pe,integrity:typeof he.integrity=="string"?he.integrity:void 0,nonce:typeof he.nonce=="string"?he.nonce:void 0,type:typeof he.type=="string"?he.type:void 0,fetchPriority:typeof he.fetchPriority=="string"?he.fetchPriority:void 0,referrerPolicy:typeof he.referrerPolicy=="string"?he.referrerPolicy:void 0,imageSrcSet:typeof he.imageSrcSet=="string"?he.imageSrcSet:void 0,imageSizes:typeof he.imageSizes=="string"?he.imageSizes:void 0,media:typeof he.media=="string"?he.media:void 0})}},reactDom_production.preloadModule=function(ce,he){if(typeof ce=="string")if(he){var fe=le(he.as,he.crossOrigin);ae.d.m(ce,{as:typeof he.as=="string"&&he.as!=="script"?he.as:void 0,crossOrigin:fe,integrity:typeof he.integrity=="string"?he.integrity:void 0})}else ae.d.m(ce)},reactDom_production.requestFormReset=function(ce){ae.d.r(ce)},reactDom_production.unstable_batchedUpdates=function(ce,he){return ce(he)},reactDom_production.useFormState=function(ce,he,fe){return oe.H.useFormState(ce,he,fe)},reactDom_production.useFormStatus=function(){return oe.H.useHostTransitionStatus()},reactDom_production.version="19.2.1",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function ee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ee)}catch(te){console.error(te)}}return ee(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var ee=requireScheduler(),te=requireReact(),ne=requireReactDom();function ae(ue){var de="https://react.dev/errors/"+ue;if(1<arguments.length){de+="?args[]="+encodeURIComponent(arguments[1]);for(var me=2;me<arguments.length;me++)de+="&args[]="+encodeURIComponent(arguments[me])}return"Minified React error #"+ue+"; visit "+de+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ie(ue){return!(!ue||ue.nodeType!==1&&ue.nodeType!==9&&ue.nodeType!==11)}function se(ue){var de=ue,me=ue;if(ue.alternate)for(;de.return;)de=de.return;else{ue=de;do de=ue,(de.flags&4098)!==0&&(me=de.return),ue=de.return;while(ue)}return de.tag===3?me:null}function oe(ue){if(ue.tag===13){var de=ue.memoizedState;if(de===null&&(ue=ue.alternate,ue!==null&&(de=ue.memoizedState)),de!==null)return de.dehydrated}return null}function le(ue){if(ue.tag===31){var de=ue.memoizedState;if(de===null&&(ue=ue.alternate,ue!==null&&(de=ue.memoizedState)),de!==null)return de.dehydrated}return null}function ce(ue){if(se(ue)!==ue)throw Error(ae(188))}function he(ue){var de=ue.alternate;if(!de){if(de=se(ue),de===null)throw Error(ae(188));return de!==ue?null:ue}for(var me=ue,_e=de;;){var we=me.return;if(we===null)break;var Ee=we.alternate;if(Ee===null){if(_e=we.return,_e!==null){me=_e;continue}break}if(we.child===Ee.child){for(Ee=we.child;Ee;){if(Ee===me)return ce(we),ue;if(Ee===_e)return ce(we),de;Ee=Ee.sibling}throw Error(ae(188))}if(me.return!==_e.return)me=we,_e=Ee;else{for(var Re=!1,We=we.child;We;){if(We===me){Re=!0,me=we,_e=Ee;break}if(We===_e){Re=!0,_e=we,me=Ee;break}We=We.sibling}if(!Re){for(We=Ee.child;We;){if(We===me){Re=!0,me=Ee,_e=we;break}if(We===_e){Re=!0,_e=Ee,me=we;break}We=We.sibling}if(!Re)throw Error(ae(189))}}if(me.alternate!==_e)throw Error(ae(190))}if(me.tag!==3)throw Error(ae(188));return me.stateNode.current===me?ue:de}function fe(ue){var de=ue.tag;if(de===5||de===26||de===27||de===6)return ue;for(ue=ue.child;ue!==null;){if(de=fe(ue),de!==null)return de;ue=ue.sibling}return null}var pe=Object.assign,ge=Symbol.for("react.element"),ye=Symbol.for("react.transitional.element"),xe=Symbol.for("react.portal"),be=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),Te=Symbol.for("react.consumer"),Ce=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),Ue=Symbol.for("react.activity"),Ve=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function De(ue){return ue===null||typeof ue!="object"?null:(ue=je&&ue[je]||ue["@@iterator"],typeof ue=="function"?ue:null)}var Ye=Symbol.for("react.client.reference");function ke(ue){if(ue==null)return null;if(typeof ue=="function")return ue.$$typeof===Ye?null:ue.displayName||ue.name||null;if(typeof ue=="string")return ue;switch(ue){case be:return"Fragment";case ve:return"Profiler";case Se:return"StrictMode";case Be:return"Suspense";case Ae:return"SuspenseList";case Ue:return"Activity"}if(typeof ue=="object")switch(ue.$$typeof){case xe:return"Portal";case Ce:return ue.displayName||"Context";case Te:return(ue._context.displayName||"Context")+".Consumer";case Pe:var de=ue.render;return ue=ue.displayName,ue||(ue=de.displayName||de.name||"",ue=ue!==""?"ForwardRef("+ue+")":"ForwardRef"),ue;case Me:return de=ue.displayName||null,de!==null?de:ke(ue.type)||"Memo";case Ge:de=ue._payload,ue=ue._init;try{return ke(ue(de))}catch{}}return null}var $e=Array.isArray,Oe=te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,He=ne.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qe={pending:!1,data:null,method:null,action:null},Xe=[],ze=-1;function Ie(ue){return{current:ue}}function Fe(ue){0>ze||(ue.current=Xe[ze],Xe[ze]=null,ze--)}function Le(ue,de){ze++,Xe[ze]=ue.current,ue.current=de}var Ze=Ie(null),Qe=Ie(null),St=Ie(null),Nt=Ie(null);function Ct(ue,de){switch(Le(St,de),Le(Qe,ue),Le(Ze,null),de.nodeType){case 9:case 11:ue=(ue=de.documentElement)&&(ue=ue.namespaceURI)?cf(ue):0;break;default:if(ue=de.tagName,de=de.namespaceURI)de=cf(de),ue=hf(de,ue);else switch(ue){case"svg":ue=1;break;case"math":ue=2;break;default:ue=0}}Fe(Ze),Le(Ze,ue)}function kt(){Fe(Ze),Fe(Qe),Fe(St)}function At(ue){ue.memoizedState!==null&&Le(Nt,ue);var de=Ze.current,me=hf(de,ue.type);de!==me&&(Le(Qe,ue),Le(Ze,me))}function Vt(ue){Qe.current===ue&&(Fe(Ze),Fe(Qe)),Nt.current===ue&&(Fe(Nt),Ts._currentValue=qe)}var Kt,jt;function Ne(ue){if(Kt===void 0)try{throw Error()}catch(me){var de=me.stack.trim().match(/\n( *(at )?)/);Kt=de&&de[1]||"",jt=-1<me.stack.indexOf(`
    at`)?" (<anonymous>)":-1<me.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+ue+jt}var _t=!1;function dt(ue,de){if(!ue||_t)return"";_t=!0;var me=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _e={DetermineComponentFrameRoot:function(){try{if(de){var Tt=function(){throw Error()};if(Object.defineProperty(Tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Tt,[])}catch(yt){var gt=yt}Reflect.construct(ue,[],Tt)}else{try{Tt.call()}catch(yt){gt=yt}ue.call(Tt.prototype)}}else{try{throw Error()}catch(yt){gt=yt}(Tt=ue())&&typeof Tt.catch=="function"&&Tt.catch(function(){})}}catch(yt){if(yt&&gt&&typeof yt.stack=="string")return[yt.stack,gt.stack]}return[null,null]}};_e.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var we=Object.getOwnPropertyDescriptor(_e.DetermineComponentFrameRoot,"name");we&&we.configurable&&Object.defineProperty(_e.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Ee=_e.DetermineComponentFrameRoot(),Re=Ee[0],We=Ee[1];if(Re&&We){var rt=Re.split(`
`),mt=We.split(`
`);for(we=_e=0;_e<rt.length&&!rt[_e].includes("DetermineComponentFrameRoot");)_e++;for(;we<mt.length&&!mt[we].includes("DetermineComponentFrameRoot");)we++;if(_e===rt.length||we===mt.length)for(_e=rt.length-1,we=mt.length-1;1<=_e&&0<=we&&rt[_e]!==mt[we];)we--;for(;1<=_e&&0<=we;_e--,we--)if(rt[_e]!==mt[we]){if(_e!==1||we!==1)do if(_e--,we--,0>we||rt[_e]!==mt[we]){var xt=`
`+rt[_e].replace(" at new "," at ");return ue.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",ue.displayName)),xt}while(1<=_e&&0<=we);break}}}finally{_t=!1,Error.prepareStackTrace=me}return(me=ue?ue.displayName||ue.name:"")?Ne(me):""}function Ke(ue,de){switch(ue.tag){case 26:case 27:case 5:return Ne(ue.type);case 16:return Ne("Lazy");case 13:return ue.child!==de&&de!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return dt(ue.type,!1);case 11:return dt(ue.type.render,!1);case 1:return dt(ue.type,!0);case 31:return Ne("Activity");default:return""}}function Je(ue){try{var de="",me=null;do de+=Ke(ue,me),me=ue,ue=ue.return;while(ue);return de}catch(_e){return`
Error generating stack: `+_e.message+`
`+_e.stack}}var ut=Object.prototype.hasOwnProperty,wt=ee.unstable_scheduleCallback,Et=ee.unstable_cancelCallback,pt=ee.unstable_shouldYield,Rt=ee.unstable_requestPaint,It=ee.unstable_now,Bt=ee.unstable_getCurrentPriorityLevel,ct=ee.unstable_ImmediatePriority,bt=ee.unstable_UserBlockingPriority,Mt=ee.unstable_NormalPriority,Ut=ee.unstable_LowPriority,Yt=ee.unstable_IdlePriority,cn=ee.log,In=ee.unstable_setDisableYieldValue,qt=null,on=null;function hn(ue){if(typeof cn=="function"&&In(ue),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(qt,ue)}catch{}}var Ht=Math.clz32?Math.clz32:Ri,jn=Math.log,Dn=Math.LN2;function Ri(ue){return ue>>>=0,ue===0?32:31-(jn(ue)/Dn|0)|0}var Sr=256,sr=262144,or=4194304;function Vn(ue){var de=ue&42;if(de!==0)return de;switch(ue&-ue){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return ue&261888;case 262144:case 524288:case 1048576:case 2097152:return ue&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return ue&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return ue}}function Ua(ue,de,me){var _e=ue.pendingLanes;if(_e===0)return 0;var we=0,Ee=ue.suspendedLanes,Re=ue.pingedLanes;ue=ue.warmLanes;var We=_e&134217727;return We!==0?(_e=We&~Ee,_e!==0?we=Vn(_e):(Re&=We,Re!==0?we=Vn(Re):me||(me=We&~ue,me!==0&&(we=Vn(me))))):(We=_e&~Ee,We!==0?we=Vn(We):Re!==0?we=Vn(Re):me||(me=_e&~ue,me!==0&&(we=Vn(me)))),we===0?0:de!==0&&de!==we&&(de&Ee)===0&&(Ee=we&-we,me=de&-de,Ee>=me||Ee===32&&(me&4194048)!==0)?de:we}function wa(ue,de){return(ue.pendingLanes&~(ue.suspendedLanes&~ue.pingedLanes)&de)===0}function Tn(ue,de){switch(ue){case 1:case 2:case 4:case 8:case 64:return de+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return de+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(){var ue=or;return or<<=1,(or&62914560)===0&&(or=4194304),ue}function Mi(ue){for(var de=[],me=0;31>me;me++)de.push(ue);return de}function Qr(ue,de){ue.pendingLanes|=de,de!==268435456&&(ue.suspendedLanes=0,ue.pingedLanes=0,ue.warmLanes=0)}function Ni(ue,de,me,_e,we,Ee){var Re=ue.pendingLanes;ue.pendingLanes=me,ue.suspendedLanes=0,ue.pingedLanes=0,ue.warmLanes=0,ue.expiredLanes&=me,ue.entangledLanes&=me,ue.errorRecoveryDisabledLanes&=me,ue.shellSuspendCounter=0;var We=ue.entanglements,rt=ue.expirationTimes,mt=ue.hiddenUpdates;for(me=Re&~me;0<me;){var xt=31-Ht(me),Tt=1<<xt;We[xt]=0,rt[xt]=-1;var gt=mt[xt];if(gt!==null)for(mt[xt]=null,xt=0;xt<gt.length;xt++){var yt=gt[xt];yt!==null&&(yt.lane&=-536870913)}me&=~Tt}_e!==0&&Ii(ue,_e,0),Ee!==0&&we===0&&ue.tag!==0&&(ue.suspendedLanes|=Ee&~(Re&~de))}function Ii(ue,de,me){ue.pendingLanes|=de,ue.suspendedLanes&=~de;var _e=31-Ht(de);ue.entangledLanes|=de,ue.entanglements[_e]=ue.entanglements[_e]|1073741824|me&261930}function Vi(ue,de){var me=ue.entangledLanes|=de;for(ue=ue.entanglements;me;){var _e=31-Ht(me),we=1<<_e;we&de|ue[_e]&de&&(ue[_e]|=de),me&=~we}}function As(ue,de){var me=de&-de;return me=(me&42)!==0?1:qn(me),(me&(ue.suspendedLanes|de))!==0?0:me}function qn(ue){switch(ue){case 2:ue=1;break;case 8:ue=4;break;case 32:ue=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:ue=128;break;case 268435456:ue=134217728;break;default:ue=0}return ue}function wr(ue){return ue&=-ue,2<ue?8<ue?(ue&134217727)!==0?32:268435456:8:2}function Li(){var ue=He.p;return ue!==0?ue:(ue=window.event,ue===void 0?32:If(ue.type))}function Di(ue,de){var me=He.p;try{return He.p=ue,de()}finally{He.p=me}}var lr=Math.random().toString(36).slice(2),kn="__reactFiber$"+lr,xn="__reactProps$"+lr,Nr="__reactContainer$"+lr,za="__reactEvents$"+lr,Bs="__reactListeners$"+lr,Rs="__reactHandles$"+lr,Ms="__reactResources$"+lr,Ot="__reactMarker$"+lr;function it(ue){delete ue[kn],delete ue[xn],delete ue[za],delete ue[Bs],delete ue[Rs]}function Pt(ue){var de=ue[kn];if(de)return de;for(var me=ue.parentNode;me;){if(de=me[Nr]||me[kn]){if(me=de.alternate,de.child!==null||me!==null&&me.child!==null)for(ue=_f(ue);ue!==null;){if(me=ue[kn])return me;ue=_f(ue)}return de}ue=me,me=ue.parentNode}return null}function Lt(ue){if(ue=ue[kn]||ue[Nr]){var de=ue.tag;if(de===5||de===6||de===13||de===31||de===26||de===27||de===3)return ue}return null}function sn(ue){var de=ue.tag;if(de===5||de===26||de===27||de===6)return ue.stateNode;throw Error(ae(33))}function vn(ue){var de=ue[Ms];return de||(de=ue[Ms]={hoistableStyles:new Map,hoistableScripts:new Map}),de}function Jt(ue){ue[Ot]=!0}var On=new Set,ur={};function Gn(ue,de){kr(ue,de),kr(ue+"Capture",de)}function kr(ue,de){for(ur[ue]=de,ue=0;ue<de.length;ue++)On.add(de[ue])}var Mn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oi={},Fi={};function qf(ue){return ut.call(Fi,ue)?!0:ut.call(Oi,ue)?!1:Mn.test(ue)?Fi[ue]=!0:(Oi[ue]=!0,!1)}function Ns(ue,de,me){if(qf(de))if(me===null)ue.removeAttribute(de);else{switch(typeof me){case"undefined":case"function":case"symbol":ue.removeAttribute(de);return;case"boolean":var _e=de.toLowerCase().slice(0,5);if(_e!=="data-"&&_e!=="aria-"){ue.removeAttribute(de);return}}ue.setAttribute(de,""+me)}}function Is(ue,de,me){if(me===null)ue.removeAttribute(de);else{switch(typeof me){case"undefined":case"function":case"symbol":case"boolean":ue.removeAttribute(de);return}ue.setAttribute(de,""+me)}}function Ir(ue,de,me,_e){if(_e===null)ue.removeAttribute(me);else{switch(typeof _e){case"undefined":case"function":case"symbol":case"boolean":ue.removeAttribute(me);return}ue.setAttributeNS(de,me,""+_e)}}function cr(ue){switch(typeof ue){case"bigint":case"boolean":case"number":case"string":case"undefined":return ue;case"object":return ue;default:return""}}function ec(ue){var de=ue.type;return(ue=ue.nodeName)&&ue.toLowerCase()==="input"&&(de==="checkbox"||de==="radio")}function Gf(ue,de,me){var _e=Object.getOwnPropertyDescriptor(ue.constructor.prototype,de);if(!ue.hasOwnProperty(de)&&typeof _e<"u"&&typeof _e.get=="function"&&typeof _e.set=="function"){var we=_e.get,Ee=_e.set;return Object.defineProperty(ue,de,{configurable:!0,get:function(){return we.call(this)},set:function(Re){me=""+Re,Ee.call(this,Re)}}),Object.defineProperty(ue,de,{enumerable:_e.enumerable}),{getValue:function(){return me},setValue:function(Re){me=""+Re},stopTracking:function(){ue._valueTracker=null,delete ue[de]}}}}function Go(ue){if(!ue._valueTracker){var de=ec(ue)?"checked":"value";ue._valueTracker=Gf(ue,de,""+ue[de])}}function tc(ue){if(!ue)return!1;var de=ue._valueTracker;if(!de)return!0;var me=de.getValue(),_e="";return ue&&(_e=ec(ue)?ue.checked?"true":"false":ue.value),ue=_e,ue!==me?(de.setValue(ue),!0):!1}function Vs(ue){if(ue=ue||(typeof document<"u"?document:void 0),typeof ue>"u")return null;try{return ue.activeElement||ue.body}catch{return ue.body}}var Wf=/[\n"\\]/g;function dr(ue){return ue.replace(Wf,function(de){return"\\"+de.charCodeAt(0).toString(16)+" "})}function Wo(ue,de,me,_e,we,Ee,Re,We){ue.name="",Re!=null&&typeof Re!="function"&&typeof Re!="symbol"&&typeof Re!="boolean"?ue.type=Re:ue.removeAttribute("type"),de!=null?Re==="number"?(de===0&&ue.value===""||ue.value!=de)&&(ue.value=""+cr(de)):ue.value!==""+cr(de)&&(ue.value=""+cr(de)):Re!=="submit"&&Re!=="reset"||ue.removeAttribute("value"),de!=null?Yo(ue,Re,cr(de)):me!=null?Yo(ue,Re,cr(me)):_e!=null&&ue.removeAttribute("value"),we==null&&Ee!=null&&(ue.defaultChecked=!!Ee),we!=null&&(ue.checked=we&&typeof we!="function"&&typeof we!="symbol"),We!=null&&typeof We!="function"&&typeof We!="symbol"&&typeof We!="boolean"?ue.name=""+cr(We):ue.removeAttribute("name")}function nc(ue,de,me,_e,we,Ee,Re,We){if(Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"&&(ue.type=Ee),de!=null||me!=null){if(!(Ee!=="submit"&&Ee!=="reset"||de!=null)){Go(ue);return}me=me!=null?""+cr(me):"",de=de!=null?""+cr(de):me,We||de===ue.value||(ue.value=de),ue.defaultValue=de}_e=_e??we,_e=typeof _e!="function"&&typeof _e!="symbol"&&!!_e,ue.checked=We?ue.checked:!!_e,ue.defaultChecked=!!_e,Re!=null&&typeof Re!="function"&&typeof Re!="symbol"&&typeof Re!="boolean"&&(ue.name=Re),Go(ue)}function Yo(ue,de,me){de==="number"&&Vs(ue.ownerDocument)===ue||ue.defaultValue===""+me||(ue.defaultValue=""+me)}function ja(ue,de,me,_e){if(ue=ue.options,de){de={};for(var we=0;we<me.length;we++)de["$"+me[we]]=!0;for(me=0;me<ue.length;me++)we=de.hasOwnProperty("$"+ue[me].value),ue[me].selected!==we&&(ue[me].selected=we),we&&_e&&(ue[me].defaultSelected=!0)}else{for(me=""+cr(me),de=null,we=0;we<ue.length;we++){if(ue[we].value===me){ue[we].selected=!0,_e&&(ue[we].defaultSelected=!0);return}de!==null||ue[we].disabled||(de=ue[we])}de!==null&&(de.selected=!0)}}function rc(ue,de,me){if(de!=null&&(de=""+cr(de),de!==ue.value&&(ue.value=de),me==null)){ue.defaultValue!==de&&(ue.defaultValue=de);return}ue.defaultValue=me!=null?""+cr(me):""}function ac(ue,de,me,_e){if(de==null){if(_e!=null){if(me!=null)throw Error(ae(92));if($e(_e)){if(1<_e.length)throw Error(ae(93));_e=_e[0]}me=_e}me==null&&(me=""),de=me}me=cr(de),ue.defaultValue=me,_e=ue.textContent,_e===me&&_e!==""&&_e!==null&&(ue.value=_e),Go(ue)}function Ha(ue,de){if(de){var me=ue.firstChild;if(me&&me===ue.lastChild&&me.nodeType===3){me.nodeValue=de;return}}ue.textContent=de}var Yf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(ue,de,me){var _e=de.indexOf("--")===0;me==null||typeof me=="boolean"||me===""?_e?ue.setProperty(de,""):de==="float"?ue.cssFloat="":ue[de]="":_e?ue.setProperty(de,me):typeof me!="number"||me===0||Yf.has(de)?de==="float"?ue.cssFloat=me:ue[de]=(""+me).trim():ue[de]=me+"px"}function sc(ue,de,me){if(de!=null&&typeof de!="object")throw Error(ae(62));if(ue=ue.style,me!=null){for(var _e in me)!me.hasOwnProperty(_e)||de!=null&&de.hasOwnProperty(_e)||(_e.indexOf("--")===0?ue.setProperty(_e,""):_e==="float"?ue.cssFloat="":ue[_e]="");for(var we in de)_e=de[we],de.hasOwnProperty(we)&&me[we]!==_e&&ic(ue,we,_e)}else for(var Ee in de)de.hasOwnProperty(Ee)&&ic(ue,Ee,de[Ee])}function Jo(ue){if(ue.indexOf("-")===-1)return!1;switch(ue){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(ue){return Kf.test(""+ue)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":ue}function Vr(){}var Ko=null;function Xo(ue){return ue=ue.target||ue.srcElement||window,ue.correspondingUseElement&&(ue=ue.correspondingUseElement),ue.nodeType===3?ue.parentNode:ue}var qa=null,Ga=null;function oc(ue){var de=Lt(ue);if(de&&(ue=de.stateNode)){var me=ue[xn]||null;e:switch(ue=de.stateNode,de.type){case"input":if(Wo(ue,me.value,me.defaultValue,me.defaultValue,me.checked,me.defaultChecked,me.type,me.name),de=me.name,me.type==="radio"&&de!=null){for(me=ue;me.parentNode;)me=me.parentNode;for(me=me.querySelectorAll('input[name="'+dr(""+de)+'"][type="radio"]'),de=0;de<me.length;de++){var _e=me[de];if(_e!==ue&&_e.form===ue.form){var we=_e[xn]||null;if(!we)throw Error(ae(90));Wo(_e,we.value,we.defaultValue,we.defaultValue,we.checked,we.defaultChecked,we.type,we.name)}}for(de=0;de<me.length;de++)_e=me[de],_e.form===ue.form&&tc(_e)}break e;case"textarea":rc(ue,me.value,me.defaultValue);break e;case"select":de=me.value,de!=null&&ja(ue,!!me.multiple,de,!1)}}}var Zo=!1;function lc(ue,de,me){if(Zo)return ue(de,me);Zo=!0;try{var _e=ue(de);return _e}finally{if(Zo=!1,(qa!==null||Ga!==null)&&(To(),qa&&(de=qa,ue=Ga,Ga=qa=null,oc(de),ue)))for(de=0;de<ue.length;de++)oc(ue[de])}}function $i(ue,de){var me=ue.stateNode;if(me===null)return null;var _e=me[xn]||null;if(_e===null)return null;me=_e[de];e:switch(de){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_e=!_e.disabled)||(ue=ue.type,_e=!(ue==="button"||ue==="input"||ue==="select"||ue==="textarea")),ue=!_e;break e;default:ue=!1}if(ue)return null;if(me&&typeof me!="function")throw Error(ae(231,de,typeof me));return me}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=!1;if(Lr)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Qo=!1}var ea=null,el=null,Ds=null;function uc(){if(Ds)return Ds;var ue,de=el,me=de.length,_e,we="value"in ea?ea.value:ea.textContent,Ee=we.length;for(ue=0;ue<me&&de[ue]===we[ue];ue++);var Re=me-ue;for(_e=1;_e<=Re&&de[me-_e]===we[Ee-_e];_e++);return Ds=we.slice(ue,1<_e?1-_e:void 0)}function Os(ue){var de=ue.keyCode;return"charCode"in ue?(ue=ue.charCode,ue===0&&de===13&&(ue=13)):ue=de,ue===10&&(ue=13),32<=ue||ue===13?ue:0}function Fs(){return!0}function cc(){return!1}function Wn(ue){function de(me,_e,we,Ee,Re){this._reactName=me,this._targetInst=we,this.type=_e,this.nativeEvent=Ee,this.target=Re,this.currentTarget=null;for(var We in ue)ue.hasOwnProperty(We)&&(me=ue[We],this[We]=me?me(Ee):Ee[We]);return this.isDefaultPrevented=(Ee.defaultPrevented!=null?Ee.defaultPrevented:Ee.returnValue===!1)?Fs:cc,this.isPropagationStopped=cc,this}return pe(de.prototype,{preventDefault:function(){this.defaultPrevented=!0;var me=this.nativeEvent;me&&(me.preventDefault?me.preventDefault():typeof me.returnValue!="unknown"&&(me.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var me=this.nativeEvent;me&&(me.stopPropagation?me.stopPropagation():typeof me.cancelBubble!="unknown"&&(me.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),de}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ue){return ue.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Wn(Ta),zi=pe({},Ta,{view:0,detail:0}),Xf=Wn(zi),tl,nl,ji,Us=pe({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(ue){return ue.relatedTarget===void 0?ue.fromElement===ue.srcElement?ue.toElement:ue.fromElement:ue.relatedTarget},movementX:function(ue){return"movementX"in ue?ue.movementX:(ue!==ji&&(ji&&ue.type==="mousemove"?(tl=ue.screenX-ji.screenX,nl=ue.screenY-ji.screenY):nl=tl=0,ji=ue),tl)},movementY:function(ue){return"movementY"in ue?ue.movementY:nl}}),hc=Wn(Us),Zf=pe({},Us,{dataTransfer:0}),Qf=Wn(Zf),ep=pe({},zi,{relatedTarget:0}),rl=Wn(ep),tp=pe({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),np=Wn(tp),rp=pe({},Ta,{clipboardData:function(ue){return"clipboardData"in ue?ue.clipboardData:window.clipboardData}}),ap=Wn(rp),ip=pe({},Ta,{data:0}),dc=Wn(ip),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function up(ue){var de=this.nativeEvent;return de.getModifierState?de.getModifierState(ue):(ue=lp[ue])?!!de[ue]:!1}function al(){return up}var cp=pe({},zi,{key:function(ue){if(ue.key){var de=sp[ue.key]||ue.key;if(de!=="Unidentified")return de}return ue.type==="keypress"?(ue=Os(ue),ue===13?"Enter":String.fromCharCode(ue)):ue.type==="keydown"||ue.type==="keyup"?op[ue.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(ue){return ue.type==="keypress"?Os(ue):0},keyCode:function(ue){return ue.type==="keydown"||ue.type==="keyup"?ue.keyCode:0},which:function(ue){return ue.type==="keypress"?Os(ue):ue.type==="keydown"||ue.type==="keyup"?ue.keyCode:0}}),hp=Wn(cp),dp=pe({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=Wn(dp),fp=pe({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),pp=Wn(fp),mp=pe({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),gp=Wn(mp),yp=pe({},Us,{deltaX:function(ue){return"deltaX"in ue?ue.deltaX:"wheelDeltaX"in ue?-ue.wheelDeltaX:0},deltaY:function(ue){return"deltaY"in ue?ue.deltaY:"wheelDeltaY"in ue?-ue.wheelDeltaY:"wheelDelta"in ue?-ue.wheelDelta:0},deltaZ:0,deltaMode:0}),_p=Wn(yp),xp=pe({},Ta,{newState:0,oldState:0}),bp=Wn(xp),vp=[9,13,27,32],il=Lr&&"CompositionEvent"in window,Hi=null;Lr&&"documentMode"in document&&(Hi=document.documentMode);var Sp=Lr&&"TextEvent"in window&&!Hi,pc=Lr&&(!il||Hi&&8<Hi&&11>=Hi),mc=" ",gc=!1;function yc(ue,de){switch(ue){case"keyup":return vp.indexOf(de.keyCode)!==-1;case"keydown":return de.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _c(ue){return ue=ue.detail,typeof ue=="object"&&"data"in ue?ue.data:null}var Wa=!1;function wp(ue,de){switch(ue){case"compositionend":return _c(de);case"keypress":return de.which!==32?null:(gc=!0,mc);case"textInput":return ue=de.data,ue===mc&&gc?null:ue;default:return null}}function Tp(ue,de){if(Wa)return ue==="compositionend"||!il&&yc(ue,de)?(ue=uc(),Ds=el=ea=null,Wa=!1,ue):null;switch(ue){case"paste":return null;case"keypress":if(!(de.ctrlKey||de.altKey||de.metaKey)||de.ctrlKey&&de.altKey){if(de.char&&1<de.char.length)return de.char;if(de.which)return String.fromCharCode(de.which)}return null;case"compositionend":return pc&&de.locale!=="ko"?null:de.data;default:return null}}var Ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(ue){var de=ue&&ue.nodeName&&ue.nodeName.toLowerCase();return de==="input"?!!Ep[ue.type]:de==="textarea"}function bc(ue,de,me,_e){qa?Ga?Ga.push(_e):Ga=[_e]:qa=_e,de=Ro(de,"onChange"),0<de.length&&(me=new $s("onChange","change",null,me,_e),ue.push({event:me,listeners:de}))}var qi=null,Gi=null;function Cp(ue){rf(ue,0)}function zs(ue){var de=sn(ue);if(tc(de))return ue}function vc(ue,de){if(ue==="change")return de}var Sc=!1;if(Lr){var sl;if(Lr){var ol="oninput"in document;if(!ol){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),ol=typeof wc.oninput=="function"}sl=ol}else sl=!1;Sc=sl&&(!document.documentMode||9<document.documentMode)}function Tc(){qi&&(qi.detachEvent("onpropertychange",Ec),Gi=qi=null)}function Ec(ue){if(ue.propertyName==="value"&&zs(Gi)){var de=[];bc(de,Gi,ue,Xo(ue)),lc(Cp,de)}}function kp(ue,de,me){ue==="focusin"?(Tc(),qi=de,Gi=me,qi.attachEvent("onpropertychange",Ec)):ue==="focusout"&&Tc()}function Pp(ue){if(ue==="selectionchange"||ue==="keyup"||ue==="keydown")return zs(Gi)}function Ap(ue,de){if(ue==="click")return zs(de)}function Bp(ue,de){if(ue==="input"||ue==="change")return zs(de)}function Rp(ue,de){return ue===de&&(ue!==0||1/ue===1/de)||ue!==ue&&de!==de}var Qn=typeof Object.is=="function"?Object.is:Rp;function Wi(ue,de){if(Qn(ue,de))return!0;if(typeof ue!="object"||ue===null||typeof de!="object"||de===null)return!1;var me=Object.keys(ue),_e=Object.keys(de);if(me.length!==_e.length)return!1;for(_e=0;_e<me.length;_e++){var we=me[_e];if(!ut.call(de,we)||!Qn(ue[we],de[we]))return!1}return!0}function Cc(ue){for(;ue&&ue.firstChild;)ue=ue.firstChild;return ue}function kc(ue,de){var me=Cc(ue);ue=0;for(var _e;me;){if(me.nodeType===3){if(_e=ue+me.textContent.length,ue<=de&&_e>=de)return{node:me,offset:de-ue};ue=_e}e:{for(;me;){if(me.nextSibling){me=me.nextSibling;break e}me=me.parentNode}me=void 0}me=Cc(me)}}function Pc(ue,de){return ue&&de?ue===de?!0:ue&&ue.nodeType===3?!1:de&&de.nodeType===3?Pc(ue,de.parentNode):"contains"in ue?ue.contains(de):ue.compareDocumentPosition?!!(ue.compareDocumentPosition(de)&16):!1:!1}function Ac(ue){ue=ue!=null&&ue.ownerDocument!=null&&ue.ownerDocument.defaultView!=null?ue.ownerDocument.defaultView:window;for(var de=Vs(ue.document);de instanceof ue.HTMLIFrameElement;){try{var me=typeof de.contentWindow.location.href=="string"}catch{me=!1}if(me)ue=de.contentWindow;else break;de=Vs(ue.document)}return de}function ll(ue){var de=ue&&ue.nodeName&&ue.nodeName.toLowerCase();return de&&(de==="input"&&(ue.type==="text"||ue.type==="search"||ue.type==="tel"||ue.type==="url"||ue.type==="password")||de==="textarea"||ue.contentEditable==="true")}var Mp=Lr&&"documentMode"in document&&11>=document.documentMode,Ya=null,ul=null,Yi=null,cl=!1;function Bc(ue,de,me){var _e=me.window===me?me.document:me.nodeType===9?me:me.ownerDocument;cl||Ya==null||Ya!==Vs(_e)||(_e=Ya,"selectionStart"in _e&&ll(_e)?_e={start:_e.selectionStart,end:_e.selectionEnd}:(_e=(_e.ownerDocument&&_e.ownerDocument.defaultView||window).getSelection(),_e={anchorNode:_e.anchorNode,anchorOffset:_e.anchorOffset,focusNode:_e.focusNode,focusOffset:_e.focusOffset}),Yi&&Wi(Yi,_e)||(Yi=_e,_e=Ro(ul,"onSelect"),0<_e.length&&(de=new $s("onSelect","select",null,de,me),ue.push({event:de,listeners:_e}),de.target=Ya)))}function Ea(ue,de){var me={};return me[ue.toLowerCase()]=de.toLowerCase(),me["Webkit"+ue]="webkit"+de,me["Moz"+ue]="moz"+de,me}var Ja={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},hl={},Rc={};Lr&&(Rc=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Ca(ue){if(hl[ue])return hl[ue];if(!Ja[ue])return ue;var de=Ja[ue],me;for(me in de)if(de.hasOwnProperty(me)&&me in Rc)return hl[ue]=de[me];return ue}var Mc=Ca("animationend"),Nc=Ca("animationiteration"),Ic=Ca("animationstart"),Np=Ca("transitionrun"),Ip=Ca("transitionstart"),Vp=Ca("transitioncancel"),Vc=Ca("transitionend"),Lc=new Map,dl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dl.push("scrollEnd");function Tr(ue,de){Lc.set(ue,de),Gn(de,[ue])}var js=typeof reportError=="function"?reportError:function(ue){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ue=="object"&&ue!==null&&typeof ue.message=="string"?String(ue.message):String(ue),error:ue});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ue);return}console.error(ue)},fr=[],Ka=0,fl=0;function Hs(){for(var ue=Ka,de=fl=Ka=0;de<ue;){var me=fr[de];fr[de++]=null;var _e=fr[de];fr[de++]=null;var we=fr[de];fr[de++]=null;var Ee=fr[de];if(fr[de++]=null,_e!==null&&we!==null){var Re=_e.pending;Re===null?we.next=we:(we.next=Re.next,Re.next=we),_e.pending=we}Ee!==0&&Dc(me,we,Ee)}}function qs(ue,de,me,_e){fr[Ka++]=ue,fr[Ka++]=de,fr[Ka++]=me,fr[Ka++]=_e,fl|=_e,ue.lanes|=_e,ue=ue.alternate,ue!==null&&(ue.lanes|=_e)}function pl(ue,de,me,_e){return qs(ue,de,me,_e),Gs(ue)}function ka(ue,de){return qs(ue,null,null,de),Gs(ue)}function Dc(ue,de,me){ue.lanes|=me;var _e=ue.alternate;_e!==null&&(_e.lanes|=me);for(var we=!1,Ee=ue.return;Ee!==null;)Ee.childLanes|=me,_e=Ee.alternate,_e!==null&&(_e.childLanes|=me),Ee.tag===22&&(ue=Ee.stateNode,ue===null||ue._visibility&1||(we=!0)),ue=Ee,Ee=Ee.return;return ue.tag===3?(Ee=ue.stateNode,we&&de!==null&&(we=31-Ht(me),ue=Ee.hiddenUpdates,_e=ue[we],_e===null?ue[we]=[de]:_e.push(de),de.lane=me|536870912),Ee):null}function Gs(ue){if(50<ys)throw ys=0,wu=null,Error(ae(185));for(var de=ue.return;de!==null;)ue=de,de=ue.return;return ue.tag===3?ue.stateNode:null}var Xa={};function Lp(ue,de,me,_e){this.tag=ue,this.key=me,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=de,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_e,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(ue,de,me,_e){return new Lp(ue,de,me,_e)}function ml(ue){return ue=ue.prototype,!(!ue||!ue.isReactComponent)}function Dr(ue,de){var me=ue.alternate;return me===null?(me=er(ue.tag,de,ue.key,ue.mode),me.elementType=ue.elementType,me.type=ue.type,me.stateNode=ue.stateNode,me.alternate=ue,ue.alternate=me):(me.pendingProps=de,me.type=ue.type,me.flags=0,me.subtreeFlags=0,me.deletions=null),me.flags=ue.flags&65011712,me.childLanes=ue.childLanes,me.lanes=ue.lanes,me.child=ue.child,me.memoizedProps=ue.memoizedProps,me.memoizedState=ue.memoizedState,me.updateQueue=ue.updateQueue,de=ue.dependencies,me.dependencies=de===null?null:{lanes:de.lanes,firstContext:de.firstContext},me.sibling=ue.sibling,me.index=ue.index,me.ref=ue.ref,me.refCleanup=ue.refCleanup,me}function Oc(ue,de){ue.flags&=65011714;var me=ue.alternate;return me===null?(ue.childLanes=0,ue.lanes=de,ue.child=null,ue.subtreeFlags=0,ue.memoizedProps=null,ue.memoizedState=null,ue.updateQueue=null,ue.dependencies=null,ue.stateNode=null):(ue.childLanes=me.childLanes,ue.lanes=me.lanes,ue.child=me.child,ue.subtreeFlags=0,ue.deletions=null,ue.memoizedProps=me.memoizedProps,ue.memoizedState=me.memoizedState,ue.updateQueue=me.updateQueue,ue.type=me.type,de=me.dependencies,ue.dependencies=de===null?null:{lanes:de.lanes,firstContext:de.firstContext}),ue}function Ws(ue,de,me,_e,we,Ee){var Re=0;if(_e=ue,typeof ue=="function")ml(ue)&&(Re=1);else if(typeof ue=="string")Re=Um(ue,me,Ze.current)?26:ue==="html"||ue==="head"||ue==="body"?27:5;else e:switch(ue){case Ue:return ue=er(31,me,de,we),ue.elementType=Ue,ue.lanes=Ee,ue;case be:return Pa(me.children,we,Ee,de);case Se:Re=8,we|=24;break;case ve:return ue=er(12,me,de,we|2),ue.elementType=ve,ue.lanes=Ee,ue;case Be:return ue=er(13,me,de,we),ue.elementType=Be,ue.lanes=Ee,ue;case Ae:return ue=er(19,me,de,we),ue.elementType=Ae,ue.lanes=Ee,ue;default:if(typeof ue=="object"&&ue!==null)switch(ue.$$typeof){case Ce:Re=10;break e;case Te:Re=9;break e;case Pe:Re=11;break e;case Me:Re=14;break e;case Ge:Re=16,_e=null;break e}Re=29,me=Error(ae(130,ue===null?"null":typeof ue,"")),_e=null}return de=er(Re,me,de,we),de.elementType=ue,de.type=_e,de.lanes=Ee,de}function Pa(ue,de,me,_e){return ue=er(7,ue,_e,de),ue.lanes=me,ue}function gl(ue,de,me){return ue=er(6,ue,null,de),ue.lanes=me,ue}function Fc(ue){var de=er(18,null,null,0);return de.stateNode=ue,de}function yl(ue,de,me){return de=er(4,ue.children!==null?ue.children:[],ue.key,de),de.lanes=me,de.stateNode={containerInfo:ue.containerInfo,pendingChildren:null,implementation:ue.implementation},de}var $c=new WeakMap;function pr(ue,de){if(typeof ue=="object"&&ue!==null){var me=$c.get(ue);return me!==void 0?me:(de={value:ue,source:de,stack:Je(de)},$c.set(ue,de),de)}return{value:ue,source:de,stack:Je(de)}}var Za=[],Qa=0,Ys=null,Ji=0,mr=[],gr=0,ta=null,Pr=1,Ar="";function Or(ue,de){Za[Qa++]=Ji,Za[Qa++]=Ys,Ys=ue,Ji=de}function Uc(ue,de,me){mr[gr++]=Pr,mr[gr++]=Ar,mr[gr++]=ta,ta=ue;var _e=Pr;ue=Ar;var we=32-Ht(_e)-1;_e&=~(1<<we),me+=1;var Ee=32-Ht(de)+we;if(30<Ee){var Re=we-we%5;Ee=(_e&(1<<Re)-1).toString(32),_e>>=Re,we-=Re,Pr=1<<32-Ht(de)+we|me<<we|_e,Ar=Ee+ue}else Pr=1<<Ee|me<<we|_e,Ar=ue}function _l(ue){ue.return!==null&&(Or(ue,1),Uc(ue,1,0))}function xl(ue){for(;ue===Ys;)Ys=Za[--Qa],Za[Qa]=null,Ji=Za[--Qa],Za[Qa]=null;for(;ue===ta;)ta=mr[--gr],mr[gr]=null,Ar=mr[--gr],mr[gr]=null,Pr=mr[--gr],mr[gr]=null}function zc(ue,de){mr[gr++]=Pr,mr[gr++]=Ar,mr[gr++]=ta,Pr=de.id,Ar=de.overflow,ta=ue}var Fn=null,yn=null,tn=!1,na=null,yr=!1,bl=Error(ae(519));function ra(ue){var de=Error(ae(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ki(pr(de,ue)),bl}function jc(ue){var de=ue.stateNode,me=ue.type,_e=ue.memoizedProps;switch(de[kn]=ue,de[xn]=_e,me){case"dialog":Zt("cancel",de),Zt("close",de);break;case"iframe":case"object":case"embed":Zt("load",de);break;case"video":case"audio":for(me=0;me<xs.length;me++)Zt(xs[me],de);break;case"source":Zt("error",de);break;case"img":case"image":case"link":Zt("error",de),Zt("load",de);break;case"details":Zt("toggle",de);break;case"input":Zt("invalid",de),nc(de,_e.value,_e.defaultValue,_e.checked,_e.defaultChecked,_e.type,_e.name,!0);break;case"select":Zt("invalid",de);break;case"textarea":Zt("invalid",de),ac(de,_e.value,_e.defaultValue,_e.children)}me=_e.children,typeof me!="string"&&typeof me!="number"&&typeof me!="bigint"||de.textContent===""+me||_e.suppressHydrationWarning===!0||lf(de.textContent,me)?(_e.popover!=null&&(Zt("beforetoggle",de),Zt("toggle",de)),_e.onScroll!=null&&Zt("scroll",de),_e.onScrollEnd!=null&&Zt("scrollend",de),_e.onClick!=null&&(de.onclick=Vr),de=!0):de=!1,de||ra(ue,!0)}function Hc(ue){for(Fn=ue.return;Fn;)switch(Fn.tag){case 5:case 31:case 13:yr=!1;return;case 27:case 3:yr=!0;return;default:Fn=Fn.return}}function ei(ue){if(ue!==Fn)return!1;if(!tn)return Hc(ue),tn=!0,!1;var de=ue.tag,me;if((me=de!==3&&de!==27)&&((me=de===5)&&(me=ue.type,me=!(me!=="form"&&me!=="button")||Ou(ue.type,ue.memoizedProps)),me=!me),me&&yn&&ra(ue),Hc(ue),de===13){if(ue=ue.memoizedState,ue=ue!==null?ue.dehydrated:null,!ue)throw Error(ae(317));yn=yf(ue)}else if(de===31){if(ue=ue.memoizedState,ue=ue!==null?ue.dehydrated:null,!ue)throw Error(ae(317));yn=yf(ue)}else de===27?(de=yn,ya(ue.type)?(ue=ju,ju=null,yn=ue):yn=de):yn=Fn?xr(ue.stateNode.nextSibling):null;return!0}function Aa(){yn=Fn=null,tn=!1}function vl(){var ue=na;return ue!==null&&(Xn===null?Xn=ue:Xn.push.apply(Xn,ue),na=null),ue}function Ki(ue){na===null?na=[ue]:na.push(ue)}var Sl=Ie(null),Ba=null,Fr=null;function aa(ue,de,me){Le(Sl,de._currentValue),de._currentValue=me}function $r(ue){ue._currentValue=Sl.current,Fe(Sl)}function wl(ue,de,me){for(;ue!==null;){var _e=ue.alternate;if((ue.childLanes&de)!==de?(ue.childLanes|=de,_e!==null&&(_e.childLanes|=de)):_e!==null&&(_e.childLanes&de)!==de&&(_e.childLanes|=de),ue===me)break;ue=ue.return}}function Tl(ue,de,me,_e){var we=ue.child;for(we!==null&&(we.return=ue);we!==null;){var Ee=we.dependencies;if(Ee!==null){var Re=we.child;Ee=Ee.firstContext;e:for(;Ee!==null;){var We=Ee;Ee=we;for(var rt=0;rt<de.length;rt++)if(We.context===de[rt]){Ee.lanes|=me,We=Ee.alternate,We!==null&&(We.lanes|=me),wl(Ee.return,me,ue),_e||(Re=null);break e}Ee=We.next}}else if(we.tag===18){if(Re=we.return,Re===null)throw Error(ae(341));Re.lanes|=me,Ee=Re.alternate,Ee!==null&&(Ee.lanes|=me),wl(Re,me,ue),Re=null}else Re=we.child;if(Re!==null)Re.return=we;else for(Re=we;Re!==null;){if(Re===ue){Re=null;break}if(we=Re.sibling,we!==null){we.return=Re.return,Re=we;break}Re=Re.return}we=Re}}function ti(ue,de,me,_e){ue=null;for(var we=de,Ee=!1;we!==null;){if(!Ee){if((we.flags&524288)!==0)Ee=!0;else if((we.flags&262144)!==0)break}if(we.tag===10){var Re=we.alternate;if(Re===null)throw Error(ae(387));if(Re=Re.memoizedProps,Re!==null){var We=we.type;Qn(we.pendingProps.value,Re.value)||(ue!==null?ue.push(We):ue=[We])}}else if(we===Nt.current){if(Re=we.alternate,Re===null)throw Error(ae(387));Re.memoizedState.memoizedState!==we.memoizedState.memoizedState&&(ue!==null?ue.push(Ts):ue=[Ts])}we=we.return}ue!==null&&Tl(de,ue,me,_e),de.flags|=262144}function Js(ue){for(ue=ue.firstContext;ue!==null;){if(!Qn(ue.context._currentValue,ue.memoizedValue))return!0;ue=ue.next}return!1}function Ra(ue){Ba=ue,Fr=null,ue=ue.dependencies,ue!==null&&(ue.firstContext=null)}function $n(ue){return qc(Ba,ue)}function Ks(ue,de){return Ba===null&&Ra(ue),qc(ue,de)}function qc(ue,de){var me=de._currentValue;if(de={context:de,memoizedValue:me,next:null},Fr===null){if(ue===null)throw Error(ae(308));Fr=de,ue.dependencies={lanes:0,firstContext:de},ue.flags|=524288}else Fr=Fr.next=de;return me}var Dp=typeof AbortController<"u"?AbortController:function(){var ue=[],de=this.signal={aborted:!1,addEventListener:function(me,_e){ue.push(_e)}};this.abort=function(){de.aborted=!0,ue.forEach(function(me){return me()})}},Op=ee.unstable_scheduleCallback,Fp=ee.unstable_NormalPriority,Pn={$$typeof:Ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function El(){return{controller:new Dp,data:new Map,refCount:0}}function Xi(ue){ue.refCount--,ue.refCount===0&&Op(Fp,function(){ue.controller.abort()})}var Zi=null,Cl=0,ni=0,ri=null;function $p(ue,de){if(Zi===null){var me=Zi=[];Cl=0,ni=Au(),ri={status:"pending",value:void 0,then:function(_e){me.push(_e)}}}return Cl++,de.then(Gc,Gc),de}function Gc(){if(--Cl===0&&Zi!==null){ri!==null&&(ri.status="fulfilled");var ue=Zi;Zi=null,ni=0,ri=null;for(var de=0;de<ue.length;de++)(0,ue[de])()}}function Up(ue,de){var me=[],_e={status:"pending",value:null,reason:null,then:function(we){me.push(we)}};return ue.then(function(){_e.status="fulfilled",_e.value=de;for(var we=0;we<me.length;we++)(0,me[we])(de)},function(we){for(_e.status="rejected",_e.reason=we,we=0;we<me.length;we++)(0,me[we])(void 0)}),_e}var Wc=Oe.S;Oe.S=function(ue,de){Rd=It(),typeof de=="object"&&de!==null&&typeof de.then=="function"&&$p(ue,de),Wc!==null&&Wc(ue,de)};var Ma=Ie(null);function kl(){var ue=Ma.current;return ue!==null?ue:mn.pooledCache}function Xs(ue,de){de===null?Le(Ma,Ma.current):Le(Ma,de.pool)}function Yc(){var ue=kl();return ue===null?null:{parent:Pn._currentValue,pool:ue}}var ai=Error(ae(460)),Pl=Error(ae(474)),Zs=Error(ae(542)),Qs={then:function(){}};function Jc(ue){return ue=ue.status,ue==="fulfilled"||ue==="rejected"}function Kc(ue,de,me){switch(me=ue[me],me===void 0?ue.push(de):me!==de&&(de.then(Vr,Vr),de=me),de.status){case"fulfilled":return de.value;case"rejected":throw ue=de.reason,Zc(ue),ue;default:if(typeof de.status=="string")de.then(Vr,Vr);else{if(ue=mn,ue!==null&&100<ue.shellSuspendCounter)throw Error(ae(482));ue=de,ue.status="pending",ue.then(function(_e){if(de.status==="pending"){var we=de;we.status="fulfilled",we.value=_e}},function(_e){if(de.status==="pending"){var we=de;we.status="rejected",we.reason=_e}})}switch(de.status){case"fulfilled":return de.value;case"rejected":throw ue=de.reason,Zc(ue),ue}throw Ia=de,ai}}function Na(ue){try{var de=ue._init;return de(ue._payload)}catch(me){throw me!==null&&typeof me=="object"&&typeof me.then=="function"?(Ia=me,ai):me}}var Ia=null;function Xc(){if(Ia===null)throw Error(ae(459));var ue=Ia;return Ia=null,ue}function Zc(ue){if(ue===ai||ue===Zs)throw Error(ae(483))}var ii=null,Qi=0;function eo(ue){var de=Qi;return Qi+=1,ii===null&&(ii=[]),Kc(ii,ue,de)}function es(ue,de){de=de.props.ref,ue.ref=de!==void 0?de:null}function to(ue,de){throw de.$$typeof===ge?Error(ae(525)):(ue=Object.prototype.toString.call(de),Error(ae(31,ue==="[object Object]"?"object with keys {"+Object.keys(de).join(", ")+"}":ue)))}function Qc(ue){function de(ht,lt){if(ue){var ft=ht.deletions;ft===null?(ht.deletions=[lt],ht.flags|=16):ft.push(lt)}}function me(ht,lt){if(!ue)return null;for(;lt!==null;)de(ht,lt),lt=lt.sibling;return null}function _e(ht){for(var lt=new Map;ht!==null;)ht.key!==null?lt.set(ht.key,ht):lt.set(ht.index,ht),ht=ht.sibling;return lt}function we(ht,lt){return ht=Dr(ht,lt),ht.index=0,ht.sibling=null,ht}function Ee(ht,lt,ft){return ht.index=ft,ue?(ft=ht.alternate,ft!==null?(ft=ft.index,ft<lt?(ht.flags|=67108866,lt):ft):(ht.flags|=67108866,lt)):(ht.flags|=1048576,lt)}function Re(ht){return ue&&ht.alternate===null&&(ht.flags|=67108866),ht}function We(ht,lt,ft,vt){return lt===null||lt.tag!==6?(lt=gl(ft,ht.mode,vt),lt.return=ht,lt):(lt=we(lt,ft),lt.return=ht,lt)}function rt(ht,lt,ft,vt){var $t=ft.type;return $t===be?xt(ht,lt,ft.props.children,vt,ft.key):lt!==null&&(lt.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===Ge&&Na($t)===lt.type)?(lt=we(lt,ft.props),es(lt,ft),lt.return=ht,lt):(lt=Ws(ft.type,ft.key,ft.props,null,ht.mode,vt),es(lt,ft),lt.return=ht,lt)}function mt(ht,lt,ft,vt){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==ft.containerInfo||lt.stateNode.implementation!==ft.implementation?(lt=yl(ft,ht.mode,vt),lt.return=ht,lt):(lt=we(lt,ft.children||[]),lt.return=ht,lt)}function xt(ht,lt,ft,vt,$t){return lt===null||lt.tag!==7?(lt=Pa(ft,ht.mode,vt,$t),lt.return=ht,lt):(lt=we(lt,ft),lt.return=ht,lt)}function Tt(ht,lt,ft){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return lt=gl(""+lt,ht.mode,ft),lt.return=ht,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case ye:return ft=Ws(lt.type,lt.key,lt.props,null,ht.mode,ft),es(ft,lt),ft.return=ht,ft;case xe:return lt=yl(lt,ht.mode,ft),lt.return=ht,lt;case Ge:return lt=Na(lt),Tt(ht,lt,ft)}if($e(lt)||De(lt))return lt=Pa(lt,ht.mode,ft,null),lt.return=ht,lt;if(typeof lt.then=="function")return Tt(ht,eo(lt),ft);if(lt.$$typeof===Ce)return Tt(ht,Ks(ht,lt),ft);to(ht,lt)}return null}function gt(ht,lt,ft,vt){var $t=lt!==null?lt.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return $t!==null?null:We(ht,lt,""+ft,vt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case ye:return ft.key===$t?rt(ht,lt,ft,vt):null;case xe:return ft.key===$t?mt(ht,lt,ft,vt):null;case Ge:return ft=Na(ft),gt(ht,lt,ft,vt)}if($e(ft)||De(ft))return $t!==null?null:xt(ht,lt,ft,vt,null);if(typeof ft.then=="function")return gt(ht,lt,eo(ft),vt);if(ft.$$typeof===Ce)return gt(ht,lt,Ks(ht,ft),vt);to(ht,ft)}return null}function yt(ht,lt,ft,vt,$t){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return ht=ht.get(ft)||null,We(lt,ht,""+vt,$t);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case ye:return ht=ht.get(vt.key===null?ft:vt.key)||null,rt(lt,ht,vt,$t);case xe:return ht=ht.get(vt.key===null?ft:vt.key)||null,mt(lt,ht,vt,$t);case Ge:return vt=Na(vt),yt(ht,lt,ft,vt,$t)}if($e(vt)||De(vt))return ht=ht.get(ft)||null,xt(lt,ht,vt,$t,null);if(typeof vt.then=="function")return yt(ht,lt,ft,eo(vt),$t);if(vt.$$typeof===Ce)return yt(ht,lt,ft,Ks(lt,vt),$t);to(lt,vt)}return null}function Dt(ht,lt,ft,vt){for(var $t=null,nn=null,Ft=lt,Wt=lt=0,en=null;Ft!==null&&Wt<ft.length;Wt++){Ft.index>Wt?(en=Ft,Ft=null):en=Ft.sibling;var rn=gt(ht,Ft,ft[Wt],vt);if(rn===null){Ft===null&&(Ft=en);break}ue&&Ft&&rn.alternate===null&&de(ht,Ft),lt=Ee(rn,lt,Wt),nn===null?$t=rn:nn.sibling=rn,nn=rn,Ft=en}if(Wt===ft.length)return me(ht,Ft),tn&&Or(ht,Wt),$t;if(Ft===null){for(;Wt<ft.length;Wt++)Ft=Tt(ht,ft[Wt],vt),Ft!==null&&(lt=Ee(Ft,lt,Wt),nn===null?$t=Ft:nn.sibling=Ft,nn=Ft);return tn&&Or(ht,Wt),$t}for(Ft=_e(Ft);Wt<ft.length;Wt++)en=yt(Ft,ht,Wt,ft[Wt],vt),en!==null&&(ue&&en.alternate!==null&&Ft.delete(en.key===null?Wt:en.key),lt=Ee(en,lt,Wt),nn===null?$t=en:nn.sibling=en,nn=en);return ue&&Ft.forEach(function(Sa){return de(ht,Sa)}),tn&&Or(ht,Wt),$t}function zt(ht,lt,ft,vt){if(ft==null)throw Error(ae(151));for(var $t=null,nn=null,Ft=lt,Wt=lt=0,en=null,rn=ft.next();Ft!==null&&!rn.done;Wt++,rn=ft.next()){Ft.index>Wt?(en=Ft,Ft=null):en=Ft.sibling;var Sa=gt(ht,Ft,rn.value,vt);if(Sa===null){Ft===null&&(Ft=en);break}ue&&Ft&&Sa.alternate===null&&de(ht,Ft),lt=Ee(Sa,lt,Wt),nn===null?$t=Sa:nn.sibling=Sa,nn=Sa,Ft=en}if(rn.done)return me(ht,Ft),tn&&Or(ht,Wt),$t;if(Ft===null){for(;!rn.done;Wt++,rn=ft.next())rn=Tt(ht,rn.value,vt),rn!==null&&(lt=Ee(rn,lt,Wt),nn===null?$t=rn:nn.sibling=rn,nn=rn);return tn&&Or(ht,Wt),$t}for(Ft=_e(Ft);!rn.done;Wt++,rn=ft.next())rn=yt(Ft,ht,Wt,rn.value,vt),rn!==null&&(ue&&rn.alternate!==null&&Ft.delete(rn.key===null?Wt:rn.key),lt=Ee(rn,lt,Wt),nn===null?$t=rn:nn.sibling=rn,nn=rn);return ue&&Ft.forEach(function(Zm){return de(ht,Zm)}),tn&&Or(ht,Wt),$t}function pn(ht,lt,ft,vt){if(typeof ft=="object"&&ft!==null&&ft.type===be&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case ye:e:{for(var $t=ft.key;lt!==null;){if(lt.key===$t){if($t=ft.type,$t===be){if(lt.tag===7){me(ht,lt.sibling),vt=we(lt,ft.props.children),vt.return=ht,ht=vt;break e}}else if(lt.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===Ge&&Na($t)===lt.type){me(ht,lt.sibling),vt=we(lt,ft.props),es(vt,ft),vt.return=ht,ht=vt;break e}me(ht,lt);break}else de(ht,lt);lt=lt.sibling}ft.type===be?(vt=Pa(ft.props.children,ht.mode,vt,ft.key),vt.return=ht,ht=vt):(vt=Ws(ft.type,ft.key,ft.props,null,ht.mode,vt),es(vt,ft),vt.return=ht,ht=vt)}return Re(ht);case xe:e:{for($t=ft.key;lt!==null;){if(lt.key===$t)if(lt.tag===4&&lt.stateNode.containerInfo===ft.containerInfo&&lt.stateNode.implementation===ft.implementation){me(ht,lt.sibling),vt=we(lt,ft.children||[]),vt.return=ht,ht=vt;break e}else{me(ht,lt);break}else de(ht,lt);lt=lt.sibling}vt=yl(ft,ht.mode,vt),vt.return=ht,ht=vt}return Re(ht);case Ge:return ft=Na(ft),pn(ht,lt,ft,vt)}if($e(ft))return Dt(ht,lt,ft,vt);if(De(ft)){if($t=De(ft),typeof $t!="function")throw Error(ae(150));return ft=$t.call(ft),zt(ht,lt,ft,vt)}if(typeof ft.then=="function")return pn(ht,lt,eo(ft),vt);if(ft.$$typeof===Ce)return pn(ht,lt,Ks(ht,ft),vt);to(ht,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint"?(ft=""+ft,lt!==null&&lt.tag===6?(me(ht,lt.sibling),vt=we(lt,ft),vt.return=ht,ht=vt):(me(ht,lt),vt=gl(ft,ht.mode,vt),vt.return=ht,ht=vt),Re(ht)):me(ht,lt)}return function(ht,lt,ft,vt){try{Qi=0;var $t=pn(ht,lt,ft,vt);return ii=null,$t}catch(Ft){if(Ft===ai||Ft===Zs)throw Ft;var nn=er(29,Ft,null,ht.mode);return nn.lanes=vt,nn.return=ht,nn}finally{}}}var Va=Qc(!0),eh=Qc(!1),ia=!1;function Al(ue){ue.updateQueue={baseState:ue.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bl(ue,de){ue=ue.updateQueue,de.updateQueue===ue&&(de.updateQueue={baseState:ue.baseState,firstBaseUpdate:ue.firstBaseUpdate,lastBaseUpdate:ue.lastBaseUpdate,shared:ue.shared,callbacks:null})}function sa(ue){return{lane:ue,tag:0,payload:null,callback:null,next:null}}function oa(ue,de,me){var _e=ue.updateQueue;if(_e===null)return null;if(_e=_e.shared,(an&2)!==0){var we=_e.pending;return we===null?de.next=de:(de.next=we.next,we.next=de),_e.pending=de,de=Gs(ue),Dc(ue,null,me),de}return qs(ue,_e,de,me),Gs(ue)}function ts(ue,de,me){if(de=de.updateQueue,de!==null&&(de=de.shared,(me&4194048)!==0)){var _e=de.lanes;_e&=ue.pendingLanes,me|=_e,de.lanes=me,Vi(ue,me)}}function Rl(ue,de){var me=ue.updateQueue,_e=ue.alternate;if(_e!==null&&(_e=_e.updateQueue,me===_e)){var we=null,Ee=null;if(me=me.firstBaseUpdate,me!==null){do{var Re={lane:me.lane,tag:me.tag,payload:me.payload,callback:null,next:null};Ee===null?we=Ee=Re:Ee=Ee.next=Re,me=me.next}while(me!==null);Ee===null?we=Ee=de:Ee=Ee.next=de}else we=Ee=de;me={baseState:_e.baseState,firstBaseUpdate:we,lastBaseUpdate:Ee,shared:_e.shared,callbacks:_e.callbacks},ue.updateQueue=me;return}ue=me.lastBaseUpdate,ue===null?me.firstBaseUpdate=de:ue.next=de,me.lastBaseUpdate=de}var Ml=!1;function ns(){if(Ml){var ue=ri;if(ue!==null)throw ue}}function rs(ue,de,me,_e){Ml=!1;var we=ue.updateQueue;ia=!1;var Ee=we.firstBaseUpdate,Re=we.lastBaseUpdate,We=we.shared.pending;if(We!==null){we.shared.pending=null;var rt=We,mt=rt.next;rt.next=null,Re===null?Ee=mt:Re.next=mt,Re=rt;var xt=ue.alternate;xt!==null&&(xt=xt.updateQueue,We=xt.lastBaseUpdate,We!==Re&&(We===null?xt.firstBaseUpdate=mt:We.next=mt,xt.lastBaseUpdate=rt))}if(Ee!==null){var Tt=we.baseState;Re=0,xt=mt=rt=null,We=Ee;do{var gt=We.lane&-536870913,yt=gt!==We.lane;if(yt?(Qt&gt)===gt:(_e&gt)===gt){gt!==0&&gt===ni&&(Ml=!0),xt!==null&&(xt=xt.next={lane:0,tag:We.tag,payload:We.payload,callback:null,next:null});e:{var Dt=ue,zt=We;gt=de;var pn=me;switch(zt.tag){case 1:if(Dt=zt.payload,typeof Dt=="function"){Tt=Dt.call(pn,Tt,gt);break e}Tt=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=zt.payload,gt=typeof Dt=="function"?Dt.call(pn,Tt,gt):Dt,gt==null)break e;Tt=pe({},Tt,gt);break e;case 2:ia=!0}}gt=We.callback,gt!==null&&(ue.flags|=64,yt&&(ue.flags|=8192),yt=we.callbacks,yt===null?we.callbacks=[gt]:yt.push(gt))}else yt={lane:gt,tag:We.tag,payload:We.payload,callback:We.callback,next:null},xt===null?(mt=xt=yt,rt=Tt):xt=xt.next=yt,Re|=gt;if(We=We.next,We===null){if(We=we.shared.pending,We===null)break;yt=We,We=yt.next,yt.next=null,we.lastBaseUpdate=yt,we.shared.pending=null}}while(!0);xt===null&&(rt=Tt),we.baseState=rt,we.firstBaseUpdate=mt,we.lastBaseUpdate=xt,Ee===null&&(we.shared.lanes=0),da|=Re,ue.lanes=Re,ue.memoizedState=Tt}}function th(ue,de){if(typeof ue!="function")throw Error(ae(191,ue));ue.call(de)}function nh(ue,de){var me=ue.callbacks;if(me!==null)for(ue.callbacks=null,ue=0;ue<me.length;ue++)th(me[ue],de)}var si=Ie(null),no=Ie(0);function rh(ue,de){ue=Jr,Le(no,ue),Le(si,de),Jr=ue|de.baseLanes}function Nl(){Le(no,Jr),Le(si,si.current)}function Il(){Jr=no.current,Fe(si),Fe(no)}var tr=Ie(null),_r=null;function la(ue){var de=ue.alternate;Le(En,En.current&1),Le(tr,ue),_r===null&&(de===null||si.current!==null||de.memoizedState!==null)&&(_r=ue)}function Vl(ue){Le(En,En.current),Le(tr,ue),_r===null&&(_r=ue)}function ah(ue){ue.tag===22?(Le(En,En.current),Le(tr,ue),_r===null&&(_r=ue)):ua()}function ua(){Le(En,En.current),Le(tr,tr.current)}function nr(ue){Fe(tr),_r===ue&&(_r=null),Fe(En)}var En=Ie(0);function ro(ue){for(var de=ue;de!==null;){if(de.tag===13){var me=de.memoizedState;if(me!==null&&(me=me.dehydrated,me===null||Uu(me)||zu(me)))return de}else if(de.tag===19&&(de.memoizedProps.revealOrder==="forwards"||de.memoizedProps.revealOrder==="backwards"||de.memoizedProps.revealOrder==="unstable_legacy-backwards"||de.memoizedProps.revealOrder==="together")){if((de.flags&128)!==0)return de}else if(de.child!==null){de.child.return=de,de=de.child;continue}if(de===ue)break;for(;de.sibling===null;){if(de.return===null||de.return===ue)return null;de=de.return}de.sibling.return=de.return,de=de.sibling}return null}var Ur=0,Gt=null,dn=null,An=null,ao=!1,oi=!1,La=!1,io=0,as=0,li=null,zp=0;function Sn(){throw Error(ae(321))}function Ll(ue,de){if(de===null)return!1;for(var me=0;me<de.length&&me<ue.length;me++)if(!Qn(ue[me],de[me]))return!1;return!0}function Dl(ue,de,me,_e,we,Ee){return Ur=Ee,Gt=de,de.memoizedState=null,de.updateQueue=null,de.lanes=0,Oe.H=ue===null||ue.memoizedState===null?Uh:Zl,La=!1,Ee=me(_e,we),La=!1,oi&&(Ee=sh(de,me,_e,we)),ih(ue),Ee}function ih(ue){Oe.H=os;var de=dn!==null&&dn.next!==null;if(Ur=0,An=dn=Gt=null,ao=!1,as=0,li=null,de)throw Error(ae(300));ue===null||Bn||(ue=ue.dependencies,ue!==null&&Js(ue)&&(Bn=!0))}function sh(ue,de,me,_e){Gt=ue;var we=0;do{if(oi&&(li=null),as=0,oi=!1,25<=we)throw Error(ae(301));if(we+=1,An=dn=null,ue.updateQueue!=null){var Ee=ue.updateQueue;Ee.lastEffect=null,Ee.events=null,Ee.stores=null,Ee.memoCache!=null&&(Ee.memoCache.index=0)}Oe.H=zh,Ee=de(me,_e)}while(oi);return Ee}function jp(){var ue=Oe.H,de=ue.useState()[0];return de=typeof de.then=="function"?is(de):de,ue=ue.useState()[0],(dn!==null?dn.memoizedState:null)!==ue&&(Gt.flags|=1024),de}function Ol(){var ue=io!==0;return io=0,ue}function Fl(ue,de,me){de.updateQueue=ue.updateQueue,de.flags&=-2053,ue.lanes&=~me}function $l(ue){if(ao){for(ue=ue.memoizedState;ue!==null;){var de=ue.queue;de!==null&&(de.pending=null),ue=ue.next}ao=!1}Ur=0,An=dn=Gt=null,oi=!1,as=io=0,li=null}function Hn(){var ue={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Gt.memoizedState=An=ue:An=An.next=ue,An}function Cn(){if(dn===null){var ue=Gt.alternate;ue=ue!==null?ue.memoizedState:null}else ue=dn.next;var de=An===null?Gt.memoizedState:An.next;if(de!==null)An=de,dn=ue;else{if(ue===null)throw Gt.alternate===null?Error(ae(467)):Error(ae(310));dn=ue,ue={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},An===null?Gt.memoizedState=An=ue:An=An.next=ue}return An}function so(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function is(ue){var de=as;return as+=1,li===null&&(li=[]),ue=Kc(li,ue,de),de=Gt,(An===null?de.memoizedState:An.next)===null&&(de=de.alternate,Oe.H=de===null||de.memoizedState===null?Uh:Zl),ue}function oo(ue){if(ue!==null&&typeof ue=="object"){if(typeof ue.then=="function")return is(ue);if(ue.$$typeof===Ce)return $n(ue)}throw Error(ae(438,String(ue)))}function Ul(ue){var de=null,me=Gt.updateQueue;if(me!==null&&(de=me.memoCache),de==null){var _e=Gt.alternate;_e!==null&&(_e=_e.updateQueue,_e!==null&&(_e=_e.memoCache,_e!=null&&(de={data:_e.data.map(function(we){return we.slice()}),index:0})))}if(de==null&&(de={data:[],index:0}),me===null&&(me=so(),Gt.updateQueue=me),me.memoCache=de,me=de.data[de.index],me===void 0)for(me=de.data[de.index]=Array(ue),_e=0;_e<ue;_e++)me[_e]=Ve;return de.index++,me}function zr(ue,de){return typeof de=="function"?de(ue):de}function lo(ue){var de=Cn();return zl(de,dn,ue)}function zl(ue,de,me){var _e=ue.queue;if(_e===null)throw Error(ae(311));_e.lastRenderedReducer=me;var we=ue.baseQueue,Ee=_e.pending;if(Ee!==null){if(we!==null){var Re=we.next;we.next=Ee.next,Ee.next=Re}de.baseQueue=we=Ee,_e.pending=null}if(Ee=ue.baseState,we===null)ue.memoizedState=Ee;else{de=we.next;var We=Re=null,rt=null,mt=de,xt=!1;do{var Tt=mt.lane&-536870913;if(Tt!==mt.lane?(Qt&Tt)===Tt:(Ur&Tt)===Tt){var gt=mt.revertLane;if(gt===0)rt!==null&&(rt=rt.next={lane:0,revertLane:0,gesture:null,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),Tt===ni&&(xt=!0);else if((Ur&gt)===gt){mt=mt.next,gt===ni&&(xt=!0);continue}else Tt={lane:0,revertLane:mt.revertLane,gesture:null,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},rt===null?(We=rt=Tt,Re=Ee):rt=rt.next=Tt,Gt.lanes|=gt,da|=gt;Tt=mt.action,La&&me(Ee,Tt),Ee=mt.hasEagerState?mt.eagerState:me(Ee,Tt)}else gt={lane:Tt,revertLane:mt.revertLane,gesture:mt.gesture,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},rt===null?(We=rt=gt,Re=Ee):rt=rt.next=gt,Gt.lanes|=Tt,da|=Tt;mt=mt.next}while(mt!==null&&mt!==de);if(rt===null?Re=Ee:rt.next=We,!Qn(Ee,ue.memoizedState)&&(Bn=!0,xt&&(me=ri,me!==null)))throw me;ue.memoizedState=Ee,ue.baseState=Re,ue.baseQueue=rt,_e.lastRenderedState=Ee}return we===null&&(_e.lanes=0),[ue.memoizedState,_e.dispatch]}function jl(ue){var de=Cn(),me=de.queue;if(me===null)throw Error(ae(311));me.lastRenderedReducer=ue;var _e=me.dispatch,we=me.pending,Ee=de.memoizedState;if(we!==null){me.pending=null;var Re=we=we.next;do Ee=ue(Ee,Re.action),Re=Re.next;while(Re!==we);Qn(Ee,de.memoizedState)||(Bn=!0),de.memoizedState=Ee,de.baseQueue===null&&(de.baseState=Ee),me.lastRenderedState=Ee}return[Ee,_e]}function oh(ue,de,me){var _e=Gt,we=Cn(),Ee=tn;if(Ee){if(me===void 0)throw Error(ae(407));me=me()}else me=de();var Re=!Qn((dn||we).memoizedState,me);if(Re&&(we.memoizedState=me,Bn=!0),we=we.queue,Gl(ch.bind(null,_e,we,ue),[ue]),we.getSnapshot!==de||Re||An!==null&&An.memoizedState.tag&1){if(_e.flags|=2048,ui(9,{destroy:void 0},uh.bind(null,_e,we,me,de),null),mn===null)throw Error(ae(349));Ee||(Ur&127)!==0||lh(_e,de,me)}return me}function lh(ue,de,me){ue.flags|=16384,ue={getSnapshot:de,value:me},de=Gt.updateQueue,de===null?(de=so(),Gt.updateQueue=de,de.stores=[ue]):(me=de.stores,me===null?de.stores=[ue]:me.push(ue))}function uh(ue,de,me,_e){de.value=me,de.getSnapshot=_e,hh(de)&&dh(ue)}function ch(ue,de,me){return me(function(){hh(de)&&dh(ue)})}function hh(ue){var de=ue.getSnapshot;ue=ue.value;try{var me=de();return!Qn(ue,me)}catch{return!0}}function dh(ue){var de=ka(ue,2);de!==null&&Zn(de,ue,2)}function Hl(ue){var de=Hn();if(typeof ue=="function"){var me=ue;if(ue=me(),La){hn(!0);try{me()}finally{hn(!1)}}}return de.memoizedState=de.baseState=ue,de.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:ue},de}function fh(ue,de,me,_e){return ue.baseState=me,zl(ue,dn,typeof _e=="function"?_e:zr)}function Hp(ue,de,me,_e,we){if(ho(ue))throw Error(ae(485));if(ue=de.action,ue!==null){var Ee={payload:we,action:ue,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Re){Ee.listeners.push(Re)}};Oe.T!==null?me(!0):Ee.isTransition=!1,_e(Ee),me=de.pending,me===null?(Ee.next=de.pending=Ee,ph(de,Ee)):(Ee.next=me.next,de.pending=me.next=Ee)}}function ph(ue,de){var me=de.action,_e=de.payload,we=ue.state;if(de.isTransition){var Ee=Oe.T,Re={};Oe.T=Re;try{var We=me(we,_e),rt=Oe.S;rt!==null&&rt(Re,We),mh(ue,de,We)}catch(mt){ql(ue,de,mt)}finally{Ee!==null&&Re.types!==null&&(Ee.types=Re.types),Oe.T=Ee}}else try{Ee=me(we,_e),mh(ue,de,Ee)}catch(mt){ql(ue,de,mt)}}function mh(ue,de,me){me!==null&&typeof me=="object"&&typeof me.then=="function"?me.then(function(_e){gh(ue,de,_e)},function(_e){return ql(ue,de,_e)}):gh(ue,de,me)}function gh(ue,de,me){de.status="fulfilled",de.value=me,yh(de),ue.state=me,de=ue.pending,de!==null&&(me=de.next,me===de?ue.pending=null:(me=me.next,de.next=me,ph(ue,me)))}function ql(ue,de,me){var _e=ue.pending;if(ue.pending=null,_e!==null){_e=_e.next;do de.status="rejected",de.reason=me,yh(de),de=de.next;while(de!==_e)}ue.action=null}function yh(ue){ue=ue.listeners;for(var de=0;de<ue.length;de++)(0,ue[de])()}function _h(ue,de){return de}function xh(ue,de){if(tn){var me=mn.formState;if(me!==null){e:{var _e=Gt;if(tn){if(yn){t:{for(var we=yn,Ee=yr;we.nodeType!==8;){if(!Ee){we=null;break t}if(we=xr(we.nextSibling),we===null){we=null;break t}}Ee=we.data,we=Ee==="F!"||Ee==="F"?we:null}if(we){yn=xr(we.nextSibling),_e=we.data==="F!";break e}}ra(_e)}_e=!1}_e&&(de=me[0])}}return me=Hn(),me.memoizedState=me.baseState=de,_e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:de},me.queue=_e,me=Oh.bind(null,Gt,_e),_e.dispatch=me,_e=Hl(!1),Ee=Xl.bind(null,Gt,!1,_e.queue),_e=Hn(),we={state:de,dispatch:null,action:ue,pending:null},_e.queue=we,me=Hp.bind(null,Gt,we,Ee,me),we.dispatch=me,_e.memoizedState=ue,[de,me,!1]}function bh(ue){var de=Cn();return vh(de,dn,ue)}function vh(ue,de,me){if(de=zl(ue,de,_h)[0],ue=lo(zr)[0],typeof de=="object"&&de!==null&&typeof de.then=="function")try{var _e=is(de)}catch(Re){throw Re===ai?Zs:Re}else _e=de;de=Cn();var we=de.queue,Ee=we.dispatch;return me!==de.memoizedState&&(Gt.flags|=2048,ui(9,{destroy:void 0},qp.bind(null,we,me),null)),[_e,Ee,ue]}function qp(ue,de){ue.action=de}function Sh(ue){var de=Cn(),me=dn;if(me!==null)return vh(de,me,ue);Cn(),de=de.memoizedState,me=Cn();var _e=me.queue.dispatch;return me.memoizedState=ue,[de,_e,!1]}function ui(ue,de,me,_e){return ue={tag:ue,create:me,deps:_e,inst:de,next:null},de=Gt.updateQueue,de===null&&(de=so(),Gt.updateQueue=de),me=de.lastEffect,me===null?de.lastEffect=ue.next=ue:(_e=me.next,me.next=ue,ue.next=_e,de.lastEffect=ue),ue}function wh(){return Cn().memoizedState}function uo(ue,de,me,_e){var we=Hn();Gt.flags|=ue,we.memoizedState=ui(1|de,{destroy:void 0},me,_e===void 0?null:_e)}function co(ue,de,me,_e){var we=Cn();_e=_e===void 0?null:_e;var Ee=we.memoizedState.inst;dn!==null&&_e!==null&&Ll(_e,dn.memoizedState.deps)?we.memoizedState=ui(de,Ee,me,_e):(Gt.flags|=ue,we.memoizedState=ui(1|de,Ee,me,_e))}function Th(ue,de){uo(8390656,8,ue,de)}function Gl(ue,de){co(2048,8,ue,de)}function Gp(ue){Gt.flags|=4;var de=Gt.updateQueue;if(de===null)de=so(),Gt.updateQueue=de,de.events=[ue];else{var me=de.events;me===null?de.events=[ue]:me.push(ue)}}function Eh(ue){var de=Cn().memoizedState;return Gp({ref:de,nextImpl:ue}),function(){if((an&2)!==0)throw Error(ae(440));return de.impl.apply(void 0,arguments)}}function Ch(ue,de){return co(4,2,ue,de)}function kh(ue,de){return co(4,4,ue,de)}function Ph(ue,de){if(typeof de=="function"){ue=ue();var me=de(ue);return function(){typeof me=="function"?me():de(null)}}if(de!=null)return ue=ue(),de.current=ue,function(){de.current=null}}function Ah(ue,de,me){me=me!=null?me.concat([ue]):null,co(4,4,Ph.bind(null,de,ue),me)}function Wl(){}function Bh(ue,de){var me=Cn();de=de===void 0?null:de;var _e=me.memoizedState;return de!==null&&Ll(de,_e[1])?_e[0]:(me.memoizedState=[ue,de],ue)}function Rh(ue,de){var me=Cn();de=de===void 0?null:de;var _e=me.memoizedState;if(de!==null&&Ll(de,_e[1]))return _e[0];if(_e=ue(),La){hn(!0);try{ue()}finally{hn(!1)}}return me.memoizedState=[_e,de],_e}function Yl(ue,de,me){return me===void 0||(Ur&1073741824)!==0&&(Qt&261930)===0?ue.memoizedState=de:(ue.memoizedState=me,ue=Nd(),Gt.lanes|=ue,da|=ue,me)}function Mh(ue,de,me,_e){return Qn(me,de)?me:si.current!==null?(ue=Yl(ue,me,_e),Qn(ue,de)||(Bn=!0),ue):(Ur&42)===0||(Ur&1073741824)!==0&&(Qt&261930)===0?(Bn=!0,ue.memoizedState=me):(ue=Nd(),Gt.lanes|=ue,da|=ue,de)}function Nh(ue,de,me,_e,we){var Ee=He.p;He.p=Ee!==0&&8>Ee?Ee:8;var Re=Oe.T,We={};Oe.T=We,Xl(ue,!1,de,me);try{var rt=we(),mt=Oe.S;if(mt!==null&&mt(We,rt),rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var xt=Up(rt,_e);ss(ue,de,xt,ir(ue))}else ss(ue,de,_e,ir(ue))}catch(Tt){ss(ue,de,{then:function(){},status:"rejected",reason:Tt},ir())}finally{He.p=Ee,Re!==null&&We.types!==null&&(Re.types=We.types),Oe.T=Re}}function Wp(){}function Jl(ue,de,me,_e){if(ue.tag!==5)throw Error(ae(476));var we=Ih(ue).queue;Nh(ue,we,de,qe,me===null?Wp:function(){return Vh(ue),me(_e)})}function Ih(ue){var de=ue.memoizedState;if(de!==null)return de;de={memoizedState:qe,baseState:qe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:qe},next:null};var me={};return de.next={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:me},next:null},ue.memoizedState=de,ue=ue.alternate,ue!==null&&(ue.memoizedState=de),de}function Vh(ue){var de=Ih(ue);de.next===null&&(de=ue.alternate.memoizedState),ss(ue,de.next.queue,{},ir())}function Kl(){return $n(Ts)}function Lh(){return Cn().memoizedState}function Dh(){return Cn().memoizedState}function Yp(ue){for(var de=ue.return;de!==null;){switch(de.tag){case 24:case 3:var me=ir();ue=sa(me);var _e=oa(de,ue,me);_e!==null&&(Zn(_e,de,me),ts(_e,de,me)),de={cache:El()},ue.payload=de;return}de=de.return}}function Jp(ue,de,me){var _e=ir();me={lane:_e,revertLane:0,gesture:null,action:me,hasEagerState:!1,eagerState:null,next:null},ho(ue)?Fh(de,me):(me=pl(ue,de,me,_e),me!==null&&(Zn(me,ue,_e),$h(me,de,_e)))}function Oh(ue,de,me){var _e=ir();ss(ue,de,me,_e)}function ss(ue,de,me,_e){var we={lane:_e,revertLane:0,gesture:null,action:me,hasEagerState:!1,eagerState:null,next:null};if(ho(ue))Fh(de,we);else{var Ee=ue.alternate;if(ue.lanes===0&&(Ee===null||Ee.lanes===0)&&(Ee=de.lastRenderedReducer,Ee!==null))try{var Re=de.lastRenderedState,We=Ee(Re,me);if(we.hasEagerState=!0,we.eagerState=We,Qn(We,Re))return qs(ue,de,we,0),mn===null&&Hs(),!1}catch{}finally{}if(me=pl(ue,de,we,_e),me!==null)return Zn(me,ue,_e),$h(me,de,_e),!0}return!1}function Xl(ue,de,me,_e){if(_e={lane:2,revertLane:Au(),gesture:null,action:_e,hasEagerState:!1,eagerState:null,next:null},ho(ue)){if(de)throw Error(ae(479))}else de=pl(ue,me,_e,2),de!==null&&Zn(de,ue,2)}function ho(ue){var de=ue.alternate;return ue===Gt||de!==null&&de===Gt}function Fh(ue,de){oi=ao=!0;var me=ue.pending;me===null?de.next=de:(de.next=me.next,me.next=de),ue.pending=de}function $h(ue,de,me){if((me&4194048)!==0){var _e=de.lanes;_e&=ue.pendingLanes,me|=_e,de.lanes=me,Vi(ue,me)}}var os={readContext:$n,use:oo,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useInsertionEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useSyncExternalStore:Sn,useId:Sn,useHostTransitionStatus:Sn,useFormState:Sn,useActionState:Sn,useOptimistic:Sn,useMemoCache:Sn,useCacheRefresh:Sn};os.useEffectEvent=Sn;var Uh={readContext:$n,use:oo,useCallback:function(ue,de){return Hn().memoizedState=[ue,de===void 0?null:de],ue},useContext:$n,useEffect:Th,useImperativeHandle:function(ue,de,me){me=me!=null?me.concat([ue]):null,uo(4194308,4,Ph.bind(null,de,ue),me)},useLayoutEffect:function(ue,de){return uo(4194308,4,ue,de)},useInsertionEffect:function(ue,de){uo(4,2,ue,de)},useMemo:function(ue,de){var me=Hn();de=de===void 0?null:de;var _e=ue();if(La){hn(!0);try{ue()}finally{hn(!1)}}return me.memoizedState=[_e,de],_e},useReducer:function(ue,de,me){var _e=Hn();if(me!==void 0){var we=me(de);if(La){hn(!0);try{me(de)}finally{hn(!1)}}}else we=de;return _e.memoizedState=_e.baseState=we,ue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ue,lastRenderedState:we},_e.queue=ue,ue=ue.dispatch=Jp.bind(null,Gt,ue),[_e.memoizedState,ue]},useRef:function(ue){var de=Hn();return ue={current:ue},de.memoizedState=ue},useState:function(ue){ue=Hl(ue);var de=ue.queue,me=Oh.bind(null,Gt,de);return de.dispatch=me,[ue.memoizedState,me]},useDebugValue:Wl,useDeferredValue:function(ue,de){var me=Hn();return Yl(me,ue,de)},useTransition:function(){var ue=Hl(!1);return ue=Nh.bind(null,Gt,ue.queue,!0,!1),Hn().memoizedState=ue,[!1,ue]},useSyncExternalStore:function(ue,de,me){var _e=Gt,we=Hn();if(tn){if(me===void 0)throw Error(ae(407));me=me()}else{if(me=de(),mn===null)throw Error(ae(349));(Qt&127)!==0||lh(_e,de,me)}we.memoizedState=me;var Ee={value:me,getSnapshot:de};return we.queue=Ee,Th(ch.bind(null,_e,Ee,ue),[ue]),_e.flags|=2048,ui(9,{destroy:void 0},uh.bind(null,_e,Ee,me,de),null),me},useId:function(){var ue=Hn(),de=mn.identifierPrefix;if(tn){var me=Ar,_e=Pr;me=(_e&~(1<<32-Ht(_e)-1)).toString(32)+me,de="_"+de+"R_"+me,me=io++,0<me&&(de+="H"+me.toString(32)),de+="_"}else me=zp++,de="_"+de+"r_"+me.toString(32)+"_";return ue.memoizedState=de},useHostTransitionStatus:Kl,useFormState:xh,useActionState:xh,useOptimistic:function(ue){var de=Hn();de.memoizedState=de.baseState=ue;var me={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return de.queue=me,de=Xl.bind(null,Gt,!0,me),me.dispatch=de,[ue,de]},useMemoCache:Ul,useCacheRefresh:function(){return Hn().memoizedState=Yp.bind(null,Gt)},useEffectEvent:function(ue){var de=Hn(),me={impl:ue};return de.memoizedState=me,function(){if((an&2)!==0)throw Error(ae(440));return me.impl.apply(void 0,arguments)}}},Zl={readContext:$n,use:oo,useCallback:Bh,useContext:$n,useEffect:Gl,useImperativeHandle:Ah,useInsertionEffect:Ch,useLayoutEffect:kh,useMemo:Rh,useReducer:lo,useRef:wh,useState:function(){return lo(zr)},useDebugValue:Wl,useDeferredValue:function(ue,de){var me=Cn();return Mh(me,dn.memoizedState,ue,de)},useTransition:function(){var ue=lo(zr)[0],de=Cn().memoizedState;return[typeof ue=="boolean"?ue:is(ue),de]},useSyncExternalStore:oh,useId:Lh,useHostTransitionStatus:Kl,useFormState:bh,useActionState:bh,useOptimistic:function(ue,de){var me=Cn();return fh(me,dn,ue,de)},useMemoCache:Ul,useCacheRefresh:Dh};Zl.useEffectEvent=Eh;var zh={readContext:$n,use:oo,useCallback:Bh,useContext:$n,useEffect:Gl,useImperativeHandle:Ah,useInsertionEffect:Ch,useLayoutEffect:kh,useMemo:Rh,useReducer:jl,useRef:wh,useState:function(){return jl(zr)},useDebugValue:Wl,useDeferredValue:function(ue,de){var me=Cn();return dn===null?Yl(me,ue,de):Mh(me,dn.memoizedState,ue,de)},useTransition:function(){var ue=jl(zr)[0],de=Cn().memoizedState;return[typeof ue=="boolean"?ue:is(ue),de]},useSyncExternalStore:oh,useId:Lh,useHostTransitionStatus:Kl,useFormState:Sh,useActionState:Sh,useOptimistic:function(ue,de){var me=Cn();return dn!==null?fh(me,dn,ue,de):(me.baseState=ue,[ue,me.queue.dispatch])},useMemoCache:Ul,useCacheRefresh:Dh};zh.useEffectEvent=Eh;function Ql(ue,de,me,_e){de=ue.memoizedState,me=me(_e,de),me=me==null?de:pe({},de,me),ue.memoizedState=me,ue.lanes===0&&(ue.updateQueue.baseState=me)}var eu={enqueueSetState:function(ue,de,me){ue=ue._reactInternals;var _e=ir(),we=sa(_e);we.payload=de,me!=null&&(we.callback=me),de=oa(ue,we,_e),de!==null&&(Zn(de,ue,_e),ts(de,ue,_e))},enqueueReplaceState:function(ue,de,me){ue=ue._reactInternals;var _e=ir(),we=sa(_e);we.tag=1,we.payload=de,me!=null&&(we.callback=me),de=oa(ue,we,_e),de!==null&&(Zn(de,ue,_e),ts(de,ue,_e))},enqueueForceUpdate:function(ue,de){ue=ue._reactInternals;var me=ir(),_e=sa(me);_e.tag=2,de!=null&&(_e.callback=de),de=oa(ue,_e,me),de!==null&&(Zn(de,ue,me),ts(de,ue,me))}};function jh(ue,de,me,_e,we,Ee,Re){return ue=ue.stateNode,typeof ue.shouldComponentUpdate=="function"?ue.shouldComponentUpdate(_e,Ee,Re):de.prototype&&de.prototype.isPureReactComponent?!Wi(me,_e)||!Wi(we,Ee):!0}function Hh(ue,de,me,_e){ue=de.state,typeof de.componentWillReceiveProps=="function"&&de.componentWillReceiveProps(me,_e),typeof de.UNSAFE_componentWillReceiveProps=="function"&&de.UNSAFE_componentWillReceiveProps(me,_e),de.state!==ue&&eu.enqueueReplaceState(de,de.state,null)}function Da(ue,de){var me=de;if("ref"in de){me={};for(var _e in de)_e!=="ref"&&(me[_e]=de[_e])}if(ue=ue.defaultProps){me===de&&(me=pe({},me));for(var we in ue)me[we]===void 0&&(me[we]=ue[we])}return me}function qh(ue){js(ue)}function Gh(ue){console.error(ue)}function Wh(ue){js(ue)}function fo(ue,de){try{var me=ue.onUncaughtError;me(de.value,{componentStack:de.stack})}catch(_e){setTimeout(function(){throw _e})}}function Yh(ue,de,me){try{var _e=ue.onCaughtError;_e(me.value,{componentStack:me.stack,errorBoundary:de.tag===1?de.stateNode:null})}catch(we){setTimeout(function(){throw we})}}function tu(ue,de,me){return me=sa(me),me.tag=3,me.payload={element:null},me.callback=function(){fo(ue,de)},me}function Jh(ue){return ue=sa(ue),ue.tag=3,ue}function Kh(ue,de,me,_e){var we=me.type.getDerivedStateFromError;if(typeof we=="function"){var Ee=_e.value;ue.payload=function(){return we(Ee)},ue.callback=function(){Yh(de,me,_e)}}var Re=me.stateNode;Re!==null&&typeof Re.componentDidCatch=="function"&&(ue.callback=function(){Yh(de,me,_e),typeof we!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var We=_e.stack;this.componentDidCatch(_e.value,{componentStack:We!==null?We:""})})}function Kp(ue,de,me,_e,we){if(me.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){if(de=me.alternate,de!==null&&ti(de,me,we,!0),me=tr.current,me!==null){switch(me.tag){case 31:case 13:return _r===null?Eo():me.alternate===null&&wn===0&&(wn=3),me.flags&=-257,me.flags|=65536,me.lanes=we,_e===Qs?me.flags|=16384:(de=me.updateQueue,de===null?me.updateQueue=new Set([_e]):de.add(_e),Cu(ue,_e,we)),!1;case 22:return me.flags|=65536,_e===Qs?me.flags|=16384:(de=me.updateQueue,de===null?(de={transitions:null,markerInstances:null,retryQueue:new Set([_e])},me.updateQueue=de):(me=de.retryQueue,me===null?de.retryQueue=new Set([_e]):me.add(_e)),Cu(ue,_e,we)),!1}throw Error(ae(435,me.tag))}return Cu(ue,_e,we),Eo(),!1}if(tn)return de=tr.current,de!==null?((de.flags&65536)===0&&(de.flags|=256),de.flags|=65536,de.lanes=we,_e!==bl&&(ue=Error(ae(422),{cause:_e}),Ki(pr(ue,me)))):(_e!==bl&&(de=Error(ae(423),{cause:_e}),Ki(pr(de,me))),ue=ue.current.alternate,ue.flags|=65536,we&=-we,ue.lanes|=we,_e=pr(_e,me),we=tu(ue.stateNode,_e,we),Rl(ue,we),wn!==4&&(wn=2)),!1;var Ee=Error(ae(520),{cause:_e});if(Ee=pr(Ee,me),gs===null?gs=[Ee]:gs.push(Ee),wn!==4&&(wn=2),de===null)return!0;_e=pr(_e,me),me=de;do{switch(me.tag){case 3:return me.flags|=65536,ue=we&-we,me.lanes|=ue,ue=tu(me.stateNode,_e,ue),Rl(me,ue),!1;case 1:if(de=me.type,Ee=me.stateNode,(me.flags&128)===0&&(typeof de.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(fa===null||!fa.has(Ee))))return me.flags|=65536,we&=-we,me.lanes|=we,we=Jh(we),Kh(we,ue,me,_e),Rl(me,we),!1}me=me.return}while(me!==null);return!1}var nu=Error(ae(461)),Bn=!1;function Un(ue,de,me,_e){de.child=ue===null?eh(de,null,me,_e):Va(de,ue.child,me,_e)}function Xh(ue,de,me,_e,we){me=me.render;var Ee=de.ref;if("ref"in _e){var Re={};for(var We in _e)We!=="ref"&&(Re[We]=_e[We])}else Re=_e;return Ra(de),_e=Dl(ue,de,me,Re,Ee,we),We=Ol(),ue!==null&&!Bn?(Fl(ue,de,we),jr(ue,de,we)):(tn&&We&&_l(de),de.flags|=1,Un(ue,de,_e,we),de.child)}function Zh(ue,de,me,_e,we){if(ue===null){var Ee=me.type;return typeof Ee=="function"&&!ml(Ee)&&Ee.defaultProps===void 0&&me.compare===null?(de.tag=15,de.type=Ee,Qh(ue,de,Ee,_e,we)):(ue=Ws(me.type,null,_e,de,de.mode,we),ue.ref=de.ref,ue.return=de,de.child=ue)}if(Ee=ue.child,!cu(ue,we)){var Re=Ee.memoizedProps;if(me=me.compare,me=me!==null?me:Wi,me(Re,_e)&&ue.ref===de.ref)return jr(ue,de,we)}return de.flags|=1,ue=Dr(Ee,_e),ue.ref=de.ref,ue.return=de,de.child=ue}function Qh(ue,de,me,_e,we){if(ue!==null){var Ee=ue.memoizedProps;if(Wi(Ee,_e)&&ue.ref===de.ref)if(Bn=!1,de.pendingProps=_e=Ee,cu(ue,we))(ue.flags&131072)!==0&&(Bn=!0);else return de.lanes=ue.lanes,jr(ue,de,we)}return ru(ue,de,me,_e,we)}function ed(ue,de,me,_e){var we=_e.children,Ee=ue!==null?ue.memoizedState:null;if(ue===null&&de.stateNode===null&&(de.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),_e.mode==="hidden"){if((de.flags&128)!==0){if(Ee=Ee!==null?Ee.baseLanes|me:me,ue!==null){for(_e=de.child=ue.child,we=0;_e!==null;)we=we|_e.lanes|_e.childLanes,_e=_e.sibling;_e=we&~Ee}else _e=0,de.child=null;return td(ue,de,Ee,me,_e)}if((me&536870912)!==0)de.memoizedState={baseLanes:0,cachePool:null},ue!==null&&Xs(de,Ee!==null?Ee.cachePool:null),Ee!==null?rh(de,Ee):Nl(),ah(de);else return _e=de.lanes=536870912,td(ue,de,Ee!==null?Ee.baseLanes|me:me,me,_e)}else Ee!==null?(Xs(de,Ee.cachePool),rh(de,Ee),ua(),de.memoizedState=null):(ue!==null&&Xs(de,null),Nl(),ua());return Un(ue,de,we,me),de.child}function ls(ue,de){return ue!==null&&ue.tag===22||de.stateNode!==null||(de.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),de.sibling}function td(ue,de,me,_e,we){var Ee=kl();return Ee=Ee===null?null:{parent:Pn._currentValue,pool:Ee},de.memoizedState={baseLanes:me,cachePool:Ee},ue!==null&&Xs(de,null),Nl(),ah(de),ue!==null&&ti(ue,de,_e,!0),de.childLanes=we,null}function po(ue,de){return de=go({mode:de.mode,children:de.children},ue.mode),de.ref=ue.ref,ue.child=de,de.return=ue,de}function nd(ue,de,me){return Va(de,ue.child,null,me),ue=po(de,de.pendingProps),ue.flags|=2,nr(de),de.memoizedState=null,ue}function Xp(ue,de,me){var _e=de.pendingProps,we=(de.flags&128)!==0;if(de.flags&=-129,ue===null){if(tn){if(_e.mode==="hidden")return ue=po(de,_e),de.lanes=536870912,ls(null,ue);if(Vl(de),(ue=yn)?(ue=gf(ue,yr),ue=ue!==null&&ue.data==="&"?ue:null,ue!==null&&(de.memoizedState={dehydrated:ue,treeContext:ta!==null?{id:Pr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},me=Fc(ue),me.return=de,de.child=me,Fn=de,yn=null)):ue=null,ue===null)throw ra(de);return de.lanes=536870912,null}return po(de,_e)}var Ee=ue.memoizedState;if(Ee!==null){var Re=Ee.dehydrated;if(Vl(de),we)if(de.flags&256)de.flags&=-257,de=nd(ue,de,me);else if(de.memoizedState!==null)de.child=ue.child,de.flags|=128,de=null;else throw Error(ae(558));else if(Bn||ti(ue,de,me,!1),we=(me&ue.childLanes)!==0,Bn||we){if(_e=mn,_e!==null&&(Re=As(_e,me),Re!==0&&Re!==Ee.retryLane))throw Ee.retryLane=Re,ka(ue,Re),Zn(_e,ue,Re),nu;Eo(),de=nd(ue,de,me)}else ue=Ee.treeContext,yn=xr(Re.nextSibling),Fn=de,tn=!0,na=null,yr=!1,ue!==null&&zc(de,ue),de=po(de,_e),de.flags|=4096;return de}return ue=Dr(ue.child,{mode:_e.mode,children:_e.children}),ue.ref=de.ref,de.child=ue,ue.return=de,ue}function mo(ue,de){var me=de.ref;if(me===null)ue!==null&&ue.ref!==null&&(de.flags|=4194816);else{if(typeof me!="function"&&typeof me!="object")throw Error(ae(284));(ue===null||ue.ref!==me)&&(de.flags|=4194816)}}function ru(ue,de,me,_e,we){return Ra(de),me=Dl(ue,de,me,_e,void 0,we),_e=Ol(),ue!==null&&!Bn?(Fl(ue,de,we),jr(ue,de,we)):(tn&&_e&&_l(de),de.flags|=1,Un(ue,de,me,we),de.child)}function rd(ue,de,me,_e,we,Ee){return Ra(de),de.updateQueue=null,me=sh(de,_e,me,we),ih(ue),_e=Ol(),ue!==null&&!Bn?(Fl(ue,de,Ee),jr(ue,de,Ee)):(tn&&_e&&_l(de),de.flags|=1,Un(ue,de,me,Ee),de.child)}function ad(ue,de,me,_e,we){if(Ra(de),de.stateNode===null){var Ee=Xa,Re=me.contextType;typeof Re=="object"&&Re!==null&&(Ee=$n(Re)),Ee=new me(_e,Ee),de.memoizedState=Ee.state!==null&&Ee.state!==void 0?Ee.state:null,Ee.updater=eu,de.stateNode=Ee,Ee._reactInternals=de,Ee=de.stateNode,Ee.props=_e,Ee.state=de.memoizedState,Ee.refs={},Al(de),Re=me.contextType,Ee.context=typeof Re=="object"&&Re!==null?$n(Re):Xa,Ee.state=de.memoizedState,Re=me.getDerivedStateFromProps,typeof Re=="function"&&(Ql(de,me,Re,_e),Ee.state=de.memoizedState),typeof me.getDerivedStateFromProps=="function"||typeof Ee.getSnapshotBeforeUpdate=="function"||typeof Ee.UNSAFE_componentWillMount!="function"&&typeof Ee.componentWillMount!="function"||(Re=Ee.state,typeof Ee.componentWillMount=="function"&&Ee.componentWillMount(),typeof Ee.UNSAFE_componentWillMount=="function"&&Ee.UNSAFE_componentWillMount(),Re!==Ee.state&&eu.enqueueReplaceState(Ee,Ee.state,null),rs(de,_e,Ee,we),ns(),Ee.state=de.memoizedState),typeof Ee.componentDidMount=="function"&&(de.flags|=4194308),_e=!0}else if(ue===null){Ee=de.stateNode;var We=de.memoizedProps,rt=Da(me,We);Ee.props=rt;var mt=Ee.context,xt=me.contextType;Re=Xa,typeof xt=="object"&&xt!==null&&(Re=$n(xt));var Tt=me.getDerivedStateFromProps;xt=typeof Tt=="function"||typeof Ee.getSnapshotBeforeUpdate=="function",We=de.pendingProps!==We,xt||typeof Ee.UNSAFE_componentWillReceiveProps!="function"&&typeof Ee.componentWillReceiveProps!="function"||(We||mt!==Re)&&Hh(de,Ee,_e,Re),ia=!1;var gt=de.memoizedState;Ee.state=gt,rs(de,_e,Ee,we),ns(),mt=de.memoizedState,We||gt!==mt||ia?(typeof Tt=="function"&&(Ql(de,me,Tt,_e),mt=de.memoizedState),(rt=ia||jh(de,me,rt,_e,gt,mt,Re))?(xt||typeof Ee.UNSAFE_componentWillMount!="function"&&typeof Ee.componentWillMount!="function"||(typeof Ee.componentWillMount=="function"&&Ee.componentWillMount(),typeof Ee.UNSAFE_componentWillMount=="function"&&Ee.UNSAFE_componentWillMount()),typeof Ee.componentDidMount=="function"&&(de.flags|=4194308)):(typeof Ee.componentDidMount=="function"&&(de.flags|=4194308),de.memoizedProps=_e,de.memoizedState=mt),Ee.props=_e,Ee.state=mt,Ee.context=Re,_e=rt):(typeof Ee.componentDidMount=="function"&&(de.flags|=4194308),_e=!1)}else{Ee=de.stateNode,Bl(ue,de),Re=de.memoizedProps,xt=Da(me,Re),Ee.props=xt,Tt=de.pendingProps,gt=Ee.context,mt=me.contextType,rt=Xa,typeof mt=="object"&&mt!==null&&(rt=$n(mt)),We=me.getDerivedStateFromProps,(mt=typeof We=="function"||typeof Ee.getSnapshotBeforeUpdate=="function")||typeof Ee.UNSAFE_componentWillReceiveProps!="function"&&typeof Ee.componentWillReceiveProps!="function"||(Re!==Tt||gt!==rt)&&Hh(de,Ee,_e,rt),ia=!1,gt=de.memoizedState,Ee.state=gt,rs(de,_e,Ee,we),ns();var yt=de.memoizedState;Re!==Tt||gt!==yt||ia||ue!==null&&ue.dependencies!==null&&Js(ue.dependencies)?(typeof We=="function"&&(Ql(de,me,We,_e),yt=de.memoizedState),(xt=ia||jh(de,me,xt,_e,gt,yt,rt)||ue!==null&&ue.dependencies!==null&&Js(ue.dependencies))?(mt||typeof Ee.UNSAFE_componentWillUpdate!="function"&&typeof Ee.componentWillUpdate!="function"||(typeof Ee.componentWillUpdate=="function"&&Ee.componentWillUpdate(_e,yt,rt),typeof Ee.UNSAFE_componentWillUpdate=="function"&&Ee.UNSAFE_componentWillUpdate(_e,yt,rt)),typeof Ee.componentDidUpdate=="function"&&(de.flags|=4),typeof Ee.getSnapshotBeforeUpdate=="function"&&(de.flags|=1024)):(typeof Ee.componentDidUpdate!="function"||Re===ue.memoizedProps&&gt===ue.memoizedState||(de.flags|=4),typeof Ee.getSnapshotBeforeUpdate!="function"||Re===ue.memoizedProps&&gt===ue.memoizedState||(de.flags|=1024),de.memoizedProps=_e,de.memoizedState=yt),Ee.props=_e,Ee.state=yt,Ee.context=rt,_e=xt):(typeof Ee.componentDidUpdate!="function"||Re===ue.memoizedProps&&gt===ue.memoizedState||(de.flags|=4),typeof Ee.getSnapshotBeforeUpdate!="function"||Re===ue.memoizedProps&&gt===ue.memoizedState||(de.flags|=1024),_e=!1)}return Ee=_e,mo(ue,de),_e=(de.flags&128)!==0,Ee||_e?(Ee=de.stateNode,me=_e&&typeof me.getDerivedStateFromError!="function"?null:Ee.render(),de.flags|=1,ue!==null&&_e?(de.child=Va(de,ue.child,null,we),de.child=Va(de,null,me,we)):Un(ue,de,me,we),de.memoizedState=Ee.state,ue=de.child):ue=jr(ue,de,we),ue}function sd(ue,de,me,_e){return Aa(),de.flags|=256,Un(ue,de,me,_e),de.child}var au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(ue){return{baseLanes:ue,cachePool:Yc()}}function su(ue,de,me){return ue=ue!==null?ue.childLanes&~me:0,de&&(ue|=ar),ue}function od(ue,de,me){var _e=de.pendingProps,we=!1,Ee=(de.flags&128)!==0,Re;if((Re=Ee)||(Re=ue!==null&&ue.memoizedState===null?!1:(En.current&2)!==0),Re&&(we=!0,de.flags&=-129),Re=(de.flags&32)!==0,de.flags&=-33,ue===null){if(tn){if(we?la(de):ua(),(ue=yn)?(ue=gf(ue,yr),ue=ue!==null&&ue.data!=="&"?ue:null,ue!==null&&(de.memoizedState={dehydrated:ue,treeContext:ta!==null?{id:Pr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},me=Fc(ue),me.return=de,de.child=me,Fn=de,yn=null)):ue=null,ue===null)throw ra(de);return zu(ue)?de.lanes=32:de.lanes=536870912,null}var We=_e.children;return _e=_e.fallback,we?(ua(),we=de.mode,We=go({mode:"hidden",children:We},we),_e=Pa(_e,we,me,null),We.return=de,_e.return=de,We.sibling=_e,de.child=We,_e=de.child,_e.memoizedState=iu(me),_e.childLanes=su(ue,Re,me),de.memoizedState=au,ls(null,_e)):(la(de),ou(de,We))}var rt=ue.memoizedState;if(rt!==null&&(We=rt.dehydrated,We!==null)){if(Ee)de.flags&256?(la(de),de.flags&=-257,de=lu(ue,de,me)):de.memoizedState!==null?(ua(),de.child=ue.child,de.flags|=128,de=null):(ua(),We=_e.fallback,we=de.mode,_e=go({mode:"visible",children:_e.children},we),We=Pa(We,we,me,null),We.flags|=2,_e.return=de,We.return=de,_e.sibling=We,de.child=_e,Va(de,ue.child,null,me),_e=de.child,_e.memoizedState=iu(me),_e.childLanes=su(ue,Re,me),de.memoizedState=au,de=ls(null,_e));else if(la(de),zu(We)){if(Re=We.nextSibling&&We.nextSibling.dataset,Re)var mt=Re.dgst;Re=mt,_e=Error(ae(419)),_e.stack="",_e.digest=Re,Ki({value:_e,source:null,stack:null}),de=lu(ue,de,me)}else if(Bn||ti(ue,de,me,!1),Re=(me&ue.childLanes)!==0,Bn||Re){if(Re=mn,Re!==null&&(_e=As(Re,me),_e!==0&&_e!==rt.retryLane))throw rt.retryLane=_e,ka(ue,_e),Zn(Re,ue,_e),nu;Uu(We)||Eo(),de=lu(ue,de,me)}else Uu(We)?(de.flags|=192,de.child=ue.child,de=null):(ue=rt.treeContext,yn=xr(We.nextSibling),Fn=de,tn=!0,na=null,yr=!1,ue!==null&&zc(de,ue),de=ou(de,_e.children),de.flags|=4096);return de}return we?(ua(),We=_e.fallback,we=de.mode,rt=ue.child,mt=rt.sibling,_e=Dr(rt,{mode:"hidden",children:_e.children}),_e.subtreeFlags=rt.subtreeFlags&65011712,mt!==null?We=Dr(mt,We):(We=Pa(We,we,me,null),We.flags|=2),We.return=de,_e.return=de,_e.sibling=We,de.child=_e,ls(null,_e),_e=de.child,We=ue.child.memoizedState,We===null?We=iu(me):(we=We.cachePool,we!==null?(rt=Pn._currentValue,we=we.parent!==rt?{parent:rt,pool:rt}:we):we=Yc(),We={baseLanes:We.baseLanes|me,cachePool:we}),_e.memoizedState=We,_e.childLanes=su(ue,Re,me),de.memoizedState=au,ls(ue.child,_e)):(la(de),me=ue.child,ue=me.sibling,me=Dr(me,{mode:"visible",children:_e.children}),me.return=de,me.sibling=null,ue!==null&&(Re=de.deletions,Re===null?(de.deletions=[ue],de.flags|=16):Re.push(ue)),de.child=me,de.memoizedState=null,me)}function ou(ue,de){return de=go({mode:"visible",children:de},ue.mode),de.return=ue,ue.child=de}function go(ue,de){return ue=er(22,ue,null,de),ue.lanes=0,ue}function lu(ue,de,me){return Va(de,ue.child,null,me),ue=ou(de,de.pendingProps.children),ue.flags|=2,de.memoizedState=null,ue}function ld(ue,de,me){ue.lanes|=de;var _e=ue.alternate;_e!==null&&(_e.lanes|=de),wl(ue.return,de,me)}function uu(ue,de,me,_e,we,Ee){var Re=ue.memoizedState;Re===null?ue.memoizedState={isBackwards:de,rendering:null,renderingStartTime:0,last:_e,tail:me,tailMode:we,treeForkCount:Ee}:(Re.isBackwards=de,Re.rendering=null,Re.renderingStartTime=0,Re.last=_e,Re.tail=me,Re.tailMode=we,Re.treeForkCount=Ee)}function ud(ue,de,me){var _e=de.pendingProps,we=_e.revealOrder,Ee=_e.tail;_e=_e.children;var Re=En.current,We=(Re&2)!==0;if(We?(Re=Re&1|2,de.flags|=128):Re&=1,Le(En,Re),Un(ue,de,_e,me),_e=tn?Ji:0,!We&&ue!==null&&(ue.flags&128)!==0)e:for(ue=de.child;ue!==null;){if(ue.tag===13)ue.memoizedState!==null&&ld(ue,me,de);else if(ue.tag===19)ld(ue,me,de);else if(ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===de)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===de)break e;ue=ue.return}ue.sibling.return=ue.return,ue=ue.sibling}switch(we){case"forwards":for(me=de.child,we=null;me!==null;)ue=me.alternate,ue!==null&&ro(ue)===null&&(we=me),me=me.sibling;me=we,me===null?(we=de.child,de.child=null):(we=me.sibling,me.sibling=null),uu(de,!1,we,me,Ee,_e);break;case"backwards":case"unstable_legacy-backwards":for(me=null,we=de.child,de.child=null;we!==null;){if(ue=we.alternate,ue!==null&&ro(ue)===null){de.child=we;break}ue=we.sibling,we.sibling=me,me=we,we=ue}uu(de,!0,me,null,Ee,_e);break;case"together":uu(de,!1,null,null,void 0,_e);break;default:de.memoizedState=null}return de.child}function jr(ue,de,me){if(ue!==null&&(de.dependencies=ue.dependencies),da|=de.lanes,(me&de.childLanes)===0)if(ue!==null){if(ti(ue,de,me,!1),(me&de.childLanes)===0)return null}else return null;if(ue!==null&&de.child!==ue.child)throw Error(ae(153));if(de.child!==null){for(ue=de.child,me=Dr(ue,ue.pendingProps),de.child=me,me.return=de;ue.sibling!==null;)ue=ue.sibling,me=me.sibling=Dr(ue,ue.pendingProps),me.return=de;me.sibling=null}return de.child}function cu(ue,de){return(ue.lanes&de)!==0?!0:(ue=ue.dependencies,!!(ue!==null&&Js(ue)))}function Zp(ue,de,me){switch(de.tag){case 3:Ct(de,de.stateNode.containerInfo),aa(de,Pn,ue.memoizedState.cache),Aa();break;case 27:case 5:At(de);break;case 4:Ct(de,de.stateNode.containerInfo);break;case 10:aa(de,de.type,de.memoizedProps.value);break;case 31:if(de.memoizedState!==null)return de.flags|=128,Vl(de),null;break;case 13:var _e=de.memoizedState;if(_e!==null)return _e.dehydrated!==null?(la(de),de.flags|=128,null):(me&de.child.childLanes)!==0?od(ue,de,me):(la(de),ue=jr(ue,de,me),ue!==null?ue.sibling:null);la(de);break;case 19:var we=(ue.flags&128)!==0;if(_e=(me&de.childLanes)!==0,_e||(ti(ue,de,me,!1),_e=(me&de.childLanes)!==0),we){if(_e)return ud(ue,de,me);de.flags|=128}if(we=de.memoizedState,we!==null&&(we.rendering=null,we.tail=null,we.lastEffect=null),Le(En,En.current),_e)break;return null;case 22:return de.lanes=0,ed(ue,de,me,de.pendingProps);case 24:aa(de,Pn,ue.memoizedState.cache)}return jr(ue,de,me)}function cd(ue,de,me){if(ue!==null)if(ue.memoizedProps!==de.pendingProps)Bn=!0;else{if(!cu(ue,me)&&(de.flags&128)===0)return Bn=!1,Zp(ue,de,me);Bn=(ue.flags&131072)!==0}else Bn=!1,tn&&(de.flags&1048576)!==0&&Uc(de,Ji,de.index);switch(de.lanes=0,de.tag){case 16:e:{var _e=de.pendingProps;if(ue=Na(de.elementType),de.type=ue,typeof ue=="function")ml(ue)?(_e=Da(ue,_e),de.tag=1,de=ad(null,de,ue,_e,me)):(de.tag=0,de=ru(null,de,ue,_e,me));else{if(ue!=null){var we=ue.$$typeof;if(we===Pe){de.tag=11,de=Xh(null,de,ue,_e,me);break e}else if(we===Me){de.tag=14,de=Zh(null,de,ue,_e,me);break e}}throw de=ke(ue)||ue,Error(ae(306,de,""))}}return de;case 0:return ru(ue,de,de.type,de.pendingProps,me);case 1:return _e=de.type,we=Da(_e,de.pendingProps),ad(ue,de,_e,we,me);case 3:e:{if(Ct(de,de.stateNode.containerInfo),ue===null)throw Error(ae(387));_e=de.pendingProps;var Ee=de.memoizedState;we=Ee.element,Bl(ue,de),rs(de,_e,null,me);var Re=de.memoizedState;if(_e=Re.cache,aa(de,Pn,_e),_e!==Ee.cache&&Tl(de,[Pn],me,!0),ns(),_e=Re.element,Ee.isDehydrated)if(Ee={element:_e,isDehydrated:!1,cache:Re.cache},de.updateQueue.baseState=Ee,de.memoizedState=Ee,de.flags&256){de=sd(ue,de,_e,me);break e}else if(_e!==we){we=pr(Error(ae(424)),de),Ki(we),de=sd(ue,de,_e,me);break e}else{switch(ue=de.stateNode.containerInfo,ue.nodeType){case 9:ue=ue.body;break;default:ue=ue.nodeName==="HTML"?ue.ownerDocument.body:ue}for(yn=xr(ue.firstChild),Fn=de,tn=!0,na=null,yr=!0,me=eh(de,null,_e,me),de.child=me;me;)me.flags=me.flags&-3|4096,me=me.sibling}else{if(Aa(),_e===we){de=jr(ue,de,me);break e}Un(ue,de,_e,me)}de=de.child}return de;case 26:return mo(ue,de),ue===null?(me=Sf(de.type,null,de.pendingProps,null))?de.memoizedState=me:tn||(me=de.type,ue=de.pendingProps,_e=Mo(St.current).createElement(me),_e[kn]=de,_e[xn]=ue,zn(_e,me,ue),Jt(_e),de.stateNode=_e):de.memoizedState=Sf(de.type,ue.memoizedProps,de.pendingProps,ue.memoizedState),null;case 27:return At(de),ue===null&&tn&&(_e=de.stateNode=xf(de.type,de.pendingProps,St.current),Fn=de,yr=!0,we=yn,ya(de.type)?(ju=we,yn=xr(_e.firstChild)):yn=we),Un(ue,de,de.pendingProps.children,me),mo(ue,de),ue===null&&(de.flags|=4194304),de.child;case 5:return ue===null&&tn&&((we=_e=yn)&&(_e=Pm(_e,de.type,de.pendingProps,yr),_e!==null?(de.stateNode=_e,Fn=de,yn=xr(_e.firstChild),yr=!1,we=!0):we=!1),we||ra(de)),At(de),we=de.type,Ee=de.pendingProps,Re=ue!==null?ue.memoizedProps:null,_e=Ee.children,Ou(we,Ee)?_e=null:Re!==null&&Ou(we,Re)&&(de.flags|=32),de.memoizedState!==null&&(we=Dl(ue,de,jp,null,null,me),Ts._currentValue=we),mo(ue,de),Un(ue,de,_e,me),de.child;case 6:return ue===null&&tn&&((ue=me=yn)&&(me=Am(me,de.pendingProps,yr),me!==null?(de.stateNode=me,Fn=de,yn=null,ue=!0):ue=!1),ue||ra(de)),null;case 13:return od(ue,de,me);case 4:return Ct(de,de.stateNode.containerInfo),_e=de.pendingProps,ue===null?de.child=Va(de,null,_e,me):Un(ue,de,_e,me),de.child;case 11:return Xh(ue,de,de.type,de.pendingProps,me);case 7:return Un(ue,de,de.pendingProps,me),de.child;case 8:return Un(ue,de,de.pendingProps.children,me),de.child;case 12:return Un(ue,de,de.pendingProps.children,me),de.child;case 10:return _e=de.pendingProps,aa(de,de.type,_e.value),Un(ue,de,_e.children,me),de.child;case 9:return we=de.type._context,_e=de.pendingProps.children,Ra(de),we=$n(we),_e=_e(we),de.flags|=1,Un(ue,de,_e,me),de.child;case 14:return Zh(ue,de,de.type,de.pendingProps,me);case 15:return Qh(ue,de,de.type,de.pendingProps,me);case 19:return ud(ue,de,me);case 31:return Xp(ue,de,me);case 22:return ed(ue,de,me,de.pendingProps);case 24:return Ra(de),_e=$n(Pn),ue===null?(we=kl(),we===null&&(we=mn,Ee=El(),we.pooledCache=Ee,Ee.refCount++,Ee!==null&&(we.pooledCacheLanes|=me),we=Ee),de.memoizedState={parent:_e,cache:we},Al(de),aa(de,Pn,we)):((ue.lanes&me)!==0&&(Bl(ue,de),rs(de,null,null,me),ns()),we=ue.memoizedState,Ee=de.memoizedState,we.parent!==_e?(we={parent:_e,cache:_e},de.memoizedState=we,de.lanes===0&&(de.memoizedState=de.updateQueue.baseState=we),aa(de,Pn,_e)):(_e=Ee.cache,aa(de,Pn,_e),_e!==we.cache&&Tl(de,[Pn],me,!0))),Un(ue,de,de.pendingProps.children,me),de.child;case 29:throw de.pendingProps}throw Error(ae(156,de.tag))}function Hr(ue){ue.flags|=4}function hu(ue,de,me,_e,we){if((de=(ue.mode&32)!==0)&&(de=!1),de){if(ue.flags|=16777216,(we&335544128)===we)if(ue.stateNode.complete)ue.flags|=8192;else if(Dd())ue.flags|=8192;else throw Ia=Qs,Pl}else ue.flags&=-16777217}function hd(ue,de){if(de.type!=="stylesheet"||(de.state.loading&4)!==0)ue.flags&=-16777217;else if(ue.flags|=16777216,!kf(de))if(Dd())ue.flags|=8192;else throw Ia=Qs,Pl}function yo(ue,de){de!==null&&(ue.flags|=4),ue.flags&16384&&(de=ue.tag!==22?Mr():536870912,ue.lanes|=de,fi|=de)}function us(ue,de){if(!tn)switch(ue.tailMode){case"hidden":de=ue.tail;for(var me=null;de!==null;)de.alternate!==null&&(me=de),de=de.sibling;me===null?ue.tail=null:me.sibling=null;break;case"collapsed":me=ue.tail;for(var _e=null;me!==null;)me.alternate!==null&&(_e=me),me=me.sibling;_e===null?de||ue.tail===null?ue.tail=null:ue.tail.sibling=null:_e.sibling=null}}function _n(ue){var de=ue.alternate!==null&&ue.alternate.child===ue.child,me=0,_e=0;if(de)for(var we=ue.child;we!==null;)me|=we.lanes|we.childLanes,_e|=we.subtreeFlags&65011712,_e|=we.flags&65011712,we.return=ue,we=we.sibling;else for(we=ue.child;we!==null;)me|=we.lanes|we.childLanes,_e|=we.subtreeFlags,_e|=we.flags,we.return=ue,we=we.sibling;return ue.subtreeFlags|=_e,ue.childLanes=me,de}function Qp(ue,de,me){var _e=de.pendingProps;switch(xl(de),de.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(de),null;case 1:return _n(de),null;case 3:return me=de.stateNode,_e=null,ue!==null&&(_e=ue.memoizedState.cache),de.memoizedState.cache!==_e&&(de.flags|=2048),$r(Pn),kt(),me.pendingContext&&(me.context=me.pendingContext,me.pendingContext=null),(ue===null||ue.child===null)&&(ei(de)?Hr(de):ue===null||ue.memoizedState.isDehydrated&&(de.flags&256)===0||(de.flags|=1024,vl())),_n(de),null;case 26:var we=de.type,Ee=de.memoizedState;return ue===null?(Hr(de),Ee!==null?(_n(de),hd(de,Ee)):(_n(de),hu(de,we,null,_e,me))):Ee?Ee!==ue.memoizedState?(Hr(de),_n(de),hd(de,Ee)):(_n(de),de.flags&=-16777217):(ue=ue.memoizedProps,ue!==_e&&Hr(de),_n(de),hu(de,we,ue,_e,me)),null;case 27:if(Vt(de),me=St.current,we=de.type,ue!==null&&de.stateNode!=null)ue.memoizedProps!==_e&&Hr(de);else{if(!_e){if(de.stateNode===null)throw Error(ae(166));return _n(de),null}ue=Ze.current,ei(de)?jc(de):(ue=xf(we,_e,me),de.stateNode=ue,Hr(de))}return _n(de),null;case 5:if(Vt(de),we=de.type,ue!==null&&de.stateNode!=null)ue.memoizedProps!==_e&&Hr(de);else{if(!_e){if(de.stateNode===null)throw Error(ae(166));return _n(de),null}if(Ee=Ze.current,ei(de))jc(de);else{var Re=Mo(St.current);switch(Ee){case 1:Ee=Re.createElementNS("http://www.w3.org/2000/svg",we);break;case 2:Ee=Re.createElementNS("http://www.w3.org/1998/Math/MathML",we);break;default:switch(we){case"svg":Ee=Re.createElementNS("http://www.w3.org/2000/svg",we);break;case"math":Ee=Re.createElementNS("http://www.w3.org/1998/Math/MathML",we);break;case"script":Ee=Re.createElement("div"),Ee.innerHTML="<script><\/script>",Ee=Ee.removeChild(Ee.firstChild);break;case"select":Ee=typeof _e.is=="string"?Re.createElement("select",{is:_e.is}):Re.createElement("select"),_e.multiple?Ee.multiple=!0:_e.size&&(Ee.size=_e.size);break;default:Ee=typeof _e.is=="string"?Re.createElement(we,{is:_e.is}):Re.createElement(we)}}Ee[kn]=de,Ee[xn]=_e;e:for(Re=de.child;Re!==null;){if(Re.tag===5||Re.tag===6)Ee.appendChild(Re.stateNode);else if(Re.tag!==4&&Re.tag!==27&&Re.child!==null){Re.child.return=Re,Re=Re.child;continue}if(Re===de)break e;for(;Re.sibling===null;){if(Re.return===null||Re.return===de)break e;Re=Re.return}Re.sibling.return=Re.return,Re=Re.sibling}de.stateNode=Ee;e:switch(zn(Ee,we,_e),we){case"button":case"input":case"select":case"textarea":_e=!!_e.autoFocus;break e;case"img":_e=!0;break e;default:_e=!1}_e&&Hr(de)}}return _n(de),hu(de,de.type,ue===null?null:ue.memoizedProps,de.pendingProps,me),null;case 6:if(ue&&de.stateNode!=null)ue.memoizedProps!==_e&&Hr(de);else{if(typeof _e!="string"&&de.stateNode===null)throw Error(ae(166));if(ue=St.current,ei(de)){if(ue=de.stateNode,me=de.memoizedProps,_e=null,we=Fn,we!==null)switch(we.tag){case 27:case 5:_e=we.memoizedProps}ue[kn]=de,ue=!!(ue.nodeValue===me||_e!==null&&_e.suppressHydrationWarning===!0||lf(ue.nodeValue,me)),ue||ra(de,!0)}else ue=Mo(ue).createTextNode(_e),ue[kn]=de,de.stateNode=ue}return _n(de),null;case 31:if(me=de.memoizedState,ue===null||ue.memoizedState!==null){if(_e=ei(de),me!==null){if(ue===null){if(!_e)throw Error(ae(318));if(ue=de.memoizedState,ue=ue!==null?ue.dehydrated:null,!ue)throw Error(ae(557));ue[kn]=de}else Aa(),(de.flags&128)===0&&(de.memoizedState=null),de.flags|=4;_n(de),ue=!1}else me=vl(),ue!==null&&ue.memoizedState!==null&&(ue.memoizedState.hydrationErrors=me),ue=!0;if(!ue)return de.flags&256?(nr(de),de):(nr(de),null);if((de.flags&128)!==0)throw Error(ae(558))}return _n(de),null;case 13:if(_e=de.memoizedState,ue===null||ue.memoizedState!==null&&ue.memoizedState.dehydrated!==null){if(we=ei(de),_e!==null&&_e.dehydrated!==null){if(ue===null){if(!we)throw Error(ae(318));if(we=de.memoizedState,we=we!==null?we.dehydrated:null,!we)throw Error(ae(317));we[kn]=de}else Aa(),(de.flags&128)===0&&(de.memoizedState=null),de.flags|=4;_n(de),we=!1}else we=vl(),ue!==null&&ue.memoizedState!==null&&(ue.memoizedState.hydrationErrors=we),we=!0;if(!we)return de.flags&256?(nr(de),de):(nr(de),null)}return nr(de),(de.flags&128)!==0?(de.lanes=me,de):(me=_e!==null,ue=ue!==null&&ue.memoizedState!==null,me&&(_e=de.child,we=null,_e.alternate!==null&&_e.alternate.memoizedState!==null&&_e.alternate.memoizedState.cachePool!==null&&(we=_e.alternate.memoizedState.cachePool.pool),Ee=null,_e.memoizedState!==null&&_e.memoizedState.cachePool!==null&&(Ee=_e.memoizedState.cachePool.pool),Ee!==we&&(_e.flags|=2048)),me!==ue&&me&&(de.child.flags|=8192),yo(de,de.updateQueue),_n(de),null);case 4:return kt(),ue===null&&Nu(de.stateNode.containerInfo),_n(de),null;case 10:return $r(de.type),_n(de),null;case 19:if(Fe(En),_e=de.memoizedState,_e===null)return _n(de),null;if(we=(de.flags&128)!==0,Ee=_e.rendering,Ee===null)if(we)us(_e,!1);else{if(wn!==0||ue!==null&&(ue.flags&128)!==0)for(ue=de.child;ue!==null;){if(Ee=ro(ue),Ee!==null){for(de.flags|=128,us(_e,!1),ue=Ee.updateQueue,de.updateQueue=ue,yo(de,ue),de.subtreeFlags=0,ue=me,me=de.child;me!==null;)Oc(me,ue),me=me.sibling;return Le(En,En.current&1|2),tn&&Or(de,_e.treeForkCount),de.child}ue=ue.sibling}_e.tail!==null&&It()>So&&(de.flags|=128,we=!0,us(_e,!1),de.lanes=4194304)}else{if(!we)if(ue=ro(Ee),ue!==null){if(de.flags|=128,we=!0,ue=ue.updateQueue,de.updateQueue=ue,yo(de,ue),us(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!Ee.alternate&&!tn)return _n(de),null}else 2*It()-_e.renderingStartTime>So&&me!==536870912&&(de.flags|=128,we=!0,us(_e,!1),de.lanes=4194304);_e.isBackwards?(Ee.sibling=de.child,de.child=Ee):(ue=_e.last,ue!==null?ue.sibling=Ee:de.child=Ee,_e.last=Ee)}return _e.tail!==null?(ue=_e.tail,_e.rendering=ue,_e.tail=ue.sibling,_e.renderingStartTime=It(),ue.sibling=null,me=En.current,Le(En,we?me&1|2:me&1),tn&&Or(de,_e.treeForkCount),ue):(_n(de),null);case 22:case 23:return nr(de),Il(),_e=de.memoizedState!==null,ue!==null?ue.memoizedState!==null!==_e&&(de.flags|=8192):_e&&(de.flags|=8192),_e?(me&536870912)!==0&&(de.flags&128)===0&&(_n(de),de.subtreeFlags&6&&(de.flags|=8192)):_n(de),me=de.updateQueue,me!==null&&yo(de,me.retryQueue),me=null,ue!==null&&ue.memoizedState!==null&&ue.memoizedState.cachePool!==null&&(me=ue.memoizedState.cachePool.pool),_e=null,de.memoizedState!==null&&de.memoizedState.cachePool!==null&&(_e=de.memoizedState.cachePool.pool),_e!==me&&(de.flags|=2048),ue!==null&&Fe(Ma),null;case 24:return me=null,ue!==null&&(me=ue.memoizedState.cache),de.memoizedState.cache!==me&&(de.flags|=2048),$r(Pn),_n(de),null;case 25:return null;case 30:return null}throw Error(ae(156,de.tag))}function em(ue,de){switch(xl(de),de.tag){case 1:return ue=de.flags,ue&65536?(de.flags=ue&-65537|128,de):null;case 3:return $r(Pn),kt(),ue=de.flags,(ue&65536)!==0&&(ue&128)===0?(de.flags=ue&-65537|128,de):null;case 26:case 27:case 5:return Vt(de),null;case 31:if(de.memoizedState!==null){if(nr(de),de.alternate===null)throw Error(ae(340));Aa()}return ue=de.flags,ue&65536?(de.flags=ue&-65537|128,de):null;case 13:if(nr(de),ue=de.memoizedState,ue!==null&&ue.dehydrated!==null){if(de.alternate===null)throw Error(ae(340));Aa()}return ue=de.flags,ue&65536?(de.flags=ue&-65537|128,de):null;case 19:return Fe(En),null;case 4:return kt(),null;case 10:return $r(de.type),null;case 22:case 23:return nr(de),Il(),ue!==null&&Fe(Ma),ue=de.flags,ue&65536?(de.flags=ue&-65537|128,de):null;case 24:return $r(Pn),null;case 25:return null;default:return null}}function dd(ue,de){switch(xl(de),de.tag){case 3:$r(Pn),kt();break;case 26:case 27:case 5:Vt(de);break;case 4:kt();break;case 31:de.memoizedState!==null&&nr(de);break;case 13:nr(de);break;case 19:Fe(En);break;case 10:$r(de.type);break;case 22:case 23:nr(de),Il(),ue!==null&&Fe(Ma);break;case 24:$r(Pn)}}function cs(ue,de){try{var me=de.updateQueue,_e=me!==null?me.lastEffect:null;if(_e!==null){var we=_e.next;me=we;do{if((me.tag&ue)===ue){_e=void 0;var Ee=me.create,Re=me.inst;_e=Ee(),Re.destroy=_e}me=me.next}while(me!==we)}}catch(We){un(de,de.return,We)}}function ca(ue,de,me){try{var _e=de.updateQueue,we=_e!==null?_e.lastEffect:null;if(we!==null){var Ee=we.next;_e=Ee;do{if((_e.tag&ue)===ue){var Re=_e.inst,We=Re.destroy;if(We!==void 0){Re.destroy=void 0,we=de;var rt=me,mt=We;try{mt()}catch(xt){un(we,rt,xt)}}}_e=_e.next}while(_e!==Ee)}}catch(xt){un(de,de.return,xt)}}function fd(ue){var de=ue.updateQueue;if(de!==null){var me=ue.stateNode;try{nh(de,me)}catch(_e){un(ue,ue.return,_e)}}}function pd(ue,de,me){me.props=Da(ue.type,ue.memoizedProps),me.state=ue.memoizedState;try{me.componentWillUnmount()}catch(_e){un(ue,de,_e)}}function hs(ue,de){try{var me=ue.ref;if(me!==null){switch(ue.tag){case 26:case 27:case 5:var _e=ue.stateNode;break;case 30:_e=ue.stateNode;break;default:_e=ue.stateNode}typeof me=="function"?ue.refCleanup=me(_e):me.current=_e}}catch(we){un(ue,de,we)}}function Br(ue,de){var me=ue.ref,_e=ue.refCleanup;if(me!==null)if(typeof _e=="function")try{_e()}catch(we){un(ue,de,we)}finally{ue.refCleanup=null,ue=ue.alternate,ue!=null&&(ue.refCleanup=null)}else if(typeof me=="function")try{me(null)}catch(we){un(ue,de,we)}else me.current=null}function md(ue){var de=ue.type,me=ue.memoizedProps,_e=ue.stateNode;try{e:switch(de){case"button":case"input":case"select":case"textarea":me.autoFocus&&_e.focus();break e;case"img":me.src?_e.src=me.src:me.srcSet&&(_e.srcset=me.srcSet)}}catch(we){un(ue,ue.return,we)}}function du(ue,de,me){try{var _e=ue.stateNode;Sm(_e,ue.type,me,de),_e[xn]=de}catch(we){un(ue,ue.return,we)}}function gd(ue){return ue.tag===5||ue.tag===3||ue.tag===26||ue.tag===27&&ya(ue.type)||ue.tag===4}function fu(ue){e:for(;;){for(;ue.sibling===null;){if(ue.return===null||gd(ue.return))return null;ue=ue.return}for(ue.sibling.return=ue.return,ue=ue.sibling;ue.tag!==5&&ue.tag!==6&&ue.tag!==18;){if(ue.tag===27&&ya(ue.type)||ue.flags&2||ue.child===null||ue.tag===4)continue e;ue.child.return=ue,ue=ue.child}if(!(ue.flags&2))return ue.stateNode}}function pu(ue,de,me){var _e=ue.tag;if(_e===5||_e===6)ue=ue.stateNode,de?(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).insertBefore(ue,de):(de=me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me,de.appendChild(ue),me=me._reactRootContainer,me!=null||de.onclick!==null||(de.onclick=Vr));else if(_e!==4&&(_e===27&&ya(ue.type)&&(me=ue.stateNode,de=null),ue=ue.child,ue!==null))for(pu(ue,de,me),ue=ue.sibling;ue!==null;)pu(ue,de,me),ue=ue.sibling}function _o(ue,de,me){var _e=ue.tag;if(_e===5||_e===6)ue=ue.stateNode,de?me.insertBefore(ue,de):me.appendChild(ue);else if(_e!==4&&(_e===27&&ya(ue.type)&&(me=ue.stateNode),ue=ue.child,ue!==null))for(_o(ue,de,me),ue=ue.sibling;ue!==null;)_o(ue,de,me),ue=ue.sibling}function yd(ue){var de=ue.stateNode,me=ue.memoizedProps;try{for(var _e=ue.type,we=de.attributes;we.length;)de.removeAttributeNode(we[0]);zn(de,_e,me),de[kn]=ue,de[xn]=me}catch(Ee){un(ue,ue.return,Ee)}}var qr=!1,Rn=!1,mu=!1,_d=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function tm(ue,de){if(ue=ue.containerInfo,Lu=Fo,ue=Ac(ue),ll(ue)){if("selectionStart"in ue)var me={start:ue.selectionStart,end:ue.selectionEnd};else e:{me=(me=ue.ownerDocument)&&me.defaultView||window;var _e=me.getSelection&&me.getSelection();if(_e&&_e.rangeCount!==0){me=_e.anchorNode;var we=_e.anchorOffset,Ee=_e.focusNode;_e=_e.focusOffset;try{me.nodeType,Ee.nodeType}catch{me=null;break e}var Re=0,We=-1,rt=-1,mt=0,xt=0,Tt=ue,gt=null;t:for(;;){for(var yt;Tt!==me||we!==0&&Tt.nodeType!==3||(We=Re+we),Tt!==Ee||_e!==0&&Tt.nodeType!==3||(rt=Re+_e),Tt.nodeType===3&&(Re+=Tt.nodeValue.length),(yt=Tt.firstChild)!==null;)gt=Tt,Tt=yt;for(;;){if(Tt===ue)break t;if(gt===me&&++mt===we&&(We=Re),gt===Ee&&++xt===_e&&(rt=Re),(yt=Tt.nextSibling)!==null)break;Tt=gt,gt=Tt.parentNode}Tt=yt}me=We===-1||rt===-1?null:{start:We,end:rt}}else me=null}me=me||{start:0,end:0}}else me=null;for(Du={focusedElem:ue,selectionRange:me},Fo=!1,Ln=de;Ln!==null;)if(de=Ln,ue=de.child,(de.subtreeFlags&1028)!==0&&ue!==null)ue.return=de,Ln=ue;else for(;Ln!==null;){switch(de=Ln,Ee=de.alternate,ue=de.flags,de.tag){case 0:if((ue&4)!==0&&(ue=de.updateQueue,ue=ue!==null?ue.events:null,ue!==null))for(me=0;me<ue.length;me++)we=ue[me],we.ref.impl=we.nextImpl;break;case 11:case 15:break;case 1:if((ue&1024)!==0&&Ee!==null){ue=void 0,me=de,we=Ee.memoizedProps,Ee=Ee.memoizedState,_e=me.stateNode;try{var Dt=Da(me.type,we);ue=_e.getSnapshotBeforeUpdate(Dt,Ee),_e.__reactInternalSnapshotBeforeUpdate=ue}catch(zt){un(me,me.return,zt)}}break;case 3:if((ue&1024)!==0){if(ue=de.stateNode.containerInfo,me=ue.nodeType,me===9)$u(ue);else if(me===1)switch(ue.nodeName){case"HEAD":case"HTML":case"BODY":$u(ue);break;default:ue.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((ue&1024)!==0)throw Error(ae(163))}if(ue=de.sibling,ue!==null){ue.return=de.return,Ln=ue;break}Ln=de.return}}function xd(ue,de,me){var _e=me.flags;switch(me.tag){case 0:case 11:case 15:Wr(ue,me),_e&4&&cs(5,me);break;case 1:if(Wr(ue,me),_e&4)if(ue=me.stateNode,de===null)try{ue.componentDidMount()}catch(Re){un(me,me.return,Re)}else{var we=Da(me.type,de.memoizedProps);de=de.memoizedState;try{ue.componentDidUpdate(we,de,ue.__reactInternalSnapshotBeforeUpdate)}catch(Re){un(me,me.return,Re)}}_e&64&&fd(me),_e&512&&hs(me,me.return);break;case 3:if(Wr(ue,me),_e&64&&(ue=me.updateQueue,ue!==null)){if(de=null,me.child!==null)switch(me.child.tag){case 27:case 5:de=me.child.stateNode;break;case 1:de=me.child.stateNode}try{nh(ue,de)}catch(Re){un(me,me.return,Re)}}break;case 27:de===null&&_e&4&&yd(me);case 26:case 5:Wr(ue,me),de===null&&_e&4&&md(me),_e&512&&hs(me,me.return);break;case 12:Wr(ue,me);break;case 31:Wr(ue,me),_e&4&&Sd(ue,me);break;case 13:Wr(ue,me),_e&4&&wd(ue,me),_e&64&&(ue=me.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null&&(me=cm.bind(null,me),Bm(ue,me))));break;case 22:if(_e=me.memoizedState!==null||qr,!_e){de=de!==null&&de.memoizedState!==null||Rn,we=qr;var Ee=Rn;qr=_e,(Rn=de)&&!Ee?Yr(ue,me,(me.subtreeFlags&8772)!==0):Wr(ue,me),qr=we,Rn=Ee}break;case 30:break;default:Wr(ue,me)}}function bd(ue){var de=ue.alternate;de!==null&&(ue.alternate=null,bd(de)),ue.child=null,ue.deletions=null,ue.sibling=null,ue.tag===5&&(de=ue.stateNode,de!==null&&it(de)),ue.stateNode=null,ue.return=null,ue.dependencies=null,ue.memoizedProps=null,ue.memoizedState=null,ue.pendingProps=null,ue.stateNode=null,ue.updateQueue=null}var bn=null,Yn=!1;function Gr(ue,de,me){for(me=me.child;me!==null;)vd(ue,de,me),me=me.sibling}function vd(ue,de,me){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(qt,me)}catch{}switch(me.tag){case 26:Rn||Br(me,de),Gr(ue,de,me),me.memoizedState?me.memoizedState.count--:me.stateNode&&(me=me.stateNode,me.parentNode.removeChild(me));break;case 27:Rn||Br(me,de);var _e=bn,we=Yn;ya(me.type)&&(bn=me.stateNode,Yn=!1),Gr(ue,de,me),vs(me.stateNode),bn=_e,Yn=we;break;case 5:Rn||Br(me,de);case 6:if(_e=bn,we=Yn,bn=null,Gr(ue,de,me),bn=_e,Yn=we,bn!==null)if(Yn)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(me.stateNode)}catch(Ee){un(me,de,Ee)}else try{bn.removeChild(me.stateNode)}catch(Ee){un(me,de,Ee)}break;case 18:bn!==null&&(Yn?(ue=bn,pf(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue,me.stateNode),Si(ue)):pf(bn,me.stateNode));break;case 4:_e=bn,we=Yn,bn=me.stateNode.containerInfo,Yn=!0,Gr(ue,de,me),bn=_e,Yn=we;break;case 0:case 11:case 14:case 15:ca(2,me,de),Rn||ca(4,me,de),Gr(ue,de,me);break;case 1:Rn||(Br(me,de),_e=me.stateNode,typeof _e.componentWillUnmount=="function"&&pd(me,de,_e)),Gr(ue,de,me);break;case 21:Gr(ue,de,me);break;case 22:Rn=(_e=Rn)||me.memoizedState!==null,Gr(ue,de,me),Rn=_e;break;default:Gr(ue,de,me)}}function Sd(ue,de){if(de.memoizedState===null&&(ue=de.alternate,ue!==null&&(ue=ue.memoizedState,ue!==null))){ue=ue.dehydrated;try{Si(ue)}catch(me){un(de,de.return,me)}}}function wd(ue,de){if(de.memoizedState===null&&(ue=de.alternate,ue!==null&&(ue=ue.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))))try{Si(ue)}catch(me){un(de,de.return,me)}}function nm(ue){switch(ue.tag){case 31:case 13:case 19:var de=ue.stateNode;return de===null&&(de=ue.stateNode=new _d),de;case 22:return ue=ue.stateNode,de=ue._retryCache,de===null&&(de=ue._retryCache=new _d),de;default:throw Error(ae(435,ue.tag))}}function xo(ue,de){var me=nm(ue);de.forEach(function(_e){if(!me.has(_e)){me.add(_e);var we=hm.bind(null,ue,_e);_e.then(we,we)}})}function Jn(ue,de){var me=de.deletions;if(me!==null)for(var _e=0;_e<me.length;_e++){var we=me[_e],Ee=ue,Re=de,We=Re;e:for(;We!==null;){switch(We.tag){case 27:if(ya(We.type)){bn=We.stateNode,Yn=!1;break e}break;case 5:bn=We.stateNode,Yn=!1;break e;case 3:case 4:bn=We.stateNode.containerInfo,Yn=!0;break e}We=We.return}if(bn===null)throw Error(ae(160));vd(Ee,Re,we),bn=null,Yn=!1,Ee=we.alternate,Ee!==null&&(Ee.return=null),we.return=null}if(de.subtreeFlags&13886)for(de=de.child;de!==null;)Td(de,ue),de=de.sibling}var Er=null;function Td(ue,de){var me=ue.alternate,_e=ue.flags;switch(ue.tag){case 0:case 11:case 14:case 15:Jn(de,ue),Kn(ue),_e&4&&(ca(3,ue,ue.return),cs(3,ue),ca(5,ue,ue.return));break;case 1:Jn(de,ue),Kn(ue),_e&512&&(Rn||me===null||Br(me,me.return)),_e&64&&qr&&(ue=ue.updateQueue,ue!==null&&(_e=ue.callbacks,_e!==null&&(me=ue.shared.hiddenCallbacks,ue.shared.hiddenCallbacks=me===null?_e:me.concat(_e))));break;case 26:var we=Er;if(Jn(de,ue),Kn(ue),_e&512&&(Rn||me===null||Br(me,me.return)),_e&4){var Ee=me!==null?me.memoizedState:null;if(_e=ue.memoizedState,me===null)if(_e===null)if(ue.stateNode===null){e:{_e=ue.type,me=ue.memoizedProps,we=we.ownerDocument||we;t:switch(_e){case"title":Ee=we.getElementsByTagName("title")[0],(!Ee||Ee[Ot]||Ee[kn]||Ee.namespaceURI==="http://www.w3.org/2000/svg"||Ee.hasAttribute("itemprop"))&&(Ee=we.createElement(_e),we.head.insertBefore(Ee,we.querySelector("head > title"))),zn(Ee,_e,me),Ee[kn]=ue,Jt(Ee),_e=Ee;break e;case"link":var Re=Ef("link","href",we).get(_e+(me.href||""));if(Re){for(var We=0;We<Re.length;We++)if(Ee=Re[We],Ee.getAttribute("href")===(me.href==null||me.href===""?null:me.href)&&Ee.getAttribute("rel")===(me.rel==null?null:me.rel)&&Ee.getAttribute("title")===(me.title==null?null:me.title)&&Ee.getAttribute("crossorigin")===(me.crossOrigin==null?null:me.crossOrigin)){Re.splice(We,1);break t}}Ee=we.createElement(_e),zn(Ee,_e,me),we.head.appendChild(Ee);break;case"meta":if(Re=Ef("meta","content",we).get(_e+(me.content||""))){for(We=0;We<Re.length;We++)if(Ee=Re[We],Ee.getAttribute("content")===(me.content==null?null:""+me.content)&&Ee.getAttribute("name")===(me.name==null?null:me.name)&&Ee.getAttribute("property")===(me.property==null?null:me.property)&&Ee.getAttribute("http-equiv")===(me.httpEquiv==null?null:me.httpEquiv)&&Ee.getAttribute("charset")===(me.charSet==null?null:me.charSet)){Re.splice(We,1);break t}}Ee=we.createElement(_e),zn(Ee,_e,me),we.head.appendChild(Ee);break;default:throw Error(ae(468,_e))}Ee[kn]=ue,Jt(Ee),_e=Ee}ue.stateNode=_e}else Cf(we,ue.type,ue.stateNode);else ue.stateNode=Tf(we,_e,ue.memoizedProps);else Ee!==_e?(Ee===null?me.stateNode!==null&&(me=me.stateNode,me.parentNode.removeChild(me)):Ee.count--,_e===null?Cf(we,ue.type,ue.stateNode):Tf(we,_e,ue.memoizedProps)):_e===null&&ue.stateNode!==null&&du(ue,ue.memoizedProps,me.memoizedProps)}break;case 27:Jn(de,ue),Kn(ue),_e&512&&(Rn||me===null||Br(me,me.return)),me!==null&&_e&4&&du(ue,ue.memoizedProps,me.memoizedProps);break;case 5:if(Jn(de,ue),Kn(ue),_e&512&&(Rn||me===null||Br(me,me.return)),ue.flags&32){we=ue.stateNode;try{Ha(we,"")}catch(Dt){un(ue,ue.return,Dt)}}_e&4&&ue.stateNode!=null&&(we=ue.memoizedProps,du(ue,we,me!==null?me.memoizedProps:we)),_e&1024&&(mu=!0);break;case 6:if(Jn(de,ue),Kn(ue),_e&4){if(ue.stateNode===null)throw Error(ae(162));_e=ue.memoizedProps,me=ue.stateNode;try{me.nodeValue=_e}catch(Dt){un(ue,ue.return,Dt)}}break;case 3:if(Vo=null,we=Er,Er=No(de.containerInfo),Jn(de,ue),Er=we,Kn(ue),_e&4&&me!==null&&me.memoizedState.isDehydrated)try{Si(de.containerInfo)}catch(Dt){un(ue,ue.return,Dt)}mu&&(mu=!1,Ed(ue));break;case 4:_e=Er,Er=No(ue.stateNode.containerInfo),Jn(de,ue),Kn(ue),Er=_e;break;case 12:Jn(de,ue),Kn(ue);break;case 31:Jn(de,ue),Kn(ue),_e&4&&(_e=ue.updateQueue,_e!==null&&(ue.updateQueue=null,xo(ue,_e)));break;case 13:Jn(de,ue),Kn(ue),ue.child.flags&8192&&ue.memoizedState!==null!=(me!==null&&me.memoizedState!==null)&&(vo=It()),_e&4&&(_e=ue.updateQueue,_e!==null&&(ue.updateQueue=null,xo(ue,_e)));break;case 22:we=ue.memoizedState!==null;var rt=me!==null&&me.memoizedState!==null,mt=qr,xt=Rn;if(qr=mt||we,Rn=xt||rt,Jn(de,ue),Rn=xt,qr=mt,Kn(ue),_e&8192)e:for(de=ue.stateNode,de._visibility=we?de._visibility&-2:de._visibility|1,we&&(me===null||rt||qr||Rn||Oa(ue)),me=null,de=ue;;){if(de.tag===5||de.tag===26){if(me===null){rt=me=de;try{if(Ee=rt.stateNode,we)Re=Ee.style,typeof Re.setProperty=="function"?Re.setProperty("display","none","important"):Re.display="none";else{We=rt.stateNode;var Tt=rt.memoizedProps.style,gt=Tt!=null&&Tt.hasOwnProperty("display")?Tt.display:null;We.style.display=gt==null||typeof gt=="boolean"?"":(""+gt).trim()}}catch(Dt){un(rt,rt.return,Dt)}}}else if(de.tag===6){if(me===null){rt=de;try{rt.stateNode.nodeValue=we?"":rt.memoizedProps}catch(Dt){un(rt,rt.return,Dt)}}}else if(de.tag===18){if(me===null){rt=de;try{var yt=rt.stateNode;we?mf(yt,!0):mf(rt.stateNode,!1)}catch(Dt){un(rt,rt.return,Dt)}}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===ue)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===ue)break e;for(;de.sibling===null;){if(de.return===null||de.return===ue)break e;me===de&&(me=null),de=de.return}me===de&&(me=null),de.sibling.return=de.return,de=de.sibling}_e&4&&(_e=ue.updateQueue,_e!==null&&(me=_e.retryQueue,me!==null&&(_e.retryQueue=null,xo(ue,me))));break;case 19:Jn(de,ue),Kn(ue),_e&4&&(_e=ue.updateQueue,_e!==null&&(ue.updateQueue=null,xo(ue,_e)));break;case 30:break;case 21:break;default:Jn(de,ue),Kn(ue)}}function Kn(ue){var de=ue.flags;if(de&2){try{for(var me,_e=ue.return;_e!==null;){if(gd(_e)){me=_e;break}_e=_e.return}if(me==null)throw Error(ae(160));switch(me.tag){case 27:var we=me.stateNode,Ee=fu(ue);_o(ue,Ee,we);break;case 5:var Re=me.stateNode;me.flags&32&&(Ha(Re,""),me.flags&=-33);var We=fu(ue);_o(ue,We,Re);break;case 3:case 4:var rt=me.stateNode.containerInfo,mt=fu(ue);pu(ue,mt,rt);break;default:throw Error(ae(161))}}catch(xt){un(ue,ue.return,xt)}ue.flags&=-3}de&4096&&(ue.flags&=-4097)}function Ed(ue){if(ue.subtreeFlags&1024)for(ue=ue.child;ue!==null;){var de=ue;Ed(de),de.tag===5&&de.flags&1024&&de.stateNode.reset(),ue=ue.sibling}}function Wr(ue,de){if(de.subtreeFlags&8772)for(de=de.child;de!==null;)xd(ue,de.alternate,de),de=de.sibling}function Oa(ue){for(ue=ue.child;ue!==null;){var de=ue;switch(de.tag){case 0:case 11:case 14:case 15:ca(4,de,de.return),Oa(de);break;case 1:Br(de,de.return);var me=de.stateNode;typeof me.componentWillUnmount=="function"&&pd(de,de.return,me),Oa(de);break;case 27:vs(de.stateNode);case 26:case 5:Br(de,de.return),Oa(de);break;case 22:de.memoizedState===null&&Oa(de);break;case 30:Oa(de);break;default:Oa(de)}ue=ue.sibling}}function Yr(ue,de,me){for(me=me&&(de.subtreeFlags&8772)!==0,de=de.child;de!==null;){var _e=de.alternate,we=ue,Ee=de,Re=Ee.flags;switch(Ee.tag){case 0:case 11:case 15:Yr(we,Ee,me),cs(4,Ee);break;case 1:if(Yr(we,Ee,me),_e=Ee,we=_e.stateNode,typeof we.componentDidMount=="function")try{we.componentDidMount()}catch(mt){un(_e,_e.return,mt)}if(_e=Ee,we=_e.updateQueue,we!==null){var We=_e.stateNode;try{var rt=we.shared.hiddenCallbacks;if(rt!==null)for(we.shared.hiddenCallbacks=null,we=0;we<rt.length;we++)th(rt[we],We)}catch(mt){un(_e,_e.return,mt)}}me&&Re&64&&fd(Ee),hs(Ee,Ee.return);break;case 27:yd(Ee);case 26:case 5:Yr(we,Ee,me),me&&_e===null&&Re&4&&md(Ee),hs(Ee,Ee.return);break;case 12:Yr(we,Ee,me);break;case 31:Yr(we,Ee,me),me&&Re&4&&Sd(we,Ee);break;case 13:Yr(we,Ee,me),me&&Re&4&&wd(we,Ee);break;case 22:Ee.memoizedState===null&&Yr(we,Ee,me),hs(Ee,Ee.return);break;case 30:break;default:Yr(we,Ee,me)}de=de.sibling}}function gu(ue,de){var me=null;ue!==null&&ue.memoizedState!==null&&ue.memoizedState.cachePool!==null&&(me=ue.memoizedState.cachePool.pool),ue=null,de.memoizedState!==null&&de.memoizedState.cachePool!==null&&(ue=de.memoizedState.cachePool.pool),ue!==me&&(ue!=null&&ue.refCount++,me!=null&&Xi(me))}function yu(ue,de){ue=null,de.alternate!==null&&(ue=de.alternate.memoizedState.cache),de=de.memoizedState.cache,de!==ue&&(de.refCount++,ue!=null&&Xi(ue))}function Cr(ue,de,me,_e){if(de.subtreeFlags&10256)for(de=de.child;de!==null;)Cd(ue,de,me,_e),de=de.sibling}function Cd(ue,de,me,_e){var we=de.flags;switch(de.tag){case 0:case 11:case 15:Cr(ue,de,me,_e),we&2048&&cs(9,de);break;case 1:Cr(ue,de,me,_e);break;case 3:Cr(ue,de,me,_e),we&2048&&(ue=null,de.alternate!==null&&(ue=de.alternate.memoizedState.cache),de=de.memoizedState.cache,de!==ue&&(de.refCount++,ue!=null&&Xi(ue)));break;case 12:if(we&2048){Cr(ue,de,me,_e),ue=de.stateNode;try{var Ee=de.memoizedProps,Re=Ee.id,We=Ee.onPostCommit;typeof We=="function"&&We(Re,de.alternate===null?"mount":"update",ue.passiveEffectDuration,-0)}catch(rt){un(de,de.return,rt)}}else Cr(ue,de,me,_e);break;case 31:Cr(ue,de,me,_e);break;case 13:Cr(ue,de,me,_e);break;case 23:break;case 22:Ee=de.stateNode,Re=de.alternate,de.memoizedState!==null?Ee._visibility&2?Cr(ue,de,me,_e):ds(ue,de):Ee._visibility&2?Cr(ue,de,me,_e):(Ee._visibility|=2,ci(ue,de,me,_e,(de.subtreeFlags&10256)!==0||!1)),we&2048&&gu(Re,de);break;case 24:Cr(ue,de,me,_e),we&2048&&yu(de.alternate,de);break;default:Cr(ue,de,me,_e)}}function ci(ue,de,me,_e,we){for(we=we&&((de.subtreeFlags&10256)!==0||!1),de=de.child;de!==null;){var Ee=ue,Re=de,We=me,rt=_e,mt=Re.flags;switch(Re.tag){case 0:case 11:case 15:ci(Ee,Re,We,rt,we),cs(8,Re);break;case 23:break;case 22:var xt=Re.stateNode;Re.memoizedState!==null?xt._visibility&2?ci(Ee,Re,We,rt,we):ds(Ee,Re):(xt._visibility|=2,ci(Ee,Re,We,rt,we)),we&&mt&2048&&gu(Re.alternate,Re);break;case 24:ci(Ee,Re,We,rt,we),we&&mt&2048&&yu(Re.alternate,Re);break;default:ci(Ee,Re,We,rt,we)}de=de.sibling}}function ds(ue,de){if(de.subtreeFlags&10256)for(de=de.child;de!==null;){var me=ue,_e=de,we=_e.flags;switch(_e.tag){case 22:ds(me,_e),we&2048&&gu(_e.alternate,_e);break;case 24:ds(me,_e),we&2048&&yu(_e.alternate,_e);break;default:ds(me,_e)}de=de.sibling}}var ps=8192;function hi(ue,de,me){if(ue.subtreeFlags&ps)for(ue=ue.child;ue!==null;)kd(ue,de,me),ue=ue.sibling}function kd(ue,de,me){switch(ue.tag){case 26:hi(ue,de,me),ue.flags&ps&&ue.memoizedState!==null&&zm(me,Er,ue.memoizedState,ue.memoizedProps);break;case 5:hi(ue,de,me);break;case 3:case 4:var _e=Er;Er=No(ue.stateNode.containerInfo),hi(ue,de,me),Er=_e;break;case 22:ue.memoizedState===null&&(_e=ue.alternate,_e!==null&&_e.memoizedState!==null?(_e=ps,ps=16777216,hi(ue,de,me),ps=_e):hi(ue,de,me));break;default:hi(ue,de,me)}}function Pd(ue){var de=ue.alternate;if(de!==null&&(ue=de.child,ue!==null)){de.child=null;do de=ue.sibling,ue.sibling=null,ue=de;while(ue!==null)}}function ms(ue){var de=ue.deletions;if((ue.flags&16)!==0){if(de!==null)for(var me=0;me<de.length;me++){var _e=de[me];Ln=_e,Bd(_e,ue)}Pd(ue)}if(ue.subtreeFlags&10256)for(ue=ue.child;ue!==null;)Ad(ue),ue=ue.sibling}function Ad(ue){switch(ue.tag){case 0:case 11:case 15:ms(ue),ue.flags&2048&&ca(9,ue,ue.return);break;case 3:ms(ue);break;case 12:ms(ue);break;case 22:var de=ue.stateNode;ue.memoizedState!==null&&de._visibility&2&&(ue.return===null||ue.return.tag!==13)?(de._visibility&=-3,bo(ue)):ms(ue);break;default:ms(ue)}}function bo(ue){var de=ue.deletions;if((ue.flags&16)!==0){if(de!==null)for(var me=0;me<de.length;me++){var _e=de[me];Ln=_e,Bd(_e,ue)}Pd(ue)}for(ue=ue.child;ue!==null;){switch(de=ue,de.tag){case 0:case 11:case 15:ca(8,de,de.return),bo(de);break;case 22:me=de.stateNode,me._visibility&2&&(me._visibility&=-3,bo(de));break;default:bo(de)}ue=ue.sibling}}function Bd(ue,de){for(;Ln!==null;){var me=Ln;switch(me.tag){case 0:case 11:case 15:ca(8,me,de);break;case 23:case 22:if(me.memoizedState!==null&&me.memoizedState.cachePool!==null){var _e=me.memoizedState.cachePool.pool;_e!=null&&_e.refCount++}break;case 24:Xi(me.memoizedState.cache)}if(_e=me.child,_e!==null)_e.return=me,Ln=_e;else e:for(me=ue;Ln!==null;){_e=Ln;var we=_e.sibling,Ee=_e.return;if(bd(_e),_e===me){Ln=null;break e}if(we!==null){we.return=Ee,Ln=we;break e}Ln=Ee}}}var rm={getCacheForType:function(ue){var de=$n(Pn),me=de.data.get(ue);return me===void 0&&(me=ue(),de.data.set(ue,me)),me},cacheSignal:function(){return $n(Pn).controller.signal}},am=typeof WeakMap=="function"?WeakMap:Map,an=0,mn=null,Xt=null,Qt=0,ln=0,rr=null,ha=!1,di=!1,_u=!1,Jr=0,wn=0,da=0,Fa=0,xu=0,ar=0,fi=0,gs=null,Xn=null,bu=!1,vo=0,Rd=0,So=1/0,wo=null,fa=null,Nn=0,pa=null,mi=null,Kr=0,vu=0,Su=null,Md=null,ys=0,wu=null;function ir(){return(an&2)!==0&&Qt!==0?Qt&-Qt:Oe.T!==null?Au():Li()}function Nd(){if(ar===0)if((Qt&536870912)===0||tn){var ue=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),ar=ue}else ar=536870912;return ue=tr.current,ue!==null&&(ue.flags|=32),ar}function Zn(ue,de,me){(ue===mn&&(ln===2||ln===9)||ue.cancelPendingCommit!==null)&&(gi(ue,0),ma(ue,Qt,ar,!1)),Qr(ue,me),((an&2)===0||ue!==mn)&&(ue===mn&&((an&2)===0&&(Fa|=me),wn===4&&ma(ue,Qt,ar,!1)),Rr(ue))}function Id(ue,de,me){if((an&6)!==0)throw Error(ae(327));var _e=!me&&(de&127)===0&&(de&ue.expiredLanes)===0||wa(ue,de),we=_e?om(ue,de):Eu(ue,de,!0),Ee=_e;do{if(we===0){di&&!_e&&ma(ue,de,0,!1);break}else{if(me=ue.current.alternate,Ee&&!im(me)){we=Eu(ue,de,!1),Ee=!1;continue}if(we===2){if(Ee=de,ue.errorRecoveryDisabledLanes&Ee)var Re=0;else Re=ue.pendingLanes&-536870913,Re=Re!==0?Re:Re&536870912?536870912:0;if(Re!==0){de=Re;e:{var We=ue;we=gs;var rt=We.current.memoizedState.isDehydrated;if(rt&&(gi(We,Re).flags|=256),Re=Eu(We,Re,!1),Re!==2){if(_u&&!rt){We.errorRecoveryDisabledLanes|=Ee,Fa|=Ee,we=4;break e}Ee=Xn,Xn=we,Ee!==null&&(Xn===null?Xn=Ee:Xn.push.apply(Xn,Ee))}we=Re}if(Ee=!1,we!==2)continue}}if(we===1){gi(ue,0),ma(ue,de,0,!0);break}e:{switch(_e=ue,Ee=we,Ee){case 0:case 1:throw Error(ae(345));case 4:if((de&4194048)!==de)break;case 6:ma(_e,de,ar,!ha);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(ae(329))}if((de&62914560)===de&&(we=vo+300-It(),10<we)){if(ma(_e,de,ar,!ha),Ua(_e,0,!0)!==0)break e;Kr=de,_e.timeoutHandle=df(Vd.bind(null,_e,me,Xn,wo,bu,de,ar,Fa,fi,ha,Ee,"Throttled",-0,0),we);break e}Vd(_e,me,Xn,wo,bu,de,ar,Fa,fi,ha,Ee,null,-0,0)}}break}while(!0);Rr(ue)}function Vd(ue,de,me,_e,we,Ee,Re,We,rt,mt,xt,Tt,gt,yt){if(ue.timeoutHandle=-1,Tt=de.subtreeFlags,Tt&8192||(Tt&16785408)===16785408){Tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vr},kd(de,Ee,Tt);var Dt=(Ee&62914560)===Ee?vo-It():(Ee&4194048)===Ee?Rd-It():0;if(Dt=jm(Tt,Dt),Dt!==null){Kr=Ee,ue.cancelPendingCommit=Dt(jd.bind(null,ue,de,Ee,me,_e,we,Re,We,rt,xt,Tt,null,gt,yt)),ma(ue,Ee,Re,!mt);return}}jd(ue,de,Ee,me,_e,we,Re,We,rt)}function im(ue){for(var de=ue;;){var me=de.tag;if((me===0||me===11||me===15)&&de.flags&16384&&(me=de.updateQueue,me!==null&&(me=me.stores,me!==null)))for(var _e=0;_e<me.length;_e++){var we=me[_e],Ee=we.getSnapshot;we=we.value;try{if(!Qn(Ee(),we))return!1}catch{return!1}}if(me=de.child,de.subtreeFlags&16384&&me!==null)me.return=de,de=me;else{if(de===ue)break;for(;de.sibling===null;){if(de.return===null||de.return===ue)return!0;de=de.return}de.sibling.return=de.return,de=de.sibling}}return!0}function ma(ue,de,me,_e){de&=~xu,de&=~Fa,ue.suspendedLanes|=de,ue.pingedLanes&=~de,_e&&(ue.warmLanes|=de),_e=ue.expirationTimes;for(var we=de;0<we;){var Ee=31-Ht(we),Re=1<<Ee;_e[Ee]=-1,we&=~Re}me!==0&&Ii(ue,me,de)}function To(){return(an&6)===0?(_s(0),!1):!0}function Tu(){if(Xt!==null){if(ln===0)var ue=Xt.return;else ue=Xt,Fr=Ba=null,$l(ue),ii=null,Qi=0,ue=Xt;for(;ue!==null;)dd(ue.alternate,ue),ue=ue.return;Xt=null}}function gi(ue,de){var me=ue.timeoutHandle;me!==-1&&(ue.timeoutHandle=-1,Em(me)),me=ue.cancelPendingCommit,me!==null&&(ue.cancelPendingCommit=null,me()),Kr=0,Tu(),mn=ue,Xt=me=Dr(ue.current,null),Qt=de,ln=0,rr=null,ha=!1,di=wa(ue,de),_u=!1,fi=ar=xu=Fa=da=wn=0,Xn=gs=null,bu=!1,(de&8)!==0&&(de|=de&32);var _e=ue.entangledLanes;if(_e!==0)for(ue=ue.entanglements,_e&=de;0<_e;){var we=31-Ht(_e),Ee=1<<we;de|=ue[we],_e&=~Ee}return Jr=de,Hs(),me}function Ld(ue,de){Gt=null,Oe.H=os,de===ai||de===Zs?(de=Xc(),ln=3):de===Pl?(de=Xc(),ln=4):ln=de===nu?8:de!==null&&typeof de=="object"&&typeof de.then=="function"?6:1,rr=de,Xt===null&&(wn=1,fo(ue,pr(de,ue.current)))}function Dd(){var ue=tr.current;return ue===null?!0:(Qt&4194048)===Qt?_r===null:(Qt&62914560)===Qt||(Qt&536870912)!==0?ue===_r:!1}function Od(){var ue=Oe.H;return Oe.H=os,ue===null?os:ue}function Fd(){var ue=Oe.A;return Oe.A=rm,ue}function Eo(){wn=4,ha||(Qt&4194048)!==Qt&&tr.current!==null||(di=!0),(da&134217727)===0&&(Fa&134217727)===0||mn===null||ma(mn,Qt,ar,!1)}function Eu(ue,de,me){var _e=an;an|=2;var we=Od(),Ee=Fd();(mn!==ue||Qt!==de)&&(wo=null,gi(ue,de)),de=!1;var Re=wn;e:do try{if(ln!==0&&Xt!==null){var We=Xt,rt=rr;switch(ln){case 8:Tu(),Re=6;break e;case 3:case 2:case 9:case 6:tr.current===null&&(de=!0);var mt=ln;if(ln=0,rr=null,yi(ue,We,rt,mt),me&&di){Re=0;break e}break;default:mt=ln,ln=0,rr=null,yi(ue,We,rt,mt)}}sm(),Re=wn;break}catch(xt){Ld(ue,xt)}while(!0);return de&&ue.shellSuspendCounter++,Fr=Ba=null,an=_e,Oe.H=we,Oe.A=Ee,Xt===null&&(mn=null,Qt=0,Hs()),Re}function sm(){for(;Xt!==null;)$d(Xt)}function om(ue,de){var me=an;an|=2;var _e=Od(),we=Fd();mn!==ue||Qt!==de?(wo=null,So=It()+500,gi(ue,de)):di=wa(ue,de);e:do try{if(ln!==0&&Xt!==null){de=Xt;var Ee=rr;t:switch(ln){case 1:ln=0,rr=null,yi(ue,de,Ee,1);break;case 2:case 9:if(Jc(Ee)){ln=0,rr=null,Ud(de);break}de=function(){ln!==2&&ln!==9||mn!==ue||(ln=7),Rr(ue)},Ee.then(de,de);break e;case 3:ln=7;break e;case 4:ln=5;break e;case 7:Jc(Ee)?(ln=0,rr=null,Ud(de)):(ln=0,rr=null,yi(ue,de,Ee,7));break;case 5:var Re=null;switch(Xt.tag){case 26:Re=Xt.memoizedState;case 5:case 27:var We=Xt;if(Re?kf(Re):We.stateNode.complete){ln=0,rr=null;var rt=We.sibling;if(rt!==null)Xt=rt;else{var mt=We.return;mt!==null?(Xt=mt,Co(mt)):Xt=null}break t}}ln=0,rr=null,yi(ue,de,Ee,5);break;case 6:ln=0,rr=null,yi(ue,de,Ee,6);break;case 8:Tu(),wn=6;break e;default:throw Error(ae(462))}}lm();break}catch(xt){Ld(ue,xt)}while(!0);return Fr=Ba=null,Oe.H=_e,Oe.A=we,an=me,Xt!==null?0:(mn=null,Qt=0,Hs(),wn)}function lm(){for(;Xt!==null&&!pt();)$d(Xt)}function $d(ue){var de=cd(ue.alternate,ue,Jr);ue.memoizedProps=ue.pendingProps,de===null?Co(ue):Xt=de}function Ud(ue){var de=ue,me=de.alternate;switch(de.tag){case 15:case 0:de=rd(me,de,de.pendingProps,de.type,void 0,Qt);break;case 11:de=rd(me,de,de.pendingProps,de.type.render,de.ref,Qt);break;case 5:$l(de);default:dd(me,de),de=Xt=Oc(de,Jr),de=cd(me,de,Jr)}ue.memoizedProps=ue.pendingProps,de===null?Co(ue):Xt=de}function yi(ue,de,me,_e){Fr=Ba=null,$l(de),ii=null,Qi=0;var we=de.return;try{if(Kp(ue,we,de,me,Qt)){wn=1,fo(ue,pr(me,ue.current)),Xt=null;return}}catch(Ee){if(we!==null)throw Xt=we,Ee;wn=1,fo(ue,pr(me,ue.current)),Xt=null;return}de.flags&32768?(tn||_e===1?ue=!0:di||(Qt&536870912)!==0?ue=!1:(ha=ue=!0,(_e===2||_e===9||_e===3||_e===6)&&(_e=tr.current,_e!==null&&_e.tag===13&&(_e.flags|=16384))),zd(de,ue)):Co(de)}function Co(ue){var de=ue;do{if((de.flags&32768)!==0){zd(de,ha);return}ue=de.return;var me=Qp(de.alternate,de,Jr);if(me!==null){Xt=me;return}if(de=de.sibling,de!==null){Xt=de;return}Xt=de=ue}while(de!==null);wn===0&&(wn=5)}function zd(ue,de){do{var me=em(ue.alternate,ue);if(me!==null){me.flags&=32767,Xt=me;return}if(me=ue.return,me!==null&&(me.flags|=32768,me.subtreeFlags=0,me.deletions=null),!de&&(ue=ue.sibling,ue!==null)){Xt=ue;return}Xt=ue=me}while(ue!==null);wn=6,Xt=null}function jd(ue,de,me,_e,we,Ee,Re,We,rt){ue.cancelPendingCommit=null;do ko();while(Nn!==0);if((an&6)!==0)throw Error(ae(327));if(de!==null){if(de===ue.current)throw Error(ae(177));if(Ee=de.lanes|de.childLanes,Ee|=fl,Ni(ue,me,Ee,Re,We,rt),ue===mn&&(Xt=mn=null,Qt=0),mi=de,pa=ue,Kr=me,vu=Ee,Su=we,Md=_e,(de.subtreeFlags&10256)!==0||(de.flags&10256)!==0?(ue.callbackNode=null,ue.callbackPriority=0,dm(Mt,function(){return Yd(),null})):(ue.callbackNode=null,ue.callbackPriority=0),_e=(de.flags&13878)!==0,(de.subtreeFlags&13878)!==0||_e){_e=Oe.T,Oe.T=null,we=He.p,He.p=2,Re=an,an|=4;try{tm(ue,de,me)}finally{an=Re,He.p=we,Oe.T=_e}}Nn=1,Hd(),qd(),Gd()}}function Hd(){if(Nn===1){Nn=0;var ue=pa,de=mi,me=(de.flags&13878)!==0;if((de.subtreeFlags&13878)!==0||me){me=Oe.T,Oe.T=null;var _e=He.p;He.p=2;var we=an;an|=4;try{Td(de,ue);var Ee=Du,Re=Ac(ue.containerInfo),We=Ee.focusedElem,rt=Ee.selectionRange;if(Re!==We&&We&&We.ownerDocument&&Pc(We.ownerDocument.documentElement,We)){if(rt!==null&&ll(We)){var mt=rt.start,xt=rt.end;if(xt===void 0&&(xt=mt),"selectionStart"in We)We.selectionStart=mt,We.selectionEnd=Math.min(xt,We.value.length);else{var Tt=We.ownerDocument||document,gt=Tt&&Tt.defaultView||window;if(gt.getSelection){var yt=gt.getSelection(),Dt=We.textContent.length,zt=Math.min(rt.start,Dt),pn=rt.end===void 0?zt:Math.min(rt.end,Dt);!yt.extend&&zt>pn&&(Re=pn,pn=zt,zt=Re);var ht=kc(We,zt),lt=kc(We,pn);if(ht&&lt&&(yt.rangeCount!==1||yt.anchorNode!==ht.node||yt.anchorOffset!==ht.offset||yt.focusNode!==lt.node||yt.focusOffset!==lt.offset)){var ft=Tt.createRange();ft.setStart(ht.node,ht.offset),yt.removeAllRanges(),zt>pn?(yt.addRange(ft),yt.extend(lt.node,lt.offset)):(ft.setEnd(lt.node,lt.offset),yt.addRange(ft))}}}}for(Tt=[],yt=We;yt=yt.parentNode;)yt.nodeType===1&&Tt.push({element:yt,left:yt.scrollLeft,top:yt.scrollTop});for(typeof We.focus=="function"&&We.focus(),We=0;We<Tt.length;We++){var vt=Tt[We];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}Fo=!!Lu,Du=Lu=null}finally{an=we,He.p=_e,Oe.T=me}}ue.current=de,Nn=2}}function qd(){if(Nn===2){Nn=0;var ue=pa,de=mi,me=(de.flags&8772)!==0;if((de.subtreeFlags&8772)!==0||me){me=Oe.T,Oe.T=null;var _e=He.p;He.p=2;var we=an;an|=4;try{xd(ue,de.alternate,de)}finally{an=we,He.p=_e,Oe.T=me}}Nn=3}}function Gd(){if(Nn===4||Nn===3){Nn=0,Rt();var ue=pa,de=mi,me=Kr,_e=Md;(de.subtreeFlags&10256)!==0||(de.flags&10256)!==0?Nn=5:(Nn=0,mi=pa=null,Wd(ue,ue.pendingLanes));var we=ue.pendingLanes;if(we===0&&(fa=null),wr(me),de=de.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(qt,de,void 0,(de.current.flags&128)===128)}catch{}if(_e!==null){de=Oe.T,we=He.p,He.p=2,Oe.T=null;try{for(var Ee=ue.onRecoverableError,Re=0;Re<_e.length;Re++){var We=_e[Re];Ee(We.value,{componentStack:We.stack})}}finally{Oe.T=de,He.p=we}}(Kr&3)!==0&&ko(),Rr(ue),we=ue.pendingLanes,(me&261930)!==0&&(we&42)!==0?ue===wu?ys++:(ys=0,wu=ue):ys=0,_s(0)}}function Wd(ue,de){(ue.pooledCacheLanes&=de)===0&&(de=ue.pooledCache,de!=null&&(ue.pooledCache=null,Xi(de)))}function ko(){return Hd(),qd(),Gd(),Yd()}function Yd(){if(Nn!==5)return!1;var ue=pa,de=vu;vu=0;var me=wr(Kr),_e=Oe.T,we=He.p;try{He.p=32>me?32:me,Oe.T=null,me=Su,Su=null;var Ee=pa,Re=Kr;if(Nn=0,mi=pa=null,Kr=0,(an&6)!==0)throw Error(ae(331));var We=an;if(an|=4,Ad(Ee.current),Cd(Ee,Ee.current,Re,me),an=We,_s(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(qt,Ee)}catch{}return!0}finally{He.p=we,Oe.T=_e,Wd(ue,de)}}function Jd(ue,de,me){de=pr(me,de),de=tu(ue.stateNode,de,2),ue=oa(ue,de,2),ue!==null&&(Qr(ue,2),Rr(ue))}function un(ue,de,me){if(ue.tag===3)Jd(ue,ue,me);else for(;de!==null;){if(de.tag===3){Jd(de,ue,me);break}else if(de.tag===1){var _e=de.stateNode;if(typeof de.type.getDerivedStateFromError=="function"||typeof _e.componentDidCatch=="function"&&(fa===null||!fa.has(_e))){ue=pr(me,ue),me=Jh(2),_e=oa(de,me,2),_e!==null&&(Kh(me,_e,de,ue),Qr(_e,2),Rr(_e));break}}de=de.return}}function Cu(ue,de,me){var _e=ue.pingCache;if(_e===null){_e=ue.pingCache=new am;var we=new Set;_e.set(de,we)}else we=_e.get(de),we===void 0&&(we=new Set,_e.set(de,we));we.has(me)||(_u=!0,we.add(me),ue=um.bind(null,ue,de,me),de.then(ue,ue))}function um(ue,de,me){var _e=ue.pingCache;_e!==null&&_e.delete(de),ue.pingedLanes|=ue.suspendedLanes&me,ue.warmLanes&=~me,mn===ue&&(Qt&me)===me&&(wn===4||wn===3&&(Qt&62914560)===Qt&&300>It()-vo?(an&2)===0&&gi(ue,0):xu|=me,fi===Qt&&(fi=0)),Rr(ue)}function Kd(ue,de){de===0&&(de=Mr()),ue=ka(ue,de),ue!==null&&(Qr(ue,de),Rr(ue))}function cm(ue){var de=ue.memoizedState,me=0;de!==null&&(me=de.retryLane),Kd(ue,me)}function hm(ue,de){var me=0;switch(ue.tag){case 31:case 13:var _e=ue.stateNode,we=ue.memoizedState;we!==null&&(me=we.retryLane);break;case 19:_e=ue.stateNode;break;case 22:_e=ue.stateNode._retryCache;break;default:throw Error(ae(314))}_e!==null&&_e.delete(de),Kd(ue,me)}function dm(ue,de){return wt(ue,de)}var Po=null,_i=null,ku=!1,Ao=!1,Pu=!1,ga=0;function Rr(ue){ue!==_i&&ue.next===null&&(_i===null?Po=_i=ue:_i=_i.next=ue),Ao=!0,ku||(ku=!0,pm())}function _s(ue,de){if(!Pu&&Ao){Pu=!0;do for(var me=!1,_e=Po;_e!==null;){if(ue!==0){var we=_e.pendingLanes;if(we===0)var Ee=0;else{var Re=_e.suspendedLanes,We=_e.pingedLanes;Ee=(1<<31-Ht(42|ue)+1)-1,Ee&=we&~(Re&~We),Ee=Ee&201326741?Ee&201326741|1:Ee?Ee|2:0}Ee!==0&&(me=!0,ef(_e,Ee))}else Ee=Qt,Ee=Ua(_e,_e===mn?Ee:0,_e.cancelPendingCommit!==null||_e.timeoutHandle!==-1),(Ee&3)===0||wa(_e,Ee)||(me=!0,ef(_e,Ee));_e=_e.next}while(me);Pu=!1}}function fm(){Xd()}function Xd(){Ao=ku=!1;var ue=0;ga!==0&&Tm()&&(ue=ga);for(var de=It(),me=null,_e=Po;_e!==null;){var we=_e.next,Ee=Zd(_e,de);Ee===0?(_e.next=null,me===null?Po=we:me.next=we,we===null&&(_i=me)):(me=_e,(ue!==0||(Ee&3)!==0)&&(Ao=!0)),_e=we}Nn!==0&&Nn!==5||_s(ue),ga!==0&&(ga=0)}function Zd(ue,de){for(var me=ue.suspendedLanes,_e=ue.pingedLanes,we=ue.expirationTimes,Ee=ue.pendingLanes&-62914561;0<Ee;){var Re=31-Ht(Ee),We=1<<Re,rt=we[Re];rt===-1?((We&me)===0||(We&_e)!==0)&&(we[Re]=Tn(We,de)):rt<=de&&(ue.expiredLanes|=We),Ee&=~We}if(de=mn,me=Qt,me=Ua(ue,ue===de?me:0,ue.cancelPendingCommit!==null||ue.timeoutHandle!==-1),_e=ue.callbackNode,me===0||ue===de&&(ln===2||ln===9)||ue.cancelPendingCommit!==null)return _e!==null&&_e!==null&&Et(_e),ue.callbackNode=null,ue.callbackPriority=0;if((me&3)===0||wa(ue,me)){if(de=me&-me,de===ue.callbackPriority)return de;switch(_e!==null&&Et(_e),wr(me)){case 2:case 8:me=bt;break;case 32:me=Mt;break;case 268435456:me=Yt;break;default:me=Mt}return _e=Qd.bind(null,ue),me=wt(me,_e),ue.callbackPriority=de,ue.callbackNode=me,de}return _e!==null&&_e!==null&&Et(_e),ue.callbackPriority=2,ue.callbackNode=null,2}function Qd(ue,de){if(Nn!==0&&Nn!==5)return ue.callbackNode=null,ue.callbackPriority=0,null;var me=ue.callbackNode;if(ko()&&ue.callbackNode!==me)return null;var _e=Qt;return _e=Ua(ue,ue===mn?_e:0,ue.cancelPendingCommit!==null||ue.timeoutHandle!==-1),_e===0?null:(Id(ue,_e,de),Zd(ue,It()),ue.callbackNode!=null&&ue.callbackNode===me?Qd.bind(null,ue):null)}function ef(ue,de){if(ko())return null;Id(ue,de,!0)}function pm(){Cm(function(){(an&6)!==0?wt(ct,fm):Xd()})}function Au(){if(ga===0){var ue=ni;ue===0&&(ue=Sr,Sr<<=1,(Sr&261888)===0&&(Sr=256)),ga=ue}return ga}function tf(ue){return ue==null||typeof ue=="symbol"||typeof ue=="boolean"?null:typeof ue=="function"?ue:Ls(""+ue)}function nf(ue,de){var me=de.ownerDocument.createElement("input");return me.name=de.name,me.value=de.value,ue.id&&me.setAttribute("form",ue.id),de.parentNode.insertBefore(me,de),ue=new FormData(ue),me.parentNode.removeChild(me),ue}function mm(ue,de,me,_e,we){if(de==="submit"&&me&&me.stateNode===we){var Ee=tf((we[xn]||null).action),Re=_e.submitter;Re&&(de=(de=Re[xn]||null)?tf(de.formAction):Re.getAttribute("formAction"),de!==null&&(Ee=de,Re=null));var We=new $s("action","action",null,_e,we);ue.push({event:We,listeners:[{instance:null,listener:function(){if(_e.defaultPrevented){if(ga!==0){var rt=Re?nf(we,Re):new FormData(we);Jl(me,{pending:!0,data:rt,method:we.method,action:Ee},null,rt)}}else typeof Ee=="function"&&(We.preventDefault(),rt=Re?nf(we,Re):new FormData(we),Jl(me,{pending:!0,data:rt,method:we.method,action:Ee},Ee,rt))},currentTarget:we}]})}}for(var Bu=0;Bu<dl.length;Bu++){var Ru=dl[Bu],gm=Ru.toLowerCase(),ym=Ru[0].toUpperCase()+Ru.slice(1);Tr(gm,"on"+ym)}Tr(Mc,"onAnimationEnd"),Tr(Nc,"onAnimationIteration"),Tr(Ic,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Np,"onTransitionRun"),Tr(Ip,"onTransitionStart"),Tr(Vp,"onTransitionCancel"),Tr(Vc,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_m=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xs));function rf(ue,de){de=(de&4)!==0;for(var me=0;me<ue.length;me++){var _e=ue[me],we=_e.event;_e=_e.listeners;e:{var Ee=void 0;if(de)for(var Re=_e.length-1;0<=Re;Re--){var We=_e[Re],rt=We.instance,mt=We.currentTarget;if(We=We.listener,rt!==Ee&&we.isPropagationStopped())break e;Ee=We,we.currentTarget=mt;try{Ee(we)}catch(xt){js(xt)}we.currentTarget=null,Ee=rt}else for(Re=0;Re<_e.length;Re++){if(We=_e[Re],rt=We.instance,mt=We.currentTarget,We=We.listener,rt!==Ee&&we.isPropagationStopped())break e;Ee=We,we.currentTarget=mt;try{Ee(we)}catch(xt){js(xt)}we.currentTarget=null,Ee=rt}}}}function Zt(ue,de){var me=de[za];me===void 0&&(me=de[za]=new Set);var _e=ue+"__bubble";me.has(_e)||(af(de,ue,2,!1),me.add(_e))}function Mu(ue,de,me){var _e=0;de&&(_e|=4),af(me,ue,_e,de)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Nu(ue){if(!ue[Bo]){ue[Bo]=!0,On.forEach(function(me){me!=="selectionchange"&&(_m.has(me)||Mu(me,!1,ue),Mu(me,!0,ue))});var de=ue.nodeType===9?ue:ue.ownerDocument;de===null||de[Bo]||(de[Bo]=!0,Mu("selectionchange",!1,de))}}function af(ue,de,me,_e){switch(If(de)){case 2:var we=Gm;break;case 8:we=Wm;break;default:we=Yu}me=we.bind(null,de,me,ue),we=void 0,!Qo||de!=="touchstart"&&de!=="touchmove"&&de!=="wheel"||(we=!0),_e?we!==void 0?ue.addEventListener(de,me,{capture:!0,passive:we}):ue.addEventListener(de,me,!0):we!==void 0?ue.addEventListener(de,me,{passive:we}):ue.addEventListener(de,me,!1)}function Iu(ue,de,me,_e,we){var Ee=_e;if((de&1)===0&&(de&2)===0&&_e!==null)e:for(;;){if(_e===null)return;var Re=_e.tag;if(Re===3||Re===4){var We=_e.stateNode.containerInfo;if(We===we)break;if(Re===4)for(Re=_e.return;Re!==null;){var rt=Re.tag;if((rt===3||rt===4)&&Re.stateNode.containerInfo===we)return;Re=Re.return}for(;We!==null;){if(Re=Pt(We),Re===null)return;if(rt=Re.tag,rt===5||rt===6||rt===26||rt===27){_e=Ee=Re;continue e}We=We.parentNode}}_e=_e.return}lc(function(){var mt=Ee,xt=Xo(me),Tt=[];e:{var gt=Lc.get(ue);if(gt!==void 0){var yt=$s,Dt=ue;switch(ue){case"keypress":if(Os(me)===0)break e;case"keydown":case"keyup":yt=hp;break;case"focusin":Dt="focus",yt=rl;break;case"focusout":Dt="blur",yt=rl;break;case"beforeblur":case"afterblur":yt=rl;break;case"click":if(me.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=pp;break;case Mc:case Nc:case Ic:yt=np;break;case Vc:yt=gp;break;case"scroll":case"scrollend":yt=Xf;break;case"wheel":yt=_p;break;case"copy":case"cut":case"paste":yt=ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=fc;break;case"toggle":case"beforetoggle":yt=bp}var zt=(de&4)!==0,pn=!zt&&(ue==="scroll"||ue==="scrollend"),ht=zt?gt!==null?gt+"Capture":null:gt;zt=[];for(var lt=mt,ft;lt!==null;){var vt=lt;if(ft=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||ft===null||ht===null||(vt=$i(lt,ht),vt!=null&&zt.push(bs(lt,vt,ft))),pn)break;lt=lt.return}0<zt.length&&(gt=new yt(gt,Dt,null,me,xt),Tt.push({event:gt,listeners:zt}))}}if((de&7)===0){e:{if(gt=ue==="mouseover"||ue==="pointerover",yt=ue==="mouseout"||ue==="pointerout",gt&&me!==Ko&&(Dt=me.relatedTarget||me.fromElement)&&(Pt(Dt)||Dt[Nr]))break e;if((yt||gt)&&(gt=xt.window===xt?xt:(gt=xt.ownerDocument)?gt.defaultView||gt.parentWindow:window,yt?(Dt=me.relatedTarget||me.toElement,yt=mt,Dt=Dt?Pt(Dt):null,Dt!==null&&(pn=se(Dt),zt=Dt.tag,Dt!==pn||zt!==5&&zt!==27&&zt!==6)&&(Dt=null)):(yt=null,Dt=mt),yt!==Dt)){if(zt=hc,vt="onMouseLeave",ht="onMouseEnter",lt="mouse",(ue==="pointerout"||ue==="pointerover")&&(zt=fc,vt="onPointerLeave",ht="onPointerEnter",lt="pointer"),pn=yt==null?gt:sn(yt),ft=Dt==null?gt:sn(Dt),gt=new zt(vt,lt+"leave",yt,me,xt),gt.target=pn,gt.relatedTarget=ft,vt=null,Pt(xt)===mt&&(zt=new zt(ht,lt+"enter",Dt,me,xt),zt.target=ft,zt.relatedTarget=pn,vt=zt),pn=vt,yt&&Dt)t:{for(zt=xm,ht=yt,lt=Dt,ft=0,vt=ht;vt;vt=zt(vt))ft++;vt=0;for(var $t=lt;$t;$t=zt($t))vt++;for(;0<ft-vt;)ht=zt(ht),ft--;for(;0<vt-ft;)lt=zt(lt),vt--;for(;ft--;){if(ht===lt||lt!==null&&ht===lt.alternate){zt=ht;break t}ht=zt(ht),lt=zt(lt)}zt=null}else zt=null;yt!==null&&sf(Tt,gt,yt,zt,!1),Dt!==null&&pn!==null&&sf(Tt,pn,Dt,zt,!0)}}e:{if(gt=mt?sn(mt):window,yt=gt.nodeName&&gt.nodeName.toLowerCase(),yt==="select"||yt==="input"&&gt.type==="file")var nn=vc;else if(xc(gt))if(Sc)nn=Bp;else{nn=Pp;var Ft=kp}else yt=gt.nodeName,!yt||yt.toLowerCase()!=="input"||gt.type!=="checkbox"&&gt.type!=="radio"?mt&&Jo(mt.elementType)&&(nn=vc):nn=Ap;if(nn&&(nn=nn(ue,mt))){bc(Tt,nn,me,xt);break e}Ft&&Ft(ue,gt,mt),ue==="focusout"&&mt&&gt.type==="number"&&mt.memoizedProps.value!=null&&Yo(gt,"number",gt.value)}switch(Ft=mt?sn(mt):window,ue){case"focusin":(xc(Ft)||Ft.contentEditable==="true")&&(Ya=Ft,ul=mt,Yi=null);break;case"focusout":Yi=ul=Ya=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,Bc(Tt,me,xt);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":Bc(Tt,me,xt)}var Wt;if(il)e:{switch(ue){case"compositionstart":var en="onCompositionStart";break e;case"compositionend":en="onCompositionEnd";break e;case"compositionupdate":en="onCompositionUpdate";break e}en=void 0}else Wa?yc(ue,me)&&(en="onCompositionEnd"):ue==="keydown"&&me.keyCode===229&&(en="onCompositionStart");en&&(pc&&me.locale!=="ko"&&(Wa||en!=="onCompositionStart"?en==="onCompositionEnd"&&Wa&&(Wt=uc()):(ea=xt,el="value"in ea?ea.value:ea.textContent,Wa=!0)),Ft=Ro(mt,en),0<Ft.length&&(en=new dc(en,ue,null,me,xt),Tt.push({event:en,listeners:Ft}),Wt?en.data=Wt:(Wt=_c(me),Wt!==null&&(en.data=Wt)))),(Wt=Sp?wp(ue,me):Tp(ue,me))&&(en=Ro(mt,"onBeforeInput"),0<en.length&&(Ft=new dc("onBeforeInput","beforeinput",null,me,xt),Tt.push({event:Ft,listeners:en}),Ft.data=Wt)),mm(Tt,ue,mt,me,xt)}rf(Tt,de)})}function bs(ue,de,me){return{instance:ue,listener:de,currentTarget:me}}function Ro(ue,de){for(var me=de+"Capture",_e=[];ue!==null;){var we=ue,Ee=we.stateNode;if(we=we.tag,we!==5&&we!==26&&we!==27||Ee===null||(we=$i(ue,me),we!=null&&_e.unshift(bs(ue,we,Ee)),we=$i(ue,de),we!=null&&_e.push(bs(ue,we,Ee))),ue.tag===3)return _e;ue=ue.return}return[]}function xm(ue){if(ue===null)return null;do ue=ue.return;while(ue&&ue.tag!==5&&ue.tag!==27);return ue||null}function sf(ue,de,me,_e,we){for(var Ee=de._reactName,Re=[];me!==null&&me!==_e;){var We=me,rt=We.alternate,mt=We.stateNode;if(We=We.tag,rt!==null&&rt===_e)break;We!==5&&We!==26&&We!==27||mt===null||(rt=mt,we?(mt=$i(me,Ee),mt!=null&&Re.unshift(bs(me,mt,rt))):we||(mt=$i(me,Ee),mt!=null&&Re.push(bs(me,mt,rt)))),me=me.return}Re.length!==0&&ue.push({event:de,listeners:Re})}var bm=/\r\n?/g,vm=/\u0000|\uFFFD/g;function of(ue){return(typeof ue=="string"?ue:""+ue).replace(bm,`
`).replace(vm,"")}function lf(ue,de){return de=of(de),of(ue)===de}function fn(ue,de,me,_e,we,Ee){switch(me){case"children":typeof _e=="string"?de==="body"||de==="textarea"&&_e===""||Ha(ue,_e):(typeof _e=="number"||typeof _e=="bigint")&&de!=="body"&&Ha(ue,""+_e);break;case"className":Is(ue,"class",_e);break;case"tabIndex":Is(ue,"tabindex",_e);break;case"dir":case"role":case"viewBox":case"width":case"height":Is(ue,me,_e);break;case"style":sc(ue,_e,Ee);break;case"data":if(de!=="object"){Is(ue,"data",_e);break}case"src":case"href":if(_e===""&&(de!=="a"||me!=="href")){ue.removeAttribute(me);break}if(_e==null||typeof _e=="function"||typeof _e=="symbol"||typeof _e=="boolean"){ue.removeAttribute(me);break}_e=Ls(""+_e),ue.setAttribute(me,_e);break;case"action":case"formAction":if(typeof _e=="function"){ue.setAttribute(me,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Ee=="function"&&(me==="formAction"?(de!=="input"&&fn(ue,de,"name",we.name,we,null),fn(ue,de,"formEncType",we.formEncType,we,null),fn(ue,de,"formMethod",we.formMethod,we,null),fn(ue,de,"formTarget",we.formTarget,we,null)):(fn(ue,de,"encType",we.encType,we,null),fn(ue,de,"method",we.method,we,null),fn(ue,de,"target",we.target,we,null)));if(_e==null||typeof _e=="symbol"||typeof _e=="boolean"){ue.removeAttribute(me);break}_e=Ls(""+_e),ue.setAttribute(me,_e);break;case"onClick":_e!=null&&(ue.onclick=Vr);break;case"onScroll":_e!=null&&Zt("scroll",ue);break;case"onScrollEnd":_e!=null&&Zt("scrollend",ue);break;case"dangerouslySetInnerHTML":if(_e!=null){if(typeof _e!="object"||!("__html"in _e))throw Error(ae(61));if(me=_e.__html,me!=null){if(we.children!=null)throw Error(ae(60));ue.innerHTML=me}}break;case"multiple":ue.multiple=_e&&typeof _e!="function"&&typeof _e!="symbol";break;case"muted":ue.muted=_e&&typeof _e!="function"&&typeof _e!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_e==null||typeof _e=="function"||typeof _e=="boolean"||typeof _e=="symbol"){ue.removeAttribute("xlink:href");break}me=Ls(""+_e),ue.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",me);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_e!=null&&typeof _e!="function"&&typeof _e!="symbol"?ue.setAttribute(me,""+_e):ue.removeAttribute(me);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_e&&typeof _e!="function"&&typeof _e!="symbol"?ue.setAttribute(me,""):ue.removeAttribute(me);break;case"capture":case"download":_e===!0?ue.setAttribute(me,""):_e!==!1&&_e!=null&&typeof _e!="function"&&typeof _e!="symbol"?ue.setAttribute(me,_e):ue.removeAttribute(me);break;case"cols":case"rows":case"size":case"span":_e!=null&&typeof _e!="function"&&typeof _e!="symbol"&&!isNaN(_e)&&1<=_e?ue.setAttribute(me,_e):ue.removeAttribute(me);break;case"rowSpan":case"start":_e==null||typeof _e=="function"||typeof _e=="symbol"||isNaN(_e)?ue.removeAttribute(me):ue.setAttribute(me,_e);break;case"popover":Zt("beforetoggle",ue),Zt("toggle",ue),Ns(ue,"popover",_e);break;case"xlinkActuate":Ir(ue,"http://www.w3.org/1999/xlink","xlink:actuate",_e);break;case"xlinkArcrole":Ir(ue,"http://www.w3.org/1999/xlink","xlink:arcrole",_e);break;case"xlinkRole":Ir(ue,"http://www.w3.org/1999/xlink","xlink:role",_e);break;case"xlinkShow":Ir(ue,"http://www.w3.org/1999/xlink","xlink:show",_e);break;case"xlinkTitle":Ir(ue,"http://www.w3.org/1999/xlink","xlink:title",_e);break;case"xlinkType":Ir(ue,"http://www.w3.org/1999/xlink","xlink:type",_e);break;case"xmlBase":Ir(ue,"http://www.w3.org/XML/1998/namespace","xml:base",_e);break;case"xmlLang":Ir(ue,"http://www.w3.org/XML/1998/namespace","xml:lang",_e);break;case"xmlSpace":Ir(ue,"http://www.w3.org/XML/1998/namespace","xml:space",_e);break;case"is":Ns(ue,"is",_e);break;case"innerText":case"textContent":break;default:(!(2<me.length)||me[0]!=="o"&&me[0]!=="O"||me[1]!=="n"&&me[1]!=="N")&&(me=Jf.get(me)||me,Ns(ue,me,_e))}}function Vu(ue,de,me,_e,we,Ee){switch(me){case"style":sc(ue,_e,Ee);break;case"dangerouslySetInnerHTML":if(_e!=null){if(typeof _e!="object"||!("__html"in _e))throw Error(ae(61));if(me=_e.__html,me!=null){if(we.children!=null)throw Error(ae(60));ue.innerHTML=me}}break;case"children":typeof _e=="string"?Ha(ue,_e):(typeof _e=="number"||typeof _e=="bigint")&&Ha(ue,""+_e);break;case"onScroll":_e!=null&&Zt("scroll",ue);break;case"onScrollEnd":_e!=null&&Zt("scrollend",ue);break;case"onClick":_e!=null&&(ue.onclick=Vr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ur.hasOwnProperty(me))e:{if(me[0]==="o"&&me[1]==="n"&&(we=me.endsWith("Capture"),de=me.slice(2,we?me.length-7:void 0),Ee=ue[xn]||null,Ee=Ee!=null?Ee[me]:null,typeof Ee=="function"&&ue.removeEventListener(de,Ee,we),typeof _e=="function")){typeof Ee!="function"&&Ee!==null&&(me in ue?ue[me]=null:ue.hasAttribute(me)&&ue.removeAttribute(me)),ue.addEventListener(de,_e,we);break e}me in ue?ue[me]=_e:_e===!0?ue.setAttribute(me,""):Ns(ue,me,_e)}}}function zn(ue,de,me){switch(de){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",ue),Zt("load",ue);var _e=!1,we=!1,Ee;for(Ee in me)if(me.hasOwnProperty(Ee)){var Re=me[Ee];if(Re!=null)switch(Ee){case"src":_e=!0;break;case"srcSet":we=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ae(137,de));default:fn(ue,de,Ee,Re,me,null)}}we&&fn(ue,de,"srcSet",me.srcSet,me,null),_e&&fn(ue,de,"src",me.src,me,null);return;case"input":Zt("invalid",ue);var We=Ee=Re=we=null,rt=null,mt=null;for(_e in me)if(me.hasOwnProperty(_e)){var xt=me[_e];if(xt!=null)switch(_e){case"name":we=xt;break;case"type":Re=xt;break;case"checked":rt=xt;break;case"defaultChecked":mt=xt;break;case"value":Ee=xt;break;case"defaultValue":We=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(ae(137,de));break;default:fn(ue,de,_e,xt,me,null)}}nc(ue,Ee,We,rt,mt,Re,we,!1);return;case"select":Zt("invalid",ue),_e=Re=Ee=null;for(we in me)if(me.hasOwnProperty(we)&&(We=me[we],We!=null))switch(we){case"value":Ee=We;break;case"defaultValue":Re=We;break;case"multiple":_e=We;default:fn(ue,de,we,We,me,null)}de=Ee,me=Re,ue.multiple=!!_e,de!=null?ja(ue,!!_e,de,!1):me!=null&&ja(ue,!!_e,me,!0);return;case"textarea":Zt("invalid",ue),Ee=we=_e=null;for(Re in me)if(me.hasOwnProperty(Re)&&(We=me[Re],We!=null))switch(Re){case"value":_e=We;break;case"defaultValue":we=We;break;case"children":Ee=We;break;case"dangerouslySetInnerHTML":if(We!=null)throw Error(ae(91));break;default:fn(ue,de,Re,We,me,null)}ac(ue,_e,we,Ee);return;case"option":for(rt in me)if(me.hasOwnProperty(rt)&&(_e=me[rt],_e!=null))switch(rt){case"selected":ue.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:fn(ue,de,rt,_e,me,null)}return;case"dialog":Zt("beforetoggle",ue),Zt("toggle",ue),Zt("cancel",ue),Zt("close",ue);break;case"iframe":case"object":Zt("load",ue);break;case"video":case"audio":for(_e=0;_e<xs.length;_e++)Zt(xs[_e],ue);break;case"image":Zt("error",ue),Zt("load",ue);break;case"details":Zt("toggle",ue);break;case"embed":case"source":case"link":Zt("error",ue),Zt("load",ue);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(mt in me)if(me.hasOwnProperty(mt)&&(_e=me[mt],_e!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":throw Error(ae(137,de));default:fn(ue,de,mt,_e,me,null)}return;default:if(Jo(de)){for(xt in me)me.hasOwnProperty(xt)&&(_e=me[xt],_e!==void 0&&Vu(ue,de,xt,_e,me,void 0));return}}for(We in me)me.hasOwnProperty(We)&&(_e=me[We],_e!=null&&fn(ue,de,We,_e,me,null))}function Sm(ue,de,me,_e){switch(de){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var we=null,Ee=null,Re=null,We=null,rt=null,mt=null,xt=null;for(yt in me){var Tt=me[yt];if(me.hasOwnProperty(yt)&&Tt!=null)switch(yt){case"checked":break;case"value":break;case"defaultValue":rt=Tt;default:_e.hasOwnProperty(yt)||fn(ue,de,yt,null,_e,Tt)}}for(var gt in _e){var yt=_e[gt];if(Tt=me[gt],_e.hasOwnProperty(gt)&&(yt!=null||Tt!=null))switch(gt){case"type":Ee=yt;break;case"name":we=yt;break;case"checked":mt=yt;break;case"defaultChecked":xt=yt;break;case"value":Re=yt;break;case"defaultValue":We=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(ae(137,de));break;default:yt!==Tt&&fn(ue,de,gt,yt,_e,Tt)}}Wo(ue,Re,We,rt,mt,xt,Ee,we);return;case"select":yt=Re=We=gt=null;for(Ee in me)if(rt=me[Ee],me.hasOwnProperty(Ee)&&rt!=null)switch(Ee){case"value":break;case"multiple":yt=rt;default:_e.hasOwnProperty(Ee)||fn(ue,de,Ee,null,_e,rt)}for(we in _e)if(Ee=_e[we],rt=me[we],_e.hasOwnProperty(we)&&(Ee!=null||rt!=null))switch(we){case"value":gt=Ee;break;case"defaultValue":We=Ee;break;case"multiple":Re=Ee;default:Ee!==rt&&fn(ue,de,we,Ee,_e,rt)}de=We,me=Re,_e=yt,gt!=null?ja(ue,!!me,gt,!1):!!_e!=!!me&&(de!=null?ja(ue,!!me,de,!0):ja(ue,!!me,me?[]:"",!1));return;case"textarea":yt=gt=null;for(We in me)if(we=me[We],me.hasOwnProperty(We)&&we!=null&&!_e.hasOwnProperty(We))switch(We){case"value":break;case"children":break;default:fn(ue,de,We,null,_e,we)}for(Re in _e)if(we=_e[Re],Ee=me[Re],_e.hasOwnProperty(Re)&&(we!=null||Ee!=null))switch(Re){case"value":gt=we;break;case"defaultValue":yt=we;break;case"children":break;case"dangerouslySetInnerHTML":if(we!=null)throw Error(ae(91));break;default:we!==Ee&&fn(ue,de,Re,we,_e,Ee)}rc(ue,gt,yt);return;case"option":for(var Dt in me)if(gt=me[Dt],me.hasOwnProperty(Dt)&&gt!=null&&!_e.hasOwnProperty(Dt))switch(Dt){case"selected":ue.selected=!1;break;default:fn(ue,de,Dt,null,_e,gt)}for(rt in _e)if(gt=_e[rt],yt=me[rt],_e.hasOwnProperty(rt)&&gt!==yt&&(gt!=null||yt!=null))switch(rt){case"selected":ue.selected=gt&&typeof gt!="function"&&typeof gt!="symbol";break;default:fn(ue,de,rt,gt,_e,yt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in me)gt=me[zt],me.hasOwnProperty(zt)&&gt!=null&&!_e.hasOwnProperty(zt)&&fn(ue,de,zt,null,_e,gt);for(mt in _e)if(gt=_e[mt],yt=me[mt],_e.hasOwnProperty(mt)&&gt!==yt&&(gt!=null||yt!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(ae(137,de));break;default:fn(ue,de,mt,gt,_e,yt)}return;default:if(Jo(de)){for(var pn in me)gt=me[pn],me.hasOwnProperty(pn)&&gt!==void 0&&!_e.hasOwnProperty(pn)&&Vu(ue,de,pn,void 0,_e,gt);for(xt in _e)gt=_e[xt],yt=me[xt],!_e.hasOwnProperty(xt)||gt===yt||gt===void 0&&yt===void 0||Vu(ue,de,xt,gt,_e,yt);return}}for(var ht in me)gt=me[ht],me.hasOwnProperty(ht)&&gt!=null&&!_e.hasOwnProperty(ht)&&fn(ue,de,ht,null,_e,gt);for(Tt in _e)gt=_e[Tt],yt=me[Tt],!_e.hasOwnProperty(Tt)||gt===yt||gt==null&&yt==null||fn(ue,de,Tt,gt,_e,yt)}function uf(ue){switch(ue){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wm(){if(typeof performance.getEntriesByType=="function"){for(var ue=0,de=0,me=performance.getEntriesByType("resource"),_e=0;_e<me.length;_e++){var we=me[_e],Ee=we.transferSize,Re=we.initiatorType,We=we.duration;if(Ee&&We&&uf(Re)){for(Re=0,We=we.responseEnd,_e+=1;_e<me.length;_e++){var rt=me[_e],mt=rt.startTime;if(mt>We)break;var xt=rt.transferSize,Tt=rt.initiatorType;xt&&uf(Tt)&&(rt=rt.responseEnd,Re+=xt*(rt<We?1:(We-mt)/(rt-mt)))}if(--_e,de+=8*(Ee+Re)/(we.duration/1e3),ue++,10<ue)break}}if(0<ue)return de/ue/1e6}return navigator.connection&&(ue=navigator.connection.downlink,typeof ue=="number")?ue:5}var Lu=null,Du=null;function Mo(ue){return ue.nodeType===9?ue:ue.ownerDocument}function cf(ue){switch(ue){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hf(ue,de){if(ue===0)switch(de){case"svg":return 1;case"math":return 2;default:return 0}return ue===1&&de==="foreignObject"?0:ue}function Ou(ue,de){return ue==="textarea"||ue==="noscript"||typeof de.children=="string"||typeof de.children=="number"||typeof de.children=="bigint"||typeof de.dangerouslySetInnerHTML=="object"&&de.dangerouslySetInnerHTML!==null&&de.dangerouslySetInnerHTML.__html!=null}var Fu=null;function Tm(){var ue=window.event;return ue&&ue.type==="popstate"?ue===Fu?!1:(Fu=ue,!0):(Fu=null,!1)}var df=typeof setTimeout=="function"?setTimeout:void 0,Em=typeof clearTimeout=="function"?clearTimeout:void 0,ff=typeof Promise=="function"?Promise:void 0,Cm=typeof queueMicrotask=="function"?queueMicrotask:typeof ff<"u"?function(ue){return ff.resolve(null).then(ue).catch(km)}:df;function km(ue){setTimeout(function(){throw ue})}function ya(ue){return ue==="head"}function pf(ue,de){var me=de,_e=0;do{var we=me.nextSibling;if(ue.removeChild(me),we&&we.nodeType===8)if(me=we.data,me==="/$"||me==="/&"){if(_e===0){ue.removeChild(we),Si(de);return}_e--}else if(me==="$"||me==="$?"||me==="$~"||me==="$!"||me==="&")_e++;else if(me==="html")vs(ue.ownerDocument.documentElement);else if(me==="head"){me=ue.ownerDocument.head,vs(me);for(var Ee=me.firstChild;Ee;){var Re=Ee.nextSibling,We=Ee.nodeName;Ee[Ot]||We==="SCRIPT"||We==="STYLE"||We==="LINK"&&Ee.rel.toLowerCase()==="stylesheet"||me.removeChild(Ee),Ee=Re}}else me==="body"&&vs(ue.ownerDocument.body);me=we}while(me);Si(de)}function mf(ue,de){var me=ue;ue=0;do{var _e=me.nextSibling;if(me.nodeType===1?de?(me._stashedDisplay=me.style.display,me.style.display="none"):(me.style.display=me._stashedDisplay||"",me.getAttribute("style")===""&&me.removeAttribute("style")):me.nodeType===3&&(de?(me._stashedText=me.nodeValue,me.nodeValue=""):me.nodeValue=me._stashedText||""),_e&&_e.nodeType===8)if(me=_e.data,me==="/$"){if(ue===0)break;ue--}else me!=="$"&&me!=="$?"&&me!=="$~"&&me!=="$!"||ue++;me=_e}while(me)}function $u(ue){var de=ue.firstChild;for(de&&de.nodeType===10&&(de=de.nextSibling);de;){var me=de;switch(de=de.nextSibling,me.nodeName){case"HTML":case"HEAD":case"BODY":$u(me),it(me);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(me.rel.toLowerCase()==="stylesheet")continue}ue.removeChild(me)}}function Pm(ue,de,me,_e){for(;ue.nodeType===1;){var we=me;if(ue.nodeName.toLowerCase()!==de.toLowerCase()){if(!_e&&(ue.nodeName!=="INPUT"||ue.type!=="hidden"))break}else if(_e){if(!ue[Ot])switch(de){case"meta":if(!ue.hasAttribute("itemprop"))break;return ue;case"link":if(Ee=ue.getAttribute("rel"),Ee==="stylesheet"&&ue.hasAttribute("data-precedence"))break;if(Ee!==we.rel||ue.getAttribute("href")!==(we.href==null||we.href===""?null:we.href)||ue.getAttribute("crossorigin")!==(we.crossOrigin==null?null:we.crossOrigin)||ue.getAttribute("title")!==(we.title==null?null:we.title))break;return ue;case"style":if(ue.hasAttribute("data-precedence"))break;return ue;case"script":if(Ee=ue.getAttribute("src"),(Ee!==(we.src==null?null:we.src)||ue.getAttribute("type")!==(we.type==null?null:we.type)||ue.getAttribute("crossorigin")!==(we.crossOrigin==null?null:we.crossOrigin))&&Ee&&ue.hasAttribute("async")&&!ue.hasAttribute("itemprop"))break;return ue;default:return ue}}else if(de==="input"&&ue.type==="hidden"){var Ee=we.name==null?null:""+we.name;if(we.type==="hidden"&&ue.getAttribute("name")===Ee)return ue}else return ue;if(ue=xr(ue.nextSibling),ue===null)break}return null}function Am(ue,de,me){if(de==="")return null;for(;ue.nodeType!==3;)if((ue.nodeType!==1||ue.nodeName!=="INPUT"||ue.type!=="hidden")&&!me||(ue=xr(ue.nextSibling),ue===null))return null;return ue}function gf(ue,de){for(;ue.nodeType!==8;)if((ue.nodeType!==1||ue.nodeName!=="INPUT"||ue.type!=="hidden")&&!de||(ue=xr(ue.nextSibling),ue===null))return null;return ue}function Uu(ue){return ue.data==="$?"||ue.data==="$~"}function zu(ue){return ue.data==="$!"||ue.data==="$?"&&ue.ownerDocument.readyState!=="loading"}function Bm(ue,de){var me=ue.ownerDocument;if(ue.data==="$~")ue._reactRetry=de;else if(ue.data!=="$?"||me.readyState!=="loading")de();else{var _e=function(){de(),me.removeEventListener("DOMContentLoaded",_e)};me.addEventListener("DOMContentLoaded",_e),ue._reactRetry=_e}}function xr(ue){for(;ue!=null;ue=ue.nextSibling){var de=ue.nodeType;if(de===1||de===3)break;if(de===8){if(de=ue.data,de==="$"||de==="$!"||de==="$?"||de==="$~"||de==="&"||de==="F!"||de==="F")break;if(de==="/$"||de==="/&")return null}}return ue}var ju=null;function yf(ue){ue=ue.nextSibling;for(var de=0;ue;){if(ue.nodeType===8){var me=ue.data;if(me==="/$"||me==="/&"){if(de===0)return xr(ue.nextSibling);de--}else me!=="$"&&me!=="$!"&&me!=="$?"&&me!=="$~"&&me!=="&"||de++}ue=ue.nextSibling}return null}function _f(ue){ue=ue.previousSibling;for(var de=0;ue;){if(ue.nodeType===8){var me=ue.data;if(me==="$"||me==="$!"||me==="$?"||me==="$~"||me==="&"){if(de===0)return ue;de--}else me!=="/$"&&me!=="/&"||de++}ue=ue.previousSibling}return null}function xf(ue,de,me){switch(de=Mo(me),ue){case"html":if(ue=de.documentElement,!ue)throw Error(ae(452));return ue;case"head":if(ue=de.head,!ue)throw Error(ae(453));return ue;case"body":if(ue=de.body,!ue)throw Error(ae(454));return ue;default:throw Error(ae(451))}}function vs(ue){for(var de=ue.attributes;de.length;)ue.removeAttributeNode(de[0]);it(ue)}var vr=new Map,bf=new Set;function No(ue){return typeof ue.getRootNode=="function"?ue.getRootNode():ue.nodeType===9?ue:ue.ownerDocument}var Xr=He.d;He.d={f:Rm,r:Mm,D:Nm,C:Im,L:Vm,m:Lm,X:Om,S:Dm,M:Fm};function Rm(){var ue=Xr.f(),de=To();return ue||de}function Mm(ue){var de=Lt(ue);de!==null&&de.tag===5&&de.type==="form"?Vh(de):Xr.r(ue)}var xi=typeof document>"u"?null:document;function vf(ue,de,me){var _e=xi;if(_e&&typeof de=="string"&&de){var we=dr(de);we='link[rel="'+ue+'"][href="'+we+'"]',typeof me=="string"&&(we+='[crossorigin="'+me+'"]'),bf.has(we)||(bf.add(we),ue={rel:ue,crossOrigin:me,href:de},_e.querySelector(we)===null&&(de=_e.createElement("link"),zn(de,"link",ue),Jt(de),_e.head.appendChild(de)))}}function Nm(ue){Xr.D(ue),vf("dns-prefetch",ue,null)}function Im(ue,de){Xr.C(ue,de),vf("preconnect",ue,de)}function Vm(ue,de,me){Xr.L(ue,de,me);var _e=xi;if(_e&&ue&&de){var we='link[rel="preload"][as="'+dr(de)+'"]';de==="image"&&me&&me.imageSrcSet?(we+='[imagesrcset="'+dr(me.imageSrcSet)+'"]',typeof me.imageSizes=="string"&&(we+='[imagesizes="'+dr(me.imageSizes)+'"]')):we+='[href="'+dr(ue)+'"]';var Ee=we;switch(de){case"style":Ee=bi(ue);break;case"script":Ee=vi(ue)}vr.has(Ee)||(ue=pe({rel:"preload",href:de==="image"&&me&&me.imageSrcSet?void 0:ue,as:de},me),vr.set(Ee,ue),_e.querySelector(we)!==null||de==="style"&&_e.querySelector(Ss(Ee))||de==="script"&&_e.querySelector(ws(Ee))||(de=_e.createElement("link"),zn(de,"link",ue),Jt(de),_e.head.appendChild(de)))}}function Lm(ue,de){Xr.m(ue,de);var me=xi;if(me&&ue){var _e=de&&typeof de.as=="string"?de.as:"script",we='link[rel="modulepreload"][as="'+dr(_e)+'"][href="'+dr(ue)+'"]',Ee=we;switch(_e){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Ee=vi(ue)}if(!vr.has(Ee)&&(ue=pe({rel:"modulepreload",href:ue},de),vr.set(Ee,ue),me.querySelector(we)===null)){switch(_e){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(me.querySelector(ws(Ee)))return}_e=me.createElement("link"),zn(_e,"link",ue),Jt(_e),me.head.appendChild(_e)}}}function Dm(ue,de,me){Xr.S(ue,de,me);var _e=xi;if(_e&&ue){var we=vn(_e).hoistableStyles,Ee=bi(ue);de=de||"default";var Re=we.get(Ee);if(!Re){var We={loading:0,preload:null};if(Re=_e.querySelector(Ss(Ee)))We.loading=5;else{ue=pe({rel:"stylesheet",href:ue,"data-precedence":de},me),(me=vr.get(Ee))&&Hu(ue,me);var rt=Re=_e.createElement("link");Jt(rt),zn(rt,"link",ue),rt._p=new Promise(function(mt,xt){rt.onload=mt,rt.onerror=xt}),rt.addEventListener("load",function(){We.loading|=1}),rt.addEventListener("error",function(){We.loading|=2}),We.loading|=4,Io(Re,de,_e)}Re={type:"stylesheet",instance:Re,count:1,state:We},we.set(Ee,Re)}}}function Om(ue,de){Xr.X(ue,de);var me=xi;if(me&&ue){var _e=vn(me).hoistableScripts,we=vi(ue),Ee=_e.get(we);Ee||(Ee=me.querySelector(ws(we)),Ee||(ue=pe({src:ue,async:!0},de),(de=vr.get(we))&&qu(ue,de),Ee=me.createElement("script"),Jt(Ee),zn(Ee,"link",ue),me.head.appendChild(Ee)),Ee={type:"script",instance:Ee,count:1,state:null},_e.set(we,Ee))}}function Fm(ue,de){Xr.M(ue,de);var me=xi;if(me&&ue){var _e=vn(me).hoistableScripts,we=vi(ue),Ee=_e.get(we);Ee||(Ee=me.querySelector(ws(we)),Ee||(ue=pe({src:ue,async:!0,type:"module"},de),(de=vr.get(we))&&qu(ue,de),Ee=me.createElement("script"),Jt(Ee),zn(Ee,"link",ue),me.head.appendChild(Ee)),Ee={type:"script",instance:Ee,count:1,state:null},_e.set(we,Ee))}}function Sf(ue,de,me,_e){var we=(we=St.current)?No(we):null;if(!we)throw Error(ae(446));switch(ue){case"meta":case"title":return null;case"style":return typeof me.precedence=="string"&&typeof me.href=="string"?(de=bi(me.href),me=vn(we).hoistableStyles,_e=me.get(de),_e||(_e={type:"style",instance:null,count:0,state:null},me.set(de,_e)),_e):{type:"void",instance:null,count:0,state:null};case"link":if(me.rel==="stylesheet"&&typeof me.href=="string"&&typeof me.precedence=="string"){ue=bi(me.href);var Ee=vn(we).hoistableStyles,Re=Ee.get(ue);if(Re||(we=we.ownerDocument||we,Re={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Ee.set(ue,Re),(Ee=we.querySelector(Ss(ue)))&&!Ee._p&&(Re.instance=Ee,Re.state.loading=5),vr.has(ue)||(me={rel:"preload",as:"style",href:me.href,crossOrigin:me.crossOrigin,integrity:me.integrity,media:me.media,hrefLang:me.hrefLang,referrerPolicy:me.referrerPolicy},vr.set(ue,me),Ee||$m(we,ue,me,Re.state))),de&&_e===null)throw Error(ae(528,""));return Re}if(de&&_e!==null)throw Error(ae(529,""));return null;case"script":return de=me.async,me=me.src,typeof me=="string"&&de&&typeof de!="function"&&typeof de!="symbol"?(de=vi(me),me=vn(we).hoistableScripts,_e=me.get(de),_e||(_e={type:"script",instance:null,count:0,state:null},me.set(de,_e)),_e):{type:"void",instance:null,count:0,state:null};default:throw Error(ae(444,ue))}}function bi(ue){return'href="'+dr(ue)+'"'}function Ss(ue){return'link[rel="stylesheet"]['+ue+"]"}function wf(ue){return pe({},ue,{"data-precedence":ue.precedence,precedence:null})}function $m(ue,de,me,_e){ue.querySelector('link[rel="preload"][as="style"]['+de+"]")?_e.loading=1:(de=ue.createElement("link"),_e.preload=de,de.addEventListener("load",function(){return _e.loading|=1}),de.addEventListener("error",function(){return _e.loading|=2}),zn(de,"link",me),Jt(de),ue.head.appendChild(de))}function vi(ue){return'[src="'+dr(ue)+'"]'}function ws(ue){return"script[async]"+ue}function Tf(ue,de,me){if(de.count++,de.instance===null)switch(de.type){case"style":var _e=ue.querySelector('style[data-href~="'+dr(me.href)+'"]');if(_e)return de.instance=_e,Jt(_e),_e;var we=pe({},me,{"data-href":me.href,"data-precedence":me.precedence,href:null,precedence:null});return _e=(ue.ownerDocument||ue).createElement("style"),Jt(_e),zn(_e,"style",we),Io(_e,me.precedence,ue),de.instance=_e;case"stylesheet":we=bi(me.href);var Ee=ue.querySelector(Ss(we));if(Ee)return de.state.loading|=4,de.instance=Ee,Jt(Ee),Ee;_e=wf(me),(we=vr.get(we))&&Hu(_e,we),Ee=(ue.ownerDocument||ue).createElement("link"),Jt(Ee);var Re=Ee;return Re._p=new Promise(function(We,rt){Re.onload=We,Re.onerror=rt}),zn(Ee,"link",_e),de.state.loading|=4,Io(Ee,me.precedence,ue),de.instance=Ee;case"script":return Ee=vi(me.src),(we=ue.querySelector(ws(Ee)))?(de.instance=we,Jt(we),we):(_e=me,(we=vr.get(Ee))&&(_e=pe({},me),qu(_e,we)),ue=ue.ownerDocument||ue,we=ue.createElement("script"),Jt(we),zn(we,"link",_e),ue.head.appendChild(we),de.instance=we);case"void":return null;default:throw Error(ae(443,de.type))}else de.type==="stylesheet"&&(de.state.loading&4)===0&&(_e=de.instance,de.state.loading|=4,Io(_e,me.precedence,ue));return de.instance}function Io(ue,de,me){for(var _e=me.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),we=_e.length?_e[_e.length-1]:null,Ee=we,Re=0;Re<_e.length;Re++){var We=_e[Re];if(We.dataset.precedence===de)Ee=We;else if(Ee!==we)break}Ee?Ee.parentNode.insertBefore(ue,Ee.nextSibling):(de=me.nodeType===9?me.head:me,de.insertBefore(ue,de.firstChild))}function Hu(ue,de){ue.crossOrigin==null&&(ue.crossOrigin=de.crossOrigin),ue.referrerPolicy==null&&(ue.referrerPolicy=de.referrerPolicy),ue.title==null&&(ue.title=de.title)}function qu(ue,de){ue.crossOrigin==null&&(ue.crossOrigin=de.crossOrigin),ue.referrerPolicy==null&&(ue.referrerPolicy=de.referrerPolicy),ue.integrity==null&&(ue.integrity=de.integrity)}var Vo=null;function Ef(ue,de,me){if(Vo===null){var _e=new Map,we=Vo=new Map;we.set(me,_e)}else we=Vo,_e=we.get(me),_e||(_e=new Map,we.set(me,_e));if(_e.has(ue))return _e;for(_e.set(ue,null),me=me.getElementsByTagName(ue),we=0;we<me.length;we++){var Ee=me[we];if(!(Ee[Ot]||Ee[kn]||ue==="link"&&Ee.getAttribute("rel")==="stylesheet")&&Ee.namespaceURI!=="http://www.w3.org/2000/svg"){var Re=Ee.getAttribute(de)||"";Re=ue+Re;var We=_e.get(Re);We?We.push(Ee):_e.set(Re,[Ee])}}return _e}function Cf(ue,de,me){ue=ue.ownerDocument||ue,ue.head.insertBefore(me,de==="title"?ue.querySelector("head > title"):null)}function Um(ue,de,me){if(me===1||de.itemProp!=null)return!1;switch(ue){case"meta":case"title":return!0;case"style":if(typeof de.precedence!="string"||typeof de.href!="string"||de.href==="")break;return!0;case"link":if(typeof de.rel!="string"||typeof de.href!="string"||de.href===""||de.onLoad||de.onError)break;switch(de.rel){case"stylesheet":return ue=de.disabled,typeof de.precedence=="string"&&ue==null;default:return!0}case"script":if(de.async&&typeof de.async!="function"&&typeof de.async!="symbol"&&!de.onLoad&&!de.onError&&de.src&&typeof de.src=="string")return!0}return!1}function kf(ue){return!(ue.type==="stylesheet"&&(ue.state.loading&3)===0)}function zm(ue,de,me,_e){if(me.type==="stylesheet"&&(typeof _e.media!="string"||matchMedia(_e.media).matches!==!1)&&(me.state.loading&4)===0){if(me.instance===null){var we=bi(_e.href),Ee=de.querySelector(Ss(we));if(Ee){de=Ee._p,de!==null&&typeof de=="object"&&typeof de.then=="function"&&(ue.count++,ue=Lo.bind(ue),de.then(ue,ue)),me.state.loading|=4,me.instance=Ee,Jt(Ee);return}Ee=de.ownerDocument||de,_e=wf(_e),(we=vr.get(we))&&Hu(_e,we),Ee=Ee.createElement("link"),Jt(Ee);var Re=Ee;Re._p=new Promise(function(We,rt){Re.onload=We,Re.onerror=rt}),zn(Ee,"link",_e),me.instance=Ee}ue.stylesheets===null&&(ue.stylesheets=new Map),ue.stylesheets.set(me,de),(de=me.state.preload)&&(me.state.loading&3)===0&&(ue.count++,me=Lo.bind(ue),de.addEventListener("load",me),de.addEventListener("error",me))}}var Gu=0;function jm(ue,de){return ue.stylesheets&&ue.count===0&&Oo(ue,ue.stylesheets),0<ue.count||0<ue.imgCount?function(me){var _e=setTimeout(function(){if(ue.stylesheets&&Oo(ue,ue.stylesheets),ue.unsuspend){var Ee=ue.unsuspend;ue.unsuspend=null,Ee()}},6e4+de);0<ue.imgBytes&&Gu===0&&(Gu=62500*wm());var we=setTimeout(function(){if(ue.waitingForImages=!1,ue.count===0&&(ue.stylesheets&&Oo(ue,ue.stylesheets),ue.unsuspend)){var Ee=ue.unsuspend;ue.unsuspend=null,Ee()}},(ue.imgBytes>Gu?50:800)+de);return ue.unsuspend=me,function(){ue.unsuspend=null,clearTimeout(_e),clearTimeout(we)}}:null}function Lo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oo(this,this.stylesheets);else if(this.unsuspend){var ue=this.unsuspend;this.unsuspend=null,ue()}}}var Do=null;function Oo(ue,de){ue.stylesheets=null,ue.unsuspend!==null&&(ue.count++,Do=new Map,de.forEach(Hm,ue),Do=null,Lo.call(ue))}function Hm(ue,de){if(!(de.state.loading&4)){var me=Do.get(ue);if(me)var _e=me.get(null);else{me=new Map,Do.set(ue,me);for(var we=ue.querySelectorAll("link[data-precedence],style[data-precedence]"),Ee=0;Ee<we.length;Ee++){var Re=we[Ee];(Re.nodeName==="LINK"||Re.getAttribute("media")!=="not all")&&(me.set(Re.dataset.precedence,Re),_e=Re)}_e&&me.set(null,_e)}we=de.instance,Re=we.getAttribute("data-precedence"),Ee=me.get(Re)||_e,Ee===_e&&me.set(null,we),me.set(Re,we),this.count++,_e=Lo.bind(this),we.addEventListener("load",_e),we.addEventListener("error",_e),Ee?Ee.parentNode.insertBefore(we,Ee.nextSibling):(ue=ue.nodeType===9?ue.head:ue,ue.insertBefore(we,ue.firstChild)),de.state.loading|=4}}var Ts={$$typeof:Ce,Provider:null,Consumer:null,_currentValue:qe,_currentValue2:qe,_threadCount:0};function qm(ue,de,me,_e,we,Ee,Re,We,rt){this.tag=1,this.containerInfo=ue,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=_e,this.onUncaughtError=we,this.onCaughtError=Ee,this.onRecoverableError=Re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=rt,this.incompleteTransitions=new Map}function Pf(ue,de,me,_e,we,Ee,Re,We,rt,mt,xt,Tt){return ue=new qm(ue,de,me,Re,rt,mt,xt,Tt,We),de=1,Ee===!0&&(de|=24),Ee=er(3,null,null,de),ue.current=Ee,Ee.stateNode=ue,de=El(),de.refCount++,ue.pooledCache=de,de.refCount++,Ee.memoizedState={element:_e,isDehydrated:me,cache:de},Al(Ee),ue}function Af(ue){return ue?(ue=Xa,ue):Xa}function Bf(ue,de,me,_e,we,Ee){we=Af(we),_e.context===null?_e.context=we:_e.pendingContext=we,_e=sa(de),_e.payload={element:me},Ee=Ee===void 0?null:Ee,Ee!==null&&(_e.callback=Ee),me=oa(ue,_e,de),me!==null&&(Zn(me,ue,de),ts(me,ue,de))}function Rf(ue,de){if(ue=ue.memoizedState,ue!==null&&ue.dehydrated!==null){var me=ue.retryLane;ue.retryLane=me!==0&&me<de?me:de}}function Wu(ue,de){Rf(ue,de),(ue=ue.alternate)&&Rf(ue,de)}function Mf(ue){if(ue.tag===13||ue.tag===31){var de=ka(ue,67108864);de!==null&&Zn(de,ue,67108864),Wu(ue,67108864)}}function Nf(ue){if(ue.tag===13||ue.tag===31){var de=ir();de=qn(de);var me=ka(ue,de);me!==null&&Zn(me,ue,de),Wu(ue,de)}}var Fo=!0;function Gm(ue,de,me,_e){var we=Oe.T;Oe.T=null;var Ee=He.p;try{He.p=2,Yu(ue,de,me,_e)}finally{He.p=Ee,Oe.T=we}}function Wm(ue,de,me,_e){var we=Oe.T;Oe.T=null;var Ee=He.p;try{He.p=8,Yu(ue,de,me,_e)}finally{He.p=Ee,Oe.T=we}}function Yu(ue,de,me,_e){if(Fo){var we=Ju(_e);if(we===null)Iu(ue,de,_e,$o,me),Vf(ue,_e);else if(Jm(we,ue,de,me,_e))_e.stopPropagation();else if(Vf(ue,_e),de&4&&-1<Ym.indexOf(ue)){for(;we!==null;){var Ee=Lt(we);if(Ee!==null)switch(Ee.tag){case 3:if(Ee=Ee.stateNode,Ee.current.memoizedState.isDehydrated){var Re=Vn(Ee.pendingLanes);if(Re!==0){var We=Ee;for(We.pendingLanes|=2,We.entangledLanes|=2;Re;){var rt=1<<31-Ht(Re);We.entanglements[1]|=rt,Re&=~rt}Rr(Ee),(an&6)===0&&(So=It()+500,_s(0))}}break;case 31:case 13:We=ka(Ee,2),We!==null&&Zn(We,Ee,2),To(),Wu(Ee,2)}if(Ee=Ju(_e),Ee===null&&Iu(ue,de,_e,$o,me),Ee===we)break;we=Ee}we!==null&&_e.stopPropagation()}else Iu(ue,de,_e,null,me)}}function Ju(ue){return ue=Xo(ue),Ku(ue)}var $o=null;function Ku(ue){if($o=null,ue=Pt(ue),ue!==null){var de=se(ue);if(de===null)ue=null;else{var me=de.tag;if(me===13){if(ue=oe(de),ue!==null)return ue;ue=null}else if(me===31){if(ue=le(de),ue!==null)return ue;ue=null}else if(me===3){if(de.stateNode.current.memoizedState.isDehydrated)return de.tag===3?de.stateNode.containerInfo:null;ue=null}else de!==ue&&(ue=null)}}return $o=ue,null}function If(ue){switch(ue){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case ct:return 2;case bt:return 8;case Mt:case Ut:return 32;case Yt:return 268435456;default:return 32}default:return 32}}var Xu=!1,_a=null,xa=null,ba=null,Es=new Map,Cs=new Map,va=[],Ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vf(ue,de){switch(ue){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Es.delete(de.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(de.pointerId)}}function ks(ue,de,me,_e,we,Ee){return ue===null||ue.nativeEvent!==Ee?(ue={blockedOn:de,domEventName:me,eventSystemFlags:_e,nativeEvent:Ee,targetContainers:[we]},de!==null&&(de=Lt(de),de!==null&&Mf(de)),ue):(ue.eventSystemFlags|=_e,de=ue.targetContainers,we!==null&&de.indexOf(we)===-1&&de.push(we),ue)}function Jm(ue,de,me,_e,we){switch(de){case"focusin":return _a=ks(_a,ue,de,me,_e,we),!0;case"dragenter":return xa=ks(xa,ue,de,me,_e,we),!0;case"mouseover":return ba=ks(ba,ue,de,me,_e,we),!0;case"pointerover":var Ee=we.pointerId;return Es.set(Ee,ks(Es.get(Ee)||null,ue,de,me,_e,we)),!0;case"gotpointercapture":return Ee=we.pointerId,Cs.set(Ee,ks(Cs.get(Ee)||null,ue,de,me,_e,we)),!0}return!1}function Lf(ue){var de=Pt(ue.target);if(de!==null){var me=se(de);if(me!==null){if(de=me.tag,de===13){if(de=oe(me),de!==null){ue.blockedOn=de,Di(ue.priority,function(){Nf(me)});return}}else if(de===31){if(de=le(me),de!==null){ue.blockedOn=de,Di(ue.priority,function(){Nf(me)});return}}else if(de===3&&me.stateNode.current.memoizedState.isDehydrated){ue.blockedOn=me.tag===3?me.stateNode.containerInfo:null;return}}}ue.blockedOn=null}function Uo(ue){if(ue.blockedOn!==null)return!1;for(var de=ue.targetContainers;0<de.length;){var me=Ju(ue.nativeEvent);if(me===null){me=ue.nativeEvent;var _e=new me.constructor(me.type,me);Ko=_e,me.target.dispatchEvent(_e),Ko=null}else return de=Lt(me),de!==null&&Mf(de),ue.blockedOn=me,!1;de.shift()}return!0}function Df(ue,de,me){Uo(ue)&&me.delete(de)}function Km(){Xu=!1,_a!==null&&Uo(_a)&&(_a=null),xa!==null&&Uo(xa)&&(xa=null),ba!==null&&Uo(ba)&&(ba=null),Es.forEach(Df),Cs.forEach(Df)}function zo(ue,de){ue.blockedOn===de&&(ue.blockedOn=null,Xu||(Xu=!0,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,Km)))}var jo=null;function Of(ue){jo!==ue&&(jo=ue,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,function(){jo===ue&&(jo=null);for(var de=0;de<ue.length;de+=3){var me=ue[de],_e=ue[de+1],we=ue[de+2];if(typeof _e!="function"){if(Ku(_e||me)===null)continue;break}var Ee=Lt(me);Ee!==null&&(ue.splice(de,3),de-=3,Jl(Ee,{pending:!0,data:we,method:me.method,action:_e},_e,we))}}))}function Si(ue){function de(rt){return zo(rt,ue)}_a!==null&&zo(_a,ue),xa!==null&&zo(xa,ue),ba!==null&&zo(ba,ue),Es.forEach(de),Cs.forEach(de);for(var me=0;me<va.length;me++){var _e=va[me];_e.blockedOn===ue&&(_e.blockedOn=null)}for(;0<va.length&&(me=va[0],me.blockedOn===null);)Lf(me),me.blockedOn===null&&va.shift();if(me=(ue.ownerDocument||ue).$$reactFormReplay,me!=null)for(_e=0;_e<me.length;_e+=3){var we=me[_e],Ee=me[_e+1],Re=we[xn]||null;if(typeof Ee=="function")Re||Of(me);else if(Re){var We=null;if(Ee&&Ee.hasAttribute("formAction")){if(we=Ee,Re=Ee[xn]||null)We=Re.formAction;else if(Ku(we)!==null)continue}else We=Re.action;typeof We=="function"?me[_e+1]=We:(me.splice(_e,3),_e-=3),Of(me)}}}function Ff(){function ue(Ee){Ee.canIntercept&&Ee.info==="react-transition"&&Ee.intercept({handler:function(){return new Promise(function(Re){return we=Re})},focusReset:"manual",scroll:"manual"})}function de(){we!==null&&(we(),we=null),_e||setTimeout(me,20)}function me(){if(!_e&&!navigation.transition){var Ee=navigation.currentEntry;Ee&&Ee.url!=null&&navigation.navigate(Ee.url,{state:Ee.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var _e=!1,we=null;return navigation.addEventListener("navigate",ue),navigation.addEventListener("navigatesuccess",de),navigation.addEventListener("navigateerror",de),setTimeout(me,100),function(){_e=!0,navigation.removeEventListener("navigate",ue),navigation.removeEventListener("navigatesuccess",de),navigation.removeEventListener("navigateerror",de),we!==null&&(we(),we=null)}}}function Zu(ue){this._internalRoot=ue}Ho.prototype.render=Zu.prototype.render=function(ue){var de=this._internalRoot;if(de===null)throw Error(ae(409));var me=de.current,_e=ir();Bf(me,_e,ue,de,null,null)},Ho.prototype.unmount=Zu.prototype.unmount=function(){var ue=this._internalRoot;if(ue!==null){this._internalRoot=null;var de=ue.containerInfo;Bf(ue.current,2,null,ue,null,null),To(),de[Nr]=null}};function Ho(ue){this._internalRoot=ue}Ho.prototype.unstable_scheduleHydration=function(ue){if(ue){var de=Li();ue={blockedOn:null,target:ue,priority:de};for(var me=0;me<va.length&&de!==0&&de<va[me].priority;me++);va.splice(me,0,ue),me===0&&Lf(ue)}};var $f=te.version;if($f!=="19.2.1")throw Error(ae(527,$f,"19.2.1"));He.findDOMNode=function(ue){var de=ue._reactInternals;if(de===void 0)throw typeof ue.render=="function"?Error(ae(188)):(ue=Object.keys(ue).join(","),Error(ae(268,ue)));return ue=he(de),ue=ue!==null?fe(ue):null,ue=ue===null?null:ue.stateNode,ue};var Xm={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Oe,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{qt=qo.inject(Xm),on=qo}catch{}}return reactDomClient_production.createRoot=function(ue,de){if(!ie(ue))throw Error(ae(299));var me=!1,_e="",we=qh,Ee=Gh,Re=Wh;return de!=null&&(de.unstable_strictMode===!0&&(me=!0),de.identifierPrefix!==void 0&&(_e=de.identifierPrefix),de.onUncaughtError!==void 0&&(we=de.onUncaughtError),de.onCaughtError!==void 0&&(Ee=de.onCaughtError),de.onRecoverableError!==void 0&&(Re=de.onRecoverableError)),de=Pf(ue,1,!1,null,null,me,_e,null,we,Ee,Re,Ff),ue[Nr]=de.current,Nu(ue),new Zu(de)},reactDomClient_production.hydrateRoot=function(ue,de,me){if(!ie(ue))throw Error(ae(299));var _e=!1,we="",Ee=qh,Re=Gh,We=Wh,rt=null;return me!=null&&(me.unstable_strictMode===!0&&(_e=!0),me.identifierPrefix!==void 0&&(we=me.identifierPrefix),me.onUncaughtError!==void 0&&(Ee=me.onUncaughtError),me.onCaughtError!==void 0&&(Re=me.onCaughtError),me.onRecoverableError!==void 0&&(We=me.onRecoverableError),me.formState!==void 0&&(rt=me.formState)),de=Pf(ue,1,!0,de,me??null,_e,we,rt,Ee,Re,We,Ff),de.context=Af(null),me=de.current,_e=ir(),_e=qn(_e),we=sa(_e),we.callback=null,oa(me,we,_e),me=_e,de.current.lanes=me,Qr(de,me),Rr(de),ue[Nr]=de.current,Nu(ue),new Ho(de)},reactDomClient_production.version="19.2.1",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function ee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ee)}catch(te){console.error(te)}}return ee(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _defaultBaseGeminiUrl,_defaultBaseVertexUrl;function getDefaultBaseUrls(){return{geminiUrl:_defaultBaseGeminiUrl,vertexUrl:_defaultBaseVertexUrl}}function getBaseUrl(ee,te,ne,ae){var ie,se;if(!(ee!=null&&ee.baseUrl)){const oe=getDefaultBaseUrls();return te?(ie=oe.vertexUrl)!==null&&ie!==void 0?ie:ne:(se=oe.geminiUrl)!==null&&se!==void 0?se:ae}return ee.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BaseModule{}function formatMap(ee,te){const ne=/\{([^}]+)\}/g;return ee.replace(ne,(ae,ie)=>{if(Object.prototype.hasOwnProperty.call(te,ie)){const se=te[ie];return se!=null?String(se):""}else throw new Error(`Key '${ie}' not found in valueMap.`)})}function setValueByPath(ee,te,ne){for(let se=0;se<te.length-1;se++){const oe=te[se];if(oe.endsWith("[]")){const le=oe.slice(0,-2);if(!(le in ee))if(Array.isArray(ne))ee[le]=Array.from({length:ne.length},()=>({}));else throw new Error(`Value must be a list given an array path ${oe}`);if(Array.isArray(ee[le])){const ce=ee[le];if(Array.isArray(ne))for(let he=0;he<ce.length;he++){const fe=ce[he];setValueByPath(fe,te.slice(se+1),ne[he])}else for(const he of ce)setValueByPath(he,te.slice(se+1),ne)}return}else if(oe.endsWith("[0]")){const le=oe.slice(0,-3);le in ee||(ee[le]=[{}]);const ce=ee[le];setValueByPath(ce[0],te.slice(se+1),ne);return}(!ee[oe]||typeof ee[oe]!="object")&&(ee[oe]={}),ee=ee[oe]}const ae=te[te.length-1],ie=ee[ae];if(ie!==void 0){if(!ne||typeof ne=="object"&&Object.keys(ne).length===0||ne===ie)return;if(typeof ie=="object"&&typeof ne=="object"&&ie!==null&&ne!==null)Object.assign(ie,ne);else throw new Error(`Cannot set value for an existing key. Key: ${ae}`)}else ae==="_self"&&typeof ne=="object"&&ne!==null&&!Array.isArray(ne)?Object.assign(ee,ne):ee[ae]=ne}function getValueByPath(ee,te,ne=void 0){try{if(te.length===1&&te[0]==="_self")return ee;for(let ae=0;ae<te.length;ae++){if(typeof ee!="object"||ee===null)return ne;const ie=te[ae];if(ie.endsWith("[]")){const se=ie.slice(0,-2);if(se in ee){const oe=ee[se];return Array.isArray(oe)?oe.map(le=>getValueByPath(le,te.slice(ae+1),ne)):ne}else return ne}else ee=ee[ie]}return ee}catch(ae){if(ae instanceof TypeError)return ne;throw ae}}function moveValueByPath(ee,te){for(const[ne,ae]of Object.entries(te)){const ie=ne.split("."),se=ae.split("."),oe=new Set;let le=-1;for(let ce=0;ce<ie.length;ce++)if(ie[ce]==="*"){le=ce;break}if(le!==-1&&se.length>le)for(let ce=le;ce<se.length;ce++){const he=se[ce];he!=="*"&&!he.endsWith("[]")&&!he.endsWith("[0]")&&oe.add(he)}_moveValueRecursive(ee,ie,se,0,oe)}}function _moveValueRecursive(ee,te,ne,ae,ie){if(ae>=te.length||typeof ee!="object"||ee===null)return;const se=te[ae];if(se.endsWith("[]")){const oe=se.slice(0,-2),le=ee;if(oe in le&&Array.isArray(le[oe]))for(const ce of le[oe])_moveValueRecursive(ce,te,ne,ae+1,ie)}else if(se==="*"){if(typeof ee=="object"&&ee!==null&&!Array.isArray(ee)){const oe=ee,le=Object.keys(oe).filter(he=>!he.startsWith("_")&&!ie.has(he)),ce={};for(const he of le)ce[he]=oe[he];for(const[he,fe]of Object.entries(ce)){const pe=[];for(const ge of ne.slice(ae))ge==="*"?pe.push(he):pe.push(ge);setValueByPath(oe,pe,fe)}for(const he of le)delete oe[he]}}else{const oe=ee;se in oe&&_moveValueRecursive(oe[se],te,ne,ae+1,ie)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tBytes$1(ee){if(typeof ee!="string")throw new Error("fromImageBytes must be a string");return ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fetchPredictOperationParametersToVertex(ee){const te={},ne=getValueByPath(ee,["operationName"]);ne!=null&&setValueByPath(te,["operationName"],ne);const ae=getValueByPath(ee,["resourceName"]);return ae!=null&&setValueByPath(te,["_url","resourceName"],ae),te}function generateVideosOperationFromMldev$1(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["metadata"]);ae!=null&&setValueByPath(te,["metadata"],ae);const ie=getValueByPath(ee,["done"]);ie!=null&&setValueByPath(te,["done"],ie);const se=getValueByPath(ee,["error"]);se!=null&&setValueByPath(te,["error"],se);const oe=getValueByPath(ee,["response","generateVideoResponse"]);return oe!=null&&setValueByPath(te,["response"],generateVideosResponseFromMldev$1(oe)),te}function generateVideosOperationFromVertex$1(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["metadata"]);ae!=null&&setValueByPath(te,["metadata"],ae);const ie=getValueByPath(ee,["done"]);ie!=null&&setValueByPath(te,["done"],ie);const se=getValueByPath(ee,["error"]);se!=null&&setValueByPath(te,["error"],se);const oe=getValueByPath(ee,["response"]);return oe!=null&&setValueByPath(te,["response"],generateVideosResponseFromVertex$1(oe)),te}function generateVideosResponseFromMldev$1(ee){const te={},ne=getValueByPath(ee,["generatedSamples"]);if(ne!=null){let se=ne;Array.isArray(se)&&(se=se.map(oe=>generatedVideoFromMldev$1(oe))),setValueByPath(te,["generatedVideos"],se)}const ae=getValueByPath(ee,["raiMediaFilteredCount"]);ae!=null&&setValueByPath(te,["raiMediaFilteredCount"],ae);const ie=getValueByPath(ee,["raiMediaFilteredReasons"]);return ie!=null&&setValueByPath(te,["raiMediaFilteredReasons"],ie),te}function generateVideosResponseFromVertex$1(ee){const te={},ne=getValueByPath(ee,["videos"]);if(ne!=null){let se=ne;Array.isArray(se)&&(se=se.map(oe=>generatedVideoFromVertex$1(oe))),setValueByPath(te,["generatedVideos"],se)}const ae=getValueByPath(ee,["raiMediaFilteredCount"]);ae!=null&&setValueByPath(te,["raiMediaFilteredCount"],ae);const ie=getValueByPath(ee,["raiMediaFilteredReasons"]);return ie!=null&&setValueByPath(te,["raiMediaFilteredReasons"],ie),te}function generatedVideoFromMldev$1(ee){const te={},ne=getValueByPath(ee,["video"]);return ne!=null&&setValueByPath(te,["video"],videoFromMldev$1(ne)),te}function generatedVideoFromVertex$1(ee){const te={},ne=getValueByPath(ee,["_self"]);return ne!=null&&setValueByPath(te,["video"],videoFromVertex$1(ne)),te}function getOperationParametersToMldev(ee){const te={},ne=getValueByPath(ee,["operationName"]);return ne!=null&&setValueByPath(te,["_url","operationName"],ne),te}function getOperationParametersToVertex(ee){const te={},ne=getValueByPath(ee,["operationName"]);return ne!=null&&setValueByPath(te,["_url","operationName"],ne),te}function importFileOperationFromMldev$1(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["metadata"]);ae!=null&&setValueByPath(te,["metadata"],ae);const ie=getValueByPath(ee,["done"]);ie!=null&&setValueByPath(te,["done"],ie);const se=getValueByPath(ee,["error"]);se!=null&&setValueByPath(te,["error"],se);const oe=getValueByPath(ee,["response"]);return oe!=null&&setValueByPath(te,["response"],importFileResponseFromMldev$1(oe)),te}function importFileResponseFromMldev$1(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["parent"]);ae!=null&&setValueByPath(te,["parent"],ae);const ie=getValueByPath(ee,["documentName"]);return ie!=null&&setValueByPath(te,["documentName"],ie),te}function uploadToFileSearchStoreOperationFromMldev(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["metadata"]);ae!=null&&setValueByPath(te,["metadata"],ae);const ie=getValueByPath(ee,["done"]);ie!=null&&setValueByPath(te,["done"],ie);const se=getValueByPath(ee,["error"]);se!=null&&setValueByPath(te,["error"],se);const oe=getValueByPath(ee,["response"]);return oe!=null&&setValueByPath(te,["response"],uploadToFileSearchStoreResponseFromMldev(oe)),te}function uploadToFileSearchStoreResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["parent"]);ae!=null&&setValueByPath(te,["parent"],ae);const ie=getValueByPath(ee,["documentName"]);return ie!=null&&setValueByPath(te,["documentName"],ie),te}function videoFromMldev$1(ee){const te={},ne=getValueByPath(ee,["uri"]);ne!=null&&setValueByPath(te,["uri"],ne);const ae=getValueByPath(ee,["encodedVideo"]);ae!=null&&setValueByPath(te,["videoBytes"],tBytes$1(ae));const ie=getValueByPath(ee,["encoding"]);return ie!=null&&setValueByPath(te,["mimeType"],ie),te}function videoFromVertex$1(ee){const te={},ne=getValueByPath(ee,["gcsUri"]);ne!=null&&setValueByPath(te,["uri"],ne);const ae=getValueByPath(ee,["bytesBase64Encoded"]);ae!=null&&setValueByPath(te,["videoBytes"],tBytes$1(ae));const ie=getValueByPath(ee,["mimeType"]);return ie!=null&&setValueByPath(te,["mimeType"],ie),te}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Outcome;(function(ee){ee.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",ee.OUTCOME_OK="OUTCOME_OK",ee.OUTCOME_FAILED="OUTCOME_FAILED",ee.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Outcome||(Outcome={}));var Language;(function(ee){ee.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",ee.PYTHON="PYTHON"})(Language||(Language={}));var FunctionResponseScheduling;(function(ee){ee.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",ee.SILENT="SILENT",ee.WHEN_IDLE="WHEN_IDLE",ee.INTERRUPT="INTERRUPT"})(FunctionResponseScheduling||(FunctionResponseScheduling={}));var Type$2;(function(ee){ee.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",ee.STRING="STRING",ee.NUMBER="NUMBER",ee.INTEGER="INTEGER",ee.BOOLEAN="BOOLEAN",ee.ARRAY="ARRAY",ee.OBJECT="OBJECT",ee.NULL="NULL"})(Type$2||(Type$2={}));var Mode;(function(ee){ee.MODE_UNSPECIFIED="MODE_UNSPECIFIED",ee.MODE_DYNAMIC="MODE_DYNAMIC"})(Mode||(Mode={}));var ApiSpec;(function(ee){ee.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",ee.SIMPLE_SEARCH="SIMPLE_SEARCH",ee.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ApiSpec||(ApiSpec={}));var AuthType;(function(ee){ee.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",ee.NO_AUTH="NO_AUTH",ee.API_KEY_AUTH="API_KEY_AUTH",ee.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",ee.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",ee.OAUTH="OAUTH",ee.OIDC_AUTH="OIDC_AUTH"})(AuthType||(AuthType={}));var HttpElementLocation;(function(ee){ee.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",ee.HTTP_IN_QUERY="HTTP_IN_QUERY",ee.HTTP_IN_HEADER="HTTP_IN_HEADER",ee.HTTP_IN_PATH="HTTP_IN_PATH",ee.HTTP_IN_BODY="HTTP_IN_BODY",ee.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(HttpElementLocation||(HttpElementLocation={}));var PhishBlockThreshold;(function(ee){ee.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",ee.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",ee.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",ee.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",ee.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",ee.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",ee.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(PhishBlockThreshold||(PhishBlockThreshold={}));var ThinkingLevel;(function(ee){ee.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",ee.LOW="LOW",ee.HIGH="HIGH"})(ThinkingLevel||(ThinkingLevel={}));var HarmCategory;(function(ee){ee.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",ee.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",ee.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",ee.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",ee.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",ee.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",ee.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",ee.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",ee.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",ee.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",ee.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(HarmCategory||(HarmCategory={}));var HarmBlockMethod;(function(ee){ee.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",ee.SEVERITY="SEVERITY",ee.PROBABILITY="PROBABILITY"})(HarmBlockMethod||(HarmBlockMethod={}));var HarmBlockThreshold;(function(ee){ee.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",ee.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",ee.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",ee.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",ee.BLOCK_NONE="BLOCK_NONE",ee.OFF="OFF"})(HarmBlockThreshold||(HarmBlockThreshold={}));var FinishReason;(function(ee){ee.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",ee.STOP="STOP",ee.MAX_TOKENS="MAX_TOKENS",ee.SAFETY="SAFETY",ee.RECITATION="RECITATION",ee.LANGUAGE="LANGUAGE",ee.OTHER="OTHER",ee.BLOCKLIST="BLOCKLIST",ee.PROHIBITED_CONTENT="PROHIBITED_CONTENT",ee.SPII="SPII",ee.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",ee.IMAGE_SAFETY="IMAGE_SAFETY",ee.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",ee.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",ee.NO_IMAGE="NO_IMAGE"})(FinishReason||(FinishReason={}));var HarmProbability;(function(ee){ee.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",ee.NEGLIGIBLE="NEGLIGIBLE",ee.LOW="LOW",ee.MEDIUM="MEDIUM",ee.HIGH="HIGH"})(HarmProbability||(HarmProbability={}));var HarmSeverity;(function(ee){ee.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",ee.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",ee.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",ee.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",ee.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(HarmSeverity||(HarmSeverity={}));var UrlRetrievalStatus;(function(ee){ee.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",ee.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",ee.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",ee.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",ee.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(UrlRetrievalStatus||(UrlRetrievalStatus={}));var BlockedReason;(function(ee){ee.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",ee.SAFETY="SAFETY",ee.OTHER="OTHER",ee.BLOCKLIST="BLOCKLIST",ee.PROHIBITED_CONTENT="PROHIBITED_CONTENT",ee.IMAGE_SAFETY="IMAGE_SAFETY",ee.MODEL_ARMOR="MODEL_ARMOR",ee.JAILBREAK="JAILBREAK"})(BlockedReason||(BlockedReason={}));var TrafficType;(function(ee){ee.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",ee.ON_DEMAND="ON_DEMAND",ee.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(TrafficType||(TrafficType={}));var Modality;(function(ee){ee.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",ee.TEXT="TEXT",ee.IMAGE="IMAGE",ee.AUDIO="AUDIO"})(Modality||(Modality={}));var MediaResolution;(function(ee){ee.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",ee.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",ee.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",ee.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(MediaResolution||(MediaResolution={}));var TuningMode;(function(ee){ee.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",ee.TUNING_MODE_FULL="TUNING_MODE_FULL",ee.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(TuningMode||(TuningMode={}));var AdapterSize;(function(ee){ee.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",ee.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",ee.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",ee.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",ee.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",ee.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",ee.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(AdapterSize||(AdapterSize={}));var JobState;(function(ee){ee.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",ee.JOB_STATE_QUEUED="JOB_STATE_QUEUED",ee.JOB_STATE_PENDING="JOB_STATE_PENDING",ee.JOB_STATE_RUNNING="JOB_STATE_RUNNING",ee.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",ee.JOB_STATE_FAILED="JOB_STATE_FAILED",ee.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",ee.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",ee.JOB_STATE_PAUSED="JOB_STATE_PAUSED",ee.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",ee.JOB_STATE_UPDATING="JOB_STATE_UPDATING",ee.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(JobState||(JobState={}));var TuningTask;(function(ee){ee.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",ee.TUNING_TASK_I2V="TUNING_TASK_I2V",ee.TUNING_TASK_T2V="TUNING_TASK_T2V",ee.TUNING_TASK_R2V="TUNING_TASK_R2V"})(TuningTask||(TuningTask={}));var PartMediaResolutionLevel;(function(ee){ee.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",ee.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",ee.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",ee.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(PartMediaResolutionLevel||(PartMediaResolutionLevel={}));var FeatureSelectionPreference;(function(ee){ee.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",ee.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",ee.BALANCED="BALANCED",ee.PRIORITIZE_COST="PRIORITIZE_COST"})(FeatureSelectionPreference||(FeatureSelectionPreference={}));var Behavior;(function(ee){ee.UNSPECIFIED="UNSPECIFIED",ee.BLOCKING="BLOCKING",ee.NON_BLOCKING="NON_BLOCKING"})(Behavior||(Behavior={}));var DynamicRetrievalConfigMode;(function(ee){ee.MODE_UNSPECIFIED="MODE_UNSPECIFIED",ee.MODE_DYNAMIC="MODE_DYNAMIC"})(DynamicRetrievalConfigMode||(DynamicRetrievalConfigMode={}));var Environment;(function(ee){ee.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",ee.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Environment||(Environment={}));var FunctionCallingConfigMode;(function(ee){ee.MODE_UNSPECIFIED="MODE_UNSPECIFIED",ee.AUTO="AUTO",ee.ANY="ANY",ee.NONE="NONE",ee.VALIDATED="VALIDATED"})(FunctionCallingConfigMode||(FunctionCallingConfigMode={}));var SafetyFilterLevel;(function(ee){ee.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",ee.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",ee.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",ee.BLOCK_NONE="BLOCK_NONE"})(SafetyFilterLevel||(SafetyFilterLevel={}));var PersonGeneration;(function(ee){ee.DONT_ALLOW="DONT_ALLOW",ee.ALLOW_ADULT="ALLOW_ADULT",ee.ALLOW_ALL="ALLOW_ALL"})(PersonGeneration||(PersonGeneration={}));var ImagePromptLanguage;(function(ee){ee.auto="auto",ee.en="en",ee.ja="ja",ee.ko="ko",ee.hi="hi",ee.zh="zh",ee.pt="pt",ee.es="es"})(ImagePromptLanguage||(ImagePromptLanguage={}));var MaskReferenceMode;(function(ee){ee.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",ee.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",ee.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",ee.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",ee.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(MaskReferenceMode||(MaskReferenceMode={}));var ControlReferenceType;(function(ee){ee.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",ee.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",ee.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",ee.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ControlReferenceType||(ControlReferenceType={}));var SubjectReferenceType;(function(ee){ee.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",ee.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",ee.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",ee.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(SubjectReferenceType||(SubjectReferenceType={}));var EditMode;(function(ee){ee.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",ee.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",ee.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",ee.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",ee.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",ee.EDIT_MODE_STYLE="EDIT_MODE_STYLE",ee.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",ee.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(EditMode||(EditMode={}));var SegmentMode;(function(ee){ee.FOREGROUND="FOREGROUND",ee.BACKGROUND="BACKGROUND",ee.PROMPT="PROMPT",ee.SEMANTIC="SEMANTIC",ee.INTERACTIVE="INTERACTIVE"})(SegmentMode||(SegmentMode={}));var VideoGenerationReferenceType;(function(ee){ee.ASSET="ASSET",ee.STYLE="STYLE"})(VideoGenerationReferenceType||(VideoGenerationReferenceType={}));var VideoGenerationMaskMode;(function(ee){ee.INSERT="INSERT",ee.REMOVE="REMOVE",ee.REMOVE_STATIC="REMOVE_STATIC",ee.OUTPAINT="OUTPAINT"})(VideoGenerationMaskMode||(VideoGenerationMaskMode={}));var VideoCompressionQuality;(function(ee){ee.OPTIMIZED="OPTIMIZED",ee.LOSSLESS="LOSSLESS"})(VideoCompressionQuality||(VideoCompressionQuality={}));var TuningMethod;(function(ee){ee.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",ee.PREFERENCE_TUNING="PREFERENCE_TUNING"})(TuningMethod||(TuningMethod={}));var DocumentState;(function(ee){ee.STATE_UNSPECIFIED="STATE_UNSPECIFIED",ee.STATE_PENDING="STATE_PENDING",ee.STATE_ACTIVE="STATE_ACTIVE",ee.STATE_FAILED="STATE_FAILED"})(DocumentState||(DocumentState={}));var FileState;(function(ee){ee.STATE_UNSPECIFIED="STATE_UNSPECIFIED",ee.PROCESSING="PROCESSING",ee.ACTIVE="ACTIVE",ee.FAILED="FAILED"})(FileState||(FileState={}));var FileSource;(function(ee){ee.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",ee.UPLOADED="UPLOADED",ee.GENERATED="GENERATED"})(FileSource||(FileSource={}));var TurnCompleteReason;(function(ee){ee.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",ee.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",ee.RESPONSE_REJECTED="RESPONSE_REJECTED",ee.NEED_MORE_INPUT="NEED_MORE_INPUT"})(TurnCompleteReason||(TurnCompleteReason={}));var MediaModality;(function(ee){ee.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",ee.TEXT="TEXT",ee.IMAGE="IMAGE",ee.VIDEO="VIDEO",ee.AUDIO="AUDIO",ee.DOCUMENT="DOCUMENT"})(MediaModality||(MediaModality={}));var StartSensitivity;(function(ee){ee.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",ee.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",ee.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(StartSensitivity||(StartSensitivity={}));var EndSensitivity;(function(ee){ee.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",ee.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",ee.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(EndSensitivity||(EndSensitivity={}));var ActivityHandling;(function(ee){ee.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",ee.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",ee.NO_INTERRUPTION="NO_INTERRUPTION"})(ActivityHandling||(ActivityHandling={}));var TurnCoverage;(function(ee){ee.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",ee.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",ee.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(TurnCoverage||(TurnCoverage={}));var Scale;(function(ee){ee.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",ee.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",ee.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",ee.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",ee.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",ee.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",ee.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",ee.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",ee.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",ee.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",ee.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",ee.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",ee.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Scale||(Scale={}));var MusicGenerationMode;(function(ee){ee.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",ee.QUALITY="QUALITY",ee.DIVERSITY="DIVERSITY",ee.VOCALIZATION="VOCALIZATION"})(MusicGenerationMode||(MusicGenerationMode={}));var LiveMusicPlaybackControl;(function(ee){ee.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",ee.PLAY="PLAY",ee.PAUSE="PAUSE",ee.STOP="STOP",ee.RESET_CONTEXT="RESET_CONTEXT"})(LiveMusicPlaybackControl||(LiveMusicPlaybackControl={}));class HttpResponse{constructor(te){const ne={};for(const ae of te.headers.entries())ne[ae[0]]=ae[1];this.headers=ne,this.responseInternal=te}json(){return this.responseInternal.json()}}class GenerateContentResponse{get text(){var te,ne,ae,ie,se,oe,le,ce;if(((ie=(ae=(ne=(te=this.candidates)===null||te===void 0?void 0:te[0])===null||ne===void 0?void 0:ne.content)===null||ae===void 0?void 0:ae.parts)===null||ie===void 0?void 0:ie.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let he="",fe=!1;const pe=[];for(const ge of(ce=(le=(oe=(se=this.candidates)===null||se===void 0?void 0:se[0])===null||oe===void 0?void 0:oe.content)===null||le===void 0?void 0:le.parts)!==null&&ce!==void 0?ce:[]){for(const[ye,xe]of Object.entries(ge))ye!=="text"&&ye!=="thought"&&ye!=="thoughtSignature"&&(xe!==null||xe!==void 0)&&pe.push(ye);if(typeof ge.text=="string"){if(typeof ge.thought=="boolean"&&ge.thought)continue;fe=!0,he+=ge.text}}return pe.length>0&&console.warn(`there are non-text parts ${pe} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),fe?he:void 0}get data(){var te,ne,ae,ie,se,oe,le,ce;if(((ie=(ae=(ne=(te=this.candidates)===null||te===void 0?void 0:te[0])===null||ne===void 0?void 0:ne.content)===null||ae===void 0?void 0:ae.parts)===null||ie===void 0?void 0:ie.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let he="";const fe=[];for(const pe of(ce=(le=(oe=(se=this.candidates)===null||se===void 0?void 0:se[0])===null||oe===void 0?void 0:oe.content)===null||le===void 0?void 0:le.parts)!==null&&ce!==void 0?ce:[]){for(const[ge,ye]of Object.entries(pe))ge!=="inlineData"&&(ye!==null||ye!==void 0)&&fe.push(ge);pe.inlineData&&typeof pe.inlineData.data=="string"&&(he+=atob(pe.inlineData.data))}return fe.length>0&&console.warn(`there are non-data parts ${fe} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),he.length>0?btoa(he):void 0}get functionCalls(){var te,ne,ae,ie,se,oe,le,ce;if(((ie=(ae=(ne=(te=this.candidates)===null||te===void 0?void 0:te[0])===null||ne===void 0?void 0:ne.content)===null||ae===void 0?void 0:ae.parts)===null||ie===void 0?void 0:ie.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const he=(ce=(le=(oe=(se=this.candidates)===null||se===void 0?void 0:se[0])===null||oe===void 0?void 0:oe.content)===null||le===void 0?void 0:le.parts)===null||ce===void 0?void 0:ce.filter(fe=>fe.functionCall).map(fe=>fe.functionCall).filter(fe=>fe!==void 0);if((he==null?void 0:he.length)!==0)return he}get executableCode(){var te,ne,ae,ie,se,oe,le,ce,he;if(((ie=(ae=(ne=(te=this.candidates)===null||te===void 0?void 0:te[0])===null||ne===void 0?void 0:ne.content)===null||ae===void 0?void 0:ae.parts)===null||ie===void 0?void 0:ie.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const fe=(ce=(le=(oe=(se=this.candidates)===null||se===void 0?void 0:se[0])===null||oe===void 0?void 0:oe.content)===null||le===void 0?void 0:le.parts)===null||ce===void 0?void 0:ce.filter(pe=>pe.executableCode).map(pe=>pe.executableCode).filter(pe=>pe!==void 0);if((fe==null?void 0:fe.length)!==0)return(he=fe==null?void 0:fe[0])===null||he===void 0?void 0:he.code}get codeExecutionResult(){var te,ne,ae,ie,se,oe,le,ce,he;if(((ie=(ae=(ne=(te=this.candidates)===null||te===void 0?void 0:te[0])===null||ne===void 0?void 0:ne.content)===null||ae===void 0?void 0:ae.parts)===null||ie===void 0?void 0:ie.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const fe=(ce=(le=(oe=(se=this.candidates)===null||se===void 0?void 0:se[0])===null||oe===void 0?void 0:oe.content)===null||le===void 0?void 0:le.parts)===null||ce===void 0?void 0:ce.filter(pe=>pe.codeExecutionResult).map(pe=>pe.codeExecutionResult).filter(pe=>pe!==void 0);if((fe==null?void 0:fe.length)!==0)return(he=fe==null?void 0:fe[0])===null||he===void 0?void 0:he.output}}class EmbedContentResponse{}class GenerateImagesResponse{}class EditImageResponse{}class UpscaleImageResponse{}class RecontextImageResponse{}class SegmentImageResponse{}class ListModelsResponse{}class DeleteModelResponse{}class CountTokensResponse{}class ComputeTokensResponse{}class GenerateVideosOperation{_fromAPIResponse({apiResponse:te,_isVertexAI:ne}){const ae=new GenerateVideosOperation;let ie;const se=te;return ne?ie=generateVideosOperationFromVertex$1(se):ie=generateVideosOperationFromMldev$1(se),Object.assign(ae,ie),ae}}class ListTuningJobsResponse{}class CancelTuningJobResponse{}class DeleteCachedContentResponse{}class ListCachedContentsResponse{}class ListDocumentsResponse{}class ListFileSearchStoresResponse{}class UploadToFileSearchStoreResumableResponse{}class ImportFileOperation{_fromAPIResponse({apiResponse:te,_isVertexAI:ne}){const ae=new ImportFileOperation,se=importFileOperationFromMldev$1(te);return Object.assign(ae,se),ae}}class ListFilesResponse{}class CreateFileResponse{}class DeleteFileResponse{}class ListBatchJobsResponse{}class LiveServerMessage{get text(){var te,ne,ae;let ie="",se=!1;const oe=[];for(const le of(ae=(ne=(te=this.serverContent)===null||te===void 0?void 0:te.modelTurn)===null||ne===void 0?void 0:ne.parts)!==null&&ae!==void 0?ae:[]){for(const[ce,he]of Object.entries(le))ce!=="text"&&ce!=="thought"&&he!==null&&oe.push(ce);if(typeof le.text=="string"){if(typeof le.thought=="boolean"&&le.thought)continue;se=!0,ie+=le.text}}return oe.length>0&&console.warn(`there are non-text parts ${oe} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),se?ie:void 0}get data(){var te,ne,ae;let ie="";const se=[];for(const oe of(ae=(ne=(te=this.serverContent)===null||te===void 0?void 0:te.modelTurn)===null||ne===void 0?void 0:ne.parts)!==null&&ae!==void 0?ae:[]){for(const[le,ce]of Object.entries(oe))le!=="inlineData"&&ce!==null&&se.push(le);oe.inlineData&&typeof oe.inlineData.data=="string"&&(ie+=atob(oe.inlineData.data))}return se.length>0&&console.warn(`there are non-data parts ${se} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),ie.length>0?btoa(ie):void 0}}class LiveMusicServerMessage{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class UploadToFileSearchStoreOperation{_fromAPIResponse({apiResponse:te,_isVertexAI:ne}){const ae=new UploadToFileSearchStoreOperation,se=uploadToFileSearchStoreOperationFromMldev(te);return Object.assign(ae,se),ae}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tModel(ee,te){if(!te||typeof te!="string")throw new Error("model is required and must be a string");if(te.includes("..")||te.includes("?")||te.includes("&"))throw new Error("invalid model parameter");if(ee.isVertexAI()){if(te.startsWith("publishers/")||te.startsWith("projects/")||te.startsWith("models/"))return te;if(te.indexOf("/")>=0){const ne=te.split("/",2);return`publishers/${ne[0]}/models/${ne[1]}`}else return`publishers/google/models/${te}`}else return te.startsWith("models/")||te.startsWith("tunedModels/")?te:`models/${te}`}function tCachesModel(ee,te){const ne=tModel(ee,te);return ne?ne.startsWith("publishers/")&&ee.isVertexAI()?`projects/${ee.getProject()}/locations/${ee.getLocation()}/${ne}`:ne.startsWith("models/")&&ee.isVertexAI()?`projects/${ee.getProject()}/locations/${ee.getLocation()}/publishers/google/${ne}`:ne:""}function tBlobs(ee){return Array.isArray(ee)?ee.map(te=>tBlob(te)):[tBlob(ee)]}function tBlob(ee){if(typeof ee=="object"&&ee!==null)return ee;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof ee}`)}function tImageBlob(ee){const te=tBlob(ee);if(te.mimeType&&te.mimeType.startsWith("image/"))return te;throw new Error(`Unsupported mime type: ${te.mimeType}`)}function tAudioBlob(ee){const te=tBlob(ee);if(te.mimeType&&te.mimeType.startsWith("audio/"))return te;throw new Error(`Unsupported mime type: ${te.mimeType}`)}function tPart(ee){if(ee==null)throw new Error("PartUnion is required");if(typeof ee=="object")return ee;if(typeof ee=="string")return{text:ee};throw new Error(`Unsupported part type: ${typeof ee}`)}function tParts(ee){if(ee==null||Array.isArray(ee)&&ee.length===0)throw new Error("PartListUnion is required");return Array.isArray(ee)?ee.map(te=>tPart(te)):[tPart(ee)]}function _isContent(ee){return ee!=null&&typeof ee=="object"&&"parts"in ee&&Array.isArray(ee.parts)}function _isFunctionCallPart(ee){return ee!=null&&typeof ee=="object"&&"functionCall"in ee}function _isFunctionResponsePart(ee){return ee!=null&&typeof ee=="object"&&"functionResponse"in ee}function tContent(ee){if(ee==null)throw new Error("ContentUnion is required");return _isContent(ee)?ee:{role:"user",parts:tParts(ee)}}function tContentsForEmbed(ee,te){if(!te)return[];if(ee.isVertexAI()&&Array.isArray(te))return te.flatMap(ne=>{const ae=tContent(ne);return ae.parts&&ae.parts.length>0&&ae.parts[0].text!==void 0?[ae.parts[0].text]:[]});if(ee.isVertexAI()){const ne=tContent(te);return ne.parts&&ne.parts.length>0&&ne.parts[0].text!==void 0?[ne.parts[0].text]:[]}return Array.isArray(te)?te.map(ne=>tContent(ne)):[tContent(te)]}function tContents(ee){if(ee==null||Array.isArray(ee)&&ee.length===0)throw new Error("contents are required");if(!Array.isArray(ee)){if(_isFunctionCallPart(ee)||_isFunctionResponsePart(ee))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tContent(ee)]}const te=[],ne=[],ae=_isContent(ee[0]);for(const ie of ee){const se=_isContent(ie);if(se!=ae)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(se)te.push(ie);else{if(_isFunctionCallPart(ie)||_isFunctionResponsePart(ie))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");ne.push(ie)}}return ae||te.push({role:"user",parts:tParts(ne)}),te}function flattenTypeArrayToAnyOf(ee,te){ee.includes("null")&&(te.nullable=!0);const ne=ee.filter(ae=>ae!=="null");if(ne.length===1)te.type=Object.values(Type$2).includes(ne[0].toUpperCase())?ne[0].toUpperCase():Type$2.TYPE_UNSPECIFIED;else{te.anyOf=[];for(const ae of ne)te.anyOf.push({type:Object.values(Type$2).includes(ae.toUpperCase())?ae.toUpperCase():Type$2.TYPE_UNSPECIFIED})}}function processJsonSchema(ee){const te={},ne=["items"],ae=["anyOf"],ie=["properties"];if(ee.type&&ee.anyOf)throw new Error("type and anyOf cannot be both populated.");const se=ee.anyOf;se!=null&&se.length==2&&(se[0].type==="null"?(te.nullable=!0,ee=se[1]):se[1].type==="null"&&(te.nullable=!0,ee=se[0])),ee.type instanceof Array&&flattenTypeArrayToAnyOf(ee.type,te);for(const[oe,le]of Object.entries(ee))if(le!=null)if(oe=="type"){if(le==="null")throw new Error("type: null can not be the only possible type for the field.");if(le instanceof Array)continue;te.type=Object.values(Type$2).includes(le.toUpperCase())?le.toUpperCase():Type$2.TYPE_UNSPECIFIED}else if(ne.includes(oe))te[oe]=processJsonSchema(le);else if(ae.includes(oe)){const ce=[];for(const he of le){if(he.type=="null"){te.nullable=!0;continue}ce.push(processJsonSchema(he))}te[oe]=ce}else if(ie.includes(oe)){const ce={};for(const[he,fe]of Object.entries(le))ce[he]=processJsonSchema(fe);te[oe]=ce}else{if(oe==="additionalProperties")continue;te[oe]=le}return te}function tSchema(ee){return processJsonSchema(ee)}function tSpeechConfig(ee){if(typeof ee=="object")return ee;if(typeof ee=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:ee}}};throw new Error(`Unsupported speechConfig type: ${typeof ee}`)}function tLiveSpeechConfig(ee){if("multiSpeakerVoiceConfig"in ee)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return ee}function tTool(ee){if(ee.functionDeclarations)for(const te of ee.functionDeclarations)te.parameters&&(Object.keys(te.parameters).includes("$schema")?te.parametersJsonSchema||(te.parametersJsonSchema=te.parameters,delete te.parameters):te.parameters=processJsonSchema(te.parameters)),te.response&&(Object.keys(te.response).includes("$schema")?te.responseJsonSchema||(te.responseJsonSchema=te.response,delete te.response):te.response=processJsonSchema(te.response));return ee}function tTools(ee){if(ee==null)throw new Error("tools is required");if(!Array.isArray(ee))throw new Error("tools is required and must be an array of Tools");const te=[];for(const ne of ee)te.push(ne);return te}function resourceName(ee,te,ne,ae=1){const ie=!te.startsWith(`${ne}/`)&&te.split("/").length===ae;return ee.isVertexAI()?te.startsWith("projects/")?te:te.startsWith("locations/")?`projects/${ee.getProject()}/${te}`:te.startsWith(`${ne}/`)?`projects/${ee.getProject()}/locations/${ee.getLocation()}/${te}`:ie?`projects/${ee.getProject()}/locations/${ee.getLocation()}/${ne}/${te}`:te:ie?`${ne}/${te}`:te}function tCachedContentName(ee,te){if(typeof te!="string")throw new Error("name must be a string");return resourceName(ee,te,"cachedContents")}function tTuningJobStatus(ee){switch(ee){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return ee}}function tBytes(ee){return tBytes$1(ee)}function _isFile(ee){return ee!=null&&typeof ee=="object"&&"name"in ee}function isGeneratedVideo(ee){return ee!=null&&typeof ee=="object"&&"video"in ee}function isVideo(ee){return ee!=null&&typeof ee=="object"&&"uri"in ee}function tFileName(ee){var te;let ne;if(_isFile(ee)&&(ne=ee.name),!(isVideo(ee)&&(ne=ee.uri,ne===void 0))&&!(isGeneratedVideo(ee)&&(ne=(te=ee.video)===null||te===void 0?void 0:te.uri,ne===void 0))){if(typeof ee=="string"&&(ne=ee),ne===void 0)throw new Error("Could not extract file name from the provided input.");if(ne.startsWith("https://")){const ie=ne.split("files/")[1].match(/[a-z0-9]+/);if(ie===null)throw new Error(`Could not extract file name from URI ${ne}`);ne=ie[0]}else ne.startsWith("files/")&&(ne=ne.split("files/")[1]);return ne}}function tModelsUrl(ee,te){let ne;return ee.isVertexAI()?ne=te?"publishers/google/models":"models":ne=te?"models":"tunedModels",ne}function tExtractModels(ee){for(const te of["models","tunedModels","publisherModels"])if(hasField(ee,te))return ee[te];return[]}function hasField(ee,te){return ee!==null&&typeof ee=="object"&&te in ee}function mcpToGeminiTool(ee,te={}){const ne=ee,ae={name:ne.name,description:ne.description,parametersJsonSchema:ne.inputSchema};return ne.outputSchema&&(ae.responseJsonSchema=ne.outputSchema),te.behavior&&(ae.behavior=te.behavior),{functionDeclarations:[ae]}}function mcpToolsToGeminiTool(ee,te={}){const ne=[],ae=new Set;for(const ie of ee){const se=ie.name;if(ae.has(se))throw new Error(`Duplicate function name ${se} found in MCP tools. Please ensure function names are unique.`);ae.add(se);const oe=mcpToGeminiTool(ie,te);oe.functionDeclarations&&ne.push(...oe.functionDeclarations)}return{functionDeclarations:ne}}function tBatchJobSource(ee,te){let ne;if(typeof te=="string")if(ee.isVertexAI())if(te.startsWith("gs://"))ne={format:"jsonl",gcsUri:[te]};else if(te.startsWith("bq://"))ne={format:"bigquery",bigqueryUri:te};else throw new Error(`Unsupported string source for Vertex AI: ${te}`);else if(te.startsWith("files/"))ne={fileName:te};else throw new Error(`Unsupported string source for Gemini API: ${te}`);else if(Array.isArray(te)){if(ee.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");ne={inlinedRequests:te}}else ne=te;const ae=[ne.gcsUri,ne.bigqueryUri].filter(Boolean).length,ie=[ne.inlinedRequests,ne.fileName].filter(Boolean).length;if(ee.isVertexAI()){if(ie>0||ae!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(ae>0||ie!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return ne}function tBatchJobDestination(ee){if(typeof ee!="string")return ee;const te=ee;if(te.startsWith("gs://"))return{format:"jsonl",gcsUri:te};if(te.startsWith("bq://"))return{format:"bigquery",bigqueryUri:te};throw new Error(`Unsupported destination: ${te}`)}function tRecvBatchJobDestination(ee){if(typeof ee!="object"||ee===null)return{};const te=ee,ne=te.inlinedResponses;if(typeof ne!="object"||ne===null)return ee;const ie=ne.inlinedResponses;if(!Array.isArray(ie)||ie.length===0)return ee;let se=!1;for(const oe of ie){if(typeof oe!="object"||oe===null)continue;const ce=oe.response;if(typeof ce!="object"||ce===null)continue;if(ce.embedding!==void 0){se=!0;break}}return se&&(te.inlinedEmbedContentResponses=te.inlinedResponses,delete te.inlinedResponses),ee}function tBatchJobName(ee,te){const ne=te;if(!ee.isVertexAI()){if(/batches\/[^/]+$/.test(ne))return ne.split("/").pop();throw new Error(`Invalid batch job name: ${ne}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(ne))return ne.split("/").pop();if(/^\d+$/.test(ne))return ne;throw new Error(`Invalid batch job name: ${ne}.`)}function tJobState(ee){const te=ee;return te==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":te==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":te==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":te==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":te==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":te==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":te==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":te}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function batchJobDestinationFromMldev(ee){const te={},ne=getValueByPath(ee,["responsesFile"]);ne!=null&&setValueByPath(te,["fileName"],ne);const ae=getValueByPath(ee,["inlinedResponses","inlinedResponses"]);if(ae!=null){let se=ae;Array.isArray(se)&&(se=se.map(oe=>inlinedResponseFromMldev(oe))),setValueByPath(te,["inlinedResponses"],se)}const ie=getValueByPath(ee,["inlinedEmbedContentResponses","inlinedResponses"]);if(ie!=null){let se=ie;Array.isArray(se)&&(se=se.map(oe=>oe)),setValueByPath(te,["inlinedEmbedContentResponses"],se)}return te}function batchJobDestinationFromVertex(ee){const te={},ne=getValueByPath(ee,["predictionsFormat"]);ne!=null&&setValueByPath(te,["format"],ne);const ae=getValueByPath(ee,["gcsDestination","outputUriPrefix"]);ae!=null&&setValueByPath(te,["gcsUri"],ae);const ie=getValueByPath(ee,["bigqueryDestination","outputUri"]);return ie!=null&&setValueByPath(te,["bigqueryUri"],ie),te}function batchJobDestinationToVertex(ee){const te={},ne=getValueByPath(ee,["format"]);ne!=null&&setValueByPath(te,["predictionsFormat"],ne);const ae=getValueByPath(ee,["gcsUri"]);ae!=null&&setValueByPath(te,["gcsDestination","outputUriPrefix"],ae);const ie=getValueByPath(ee,["bigqueryUri"]);if(ie!=null&&setValueByPath(te,["bigqueryDestination","outputUri"],ie),getValueByPath(ee,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(getValueByPath(ee,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(getValueByPath(ee,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return te}function batchJobFromMldev(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["metadata","displayName"]);ae!=null&&setValueByPath(te,["displayName"],ae);const ie=getValueByPath(ee,["metadata","state"]);ie!=null&&setValueByPath(te,["state"],tJobState(ie));const se=getValueByPath(ee,["metadata","createTime"]);se!=null&&setValueByPath(te,["createTime"],se);const oe=getValueByPath(ee,["metadata","endTime"]);oe!=null&&setValueByPath(te,["endTime"],oe);const le=getValueByPath(ee,["metadata","updateTime"]);le!=null&&setValueByPath(te,["updateTime"],le);const ce=getValueByPath(ee,["metadata","model"]);ce!=null&&setValueByPath(te,["model"],ce);const he=getValueByPath(ee,["metadata","output"]);return he!=null&&setValueByPath(te,["dest"],batchJobDestinationFromMldev(tRecvBatchJobDestination(he))),te}function batchJobFromVertex(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["displayName"]);ae!=null&&setValueByPath(te,["displayName"],ae);const ie=getValueByPath(ee,["state"]);ie!=null&&setValueByPath(te,["state"],tJobState(ie));const se=getValueByPath(ee,["error"]);se!=null&&setValueByPath(te,["error"],se);const oe=getValueByPath(ee,["createTime"]);oe!=null&&setValueByPath(te,["createTime"],oe);const le=getValueByPath(ee,["startTime"]);le!=null&&setValueByPath(te,["startTime"],le);const ce=getValueByPath(ee,["endTime"]);ce!=null&&setValueByPath(te,["endTime"],ce);const he=getValueByPath(ee,["updateTime"]);he!=null&&setValueByPath(te,["updateTime"],he);const fe=getValueByPath(ee,["model"]);fe!=null&&setValueByPath(te,["model"],fe);const pe=getValueByPath(ee,["inputConfig"]);pe!=null&&setValueByPath(te,["src"],batchJobSourceFromVertex(pe));const ge=getValueByPath(ee,["outputConfig"]);ge!=null&&setValueByPath(te,["dest"],batchJobDestinationFromVertex(tRecvBatchJobDestination(ge)));const ye=getValueByPath(ee,["completionStats"]);return ye!=null&&setValueByPath(te,["completionStats"],ye),te}function batchJobSourceFromVertex(ee){const te={},ne=getValueByPath(ee,["instancesFormat"]);ne!=null&&setValueByPath(te,["format"],ne);const ae=getValueByPath(ee,["gcsSource","uris"]);ae!=null&&setValueByPath(te,["gcsUri"],ae);const ie=getValueByPath(ee,["bigquerySource","inputUri"]);return ie!=null&&setValueByPath(te,["bigqueryUri"],ie),te}function batchJobSourceToMldev(ee,te){const ne={};if(getValueByPath(te,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(getValueByPath(te,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(getValueByPath(te,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const ae=getValueByPath(te,["fileName"]);ae!=null&&setValueByPath(ne,["fileName"],ae);const ie=getValueByPath(te,["inlinedRequests"]);if(ie!=null){let se=ie;Array.isArray(se)&&(se=se.map(oe=>inlinedRequestToMldev(ee,oe))),setValueByPath(ne,["requests","requests"],se)}return ne}function batchJobSourceToVertex(ee){const te={},ne=getValueByPath(ee,["format"]);ne!=null&&setValueByPath(te,["instancesFormat"],ne);const ae=getValueByPath(ee,["gcsUri"]);ae!=null&&setValueByPath(te,["gcsSource","uris"],ae);const ie=getValueByPath(ee,["bigqueryUri"]);if(ie!=null&&setValueByPath(te,["bigquerySource","inputUri"],ie),getValueByPath(ee,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(getValueByPath(ee,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return te}function blobToMldev$4(ee){const te={},ne=getValueByPath(ee,["data"]);if(ne!=null&&setValueByPath(te,["data"],ne),getValueByPath(ee,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function cancelBatchJobParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],tBatchJobName(ee,ae)),ne}function cancelBatchJobParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],tBatchJobName(ee,ae)),ne}function candidateFromMldev$1(ee){const te={},ne=getValueByPath(ee,["content"]);ne!=null&&setValueByPath(te,["content"],ne);const ae=getValueByPath(ee,["citationMetadata"]);ae!=null&&setValueByPath(te,["citationMetadata"],citationMetadataFromMldev$1(ae));const ie=getValueByPath(ee,["tokenCount"]);ie!=null&&setValueByPath(te,["tokenCount"],ie);const se=getValueByPath(ee,["finishReason"]);se!=null&&setValueByPath(te,["finishReason"],se);const oe=getValueByPath(ee,["avgLogprobs"]);oe!=null&&setValueByPath(te,["avgLogprobs"],oe);const le=getValueByPath(ee,["groundingMetadata"]);le!=null&&setValueByPath(te,["groundingMetadata"],le);const ce=getValueByPath(ee,["index"]);ce!=null&&setValueByPath(te,["index"],ce);const he=getValueByPath(ee,["logprobsResult"]);he!=null&&setValueByPath(te,["logprobsResult"],he);const fe=getValueByPath(ee,["safetyRatings"]);if(fe!=null){let ge=fe;Array.isArray(ge)&&(ge=ge.map(ye=>ye)),setValueByPath(te,["safetyRatings"],ge)}const pe=getValueByPath(ee,["urlContextMetadata"]);return pe!=null&&setValueByPath(te,["urlContextMetadata"],pe),te}function citationMetadataFromMldev$1(ee){const te={},ne=getValueByPath(ee,["citationSources"]);if(ne!=null){let ae=ne;Array.isArray(ae)&&(ae=ae.map(ie=>ie)),setValueByPath(te,["citations"],ae)}return te}function contentToMldev$4(ee){const te={},ne=getValueByPath(ee,["parts"]);if(ne!=null){let ie=ne;Array.isArray(ie)&&(ie=ie.map(se=>partToMldev$4(se))),setValueByPath(te,["parts"],ie)}const ae=getValueByPath(ee,["role"]);return ae!=null&&setValueByPath(te,["role"],ae),te}function createBatchJobConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["displayName"]);if(te!==void 0&&ae!=null&&setValueByPath(te,["batch","displayName"],ae),getValueByPath(ee,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return ne}function createBatchJobConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["displayName"]);te!==void 0&&ae!=null&&setValueByPath(te,["displayName"],ae);const ie=getValueByPath(ee,["dest"]);return te!==void 0&&ie!=null&&setValueByPath(te,["outputConfig"],batchJobDestinationToVertex(tBatchJobDestination(ie))),ne}function createBatchJobParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["src"]);ie!=null&&setValueByPath(ne,["batch","inputConfig"],batchJobSourceToMldev(ee,tBatchJobSource(ee,ie)));const se=getValueByPath(te,["config"]);return se!=null&&createBatchJobConfigToMldev(se,ne),ne}function createBatchJobParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["model"],tModel(ee,ae));const ie=getValueByPath(te,["src"]);ie!=null&&setValueByPath(ne,["inputConfig"],batchJobSourceToVertex(tBatchJobSource(ee,ie)));const se=getValueByPath(te,["config"]);return se!=null&&createBatchJobConfigToVertex(se,ne),ne}function createEmbeddingsBatchJobConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["displayName"]);return te!==void 0&&ae!=null&&setValueByPath(te,["batch","displayName"],ae),ne}function createEmbeddingsBatchJobParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["src"]);ie!=null&&setValueByPath(ne,["batch","inputConfig"],embeddingsBatchJobSourceToMldev(ee,ie));const se=getValueByPath(te,["config"]);return se!=null&&createEmbeddingsBatchJobConfigToMldev(se,ne),ne}function deleteBatchJobParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],tBatchJobName(ee,ae)),ne}function deleteBatchJobParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],tBatchJobName(ee,ae)),ne}function deleteResourceJobFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["name"]);ae!=null&&setValueByPath(te,["name"],ae);const ie=getValueByPath(ee,["done"]);ie!=null&&setValueByPath(te,["done"],ie);const se=getValueByPath(ee,["error"]);return se!=null&&setValueByPath(te,["error"],se),te}function deleteResourceJobFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["name"]);ae!=null&&setValueByPath(te,["name"],ae);const ie=getValueByPath(ee,["done"]);ie!=null&&setValueByPath(te,["done"],ie);const se=getValueByPath(ee,["error"]);return se!=null&&setValueByPath(te,["error"],se),te}function embedContentBatchToMldev(ee,te){const ne={},ae=getValueByPath(te,["contents"]);if(ae!=null){let se=tContentsForEmbed(ee,ae);Array.isArray(se)&&(se=se.map(oe=>oe)),setValueByPath(ne,["requests[]","request","content"],se)}const ie=getValueByPath(te,["config"]);return ie!=null&&(setValueByPath(ne,["_self"],embedContentConfigToMldev$1(ie,ne)),moveValueByPath(ne,{"requests[].*":"requests[].request.*"})),ne}function embedContentConfigToMldev$1(ee,te){const ne={},ae=getValueByPath(ee,["taskType"]);te!==void 0&&ae!=null&&setValueByPath(te,["requests[]","taskType"],ae);const ie=getValueByPath(ee,["title"]);te!==void 0&&ie!=null&&setValueByPath(te,["requests[]","title"],ie);const se=getValueByPath(ee,["outputDimensionality"]);if(te!==void 0&&se!=null&&setValueByPath(te,["requests[]","outputDimensionality"],se),getValueByPath(ee,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(getValueByPath(ee,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return ne}function embeddingsBatchJobSourceToMldev(ee,te){const ne={},ae=getValueByPath(te,["fileName"]);ae!=null&&setValueByPath(ne,["file_name"],ae);const ie=getValueByPath(te,["inlinedRequests"]);return ie!=null&&setValueByPath(ne,["requests"],embedContentBatchToMldev(ee,ie)),ne}function fileDataToMldev$4(ee){const te={};if(getValueByPath(ee,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["fileUri"]);ne!=null&&setValueByPath(te,["fileUri"],ne);const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function functionCallToMldev$4(ee){const te={},ne=getValueByPath(ee,["id"]);ne!=null&&setValueByPath(te,["id"],ne);const ae=getValueByPath(ee,["args"]);ae!=null&&setValueByPath(te,["args"],ae);const ie=getValueByPath(ee,["name"]);if(ie!=null&&setValueByPath(te,["name"],ie),getValueByPath(ee,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(getValueByPath(ee,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return te}function functionCallingConfigToMldev$2(ee){const te={},ne=getValueByPath(ee,["mode"]);ne!=null&&setValueByPath(te,["mode"],ne);const ae=getValueByPath(ee,["allowedFunctionNames"]);if(ae!=null&&setValueByPath(te,["allowedFunctionNames"],ae),getValueByPath(ee,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return te}function generateContentConfigToMldev$1(ee,te,ne){const ae={},ie=getValueByPath(te,["systemInstruction"]);ne!==void 0&&ie!=null&&setValueByPath(ne,["systemInstruction"],contentToMldev$4(tContent(ie)));const se=getValueByPath(te,["temperature"]);se!=null&&setValueByPath(ae,["temperature"],se);const oe=getValueByPath(te,["topP"]);oe!=null&&setValueByPath(ae,["topP"],oe);const le=getValueByPath(te,["topK"]);le!=null&&setValueByPath(ae,["topK"],le);const ce=getValueByPath(te,["candidateCount"]);ce!=null&&setValueByPath(ae,["candidateCount"],ce);const he=getValueByPath(te,["maxOutputTokens"]);he!=null&&setValueByPath(ae,["maxOutputTokens"],he);const fe=getValueByPath(te,["stopSequences"]);fe!=null&&setValueByPath(ae,["stopSequences"],fe);const pe=getValueByPath(te,["responseLogprobs"]);pe!=null&&setValueByPath(ae,["responseLogprobs"],pe);const ge=getValueByPath(te,["logprobs"]);ge!=null&&setValueByPath(ae,["logprobs"],ge);const ye=getValueByPath(te,["presencePenalty"]);ye!=null&&setValueByPath(ae,["presencePenalty"],ye);const xe=getValueByPath(te,["frequencyPenalty"]);xe!=null&&setValueByPath(ae,["frequencyPenalty"],xe);const be=getValueByPath(te,["seed"]);be!=null&&setValueByPath(ae,["seed"],be);const Se=getValueByPath(te,["responseMimeType"]);Se!=null&&setValueByPath(ae,["responseMimeType"],Se);const ve=getValueByPath(te,["responseSchema"]);ve!=null&&setValueByPath(ae,["responseSchema"],tSchema(ve));const Te=getValueByPath(te,["responseJsonSchema"]);if(Te!=null&&setValueByPath(ae,["responseJsonSchema"],Te),getValueByPath(te,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(getValueByPath(te,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Ce=getValueByPath(te,["safetySettings"]);if(ne!==void 0&&Ce!=null){let Ye=Ce;Array.isArray(Ye)&&(Ye=Ye.map(ke=>safetySettingToMldev$1(ke))),setValueByPath(ne,["safetySettings"],Ye)}const Pe=getValueByPath(te,["tools"]);if(ne!==void 0&&Pe!=null){let Ye=tTools(Pe);Array.isArray(Ye)&&(Ye=Ye.map(ke=>toolToMldev$4(tTool(ke)))),setValueByPath(ne,["tools"],Ye)}const Be=getValueByPath(te,["toolConfig"]);if(ne!==void 0&&Be!=null&&setValueByPath(ne,["toolConfig"],toolConfigToMldev$2(Be)),getValueByPath(te,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Ae=getValueByPath(te,["cachedContent"]);ne!==void 0&&Ae!=null&&setValueByPath(ne,["cachedContent"],tCachedContentName(ee,Ae));const Me=getValueByPath(te,["responseModalities"]);Me!=null&&setValueByPath(ae,["responseModalities"],Me);const Ge=getValueByPath(te,["mediaResolution"]);Ge!=null&&setValueByPath(ae,["mediaResolution"],Ge);const Ue=getValueByPath(te,["speechConfig"]);if(Ue!=null&&setValueByPath(ae,["speechConfig"],tSpeechConfig(Ue)),getValueByPath(te,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ve=getValueByPath(te,["thinkingConfig"]);Ve!=null&&setValueByPath(ae,["thinkingConfig"],Ve);const je=getValueByPath(te,["imageConfig"]);je!=null&&setValueByPath(ae,["imageConfig"],imageConfigToMldev$1(je));const De=getValueByPath(te,["enableEnhancedCivicAnswers"]);return De!=null&&setValueByPath(ae,["enableEnhancedCivicAnswers"],De),ae}function generateContentResponseFromMldev$1(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["candidates"]);if(ae!=null){let ce=ae;Array.isArray(ce)&&(ce=ce.map(he=>candidateFromMldev$1(he))),setValueByPath(te,["candidates"],ce)}const ie=getValueByPath(ee,["modelVersion"]);ie!=null&&setValueByPath(te,["modelVersion"],ie);const se=getValueByPath(ee,["promptFeedback"]);se!=null&&setValueByPath(te,["promptFeedback"],se);const oe=getValueByPath(ee,["responseId"]);oe!=null&&setValueByPath(te,["responseId"],oe);const le=getValueByPath(ee,["usageMetadata"]);return le!=null&&setValueByPath(te,["usageMetadata"],le),te}function getBatchJobParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],tBatchJobName(ee,ae)),ne}function getBatchJobParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],tBatchJobName(ee,ae)),ne}function googleMapsToMldev$4(ee){const te={};if(getValueByPath(ee,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["enableWidget"]);return ne!=null&&setValueByPath(te,["enableWidget"],ne),te}function googleSearchToMldev$4(ee){const te={};if(getValueByPath(ee,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(getValueByPath(ee,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["timeRangeFilter"]);return ne!=null&&setValueByPath(te,["timeRangeFilter"],ne),te}function imageConfigToMldev$1(ee){const te={},ne=getValueByPath(ee,["aspectRatio"]);ne!=null&&setValueByPath(te,["aspectRatio"],ne);const ae=getValueByPath(ee,["imageSize"]);if(ae!=null&&setValueByPath(te,["imageSize"],ae),getValueByPath(ee,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(getValueByPath(ee,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return te}function inlinedRequestToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["request","model"],tModel(ee,ae));const ie=getValueByPath(te,["contents"]);if(ie!=null){let le=tContents(ie);Array.isArray(le)&&(le=le.map(ce=>contentToMldev$4(ce))),setValueByPath(ne,["request","contents"],le)}const se=getValueByPath(te,["metadata"]);se!=null&&setValueByPath(ne,["metadata"],se);const oe=getValueByPath(te,["config"]);return oe!=null&&setValueByPath(ne,["request","generationConfig"],generateContentConfigToMldev$1(ee,oe,getValueByPath(ne,["request"],{}))),ne}function inlinedResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["response"]);ne!=null&&setValueByPath(te,["response"],generateContentResponseFromMldev$1(ne));const ae=getValueByPath(ee,["error"]);return ae!=null&&setValueByPath(te,["error"],ae),te}function listBatchJobsConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["pageSize"]);te!==void 0&&ae!=null&&setValueByPath(te,["_query","pageSize"],ae);const ie=getValueByPath(ee,["pageToken"]);if(te!==void 0&&ie!=null&&setValueByPath(te,["_query","pageToken"],ie),getValueByPath(ee,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return ne}function listBatchJobsConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["pageSize"]);te!==void 0&&ae!=null&&setValueByPath(te,["_query","pageSize"],ae);const ie=getValueByPath(ee,["pageToken"]);te!==void 0&&ie!=null&&setValueByPath(te,["_query","pageToken"],ie);const se=getValueByPath(ee,["filter"]);return te!==void 0&&se!=null&&setValueByPath(te,["_query","filter"],se),ne}function listBatchJobsParametersToMldev(ee){const te={},ne=getValueByPath(ee,["config"]);return ne!=null&&listBatchJobsConfigToMldev(ne,te),te}function listBatchJobsParametersToVertex(ee){const te={},ne=getValueByPath(ee,["config"]);return ne!=null&&listBatchJobsConfigToVertex(ne,te),te}function listBatchJobsResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["nextPageToken"]);ae!=null&&setValueByPath(te,["nextPageToken"],ae);const ie=getValueByPath(ee,["operations"]);if(ie!=null){let se=ie;Array.isArray(se)&&(se=se.map(oe=>batchJobFromMldev(oe))),setValueByPath(te,["batchJobs"],se)}return te}function listBatchJobsResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["nextPageToken"]);ae!=null&&setValueByPath(te,["nextPageToken"],ae);const ie=getValueByPath(ee,["batchPredictionJobs"]);if(ie!=null){let se=ie;Array.isArray(se)&&(se=se.map(oe=>batchJobFromVertex(oe))),setValueByPath(te,["batchJobs"],se)}return te}function partToMldev$4(ee){const te={},ne=getValueByPath(ee,["mediaResolution"]);ne!=null&&setValueByPath(te,["mediaResolution"],ne);const ae=getValueByPath(ee,["codeExecutionResult"]);ae!=null&&setValueByPath(te,["codeExecutionResult"],ae);const ie=getValueByPath(ee,["executableCode"]);ie!=null&&setValueByPath(te,["executableCode"],ie);const se=getValueByPath(ee,["fileData"]);se!=null&&setValueByPath(te,["fileData"],fileDataToMldev$4(se));const oe=getValueByPath(ee,["functionCall"]);oe!=null&&setValueByPath(te,["functionCall"],functionCallToMldev$4(oe));const le=getValueByPath(ee,["functionResponse"]);le!=null&&setValueByPath(te,["functionResponse"],le);const ce=getValueByPath(ee,["inlineData"]);ce!=null&&setValueByPath(te,["inlineData"],blobToMldev$4(ce));const he=getValueByPath(ee,["text"]);he!=null&&setValueByPath(te,["text"],he);const fe=getValueByPath(ee,["thought"]);fe!=null&&setValueByPath(te,["thought"],fe);const pe=getValueByPath(ee,["thoughtSignature"]);pe!=null&&setValueByPath(te,["thoughtSignature"],pe);const ge=getValueByPath(ee,["videoMetadata"]);return ge!=null&&setValueByPath(te,["videoMetadata"],ge),te}function safetySettingToMldev$1(ee){const te={},ne=getValueByPath(ee,["category"]);if(ne!=null&&setValueByPath(te,["category"],ne),getValueByPath(ee,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["threshold"]);return ae!=null&&setValueByPath(te,["threshold"],ae),te}function toolConfigToMldev$2(ee){const te={},ne=getValueByPath(ee,["functionCallingConfig"]);ne!=null&&setValueByPath(te,["functionCallingConfig"],functionCallingConfigToMldev$2(ne));const ae=getValueByPath(ee,["retrievalConfig"]);return ae!=null&&setValueByPath(te,["retrievalConfig"],ae),te}function toolToMldev$4(ee){const te={},ne=getValueByPath(ee,["functionDeclarations"]);if(ne!=null){let fe=ne;Array.isArray(fe)&&(fe=fe.map(pe=>pe)),setValueByPath(te,["functionDeclarations"],fe)}if(getValueByPath(ee,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["googleSearchRetrieval"]);ae!=null&&setValueByPath(te,["googleSearchRetrieval"],ae);const ie=getValueByPath(ee,["computerUse"]);ie!=null&&setValueByPath(te,["computerUse"],ie);const se=getValueByPath(ee,["fileSearch"]);se!=null&&setValueByPath(te,["fileSearch"],se);const oe=getValueByPath(ee,["codeExecution"]);if(oe!=null&&setValueByPath(te,["codeExecution"],oe),getValueByPath(ee,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const le=getValueByPath(ee,["googleMaps"]);le!=null&&setValueByPath(te,["googleMaps"],googleMapsToMldev$4(le));const ce=getValueByPath(ee,["googleSearch"]);ce!=null&&setValueByPath(te,["googleSearch"],googleSearchToMldev$4(ce));const he=getValueByPath(ee,["urlContext"]);return he!=null&&setValueByPath(te,["urlContext"],he),te}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var PagedItem;(function(ee){ee.PAGED_ITEM_BATCH_JOBS="batchJobs",ee.PAGED_ITEM_MODELS="models",ee.PAGED_ITEM_TUNING_JOBS="tuningJobs",ee.PAGED_ITEM_FILES="files",ee.PAGED_ITEM_CACHED_CONTENTS="cachedContents",ee.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",ee.PAGED_ITEM_DOCUMENTS="documents"})(PagedItem||(PagedItem={}));class Pager{constructor(te,ne,ae,ie){this.pageInternal=[],this.paramsInternal={},this.requestInternal=ne,this.init(te,ae,ie)}init(te,ne,ae){var ie,se;this.nameInternal=te,this.pageInternal=ne[this.nameInternal]||[],this.sdkHttpResponseInternal=ne==null?void 0:ne.sdkHttpResponse,this.idxInternal=0;let oe={config:{}};!ae||Object.keys(ae).length===0?oe={config:{}}:typeof ae=="object"?oe=Object.assign({},ae):oe=ae,oe.config&&(oe.config.pageToken=ne.nextPageToken),this.paramsInternal=oe,this.pageInternalSize=(se=(ie=oe.config)===null||ie===void 0?void 0:ie.pageSize)!==null&&se!==void 0?se:this.pageInternal.length}initNextPage(te){this.init(this.nameInternal,te,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(te){return this.pageInternal[te]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const te=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:te,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const te=await this.requestInternal(this.params);return this.initNextPage(te),this.page}hasNextPage(){var te;return((te=this.params.config)===null||te===void 0?void 0:te.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Batches extends BaseModule{constructor(te){super(),this.apiClient=te,this.list=async(ne={})=>new Pager(PagedItem.PAGED_ITEM_BATCH_JOBS,ae=>this.listInternal(ae),await this.listInternal(ne),ne),this.create=async ne=>(this.apiClient.isVertexAI()&&(ne.config=this.formatDestination(ne.src,ne.config)),this.createInternal(ne)),this.createEmbeddings=async ne=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(ne)}}createInlinedGenerateContentRequest(te){const ne=createBatchJobParametersToMldev(this.apiClient,te),ae=ne._url,ie=formatMap("{model}:batchGenerateContent",ae),le=ne.batch.inputConfig.requests,ce=le.requests,he=[];for(const fe of ce){const pe=Object.assign({},fe);if(pe.systemInstruction){const ge=pe.systemInstruction;delete pe.systemInstruction;const ye=pe.request;ye.systemInstruction=ge,pe.request=ye}he.push(pe)}return le.requests=he,delete ne.config,delete ne._url,delete ne._query,{path:ie,body:ne}}getGcsUri(te){if(typeof te=="string")return te.startsWith("gs://")?te:void 0;if(!Array.isArray(te)&&te.gcsUri&&te.gcsUri.length>0)return te.gcsUri[0]}getBigqueryUri(te){if(typeof te=="string")return te.startsWith("bq://")?te:void 0;if(!Array.isArray(te))return te.bigqueryUri}formatDestination(te,ne){const ae=ne?Object.assign({},ne):{},ie=Date.now().toString();if(ae.displayName||(ae.displayName=`genaiBatchJob_${ie}`),ae.dest===void 0){const se=this.getGcsUri(te),oe=this.getBigqueryUri(te);if(se)se.endsWith(".jsonl")?ae.dest=`${se.slice(0,-6)}/dest`:ae.dest=`${se}_dest_${ie}`;else if(oe)ae.dest=`${oe}_dest_${ie}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return ae}async createInternal(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=createBatchJobParametersToVertex(this.apiClient,te);return le=formatMap("batchPredictionJobs",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json()),oe.then(fe=>batchJobFromVertex(fe))}else{const he=createBatchJobParametersToMldev(this.apiClient,te);return le=formatMap("{model}:batchGenerateContent",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json()),oe.then(fe=>batchJobFromMldev(fe))}}async createEmbeddingsInternal(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=createEmbeddingsBatchJobParametersToMldev(this.apiClient,te);return se=formatMap("{model}:asyncBatchEmbedContent",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>batchJobFromMldev(ce))}}async get(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=getBatchJobParametersToVertex(this.apiClient,te);return le=formatMap("batchPredictionJobs/{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json()),oe.then(fe=>batchJobFromVertex(fe))}else{const he=getBatchJobParametersToMldev(this.apiClient,te);return le=formatMap("batches/{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json()),oe.then(fe=>batchJobFromMldev(fe))}}async cancel(te){var ne,ae,ie,se;let oe="",le={};if(this.apiClient.isVertexAI()){const ce=cancelBatchJobParametersToVertex(this.apiClient,te);oe=formatMap("batchPredictionJobs/{name}:cancel",ce._url),le=ce._query,delete ce._url,delete ce._query,await this.apiClient.request({path:oe,queryParams:le,body:JSON.stringify(ce),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal})}else{const ce=cancelBatchJobParametersToMldev(this.apiClient,te);oe=formatMap("batches/{name}:cancel",ce._url),le=ce._query,delete ce._url,delete ce._query,await this.apiClient.request({path:oe,queryParams:le,body:JSON.stringify(ce),httpMethod:"POST",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal})}}async listInternal(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=listBatchJobsParametersToVertex(te);return le=formatMap("batchPredictionJobs",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=listBatchJobsResponseFromVertex(fe),ge=new ListBatchJobsResponse;return Object.assign(ge,pe),ge})}else{const he=listBatchJobsParametersToMldev(te);return le=formatMap("batches",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=listBatchJobsResponseFromMldev(fe),ge=new ListBatchJobsResponse;return Object.assign(ge,pe),ge})}}async delete(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=deleteBatchJobParametersToVertex(this.apiClient,te);return le=formatMap("batchPredictionJobs/{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"DELETE",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>deleteResourceJobFromVertex(fe))}else{const he=deleteBatchJobParametersToMldev(this.apiClient,te);return le=formatMap("batches/{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"DELETE",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>deleteResourceJobFromMldev(fe))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function blobToMldev$3(ee){const te={},ne=getValueByPath(ee,["data"]);if(ne!=null&&setValueByPath(te,["data"],ne),getValueByPath(ee,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function contentToMldev$3(ee){const te={},ne=getValueByPath(ee,["parts"]);if(ne!=null){let ie=ne;Array.isArray(ie)&&(ie=ie.map(se=>partToMldev$3(se))),setValueByPath(te,["parts"],ie)}const ae=getValueByPath(ee,["role"]);return ae!=null&&setValueByPath(te,["role"],ae),te}function createCachedContentConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["ttl"]);te!==void 0&&ae!=null&&setValueByPath(te,["ttl"],ae);const ie=getValueByPath(ee,["expireTime"]);te!==void 0&&ie!=null&&setValueByPath(te,["expireTime"],ie);const se=getValueByPath(ee,["displayName"]);te!==void 0&&se!=null&&setValueByPath(te,["displayName"],se);const oe=getValueByPath(ee,["contents"]);if(te!==void 0&&oe!=null){let fe=tContents(oe);Array.isArray(fe)&&(fe=fe.map(pe=>contentToMldev$3(pe))),setValueByPath(te,["contents"],fe)}const le=getValueByPath(ee,["systemInstruction"]);te!==void 0&&le!=null&&setValueByPath(te,["systemInstruction"],contentToMldev$3(tContent(le)));const ce=getValueByPath(ee,["tools"]);if(te!==void 0&&ce!=null){let fe=ce;Array.isArray(fe)&&(fe=fe.map(pe=>toolToMldev$3(pe))),setValueByPath(te,["tools"],fe)}const he=getValueByPath(ee,["toolConfig"]);if(te!==void 0&&he!=null&&setValueByPath(te,["toolConfig"],toolConfigToMldev$1(he)),getValueByPath(ee,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return ne}function createCachedContentConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["ttl"]);te!==void 0&&ae!=null&&setValueByPath(te,["ttl"],ae);const ie=getValueByPath(ee,["expireTime"]);te!==void 0&&ie!=null&&setValueByPath(te,["expireTime"],ie);const se=getValueByPath(ee,["displayName"]);te!==void 0&&se!=null&&setValueByPath(te,["displayName"],se);const oe=getValueByPath(ee,["contents"]);if(te!==void 0&&oe!=null){let pe=tContents(oe);Array.isArray(pe)&&(pe=pe.map(ge=>ge)),setValueByPath(te,["contents"],pe)}const le=getValueByPath(ee,["systemInstruction"]);te!==void 0&&le!=null&&setValueByPath(te,["systemInstruction"],tContent(le));const ce=getValueByPath(ee,["tools"]);if(te!==void 0&&ce!=null){let pe=ce;Array.isArray(pe)&&(pe=pe.map(ge=>toolToVertex$2(ge))),setValueByPath(te,["tools"],pe)}const he=getValueByPath(ee,["toolConfig"]);te!==void 0&&he!=null&&setValueByPath(te,["toolConfig"],he);const fe=getValueByPath(ee,["kmsKeyName"]);return te!==void 0&&fe!=null&&setValueByPath(te,["encryption_spec","kmsKeyName"],fe),ne}function createCachedContentParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["model"],tCachesModel(ee,ae));const ie=getValueByPath(te,["config"]);return ie!=null&&createCachedContentConfigToMldev(ie,ne),ne}function createCachedContentParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["model"],tCachesModel(ee,ae));const ie=getValueByPath(te,["config"]);return ie!=null&&createCachedContentConfigToVertex(ie,ne),ne}function deleteCachedContentParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],tCachedContentName(ee,ae)),ne}function deleteCachedContentParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],tCachedContentName(ee,ae)),ne}function deleteCachedContentResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);return ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne),te}function deleteCachedContentResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);return ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne),te}function fileDataToMldev$3(ee){const te={};if(getValueByPath(ee,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["fileUri"]);ne!=null&&setValueByPath(te,["fileUri"],ne);const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function functionCallToMldev$3(ee){const te={},ne=getValueByPath(ee,["id"]);ne!=null&&setValueByPath(te,["id"],ne);const ae=getValueByPath(ee,["args"]);ae!=null&&setValueByPath(te,["args"],ae);const ie=getValueByPath(ee,["name"]);if(ie!=null&&setValueByPath(te,["name"],ie),getValueByPath(ee,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(getValueByPath(ee,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return te}function functionCallingConfigToMldev$1(ee){const te={},ne=getValueByPath(ee,["mode"]);ne!=null&&setValueByPath(te,["mode"],ne);const ae=getValueByPath(ee,["allowedFunctionNames"]);if(ae!=null&&setValueByPath(te,["allowedFunctionNames"],ae),getValueByPath(ee,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return te}function functionDeclarationToVertex$2(ee){const te={};if(getValueByPath(ee,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const ne=getValueByPath(ee,["description"]);ne!=null&&setValueByPath(te,["description"],ne);const ae=getValueByPath(ee,["name"]);ae!=null&&setValueByPath(te,["name"],ae);const ie=getValueByPath(ee,["parameters"]);ie!=null&&setValueByPath(te,["parameters"],ie);const se=getValueByPath(ee,["parametersJsonSchema"]);se!=null&&setValueByPath(te,["parametersJsonSchema"],se);const oe=getValueByPath(ee,["response"]);oe!=null&&setValueByPath(te,["response"],oe);const le=getValueByPath(ee,["responseJsonSchema"]);return le!=null&&setValueByPath(te,["responseJsonSchema"],le),te}function getCachedContentParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],tCachedContentName(ee,ae)),ne}function getCachedContentParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],tCachedContentName(ee,ae)),ne}function googleMapsToMldev$3(ee){const te={};if(getValueByPath(ee,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["enableWidget"]);return ne!=null&&setValueByPath(te,["enableWidget"],ne),te}function googleSearchToMldev$3(ee){const te={};if(getValueByPath(ee,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(getValueByPath(ee,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["timeRangeFilter"]);return ne!=null&&setValueByPath(te,["timeRangeFilter"],ne),te}function listCachedContentsConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["pageSize"]);te!==void 0&&ae!=null&&setValueByPath(te,["_query","pageSize"],ae);const ie=getValueByPath(ee,["pageToken"]);return te!==void 0&&ie!=null&&setValueByPath(te,["_query","pageToken"],ie),ne}function listCachedContentsConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["pageSize"]);te!==void 0&&ae!=null&&setValueByPath(te,["_query","pageSize"],ae);const ie=getValueByPath(ee,["pageToken"]);return te!==void 0&&ie!=null&&setValueByPath(te,["_query","pageToken"],ie),ne}function listCachedContentsParametersToMldev(ee){const te={},ne=getValueByPath(ee,["config"]);return ne!=null&&listCachedContentsConfigToMldev(ne,te),te}function listCachedContentsParametersToVertex(ee){const te={},ne=getValueByPath(ee,["config"]);return ne!=null&&listCachedContentsConfigToVertex(ne,te),te}function listCachedContentsResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["nextPageToken"]);ae!=null&&setValueByPath(te,["nextPageToken"],ae);const ie=getValueByPath(ee,["cachedContents"]);if(ie!=null){let se=ie;Array.isArray(se)&&(se=se.map(oe=>oe)),setValueByPath(te,["cachedContents"],se)}return te}function listCachedContentsResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["nextPageToken"]);ae!=null&&setValueByPath(te,["nextPageToken"],ae);const ie=getValueByPath(ee,["cachedContents"]);if(ie!=null){let se=ie;Array.isArray(se)&&(se=se.map(oe=>oe)),setValueByPath(te,["cachedContents"],se)}return te}function partToMldev$3(ee){const te={},ne=getValueByPath(ee,["mediaResolution"]);ne!=null&&setValueByPath(te,["mediaResolution"],ne);const ae=getValueByPath(ee,["codeExecutionResult"]);ae!=null&&setValueByPath(te,["codeExecutionResult"],ae);const ie=getValueByPath(ee,["executableCode"]);ie!=null&&setValueByPath(te,["executableCode"],ie);const se=getValueByPath(ee,["fileData"]);se!=null&&setValueByPath(te,["fileData"],fileDataToMldev$3(se));const oe=getValueByPath(ee,["functionCall"]);oe!=null&&setValueByPath(te,["functionCall"],functionCallToMldev$3(oe));const le=getValueByPath(ee,["functionResponse"]);le!=null&&setValueByPath(te,["functionResponse"],le);const ce=getValueByPath(ee,["inlineData"]);ce!=null&&setValueByPath(te,["inlineData"],blobToMldev$3(ce));const he=getValueByPath(ee,["text"]);he!=null&&setValueByPath(te,["text"],he);const fe=getValueByPath(ee,["thought"]);fe!=null&&setValueByPath(te,["thought"],fe);const pe=getValueByPath(ee,["thoughtSignature"]);pe!=null&&setValueByPath(te,["thoughtSignature"],pe);const ge=getValueByPath(ee,["videoMetadata"]);return ge!=null&&setValueByPath(te,["videoMetadata"],ge),te}function toolConfigToMldev$1(ee){const te={},ne=getValueByPath(ee,["functionCallingConfig"]);ne!=null&&setValueByPath(te,["functionCallingConfig"],functionCallingConfigToMldev$1(ne));const ae=getValueByPath(ee,["retrievalConfig"]);return ae!=null&&setValueByPath(te,["retrievalConfig"],ae),te}function toolToMldev$3(ee){const te={},ne=getValueByPath(ee,["functionDeclarations"]);if(ne!=null){let fe=ne;Array.isArray(fe)&&(fe=fe.map(pe=>pe)),setValueByPath(te,["functionDeclarations"],fe)}if(getValueByPath(ee,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["googleSearchRetrieval"]);ae!=null&&setValueByPath(te,["googleSearchRetrieval"],ae);const ie=getValueByPath(ee,["computerUse"]);ie!=null&&setValueByPath(te,["computerUse"],ie);const se=getValueByPath(ee,["fileSearch"]);se!=null&&setValueByPath(te,["fileSearch"],se);const oe=getValueByPath(ee,["codeExecution"]);if(oe!=null&&setValueByPath(te,["codeExecution"],oe),getValueByPath(ee,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const le=getValueByPath(ee,["googleMaps"]);le!=null&&setValueByPath(te,["googleMaps"],googleMapsToMldev$3(le));const ce=getValueByPath(ee,["googleSearch"]);ce!=null&&setValueByPath(te,["googleSearch"],googleSearchToMldev$3(ce));const he=getValueByPath(ee,["urlContext"]);return he!=null&&setValueByPath(te,["urlContext"],he),te}function toolToVertex$2(ee){const te={},ne=getValueByPath(ee,["functionDeclarations"]);if(ne!=null){let pe=ne;Array.isArray(pe)&&(pe=pe.map(ge=>functionDeclarationToVertex$2(ge))),setValueByPath(te,["functionDeclarations"],pe)}const ae=getValueByPath(ee,["retrieval"]);ae!=null&&setValueByPath(te,["retrieval"],ae);const ie=getValueByPath(ee,["googleSearchRetrieval"]);ie!=null&&setValueByPath(te,["googleSearchRetrieval"],ie);const se=getValueByPath(ee,["computerUse"]);if(se!=null&&setValueByPath(te,["computerUse"],se),getValueByPath(ee,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const oe=getValueByPath(ee,["codeExecution"]);oe!=null&&setValueByPath(te,["codeExecution"],oe);const le=getValueByPath(ee,["enterpriseWebSearch"]);le!=null&&setValueByPath(te,["enterpriseWebSearch"],le);const ce=getValueByPath(ee,["googleMaps"]);ce!=null&&setValueByPath(te,["googleMaps"],ce);const he=getValueByPath(ee,["googleSearch"]);he!=null&&setValueByPath(te,["googleSearch"],he);const fe=getValueByPath(ee,["urlContext"]);return fe!=null&&setValueByPath(te,["urlContext"],fe),te}function updateCachedContentConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["ttl"]);te!==void 0&&ae!=null&&setValueByPath(te,["ttl"],ae);const ie=getValueByPath(ee,["expireTime"]);return te!==void 0&&ie!=null&&setValueByPath(te,["expireTime"],ie),ne}function updateCachedContentConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["ttl"]);te!==void 0&&ae!=null&&setValueByPath(te,["ttl"],ae);const ie=getValueByPath(ee,["expireTime"]);return te!==void 0&&ie!=null&&setValueByPath(te,["expireTime"],ie),ne}function updateCachedContentParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["name"]);ae!=null&&setValueByPath(ne,["_url","name"],tCachedContentName(ee,ae));const ie=getValueByPath(te,["config"]);return ie!=null&&updateCachedContentConfigToMldev(ie,ne),ne}function updateCachedContentParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["name"]);ae!=null&&setValueByPath(ne,["_url","name"],tCachedContentName(ee,ae));const ie=getValueByPath(te,["config"]);return ie!=null&&updateCachedContentConfigToVertex(ie,ne),ne}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Caches extends BaseModule{constructor(te){super(),this.apiClient=te,this.list=async(ne={})=>new Pager(PagedItem.PAGED_ITEM_CACHED_CONTENTS,ae=>this.listInternal(ae),await this.listInternal(ne),ne)}async create(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=createCachedContentParametersToVertex(this.apiClient,te);return le=formatMap("cachedContents",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json()),oe.then(fe=>fe)}else{const he=createCachedContentParametersToMldev(this.apiClient,te);return le=formatMap("cachedContents",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json()),oe.then(fe=>fe)}}async get(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=getCachedContentParametersToVertex(this.apiClient,te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json()),oe.then(fe=>fe)}else{const he=getCachedContentParametersToMldev(this.apiClient,te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json()),oe.then(fe=>fe)}}async delete(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=deleteCachedContentParametersToVertex(this.apiClient,te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"DELETE",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=deleteCachedContentResponseFromVertex(fe),ge=new DeleteCachedContentResponse;return Object.assign(ge,pe),ge})}else{const he=deleteCachedContentParametersToMldev(this.apiClient,te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"DELETE",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=deleteCachedContentResponseFromMldev(fe),ge=new DeleteCachedContentResponse;return Object.assign(ge,pe),ge})}}async update(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=updateCachedContentParametersToVertex(this.apiClient,te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"PATCH",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json()),oe.then(fe=>fe)}else{const he=updateCachedContentParametersToMldev(this.apiClient,te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"PATCH",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json()),oe.then(fe=>fe)}}async listInternal(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=listCachedContentsParametersToVertex(te);return le=formatMap("cachedContents",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=listCachedContentsResponseFromVertex(fe),ge=new ListCachedContentsResponse;return Object.assign(ge,pe),ge})}else{const he=listCachedContentsParametersToMldev(te);return le=formatMap("cachedContents",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=listCachedContentsResponseFromMldev(fe),ge=new ListCachedContentsResponse;return Object.assign(ge,pe),ge})}}}function __values(ee){var te=typeof Symbol=="function"&&Symbol.iterator,ne=te&&ee[te],ae=0;if(ne)return ne.call(ee);if(ee&&typeof ee.length=="number")return{next:function(){return ee&&ae>=ee.length&&(ee=void 0),{value:ee&&ee[ae++],done:!ee}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}function __await(ee){return this instanceof __await?(this.v=ee,this):new __await(ee)}function __asyncGenerator(ee,te,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae=ne.apply(ee,te||[]),ie,se=[];return ie=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),le("next"),le("throw"),le("return",oe),ie[Symbol.asyncIterator]=function(){return this},ie;function oe(ye){return function(xe){return Promise.resolve(xe).then(ye,pe)}}function le(ye,xe){ae[ye]&&(ie[ye]=function(be){return new Promise(function(Se,ve){se.push([ye,be,Se,ve])>1||ce(ye,be)})},xe&&(ie[ye]=xe(ie[ye])))}function ce(ye,xe){try{he(ae[ye](xe))}catch(be){ge(se[0][3],be)}}function he(ye){ye.value instanceof __await?Promise.resolve(ye.value.v).then(fe,pe):ge(se[0][2],ye)}function fe(ye){ce("next",ye)}function pe(ye){ce("throw",ye)}function ge(ye,xe){ye(xe),se.shift(),se.length&&ce(se[0][0],se[0][1])}}function __asyncValues(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te=ee[Symbol.asyncIterator],ne;return te?te.call(ee):(ee=typeof __values=="function"?__values(ee):ee[Symbol.iterator](),ne={},ae("next"),ae("throw"),ae("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function ae(se){ne[se]=ee[se]&&function(oe){return new Promise(function(le,ce){oe=ee[se](oe),ie(le,ce,oe.done,oe.value)})}}function ie(se,oe,le,ce){Promise.resolve(ce).then(function(he){se({value:he,done:le})},oe)}}typeof SuppressedError=="function"&&SuppressedError;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function isValidResponse(ee){var te;if(ee.candidates==null||ee.candidates.length===0)return!1;const ne=(te=ee.candidates[0])===null||te===void 0?void 0:te.content;return ne===void 0?!1:isValidContent(ne)}function isValidContent(ee){if(ee.parts===void 0||ee.parts.length===0)return!1;for(const te of ee.parts)if(te===void 0||Object.keys(te).length===0)return!1;return!0}function validateHistory(ee){if(ee.length!==0){for(const te of ee)if(te.role!=="user"&&te.role!=="model")throw new Error(`Role must be user or model, but got ${te.role}.`)}}function extractCuratedHistory(ee){if(ee===void 0||ee.length===0)return[];const te=[],ne=ee.length;let ae=0;for(;ae<ne;)if(ee[ae].role==="user")te.push(ee[ae]),ae++;else{const ie=[];let se=!0;for(;ae<ne&&ee[ae].role==="model";)ie.push(ee[ae]),se&&!isValidContent(ee[ae])&&(se=!1),ae++;se?te.push(...ie):te.pop()}return te}class Chats{constructor(te,ne){this.modelsModule=te,this.apiClient=ne}create(te){return new Chat(this.apiClient,this.modelsModule,te.model,te.config,structuredClone(te.history))}}class Chat{constructor(te,ne,ae,ie={},se=[]){this.apiClient=te,this.modelsModule=ne,this.model=ae,this.config=ie,this.history=se,this.sendPromise=Promise.resolve(),validateHistory(se)}async sendMessage(te){var ne;await this.sendPromise;const ae=tContent(te.message),ie=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(ae),config:(ne=te.config)!==null&&ne!==void 0?ne:this.config});return this.sendPromise=(async()=>{var se,oe,le;const ce=await ie,he=(oe=(se=ce.candidates)===null||se===void 0?void 0:se[0])===null||oe===void 0?void 0:oe.content,fe=ce.automaticFunctionCallingHistory,pe=this.getHistory(!0).length;let ge=[];fe!=null&&(ge=(le=fe.slice(pe))!==null&&le!==void 0?le:[]);const ye=he?[he]:[];this.recordHistory(ae,ye,ge)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),ie}async sendMessageStream(te){var ne;await this.sendPromise;const ae=tContent(te.message),ie=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(ae),config:(ne=te.config)!==null&&ne!==void 0?ne:this.config});this.sendPromise=ie.then(()=>{}).catch(()=>{});const se=await ie;return this.processStreamResponse(se,ae)}getHistory(te=!1){const ne=te?extractCuratedHistory(this.history):this.history;return structuredClone(ne)}processStreamResponse(te,ne){return __asyncGenerator(this,arguments,function*(){var ie,se,oe,le,ce,he;const fe=[];try{for(var pe=!0,ge=__asyncValues(te),ye;ye=yield __await(ge.next()),ie=ye.done,!ie;pe=!0){le=ye.value,pe=!1;const xe=le;if(isValidResponse(xe)){const be=(he=(ce=xe.candidates)===null||ce===void 0?void 0:ce[0])===null||he===void 0?void 0:he.content;be!==void 0&&fe.push(be)}yield yield __await(xe)}}catch(xe){se={error:xe}}finally{try{!pe&&!ie&&(oe=ge.return)&&(yield __await(oe.call(ge)))}finally{if(se)throw se.error}}this.recordHistory(ne,fe)})}recordHistory(te,ne,ae){let ie=[];ne.length>0&&ne.every(se=>se.role!==void 0)?ie=ne:ie.push({role:"model",parts:[]}),ae&&ae.length>0?this.history.push(...extractCuratedHistory(ae)):this.history.push(te),this.history.push(...ie)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ApiError extends Error{constructor(te){super(te.message),this.name="ApiError",this.status=te.status,Object.setPrototypeOf(this,ApiError.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function createFileParametersToMldev(ee){const te={},ne=getValueByPath(ee,["file"]);return ne!=null&&setValueByPath(te,["file"],ne),te}function createFileResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);return ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne),te}function deleteFileParametersToMldev(ee){const te={},ne=getValueByPath(ee,["name"]);return ne!=null&&setValueByPath(te,["_url","file"],tFileName(ne)),te}function deleteFileResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);return ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne),te}function getFileParametersToMldev(ee){const te={},ne=getValueByPath(ee,["name"]);return ne!=null&&setValueByPath(te,["_url","file"],tFileName(ne)),te}function listFilesConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["pageSize"]);te!==void 0&&ae!=null&&setValueByPath(te,["_query","pageSize"],ae);const ie=getValueByPath(ee,["pageToken"]);return te!==void 0&&ie!=null&&setValueByPath(te,["_query","pageToken"],ie),ne}function listFilesParametersToMldev(ee){const te={},ne=getValueByPath(ee,["config"]);return ne!=null&&listFilesConfigToMldev(ne,te),te}function listFilesResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["nextPageToken"]);ae!=null&&setValueByPath(te,["nextPageToken"],ae);const ie=getValueByPath(ee,["files"]);if(ie!=null){let se=ie;Array.isArray(se)&&(se=se.map(oe=>oe)),setValueByPath(te,["files"],se)}return te}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Files extends BaseModule{constructor(te){super(),this.apiClient=te,this.list=async(ne={})=>new Pager(PagedItem.PAGED_ITEM_FILES,ae=>this.listInternal(ae),await this.listInternal(ne),ne)}async upload(te){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(te.file,te.config).then(ne=>ne)}async download(te){await this.apiClient.downloadFile(te)}async listInternal(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=listFilesParametersToMldev(te);return se=formatMap("files",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json().then(he=>{const fe=he;return fe.sdkHttpResponse={headers:ce.headers},fe})),ie.then(ce=>{const he=listFilesResponseFromMldev(ce),fe=new ListFilesResponse;return Object.assign(fe,he),fe})}}async createInternal(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=createFileParametersToMldev(te);return se=formatMap("upload/v1beta/files",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>{const he=createFileResponseFromMldev(ce),fe=new CreateFileResponse;return Object.assign(fe,he),fe})}}async get(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=getFileParametersToMldev(te);return se=formatMap("files/{file}",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>ce)}}async delete(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=deleteFileParametersToMldev(te);return se=formatMap("files/{file}",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"DELETE",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json().then(he=>{const fe=he;return fe.sdkHttpResponse={headers:ce.headers},fe})),ie.then(ce=>{const he=deleteFileResponseFromMldev(ce),fe=new DeleteFileResponse;return Object.assign(fe,he),fe})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function blobToMldev$2(ee){const te={},ne=getValueByPath(ee,["data"]);if(ne!=null&&setValueByPath(te,["data"],ne),getValueByPath(ee,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function contentToMldev$2(ee){const te={},ne=getValueByPath(ee,["parts"]);if(ne!=null){let ie=ne;Array.isArray(ie)&&(ie=ie.map(se=>partToMldev$2(se))),setValueByPath(te,["parts"],ie)}const ae=getValueByPath(ee,["role"]);return ae!=null&&setValueByPath(te,["role"],ae),te}function fileDataToMldev$2(ee){const te={};if(getValueByPath(ee,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["fileUri"]);ne!=null&&setValueByPath(te,["fileUri"],ne);const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function functionCallToMldev$2(ee){const te={},ne=getValueByPath(ee,["id"]);ne!=null&&setValueByPath(te,["id"],ne);const ae=getValueByPath(ee,["args"]);ae!=null&&setValueByPath(te,["args"],ae);const ie=getValueByPath(ee,["name"]);if(ie!=null&&setValueByPath(te,["name"],ie),getValueByPath(ee,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(getValueByPath(ee,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return te}function functionDeclarationToVertex$1(ee){const te={};if(getValueByPath(ee,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const ne=getValueByPath(ee,["description"]);ne!=null&&setValueByPath(te,["description"],ne);const ae=getValueByPath(ee,["name"]);ae!=null&&setValueByPath(te,["name"],ae);const ie=getValueByPath(ee,["parameters"]);ie!=null&&setValueByPath(te,["parameters"],ie);const se=getValueByPath(ee,["parametersJsonSchema"]);se!=null&&setValueByPath(te,["parametersJsonSchema"],se);const oe=getValueByPath(ee,["response"]);oe!=null&&setValueByPath(te,["response"],oe);const le=getValueByPath(ee,["responseJsonSchema"]);return le!=null&&setValueByPath(te,["responseJsonSchema"],le),te}function generationConfigToVertex$1(ee){const te={},ne=getValueByPath(ee,["modelSelectionConfig"]);ne!=null&&setValueByPath(te,["modelConfig"],ne);const ae=getValueByPath(ee,["responseJsonSchema"]);ae!=null&&setValueByPath(te,["responseJsonSchema"],ae);const ie=getValueByPath(ee,["audioTimestamp"]);ie!=null&&setValueByPath(te,["audioTimestamp"],ie);const se=getValueByPath(ee,["candidateCount"]);se!=null&&setValueByPath(te,["candidateCount"],se);const oe=getValueByPath(ee,["enableAffectiveDialog"]);oe!=null&&setValueByPath(te,["enableAffectiveDialog"],oe);const le=getValueByPath(ee,["frequencyPenalty"]);le!=null&&setValueByPath(te,["frequencyPenalty"],le);const ce=getValueByPath(ee,["logprobs"]);ce!=null&&setValueByPath(te,["logprobs"],ce);const he=getValueByPath(ee,["maxOutputTokens"]);he!=null&&setValueByPath(te,["maxOutputTokens"],he);const fe=getValueByPath(ee,["mediaResolution"]);fe!=null&&setValueByPath(te,["mediaResolution"],fe);const pe=getValueByPath(ee,["presencePenalty"]);pe!=null&&setValueByPath(te,["presencePenalty"],pe);const ge=getValueByPath(ee,["responseLogprobs"]);ge!=null&&setValueByPath(te,["responseLogprobs"],ge);const ye=getValueByPath(ee,["responseMimeType"]);ye!=null&&setValueByPath(te,["responseMimeType"],ye);const xe=getValueByPath(ee,["responseModalities"]);xe!=null&&setValueByPath(te,["responseModalities"],xe);const be=getValueByPath(ee,["responseSchema"]);be!=null&&setValueByPath(te,["responseSchema"],be);const Se=getValueByPath(ee,["routingConfig"]);Se!=null&&setValueByPath(te,["routingConfig"],Se);const ve=getValueByPath(ee,["seed"]);ve!=null&&setValueByPath(te,["seed"],ve);const Te=getValueByPath(ee,["speechConfig"]);Te!=null&&setValueByPath(te,["speechConfig"],speechConfigToVertex$1(Te));const Ce=getValueByPath(ee,["stopSequences"]);Ce!=null&&setValueByPath(te,["stopSequences"],Ce);const Pe=getValueByPath(ee,["temperature"]);Pe!=null&&setValueByPath(te,["temperature"],Pe);const Be=getValueByPath(ee,["thinkingConfig"]);Be!=null&&setValueByPath(te,["thinkingConfig"],Be);const Ae=getValueByPath(ee,["topK"]);Ae!=null&&setValueByPath(te,["topK"],Ae);const Me=getValueByPath(ee,["topP"]);if(Me!=null&&setValueByPath(te,["topP"],Me),getValueByPath(ee,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return te}function googleMapsToMldev$2(ee){const te={};if(getValueByPath(ee,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["enableWidget"]);return ne!=null&&setValueByPath(te,["enableWidget"],ne),te}function googleSearchToMldev$2(ee){const te={};if(getValueByPath(ee,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(getValueByPath(ee,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["timeRangeFilter"]);return ne!=null&&setValueByPath(te,["timeRangeFilter"],ne),te}function liveConnectConfigToMldev$1(ee,te){const ne={},ae=getValueByPath(ee,["generationConfig"]);te!==void 0&&ae!=null&&setValueByPath(te,["setup","generationConfig"],ae);const ie=getValueByPath(ee,["responseModalities"]);te!==void 0&&ie!=null&&setValueByPath(te,["setup","generationConfig","responseModalities"],ie);const se=getValueByPath(ee,["temperature"]);te!==void 0&&se!=null&&setValueByPath(te,["setup","generationConfig","temperature"],se);const oe=getValueByPath(ee,["topP"]);te!==void 0&&oe!=null&&setValueByPath(te,["setup","generationConfig","topP"],oe);const le=getValueByPath(ee,["topK"]);te!==void 0&&le!=null&&setValueByPath(te,["setup","generationConfig","topK"],le);const ce=getValueByPath(ee,["maxOutputTokens"]);te!==void 0&&ce!=null&&setValueByPath(te,["setup","generationConfig","maxOutputTokens"],ce);const he=getValueByPath(ee,["mediaResolution"]);te!==void 0&&he!=null&&setValueByPath(te,["setup","generationConfig","mediaResolution"],he);const fe=getValueByPath(ee,["seed"]);te!==void 0&&fe!=null&&setValueByPath(te,["setup","generationConfig","seed"],fe);const pe=getValueByPath(ee,["speechConfig"]);te!==void 0&&pe!=null&&setValueByPath(te,["setup","generationConfig","speechConfig"],tLiveSpeechConfig(pe));const ge=getValueByPath(ee,["thinkingConfig"]);te!==void 0&&ge!=null&&setValueByPath(te,["setup","generationConfig","thinkingConfig"],ge);const ye=getValueByPath(ee,["enableAffectiveDialog"]);te!==void 0&&ye!=null&&setValueByPath(te,["setup","generationConfig","enableAffectiveDialog"],ye);const xe=getValueByPath(ee,["systemInstruction"]);te!==void 0&&xe!=null&&setValueByPath(te,["setup","systemInstruction"],contentToMldev$2(tContent(xe)));const be=getValueByPath(ee,["tools"]);if(te!==void 0&&be!=null){let Ae=tTools(be);Array.isArray(Ae)&&(Ae=Ae.map(Me=>toolToMldev$2(tTool(Me)))),setValueByPath(te,["setup","tools"],Ae)}const Se=getValueByPath(ee,["sessionResumption"]);te!==void 0&&Se!=null&&setValueByPath(te,["setup","sessionResumption"],sessionResumptionConfigToMldev$1(Se));const ve=getValueByPath(ee,["inputAudioTranscription"]);te!==void 0&&ve!=null&&setValueByPath(te,["setup","inputAudioTranscription"],ve);const Te=getValueByPath(ee,["outputAudioTranscription"]);te!==void 0&&Te!=null&&setValueByPath(te,["setup","outputAudioTranscription"],Te);const Ce=getValueByPath(ee,["realtimeInputConfig"]);te!==void 0&&Ce!=null&&setValueByPath(te,["setup","realtimeInputConfig"],Ce);const Pe=getValueByPath(ee,["contextWindowCompression"]);te!==void 0&&Pe!=null&&setValueByPath(te,["setup","contextWindowCompression"],Pe);const Be=getValueByPath(ee,["proactivity"]);return te!==void 0&&Be!=null&&setValueByPath(te,["setup","proactivity"],Be),ne}function liveConnectConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["generationConfig"]);te!==void 0&&ae!=null&&setValueByPath(te,["setup","generationConfig"],generationConfigToVertex$1(ae));const ie=getValueByPath(ee,["responseModalities"]);te!==void 0&&ie!=null&&setValueByPath(te,["setup","generationConfig","responseModalities"],ie);const se=getValueByPath(ee,["temperature"]);te!==void 0&&se!=null&&setValueByPath(te,["setup","generationConfig","temperature"],se);const oe=getValueByPath(ee,["topP"]);te!==void 0&&oe!=null&&setValueByPath(te,["setup","generationConfig","topP"],oe);const le=getValueByPath(ee,["topK"]);te!==void 0&&le!=null&&setValueByPath(te,["setup","generationConfig","topK"],le);const ce=getValueByPath(ee,["maxOutputTokens"]);te!==void 0&&ce!=null&&setValueByPath(te,["setup","generationConfig","maxOutputTokens"],ce);const he=getValueByPath(ee,["mediaResolution"]);te!==void 0&&he!=null&&setValueByPath(te,["setup","generationConfig","mediaResolution"],he);const fe=getValueByPath(ee,["seed"]);te!==void 0&&fe!=null&&setValueByPath(te,["setup","generationConfig","seed"],fe);const pe=getValueByPath(ee,["speechConfig"]);te!==void 0&&pe!=null&&setValueByPath(te,["setup","generationConfig","speechConfig"],speechConfigToVertex$1(tLiveSpeechConfig(pe)));const ge=getValueByPath(ee,["thinkingConfig"]);te!==void 0&&ge!=null&&setValueByPath(te,["setup","generationConfig","thinkingConfig"],ge);const ye=getValueByPath(ee,["enableAffectiveDialog"]);te!==void 0&&ye!=null&&setValueByPath(te,["setup","generationConfig","enableAffectiveDialog"],ye);const xe=getValueByPath(ee,["systemInstruction"]);te!==void 0&&xe!=null&&setValueByPath(te,["setup","systemInstruction"],tContent(xe));const be=getValueByPath(ee,["tools"]);if(te!==void 0&&be!=null){let Ae=tTools(be);Array.isArray(Ae)&&(Ae=Ae.map(Me=>toolToVertex$1(tTool(Me)))),setValueByPath(te,["setup","tools"],Ae)}const Se=getValueByPath(ee,["sessionResumption"]);te!==void 0&&Se!=null&&setValueByPath(te,["setup","sessionResumption"],Se);const ve=getValueByPath(ee,["inputAudioTranscription"]);te!==void 0&&ve!=null&&setValueByPath(te,["setup","inputAudioTranscription"],ve);const Te=getValueByPath(ee,["outputAudioTranscription"]);te!==void 0&&Te!=null&&setValueByPath(te,["setup","outputAudioTranscription"],Te);const Ce=getValueByPath(ee,["realtimeInputConfig"]);te!==void 0&&Ce!=null&&setValueByPath(te,["setup","realtimeInputConfig"],Ce);const Pe=getValueByPath(ee,["contextWindowCompression"]);te!==void 0&&Pe!=null&&setValueByPath(te,["setup","contextWindowCompression"],Pe);const Be=getValueByPath(ee,["proactivity"]);return te!==void 0&&Be!=null&&setValueByPath(te,["setup","proactivity"],Be),ne}function liveConnectParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["setup","model"],tModel(ee,ae));const ie=getValueByPath(te,["config"]);return ie!=null&&setValueByPath(ne,["config"],liveConnectConfigToMldev$1(ie,ne)),ne}function liveConnectParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["setup","model"],tModel(ee,ae));const ie=getValueByPath(te,["config"]);return ie!=null&&setValueByPath(ne,["config"],liveConnectConfigToVertex(ie,ne)),ne}function liveMusicSetConfigParametersToMldev(ee){const te={},ne=getValueByPath(ee,["musicGenerationConfig"]);return ne!=null&&setValueByPath(te,["musicGenerationConfig"],ne),te}function liveMusicSetWeightedPromptsParametersToMldev(ee){const te={},ne=getValueByPath(ee,["weightedPrompts"]);if(ne!=null){let ae=ne;Array.isArray(ae)&&(ae=ae.map(ie=>ie)),setValueByPath(te,["weightedPrompts"],ae)}return te}function liveSendRealtimeInputParametersToMldev(ee){const te={},ne=getValueByPath(ee,["media"]);if(ne!=null){let he=tBlobs(ne);Array.isArray(he)&&(he=he.map(fe=>blobToMldev$2(fe))),setValueByPath(te,["mediaChunks"],he)}const ae=getValueByPath(ee,["audio"]);ae!=null&&setValueByPath(te,["audio"],blobToMldev$2(tAudioBlob(ae)));const ie=getValueByPath(ee,["audioStreamEnd"]);ie!=null&&setValueByPath(te,["audioStreamEnd"],ie);const se=getValueByPath(ee,["video"]);se!=null&&setValueByPath(te,["video"],blobToMldev$2(tImageBlob(se)));const oe=getValueByPath(ee,["text"]);oe!=null&&setValueByPath(te,["text"],oe);const le=getValueByPath(ee,["activityStart"]);le!=null&&setValueByPath(te,["activityStart"],le);const ce=getValueByPath(ee,["activityEnd"]);return ce!=null&&setValueByPath(te,["activityEnd"],ce),te}function liveSendRealtimeInputParametersToVertex(ee){const te={},ne=getValueByPath(ee,["media"]);if(ne!=null){let he=tBlobs(ne);Array.isArray(he)&&(he=he.map(fe=>fe)),setValueByPath(te,["mediaChunks"],he)}const ae=getValueByPath(ee,["audio"]);ae!=null&&setValueByPath(te,["audio"],tAudioBlob(ae));const ie=getValueByPath(ee,["audioStreamEnd"]);ie!=null&&setValueByPath(te,["audioStreamEnd"],ie);const se=getValueByPath(ee,["video"]);se!=null&&setValueByPath(te,["video"],tImageBlob(se));const oe=getValueByPath(ee,["text"]);oe!=null&&setValueByPath(te,["text"],oe);const le=getValueByPath(ee,["activityStart"]);le!=null&&setValueByPath(te,["activityStart"],le);const ce=getValueByPath(ee,["activityEnd"]);return ce!=null&&setValueByPath(te,["activityEnd"],ce),te}function liveServerMessageFromVertex(ee){const te={},ne=getValueByPath(ee,["setupComplete"]);ne!=null&&setValueByPath(te,["setupComplete"],ne);const ae=getValueByPath(ee,["serverContent"]);ae!=null&&setValueByPath(te,["serverContent"],ae);const ie=getValueByPath(ee,["toolCall"]);ie!=null&&setValueByPath(te,["toolCall"],ie);const se=getValueByPath(ee,["toolCallCancellation"]);se!=null&&setValueByPath(te,["toolCallCancellation"],se);const oe=getValueByPath(ee,["usageMetadata"]);oe!=null&&setValueByPath(te,["usageMetadata"],usageMetadataFromVertex(oe));const le=getValueByPath(ee,["goAway"]);le!=null&&setValueByPath(te,["goAway"],le);const ce=getValueByPath(ee,["sessionResumptionUpdate"]);return ce!=null&&setValueByPath(te,["sessionResumptionUpdate"],ce),te}function partToMldev$2(ee){const te={},ne=getValueByPath(ee,["mediaResolution"]);ne!=null&&setValueByPath(te,["mediaResolution"],ne);const ae=getValueByPath(ee,["codeExecutionResult"]);ae!=null&&setValueByPath(te,["codeExecutionResult"],ae);const ie=getValueByPath(ee,["executableCode"]);ie!=null&&setValueByPath(te,["executableCode"],ie);const se=getValueByPath(ee,["fileData"]);se!=null&&setValueByPath(te,["fileData"],fileDataToMldev$2(se));const oe=getValueByPath(ee,["functionCall"]);oe!=null&&setValueByPath(te,["functionCall"],functionCallToMldev$2(oe));const le=getValueByPath(ee,["functionResponse"]);le!=null&&setValueByPath(te,["functionResponse"],le);const ce=getValueByPath(ee,["inlineData"]);ce!=null&&setValueByPath(te,["inlineData"],blobToMldev$2(ce));const he=getValueByPath(ee,["text"]);he!=null&&setValueByPath(te,["text"],he);const fe=getValueByPath(ee,["thought"]);fe!=null&&setValueByPath(te,["thought"],fe);const pe=getValueByPath(ee,["thoughtSignature"]);pe!=null&&setValueByPath(te,["thoughtSignature"],pe);const ge=getValueByPath(ee,["videoMetadata"]);return ge!=null&&setValueByPath(te,["videoMetadata"],ge),te}function sessionResumptionConfigToMldev$1(ee){const te={},ne=getValueByPath(ee,["handle"]);if(ne!=null&&setValueByPath(te,["handle"],ne),getValueByPath(ee,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return te}function speechConfigToVertex$1(ee){const te={},ne=getValueByPath(ee,["voiceConfig"]);ne!=null&&setValueByPath(te,["voiceConfig"],ne);const ae=getValueByPath(ee,["languageCode"]);if(ae!=null&&setValueByPath(te,["languageCode"],ae),getValueByPath(ee,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return te}function toolToMldev$2(ee){const te={},ne=getValueByPath(ee,["functionDeclarations"]);if(ne!=null){let fe=ne;Array.isArray(fe)&&(fe=fe.map(pe=>pe)),setValueByPath(te,["functionDeclarations"],fe)}if(getValueByPath(ee,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["googleSearchRetrieval"]);ae!=null&&setValueByPath(te,["googleSearchRetrieval"],ae);const ie=getValueByPath(ee,["computerUse"]);ie!=null&&setValueByPath(te,["computerUse"],ie);const se=getValueByPath(ee,["fileSearch"]);se!=null&&setValueByPath(te,["fileSearch"],se);const oe=getValueByPath(ee,["codeExecution"]);if(oe!=null&&setValueByPath(te,["codeExecution"],oe),getValueByPath(ee,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const le=getValueByPath(ee,["googleMaps"]);le!=null&&setValueByPath(te,["googleMaps"],googleMapsToMldev$2(le));const ce=getValueByPath(ee,["googleSearch"]);ce!=null&&setValueByPath(te,["googleSearch"],googleSearchToMldev$2(ce));const he=getValueByPath(ee,["urlContext"]);return he!=null&&setValueByPath(te,["urlContext"],he),te}function toolToVertex$1(ee){const te={},ne=getValueByPath(ee,["functionDeclarations"]);if(ne!=null){let pe=ne;Array.isArray(pe)&&(pe=pe.map(ge=>functionDeclarationToVertex$1(ge))),setValueByPath(te,["functionDeclarations"],pe)}const ae=getValueByPath(ee,["retrieval"]);ae!=null&&setValueByPath(te,["retrieval"],ae);const ie=getValueByPath(ee,["googleSearchRetrieval"]);ie!=null&&setValueByPath(te,["googleSearchRetrieval"],ie);const se=getValueByPath(ee,["computerUse"]);if(se!=null&&setValueByPath(te,["computerUse"],se),getValueByPath(ee,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const oe=getValueByPath(ee,["codeExecution"]);oe!=null&&setValueByPath(te,["codeExecution"],oe);const le=getValueByPath(ee,["enterpriseWebSearch"]);le!=null&&setValueByPath(te,["enterpriseWebSearch"],le);const ce=getValueByPath(ee,["googleMaps"]);ce!=null&&setValueByPath(te,["googleMaps"],ce);const he=getValueByPath(ee,["googleSearch"]);he!=null&&setValueByPath(te,["googleSearch"],he);const fe=getValueByPath(ee,["urlContext"]);return fe!=null&&setValueByPath(te,["urlContext"],fe),te}function usageMetadataFromVertex(ee){const te={},ne=getValueByPath(ee,["promptTokenCount"]);ne!=null&&setValueByPath(te,["promptTokenCount"],ne);const ae=getValueByPath(ee,["cachedContentTokenCount"]);ae!=null&&setValueByPath(te,["cachedContentTokenCount"],ae);const ie=getValueByPath(ee,["candidatesTokenCount"]);ie!=null&&setValueByPath(te,["responseTokenCount"],ie);const se=getValueByPath(ee,["toolUsePromptTokenCount"]);se!=null&&setValueByPath(te,["toolUsePromptTokenCount"],se);const oe=getValueByPath(ee,["thoughtsTokenCount"]);oe!=null&&setValueByPath(te,["thoughtsTokenCount"],oe);const le=getValueByPath(ee,["totalTokenCount"]);le!=null&&setValueByPath(te,["totalTokenCount"],le);const ce=getValueByPath(ee,["promptTokensDetails"]);if(ce!=null){let ye=ce;Array.isArray(ye)&&(ye=ye.map(xe=>xe)),setValueByPath(te,["promptTokensDetails"],ye)}const he=getValueByPath(ee,["cacheTokensDetails"]);if(he!=null){let ye=he;Array.isArray(ye)&&(ye=ye.map(xe=>xe)),setValueByPath(te,["cacheTokensDetails"],ye)}const fe=getValueByPath(ee,["candidatesTokensDetails"]);if(fe!=null){let ye=fe;Array.isArray(ye)&&(ye=ye.map(xe=>xe)),setValueByPath(te,["responseTokensDetails"],ye)}const pe=getValueByPath(ee,["toolUsePromptTokensDetails"]);if(pe!=null){let ye=pe;Array.isArray(ye)&&(ye=ye.map(xe=>xe)),setValueByPath(te,["toolUsePromptTokensDetails"],ye)}const ge=getValueByPath(ee,["trafficType"]);return ge!=null&&setValueByPath(te,["trafficType"],ge),te}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function blobToMldev$1(ee){const te={},ne=getValueByPath(ee,["data"]);if(ne!=null&&setValueByPath(te,["data"],ne),getValueByPath(ee,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function candidateFromMldev(ee){const te={},ne=getValueByPath(ee,["content"]);ne!=null&&setValueByPath(te,["content"],ne);const ae=getValueByPath(ee,["citationMetadata"]);ae!=null&&setValueByPath(te,["citationMetadata"],citationMetadataFromMldev(ae));const ie=getValueByPath(ee,["tokenCount"]);ie!=null&&setValueByPath(te,["tokenCount"],ie);const se=getValueByPath(ee,["finishReason"]);se!=null&&setValueByPath(te,["finishReason"],se);const oe=getValueByPath(ee,["avgLogprobs"]);oe!=null&&setValueByPath(te,["avgLogprobs"],oe);const le=getValueByPath(ee,["groundingMetadata"]);le!=null&&setValueByPath(te,["groundingMetadata"],le);const ce=getValueByPath(ee,["index"]);ce!=null&&setValueByPath(te,["index"],ce);const he=getValueByPath(ee,["logprobsResult"]);he!=null&&setValueByPath(te,["logprobsResult"],he);const fe=getValueByPath(ee,["safetyRatings"]);if(fe!=null){let ge=fe;Array.isArray(ge)&&(ge=ge.map(ye=>ye)),setValueByPath(te,["safetyRatings"],ge)}const pe=getValueByPath(ee,["urlContextMetadata"]);return pe!=null&&setValueByPath(te,["urlContextMetadata"],pe),te}function citationMetadataFromMldev(ee){const te={},ne=getValueByPath(ee,["citationSources"]);if(ne!=null){let ae=ne;Array.isArray(ae)&&(ae=ae.map(ie=>ie)),setValueByPath(te,["citations"],ae)}return te}function computeTokensParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["contents"]);if(ie!=null){let se=tContents(ie);Array.isArray(se)&&(se=se.map(oe=>oe)),setValueByPath(ne,["contents"],se)}return ne}function computeTokensResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["tokensInfo"]);if(ae!=null){let ie=ae;Array.isArray(ie)&&(ie=ie.map(se=>se)),setValueByPath(te,["tokensInfo"],ie)}return te}function contentEmbeddingFromVertex(ee){const te={},ne=getValueByPath(ee,["values"]);ne!=null&&setValueByPath(te,["values"],ne);const ae=getValueByPath(ee,["statistics"]);return ae!=null&&setValueByPath(te,["statistics"],contentEmbeddingStatisticsFromVertex(ae)),te}function contentEmbeddingStatisticsFromVertex(ee){const te={},ne=getValueByPath(ee,["truncated"]);ne!=null&&setValueByPath(te,["truncated"],ne);const ae=getValueByPath(ee,["token_count"]);return ae!=null&&setValueByPath(te,["tokenCount"],ae),te}function contentToMldev$1(ee){const te={},ne=getValueByPath(ee,["parts"]);if(ne!=null){let ie=ne;Array.isArray(ie)&&(ie=ie.map(se=>partToMldev$1(se))),setValueByPath(te,["parts"],ie)}const ae=getValueByPath(ee,["role"]);return ae!=null&&setValueByPath(te,["role"],ae),te}function controlReferenceConfigToVertex(ee){const te={},ne=getValueByPath(ee,["controlType"]);ne!=null&&setValueByPath(te,["controlType"],ne);const ae=getValueByPath(ee,["enableControlImageComputation"]);return ae!=null&&setValueByPath(te,["computeControl"],ae),te}function countTokensConfigToMldev(ee){const te={};if(getValueByPath(ee,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(getValueByPath(ee,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(getValueByPath(ee,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return te}function countTokensConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["systemInstruction"]);te!==void 0&&ae!=null&&setValueByPath(te,["systemInstruction"],tContent(ae));const ie=getValueByPath(ee,["tools"]);if(te!==void 0&&ie!=null){let oe=ie;Array.isArray(oe)&&(oe=oe.map(le=>toolToVertex(le))),setValueByPath(te,["tools"],oe)}const se=getValueByPath(ee,["generationConfig"]);return te!==void 0&&se!=null&&setValueByPath(te,["generationConfig"],generationConfigToVertex(se)),ne}function countTokensParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["contents"]);if(ie!=null){let oe=tContents(ie);Array.isArray(oe)&&(oe=oe.map(le=>contentToMldev$1(le))),setValueByPath(ne,["contents"],oe)}const se=getValueByPath(te,["config"]);return se!=null&&countTokensConfigToMldev(se),ne}function countTokensParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["contents"]);if(ie!=null){let oe=tContents(ie);Array.isArray(oe)&&(oe=oe.map(le=>le)),setValueByPath(ne,["contents"],oe)}const se=getValueByPath(te,["config"]);return se!=null&&countTokensConfigToVertex(se,ne),ne}function countTokensResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["totalTokens"]);ae!=null&&setValueByPath(te,["totalTokens"],ae);const ie=getValueByPath(ee,["cachedContentTokenCount"]);return ie!=null&&setValueByPath(te,["cachedContentTokenCount"],ie),te}function countTokensResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["totalTokens"]);return ae!=null&&setValueByPath(te,["totalTokens"],ae),te}function deleteModelParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);return ae!=null&&setValueByPath(ne,["_url","name"],tModel(ee,ae)),ne}function deleteModelParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);return ae!=null&&setValueByPath(ne,["_url","name"],tModel(ee,ae)),ne}function deleteModelResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);return ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne),te}function deleteModelResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);return ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne),te}function editImageConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["outputGcsUri"]);te!==void 0&&ae!=null&&setValueByPath(te,["parameters","storageUri"],ae);const ie=getValueByPath(ee,["negativePrompt"]);te!==void 0&&ie!=null&&setValueByPath(te,["parameters","negativePrompt"],ie);const se=getValueByPath(ee,["numberOfImages"]);te!==void 0&&se!=null&&setValueByPath(te,["parameters","sampleCount"],se);const oe=getValueByPath(ee,["aspectRatio"]);te!==void 0&&oe!=null&&setValueByPath(te,["parameters","aspectRatio"],oe);const le=getValueByPath(ee,["guidanceScale"]);te!==void 0&&le!=null&&setValueByPath(te,["parameters","guidanceScale"],le);const ce=getValueByPath(ee,["seed"]);te!==void 0&&ce!=null&&setValueByPath(te,["parameters","seed"],ce);const he=getValueByPath(ee,["safetyFilterLevel"]);te!==void 0&&he!=null&&setValueByPath(te,["parameters","safetySetting"],he);const fe=getValueByPath(ee,["personGeneration"]);te!==void 0&&fe!=null&&setValueByPath(te,["parameters","personGeneration"],fe);const pe=getValueByPath(ee,["includeSafetyAttributes"]);te!==void 0&&pe!=null&&setValueByPath(te,["parameters","includeSafetyAttributes"],pe);const ge=getValueByPath(ee,["includeRaiReason"]);te!==void 0&&ge!=null&&setValueByPath(te,["parameters","includeRaiReason"],ge);const ye=getValueByPath(ee,["language"]);te!==void 0&&ye!=null&&setValueByPath(te,["parameters","language"],ye);const xe=getValueByPath(ee,["outputMimeType"]);te!==void 0&&xe!=null&&setValueByPath(te,["parameters","outputOptions","mimeType"],xe);const be=getValueByPath(ee,["outputCompressionQuality"]);te!==void 0&&be!=null&&setValueByPath(te,["parameters","outputOptions","compressionQuality"],be);const Se=getValueByPath(ee,["addWatermark"]);te!==void 0&&Se!=null&&setValueByPath(te,["parameters","addWatermark"],Se);const ve=getValueByPath(ee,["labels"]);te!==void 0&&ve!=null&&setValueByPath(te,["labels"],ve);const Te=getValueByPath(ee,["editMode"]);te!==void 0&&Te!=null&&setValueByPath(te,["parameters","editMode"],Te);const Ce=getValueByPath(ee,["baseSteps"]);return te!==void 0&&Ce!=null&&setValueByPath(te,["parameters","editConfig","baseSteps"],Ce),ne}function editImageParametersInternalToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["prompt"]);ie!=null&&setValueByPath(ne,["instances[0]","prompt"],ie);const se=getValueByPath(te,["referenceImages"]);if(se!=null){let le=se;Array.isArray(le)&&(le=le.map(ce=>referenceImageAPIInternalToVertex(ce))),setValueByPath(ne,["instances[0]","referenceImages"],le)}const oe=getValueByPath(te,["config"]);return oe!=null&&editImageConfigToVertex(oe,ne),ne}function editImageResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["predictions"]);if(ae!=null){let ie=ae;Array.isArray(ie)&&(ie=ie.map(se=>generatedImageFromVertex(se))),setValueByPath(te,["generatedImages"],ie)}return te}function embedContentConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["taskType"]);te!==void 0&&ae!=null&&setValueByPath(te,["requests[]","taskType"],ae);const ie=getValueByPath(ee,["title"]);te!==void 0&&ie!=null&&setValueByPath(te,["requests[]","title"],ie);const se=getValueByPath(ee,["outputDimensionality"]);if(te!==void 0&&se!=null&&setValueByPath(te,["requests[]","outputDimensionality"],se),getValueByPath(ee,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(getValueByPath(ee,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return ne}function embedContentConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["taskType"]);te!==void 0&&ae!=null&&setValueByPath(te,["instances[]","task_type"],ae);const ie=getValueByPath(ee,["title"]);te!==void 0&&ie!=null&&setValueByPath(te,["instances[]","title"],ie);const se=getValueByPath(ee,["outputDimensionality"]);te!==void 0&&se!=null&&setValueByPath(te,["parameters","outputDimensionality"],se);const oe=getValueByPath(ee,["mimeType"]);te!==void 0&&oe!=null&&setValueByPath(te,["instances[]","mimeType"],oe);const le=getValueByPath(ee,["autoTruncate"]);return te!==void 0&&le!=null&&setValueByPath(te,["parameters","autoTruncate"],le),ne}function embedContentParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["contents"]);if(ie!=null){let le=tContentsForEmbed(ee,ie);Array.isArray(le)&&(le=le.map(ce=>ce)),setValueByPath(ne,["requests[]","content"],le)}const se=getValueByPath(te,["config"]);se!=null&&embedContentConfigToMldev(se,ne);const oe=getValueByPath(te,["model"]);return oe!==void 0&&setValueByPath(ne,["requests[]","model"],tModel(ee,oe)),ne}function embedContentParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["contents"]);if(ie!=null){let oe=tContentsForEmbed(ee,ie);Array.isArray(oe)&&(oe=oe.map(le=>le)),setValueByPath(ne,["instances[]","content"],oe)}const se=getValueByPath(te,["config"]);return se!=null&&embedContentConfigToVertex(se,ne),ne}function embedContentResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["embeddings"]);if(ae!=null){let se=ae;Array.isArray(se)&&(se=se.map(oe=>oe)),setValueByPath(te,["embeddings"],se)}const ie=getValueByPath(ee,["metadata"]);return ie!=null&&setValueByPath(te,["metadata"],ie),te}function embedContentResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["predictions[]","embeddings"]);if(ae!=null){let se=ae;Array.isArray(se)&&(se=se.map(oe=>contentEmbeddingFromVertex(oe))),setValueByPath(te,["embeddings"],se)}const ie=getValueByPath(ee,["metadata"]);return ie!=null&&setValueByPath(te,["metadata"],ie),te}function endpointFromVertex(ee){const te={},ne=getValueByPath(ee,["endpoint"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["deployedModelId"]);return ae!=null&&setValueByPath(te,["deployedModelId"],ae),te}function fileDataToMldev$1(ee){const te={};if(getValueByPath(ee,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["fileUri"]);ne!=null&&setValueByPath(te,["fileUri"],ne);const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function functionCallToMldev$1(ee){const te={},ne=getValueByPath(ee,["id"]);ne!=null&&setValueByPath(te,["id"],ne);const ae=getValueByPath(ee,["args"]);ae!=null&&setValueByPath(te,["args"],ae);const ie=getValueByPath(ee,["name"]);if(ie!=null&&setValueByPath(te,["name"],ie),getValueByPath(ee,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(getValueByPath(ee,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return te}function functionCallingConfigToMldev(ee){const te={},ne=getValueByPath(ee,["mode"]);ne!=null&&setValueByPath(te,["mode"],ne);const ae=getValueByPath(ee,["allowedFunctionNames"]);if(ae!=null&&setValueByPath(te,["allowedFunctionNames"],ae),getValueByPath(ee,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return te}function functionDeclarationToVertex(ee){const te={};if(getValueByPath(ee,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const ne=getValueByPath(ee,["description"]);ne!=null&&setValueByPath(te,["description"],ne);const ae=getValueByPath(ee,["name"]);ae!=null&&setValueByPath(te,["name"],ae);const ie=getValueByPath(ee,["parameters"]);ie!=null&&setValueByPath(te,["parameters"],ie);const se=getValueByPath(ee,["parametersJsonSchema"]);se!=null&&setValueByPath(te,["parametersJsonSchema"],se);const oe=getValueByPath(ee,["response"]);oe!=null&&setValueByPath(te,["response"],oe);const le=getValueByPath(ee,["responseJsonSchema"]);return le!=null&&setValueByPath(te,["responseJsonSchema"],le),te}function generateContentConfigToMldev(ee,te,ne){const ae={},ie=getValueByPath(te,["systemInstruction"]);ne!==void 0&&ie!=null&&setValueByPath(ne,["systemInstruction"],contentToMldev$1(tContent(ie)));const se=getValueByPath(te,["temperature"]);se!=null&&setValueByPath(ae,["temperature"],se);const oe=getValueByPath(te,["topP"]);oe!=null&&setValueByPath(ae,["topP"],oe);const le=getValueByPath(te,["topK"]);le!=null&&setValueByPath(ae,["topK"],le);const ce=getValueByPath(te,["candidateCount"]);ce!=null&&setValueByPath(ae,["candidateCount"],ce);const he=getValueByPath(te,["maxOutputTokens"]);he!=null&&setValueByPath(ae,["maxOutputTokens"],he);const fe=getValueByPath(te,["stopSequences"]);fe!=null&&setValueByPath(ae,["stopSequences"],fe);const pe=getValueByPath(te,["responseLogprobs"]);pe!=null&&setValueByPath(ae,["responseLogprobs"],pe);const ge=getValueByPath(te,["logprobs"]);ge!=null&&setValueByPath(ae,["logprobs"],ge);const ye=getValueByPath(te,["presencePenalty"]);ye!=null&&setValueByPath(ae,["presencePenalty"],ye);const xe=getValueByPath(te,["frequencyPenalty"]);xe!=null&&setValueByPath(ae,["frequencyPenalty"],xe);const be=getValueByPath(te,["seed"]);be!=null&&setValueByPath(ae,["seed"],be);const Se=getValueByPath(te,["responseMimeType"]);Se!=null&&setValueByPath(ae,["responseMimeType"],Se);const ve=getValueByPath(te,["responseSchema"]);ve!=null&&setValueByPath(ae,["responseSchema"],tSchema(ve));const Te=getValueByPath(te,["responseJsonSchema"]);if(Te!=null&&setValueByPath(ae,["responseJsonSchema"],Te),getValueByPath(te,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(getValueByPath(te,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Ce=getValueByPath(te,["safetySettings"]);if(ne!==void 0&&Ce!=null){let Ye=Ce;Array.isArray(Ye)&&(Ye=Ye.map(ke=>safetySettingToMldev(ke))),setValueByPath(ne,["safetySettings"],Ye)}const Pe=getValueByPath(te,["tools"]);if(ne!==void 0&&Pe!=null){let Ye=tTools(Pe);Array.isArray(Ye)&&(Ye=Ye.map(ke=>toolToMldev$1(tTool(ke)))),setValueByPath(ne,["tools"],Ye)}const Be=getValueByPath(te,["toolConfig"]);if(ne!==void 0&&Be!=null&&setValueByPath(ne,["toolConfig"],toolConfigToMldev(Be)),getValueByPath(te,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Ae=getValueByPath(te,["cachedContent"]);ne!==void 0&&Ae!=null&&setValueByPath(ne,["cachedContent"],tCachedContentName(ee,Ae));const Me=getValueByPath(te,["responseModalities"]);Me!=null&&setValueByPath(ae,["responseModalities"],Me);const Ge=getValueByPath(te,["mediaResolution"]);Ge!=null&&setValueByPath(ae,["mediaResolution"],Ge);const Ue=getValueByPath(te,["speechConfig"]);if(Ue!=null&&setValueByPath(ae,["speechConfig"],tSpeechConfig(Ue)),getValueByPath(te,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ve=getValueByPath(te,["thinkingConfig"]);Ve!=null&&setValueByPath(ae,["thinkingConfig"],Ve);const je=getValueByPath(te,["imageConfig"]);je!=null&&setValueByPath(ae,["imageConfig"],imageConfigToMldev(je));const De=getValueByPath(te,["enableEnhancedCivicAnswers"]);return De!=null&&setValueByPath(ae,["enableEnhancedCivicAnswers"],De),ae}function generateContentConfigToVertex(ee,te,ne){const ae={},ie=getValueByPath(te,["systemInstruction"]);ne!==void 0&&ie!=null&&setValueByPath(ne,["systemInstruction"],tContent(ie));const se=getValueByPath(te,["temperature"]);se!=null&&setValueByPath(ae,["temperature"],se);const oe=getValueByPath(te,["topP"]);oe!=null&&setValueByPath(ae,["topP"],oe);const le=getValueByPath(te,["topK"]);le!=null&&setValueByPath(ae,["topK"],le);const ce=getValueByPath(te,["candidateCount"]);ce!=null&&setValueByPath(ae,["candidateCount"],ce);const he=getValueByPath(te,["maxOutputTokens"]);he!=null&&setValueByPath(ae,["maxOutputTokens"],he);const fe=getValueByPath(te,["stopSequences"]);fe!=null&&setValueByPath(ae,["stopSequences"],fe);const pe=getValueByPath(te,["responseLogprobs"]);pe!=null&&setValueByPath(ae,["responseLogprobs"],pe);const ge=getValueByPath(te,["logprobs"]);ge!=null&&setValueByPath(ae,["logprobs"],ge);const ye=getValueByPath(te,["presencePenalty"]);ye!=null&&setValueByPath(ae,["presencePenalty"],ye);const xe=getValueByPath(te,["frequencyPenalty"]);xe!=null&&setValueByPath(ae,["frequencyPenalty"],xe);const be=getValueByPath(te,["seed"]);be!=null&&setValueByPath(ae,["seed"],be);const Se=getValueByPath(te,["responseMimeType"]);Se!=null&&setValueByPath(ae,["responseMimeType"],Se);const ve=getValueByPath(te,["responseSchema"]);ve!=null&&setValueByPath(ae,["responseSchema"],tSchema(ve));const Te=getValueByPath(te,["responseJsonSchema"]);Te!=null&&setValueByPath(ae,["responseJsonSchema"],Te);const Ce=getValueByPath(te,["routingConfig"]);Ce!=null&&setValueByPath(ae,["routingConfig"],Ce);const Pe=getValueByPath(te,["modelSelectionConfig"]);Pe!=null&&setValueByPath(ae,["modelConfig"],Pe);const Be=getValueByPath(te,["safetySettings"]);if(ne!==void 0&&Be!=null){let Oe=Be;Array.isArray(Oe)&&(Oe=Oe.map(He=>He)),setValueByPath(ne,["safetySettings"],Oe)}const Ae=getValueByPath(te,["tools"]);if(ne!==void 0&&Ae!=null){let Oe=tTools(Ae);Array.isArray(Oe)&&(Oe=Oe.map(He=>toolToVertex(tTool(He)))),setValueByPath(ne,["tools"],Oe)}const Me=getValueByPath(te,["toolConfig"]);ne!==void 0&&Me!=null&&setValueByPath(ne,["toolConfig"],Me);const Ge=getValueByPath(te,["labels"]);ne!==void 0&&Ge!=null&&setValueByPath(ne,["labels"],Ge);const Ue=getValueByPath(te,["cachedContent"]);ne!==void 0&&Ue!=null&&setValueByPath(ne,["cachedContent"],tCachedContentName(ee,Ue));const Ve=getValueByPath(te,["responseModalities"]);Ve!=null&&setValueByPath(ae,["responseModalities"],Ve);const je=getValueByPath(te,["mediaResolution"]);je!=null&&setValueByPath(ae,["mediaResolution"],je);const De=getValueByPath(te,["speechConfig"]);De!=null&&setValueByPath(ae,["speechConfig"],speechConfigToVertex(tSpeechConfig(De)));const Ye=getValueByPath(te,["audioTimestamp"]);Ye!=null&&setValueByPath(ae,["audioTimestamp"],Ye);const ke=getValueByPath(te,["thinkingConfig"]);ke!=null&&setValueByPath(ae,["thinkingConfig"],ke);const $e=getValueByPath(te,["imageConfig"]);if($e!=null&&setValueByPath(ae,["imageConfig"],imageConfigToVertex($e)),getValueByPath(te,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return ae}function generateContentParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["contents"]);if(ie!=null){let oe=tContents(ie);Array.isArray(oe)&&(oe=oe.map(le=>contentToMldev$1(le))),setValueByPath(ne,["contents"],oe)}const se=getValueByPath(te,["config"]);return se!=null&&setValueByPath(ne,["generationConfig"],generateContentConfigToMldev(ee,se,ne)),ne}function generateContentParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["contents"]);if(ie!=null){let oe=tContents(ie);Array.isArray(oe)&&(oe=oe.map(le=>le)),setValueByPath(ne,["contents"],oe)}const se=getValueByPath(te,["config"]);return se!=null&&setValueByPath(ne,["generationConfig"],generateContentConfigToVertex(ee,se,ne)),ne}function generateContentResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["candidates"]);if(ae!=null){let ce=ae;Array.isArray(ce)&&(ce=ce.map(he=>candidateFromMldev(he))),setValueByPath(te,["candidates"],ce)}const ie=getValueByPath(ee,["modelVersion"]);ie!=null&&setValueByPath(te,["modelVersion"],ie);const se=getValueByPath(ee,["promptFeedback"]);se!=null&&setValueByPath(te,["promptFeedback"],se);const oe=getValueByPath(ee,["responseId"]);oe!=null&&setValueByPath(te,["responseId"],oe);const le=getValueByPath(ee,["usageMetadata"]);return le!=null&&setValueByPath(te,["usageMetadata"],le),te}function generateContentResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["candidates"]);if(ae!=null){let he=ae;Array.isArray(he)&&(he=he.map(fe=>fe)),setValueByPath(te,["candidates"],he)}const ie=getValueByPath(ee,["createTime"]);ie!=null&&setValueByPath(te,["createTime"],ie);const se=getValueByPath(ee,["modelVersion"]);se!=null&&setValueByPath(te,["modelVersion"],se);const oe=getValueByPath(ee,["promptFeedback"]);oe!=null&&setValueByPath(te,["promptFeedback"],oe);const le=getValueByPath(ee,["responseId"]);le!=null&&setValueByPath(te,["responseId"],le);const ce=getValueByPath(ee,["usageMetadata"]);return ce!=null&&setValueByPath(te,["usageMetadata"],ce),te}function generateImagesConfigToMldev(ee,te){const ne={};if(getValueByPath(ee,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(getValueByPath(ee,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["numberOfImages"]);te!==void 0&&ae!=null&&setValueByPath(te,["parameters","sampleCount"],ae);const ie=getValueByPath(ee,["aspectRatio"]);te!==void 0&&ie!=null&&setValueByPath(te,["parameters","aspectRatio"],ie);const se=getValueByPath(ee,["guidanceScale"]);if(te!==void 0&&se!=null&&setValueByPath(te,["parameters","guidanceScale"],se),getValueByPath(ee,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const oe=getValueByPath(ee,["safetyFilterLevel"]);te!==void 0&&oe!=null&&setValueByPath(te,["parameters","safetySetting"],oe);const le=getValueByPath(ee,["personGeneration"]);te!==void 0&&le!=null&&setValueByPath(te,["parameters","personGeneration"],le);const ce=getValueByPath(ee,["includeSafetyAttributes"]);te!==void 0&&ce!=null&&setValueByPath(te,["parameters","includeSafetyAttributes"],ce);const he=getValueByPath(ee,["includeRaiReason"]);te!==void 0&&he!=null&&setValueByPath(te,["parameters","includeRaiReason"],he);const fe=getValueByPath(ee,["language"]);te!==void 0&&fe!=null&&setValueByPath(te,["parameters","language"],fe);const pe=getValueByPath(ee,["outputMimeType"]);te!==void 0&&pe!=null&&setValueByPath(te,["parameters","outputOptions","mimeType"],pe);const ge=getValueByPath(ee,["outputCompressionQuality"]);if(te!==void 0&&ge!=null&&setValueByPath(te,["parameters","outputOptions","compressionQuality"],ge),getValueByPath(ee,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(getValueByPath(ee,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ye=getValueByPath(ee,["imageSize"]);if(te!==void 0&&ye!=null&&setValueByPath(te,["parameters","sampleImageSize"],ye),getValueByPath(ee,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return ne}function generateImagesConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["outputGcsUri"]);te!==void 0&&ae!=null&&setValueByPath(te,["parameters","storageUri"],ae);const ie=getValueByPath(ee,["negativePrompt"]);te!==void 0&&ie!=null&&setValueByPath(te,["parameters","negativePrompt"],ie);const se=getValueByPath(ee,["numberOfImages"]);te!==void 0&&se!=null&&setValueByPath(te,["parameters","sampleCount"],se);const oe=getValueByPath(ee,["aspectRatio"]);te!==void 0&&oe!=null&&setValueByPath(te,["parameters","aspectRatio"],oe);const le=getValueByPath(ee,["guidanceScale"]);te!==void 0&&le!=null&&setValueByPath(te,["parameters","guidanceScale"],le);const ce=getValueByPath(ee,["seed"]);te!==void 0&&ce!=null&&setValueByPath(te,["parameters","seed"],ce);const he=getValueByPath(ee,["safetyFilterLevel"]);te!==void 0&&he!=null&&setValueByPath(te,["parameters","safetySetting"],he);const fe=getValueByPath(ee,["personGeneration"]);te!==void 0&&fe!=null&&setValueByPath(te,["parameters","personGeneration"],fe);const pe=getValueByPath(ee,["includeSafetyAttributes"]);te!==void 0&&pe!=null&&setValueByPath(te,["parameters","includeSafetyAttributes"],pe);const ge=getValueByPath(ee,["includeRaiReason"]);te!==void 0&&ge!=null&&setValueByPath(te,["parameters","includeRaiReason"],ge);const ye=getValueByPath(ee,["language"]);te!==void 0&&ye!=null&&setValueByPath(te,["parameters","language"],ye);const xe=getValueByPath(ee,["outputMimeType"]);te!==void 0&&xe!=null&&setValueByPath(te,["parameters","outputOptions","mimeType"],xe);const be=getValueByPath(ee,["outputCompressionQuality"]);te!==void 0&&be!=null&&setValueByPath(te,["parameters","outputOptions","compressionQuality"],be);const Se=getValueByPath(ee,["addWatermark"]);te!==void 0&&Se!=null&&setValueByPath(te,["parameters","addWatermark"],Se);const ve=getValueByPath(ee,["labels"]);te!==void 0&&ve!=null&&setValueByPath(te,["labels"],ve);const Te=getValueByPath(ee,["imageSize"]);te!==void 0&&Te!=null&&setValueByPath(te,["parameters","sampleImageSize"],Te);const Ce=getValueByPath(ee,["enhancePrompt"]);return te!==void 0&&Ce!=null&&setValueByPath(te,["parameters","enhancePrompt"],Ce),ne}function generateImagesParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["prompt"]);ie!=null&&setValueByPath(ne,["instances[0]","prompt"],ie);const se=getValueByPath(te,["config"]);return se!=null&&generateImagesConfigToMldev(se,ne),ne}function generateImagesParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["prompt"]);ie!=null&&setValueByPath(ne,["instances[0]","prompt"],ie);const se=getValueByPath(te,["config"]);return se!=null&&generateImagesConfigToVertex(se,ne),ne}function generateImagesResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["predictions"]);if(ae!=null){let se=ae;Array.isArray(se)&&(se=se.map(oe=>generatedImageFromMldev(oe))),setValueByPath(te,["generatedImages"],se)}const ie=getValueByPath(ee,["positivePromptSafetyAttributes"]);return ie!=null&&setValueByPath(te,["positivePromptSafetyAttributes"],safetyAttributesFromMldev(ie)),te}function generateImagesResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["predictions"]);if(ae!=null){let se=ae;Array.isArray(se)&&(se=se.map(oe=>generatedImageFromVertex(oe))),setValueByPath(te,["generatedImages"],se)}const ie=getValueByPath(ee,["positivePromptSafetyAttributes"]);return ie!=null&&setValueByPath(te,["positivePromptSafetyAttributes"],safetyAttributesFromVertex(ie)),te}function generateVideosConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["numberOfVideos"]);if(te!==void 0&&ae!=null&&setValueByPath(te,["parameters","sampleCount"],ae),getValueByPath(ee,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(getValueByPath(ee,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const ie=getValueByPath(ee,["durationSeconds"]);if(te!==void 0&&ie!=null&&setValueByPath(te,["parameters","durationSeconds"],ie),getValueByPath(ee,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const se=getValueByPath(ee,["aspectRatio"]);te!==void 0&&se!=null&&setValueByPath(te,["parameters","aspectRatio"],se);const oe=getValueByPath(ee,["resolution"]);te!==void 0&&oe!=null&&setValueByPath(te,["parameters","resolution"],oe);const le=getValueByPath(ee,["personGeneration"]);if(te!==void 0&&le!=null&&setValueByPath(te,["parameters","personGeneration"],le),getValueByPath(ee,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const ce=getValueByPath(ee,["negativePrompt"]);te!==void 0&&ce!=null&&setValueByPath(te,["parameters","negativePrompt"],ce);const he=getValueByPath(ee,["enhancePrompt"]);if(te!==void 0&&he!=null&&setValueByPath(te,["parameters","enhancePrompt"],he),getValueByPath(ee,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const fe=getValueByPath(ee,["lastFrame"]);te!==void 0&&fe!=null&&setValueByPath(te,["instances[0]","lastFrame"],imageToMldev(fe));const pe=getValueByPath(ee,["referenceImages"]);if(te!==void 0&&pe!=null){let ge=pe;Array.isArray(ge)&&(ge=ge.map(ye=>videoGenerationReferenceImageToMldev(ye))),setValueByPath(te,["instances[0]","referenceImages"],ge)}if(getValueByPath(ee,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(getValueByPath(ee,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return ne}function generateVideosConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["numberOfVideos"]);te!==void 0&&ae!=null&&setValueByPath(te,["parameters","sampleCount"],ae);const ie=getValueByPath(ee,["outputGcsUri"]);te!==void 0&&ie!=null&&setValueByPath(te,["parameters","storageUri"],ie);const se=getValueByPath(ee,["fps"]);te!==void 0&&se!=null&&setValueByPath(te,["parameters","fps"],se);const oe=getValueByPath(ee,["durationSeconds"]);te!==void 0&&oe!=null&&setValueByPath(te,["parameters","durationSeconds"],oe);const le=getValueByPath(ee,["seed"]);te!==void 0&&le!=null&&setValueByPath(te,["parameters","seed"],le);const ce=getValueByPath(ee,["aspectRatio"]);te!==void 0&&ce!=null&&setValueByPath(te,["parameters","aspectRatio"],ce);const he=getValueByPath(ee,["resolution"]);te!==void 0&&he!=null&&setValueByPath(te,["parameters","resolution"],he);const fe=getValueByPath(ee,["personGeneration"]);te!==void 0&&fe!=null&&setValueByPath(te,["parameters","personGeneration"],fe);const pe=getValueByPath(ee,["pubsubTopic"]);te!==void 0&&pe!=null&&setValueByPath(te,["parameters","pubsubTopic"],pe);const ge=getValueByPath(ee,["negativePrompt"]);te!==void 0&&ge!=null&&setValueByPath(te,["parameters","negativePrompt"],ge);const ye=getValueByPath(ee,["enhancePrompt"]);te!==void 0&&ye!=null&&setValueByPath(te,["parameters","enhancePrompt"],ye);const xe=getValueByPath(ee,["generateAudio"]);te!==void 0&&xe!=null&&setValueByPath(te,["parameters","generateAudio"],xe);const be=getValueByPath(ee,["lastFrame"]);te!==void 0&&be!=null&&setValueByPath(te,["instances[0]","lastFrame"],imageToVertex(be));const Se=getValueByPath(ee,["referenceImages"]);if(te!==void 0&&Se!=null){let Ce=Se;Array.isArray(Ce)&&(Ce=Ce.map(Pe=>videoGenerationReferenceImageToVertex(Pe))),setValueByPath(te,["instances[0]","referenceImages"],Ce)}const ve=getValueByPath(ee,["mask"]);te!==void 0&&ve!=null&&setValueByPath(te,["instances[0]","mask"],videoGenerationMaskToVertex(ve));const Te=getValueByPath(ee,["compressionQuality"]);return te!==void 0&&Te!=null&&setValueByPath(te,["parameters","compressionQuality"],Te),ne}function generateVideosOperationFromMldev(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["metadata"]);ae!=null&&setValueByPath(te,["metadata"],ae);const ie=getValueByPath(ee,["done"]);ie!=null&&setValueByPath(te,["done"],ie);const se=getValueByPath(ee,["error"]);se!=null&&setValueByPath(te,["error"],se);const oe=getValueByPath(ee,["response","generateVideoResponse"]);return oe!=null&&setValueByPath(te,["response"],generateVideosResponseFromMldev(oe)),te}function generateVideosOperationFromVertex(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["metadata"]);ae!=null&&setValueByPath(te,["metadata"],ae);const ie=getValueByPath(ee,["done"]);ie!=null&&setValueByPath(te,["done"],ie);const se=getValueByPath(ee,["error"]);se!=null&&setValueByPath(te,["error"],se);const oe=getValueByPath(ee,["response"]);return oe!=null&&setValueByPath(te,["response"],generateVideosResponseFromVertex(oe)),te}function generateVideosParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["prompt"]);ie!=null&&setValueByPath(ne,["instances[0]","prompt"],ie);const se=getValueByPath(te,["image"]);se!=null&&setValueByPath(ne,["instances[0]","image"],imageToMldev(se));const oe=getValueByPath(te,["video"]);oe!=null&&setValueByPath(ne,["instances[0]","video"],videoToMldev(oe));const le=getValueByPath(te,["source"]);le!=null&&generateVideosSourceToMldev(le,ne);const ce=getValueByPath(te,["config"]);return ce!=null&&generateVideosConfigToMldev(ce,ne),ne}function generateVideosParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["prompt"]);ie!=null&&setValueByPath(ne,["instances[0]","prompt"],ie);const se=getValueByPath(te,["image"]);se!=null&&setValueByPath(ne,["instances[0]","image"],imageToVertex(se));const oe=getValueByPath(te,["video"]);oe!=null&&setValueByPath(ne,["instances[0]","video"],videoToVertex(oe));const le=getValueByPath(te,["source"]);le!=null&&generateVideosSourceToVertex(le,ne);const ce=getValueByPath(te,["config"]);return ce!=null&&generateVideosConfigToVertex(ce,ne),ne}function generateVideosResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["generatedSamples"]);if(ne!=null){let se=ne;Array.isArray(se)&&(se=se.map(oe=>generatedVideoFromMldev(oe))),setValueByPath(te,["generatedVideos"],se)}const ae=getValueByPath(ee,["raiMediaFilteredCount"]);ae!=null&&setValueByPath(te,["raiMediaFilteredCount"],ae);const ie=getValueByPath(ee,["raiMediaFilteredReasons"]);return ie!=null&&setValueByPath(te,["raiMediaFilteredReasons"],ie),te}function generateVideosResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["videos"]);if(ne!=null){let se=ne;Array.isArray(se)&&(se=se.map(oe=>generatedVideoFromVertex(oe))),setValueByPath(te,["generatedVideos"],se)}const ae=getValueByPath(ee,["raiMediaFilteredCount"]);ae!=null&&setValueByPath(te,["raiMediaFilteredCount"],ae);const ie=getValueByPath(ee,["raiMediaFilteredReasons"]);return ie!=null&&setValueByPath(te,["raiMediaFilteredReasons"],ie),te}function generateVideosSourceToMldev(ee,te){const ne={},ae=getValueByPath(ee,["prompt"]);te!==void 0&&ae!=null&&setValueByPath(te,["instances[0]","prompt"],ae);const ie=getValueByPath(ee,["image"]);te!==void 0&&ie!=null&&setValueByPath(te,["instances[0]","image"],imageToMldev(ie));const se=getValueByPath(ee,["video"]);return te!==void 0&&se!=null&&setValueByPath(te,["instances[0]","video"],videoToMldev(se)),ne}function generateVideosSourceToVertex(ee,te){const ne={},ae=getValueByPath(ee,["prompt"]);te!==void 0&&ae!=null&&setValueByPath(te,["instances[0]","prompt"],ae);const ie=getValueByPath(ee,["image"]);te!==void 0&&ie!=null&&setValueByPath(te,["instances[0]","image"],imageToVertex(ie));const se=getValueByPath(ee,["video"]);return te!==void 0&&se!=null&&setValueByPath(te,["instances[0]","video"],videoToVertex(se)),ne}function generatedImageFromMldev(ee){const te={},ne=getValueByPath(ee,["_self"]);ne!=null&&setValueByPath(te,["image"],imageFromMldev(ne));const ae=getValueByPath(ee,["raiFilteredReason"]);ae!=null&&setValueByPath(te,["raiFilteredReason"],ae);const ie=getValueByPath(ee,["_self"]);return ie!=null&&setValueByPath(te,["safetyAttributes"],safetyAttributesFromMldev(ie)),te}function generatedImageFromVertex(ee){const te={},ne=getValueByPath(ee,["_self"]);ne!=null&&setValueByPath(te,["image"],imageFromVertex(ne));const ae=getValueByPath(ee,["raiFilteredReason"]);ae!=null&&setValueByPath(te,["raiFilteredReason"],ae);const ie=getValueByPath(ee,["_self"]);ie!=null&&setValueByPath(te,["safetyAttributes"],safetyAttributesFromVertex(ie));const se=getValueByPath(ee,["prompt"]);return se!=null&&setValueByPath(te,["enhancedPrompt"],se),te}function generatedImageMaskFromVertex(ee){const te={},ne=getValueByPath(ee,["_self"]);ne!=null&&setValueByPath(te,["mask"],imageFromVertex(ne));const ae=getValueByPath(ee,["labels"]);if(ae!=null){let ie=ae;Array.isArray(ie)&&(ie=ie.map(se=>se)),setValueByPath(te,["labels"],ie)}return te}function generatedVideoFromMldev(ee){const te={},ne=getValueByPath(ee,["video"]);return ne!=null&&setValueByPath(te,["video"],videoFromMldev(ne)),te}function generatedVideoFromVertex(ee){const te={},ne=getValueByPath(ee,["_self"]);return ne!=null&&setValueByPath(te,["video"],videoFromVertex(ne)),te}function generationConfigToVertex(ee){const te={},ne=getValueByPath(ee,["modelSelectionConfig"]);ne!=null&&setValueByPath(te,["modelConfig"],ne);const ae=getValueByPath(ee,["responseJsonSchema"]);ae!=null&&setValueByPath(te,["responseJsonSchema"],ae);const ie=getValueByPath(ee,["audioTimestamp"]);ie!=null&&setValueByPath(te,["audioTimestamp"],ie);const se=getValueByPath(ee,["candidateCount"]);se!=null&&setValueByPath(te,["candidateCount"],se);const oe=getValueByPath(ee,["enableAffectiveDialog"]);oe!=null&&setValueByPath(te,["enableAffectiveDialog"],oe);const le=getValueByPath(ee,["frequencyPenalty"]);le!=null&&setValueByPath(te,["frequencyPenalty"],le);const ce=getValueByPath(ee,["logprobs"]);ce!=null&&setValueByPath(te,["logprobs"],ce);const he=getValueByPath(ee,["maxOutputTokens"]);he!=null&&setValueByPath(te,["maxOutputTokens"],he);const fe=getValueByPath(ee,["mediaResolution"]);fe!=null&&setValueByPath(te,["mediaResolution"],fe);const pe=getValueByPath(ee,["presencePenalty"]);pe!=null&&setValueByPath(te,["presencePenalty"],pe);const ge=getValueByPath(ee,["responseLogprobs"]);ge!=null&&setValueByPath(te,["responseLogprobs"],ge);const ye=getValueByPath(ee,["responseMimeType"]);ye!=null&&setValueByPath(te,["responseMimeType"],ye);const xe=getValueByPath(ee,["responseModalities"]);xe!=null&&setValueByPath(te,["responseModalities"],xe);const be=getValueByPath(ee,["responseSchema"]);be!=null&&setValueByPath(te,["responseSchema"],be);const Se=getValueByPath(ee,["routingConfig"]);Se!=null&&setValueByPath(te,["routingConfig"],Se);const ve=getValueByPath(ee,["seed"]);ve!=null&&setValueByPath(te,["seed"],ve);const Te=getValueByPath(ee,["speechConfig"]);Te!=null&&setValueByPath(te,["speechConfig"],speechConfigToVertex(Te));const Ce=getValueByPath(ee,["stopSequences"]);Ce!=null&&setValueByPath(te,["stopSequences"],Ce);const Pe=getValueByPath(ee,["temperature"]);Pe!=null&&setValueByPath(te,["temperature"],Pe);const Be=getValueByPath(ee,["thinkingConfig"]);Be!=null&&setValueByPath(te,["thinkingConfig"],Be);const Ae=getValueByPath(ee,["topK"]);Ae!=null&&setValueByPath(te,["topK"],Ae);const Me=getValueByPath(ee,["topP"]);if(Me!=null&&setValueByPath(te,["topP"],Me),getValueByPath(ee,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return te}function getModelParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);return ae!=null&&setValueByPath(ne,["_url","name"],tModel(ee,ae)),ne}function getModelParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);return ae!=null&&setValueByPath(ne,["_url","name"],tModel(ee,ae)),ne}function googleMapsToMldev$1(ee){const te={};if(getValueByPath(ee,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["enableWidget"]);return ne!=null&&setValueByPath(te,["enableWidget"],ne),te}function googleSearchToMldev$1(ee){const te={};if(getValueByPath(ee,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(getValueByPath(ee,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["timeRangeFilter"]);return ne!=null&&setValueByPath(te,["timeRangeFilter"],ne),te}function imageConfigToMldev(ee){const te={},ne=getValueByPath(ee,["aspectRatio"]);ne!=null&&setValueByPath(te,["aspectRatio"],ne);const ae=getValueByPath(ee,["imageSize"]);if(ae!=null&&setValueByPath(te,["imageSize"],ae),getValueByPath(ee,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(getValueByPath(ee,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return te}function imageConfigToVertex(ee){const te={},ne=getValueByPath(ee,["aspectRatio"]);ne!=null&&setValueByPath(te,["aspectRatio"],ne);const ae=getValueByPath(ee,["imageSize"]);ae!=null&&setValueByPath(te,["imageSize"],ae);const ie=getValueByPath(ee,["outputMimeType"]);ie!=null&&setValueByPath(te,["imageOutputOptions","mimeType"],ie);const se=getValueByPath(ee,["outputCompressionQuality"]);return se!=null&&setValueByPath(te,["imageOutputOptions","compressionQuality"],se),te}function imageFromMldev(ee){const te={},ne=getValueByPath(ee,["bytesBase64Encoded"]);ne!=null&&setValueByPath(te,["imageBytes"],tBytes(ne));const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function imageFromVertex(ee){const te={},ne=getValueByPath(ee,["gcsUri"]);ne!=null&&setValueByPath(te,["gcsUri"],ne);const ae=getValueByPath(ee,["bytesBase64Encoded"]);ae!=null&&setValueByPath(te,["imageBytes"],tBytes(ae));const ie=getValueByPath(ee,["mimeType"]);return ie!=null&&setValueByPath(te,["mimeType"],ie),te}function imageToMldev(ee){const te={};if(getValueByPath(ee,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["imageBytes"]);ne!=null&&setValueByPath(te,["bytesBase64Encoded"],tBytes(ne));const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function imageToVertex(ee){const te={},ne=getValueByPath(ee,["gcsUri"]);ne!=null&&setValueByPath(te,["gcsUri"],ne);const ae=getValueByPath(ee,["imageBytes"]);ae!=null&&setValueByPath(te,["bytesBase64Encoded"],tBytes(ae));const ie=getValueByPath(ee,["mimeType"]);return ie!=null&&setValueByPath(te,["mimeType"],ie),te}function listModelsConfigToMldev(ee,te,ne){const ae={},ie=getValueByPath(te,["pageSize"]);ne!==void 0&&ie!=null&&setValueByPath(ne,["_query","pageSize"],ie);const se=getValueByPath(te,["pageToken"]);ne!==void 0&&se!=null&&setValueByPath(ne,["_query","pageToken"],se);const oe=getValueByPath(te,["filter"]);ne!==void 0&&oe!=null&&setValueByPath(ne,["_query","filter"],oe);const le=getValueByPath(te,["queryBase"]);return ne!==void 0&&le!=null&&setValueByPath(ne,["_url","models_url"],tModelsUrl(ee,le)),ae}function listModelsConfigToVertex(ee,te,ne){const ae={},ie=getValueByPath(te,["pageSize"]);ne!==void 0&&ie!=null&&setValueByPath(ne,["_query","pageSize"],ie);const se=getValueByPath(te,["pageToken"]);ne!==void 0&&se!=null&&setValueByPath(ne,["_query","pageToken"],se);const oe=getValueByPath(te,["filter"]);ne!==void 0&&oe!=null&&setValueByPath(ne,["_query","filter"],oe);const le=getValueByPath(te,["queryBase"]);return ne!==void 0&&le!=null&&setValueByPath(ne,["_url","models_url"],tModelsUrl(ee,le)),ae}function listModelsParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["config"]);return ae!=null&&listModelsConfigToMldev(ee,ae,ne),ne}function listModelsParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["config"]);return ae!=null&&listModelsConfigToVertex(ee,ae,ne),ne}function listModelsResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["nextPageToken"]);ae!=null&&setValueByPath(te,["nextPageToken"],ae);const ie=getValueByPath(ee,["_self"]);if(ie!=null){let se=tExtractModels(ie);Array.isArray(se)&&(se=se.map(oe=>modelFromMldev(oe))),setValueByPath(te,["models"],se)}return te}function listModelsResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["nextPageToken"]);ae!=null&&setValueByPath(te,["nextPageToken"],ae);const ie=getValueByPath(ee,["_self"]);if(ie!=null){let se=tExtractModels(ie);Array.isArray(se)&&(se=se.map(oe=>modelFromVertex(oe))),setValueByPath(te,["models"],se)}return te}function maskReferenceConfigToVertex(ee){const te={},ne=getValueByPath(ee,["maskMode"]);ne!=null&&setValueByPath(te,["maskMode"],ne);const ae=getValueByPath(ee,["segmentationClasses"]);ae!=null&&setValueByPath(te,["maskClasses"],ae);const ie=getValueByPath(ee,["maskDilation"]);return ie!=null&&setValueByPath(te,["dilation"],ie),te}function modelFromMldev(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["displayName"]);ae!=null&&setValueByPath(te,["displayName"],ae);const ie=getValueByPath(ee,["description"]);ie!=null&&setValueByPath(te,["description"],ie);const se=getValueByPath(ee,["version"]);se!=null&&setValueByPath(te,["version"],se);const oe=getValueByPath(ee,["_self"]);oe!=null&&setValueByPath(te,["tunedModelInfo"],tunedModelInfoFromMldev(oe));const le=getValueByPath(ee,["inputTokenLimit"]);le!=null&&setValueByPath(te,["inputTokenLimit"],le);const ce=getValueByPath(ee,["outputTokenLimit"]);ce!=null&&setValueByPath(te,["outputTokenLimit"],ce);const he=getValueByPath(ee,["supportedGenerationMethods"]);he!=null&&setValueByPath(te,["supportedActions"],he);const fe=getValueByPath(ee,["temperature"]);fe!=null&&setValueByPath(te,["temperature"],fe);const pe=getValueByPath(ee,["maxTemperature"]);pe!=null&&setValueByPath(te,["maxTemperature"],pe);const ge=getValueByPath(ee,["topP"]);ge!=null&&setValueByPath(te,["topP"],ge);const ye=getValueByPath(ee,["topK"]);ye!=null&&setValueByPath(te,["topK"],ye);const xe=getValueByPath(ee,["thinking"]);return xe!=null&&setValueByPath(te,["thinking"],xe),te}function modelFromVertex(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["displayName"]);ae!=null&&setValueByPath(te,["displayName"],ae);const ie=getValueByPath(ee,["description"]);ie!=null&&setValueByPath(te,["description"],ie);const se=getValueByPath(ee,["versionId"]);se!=null&&setValueByPath(te,["version"],se);const oe=getValueByPath(ee,["deployedModels"]);if(oe!=null){let pe=oe;Array.isArray(pe)&&(pe=pe.map(ge=>endpointFromVertex(ge))),setValueByPath(te,["endpoints"],pe)}const le=getValueByPath(ee,["labels"]);le!=null&&setValueByPath(te,["labels"],le);const ce=getValueByPath(ee,["_self"]);ce!=null&&setValueByPath(te,["tunedModelInfo"],tunedModelInfoFromVertex(ce));const he=getValueByPath(ee,["defaultCheckpointId"]);he!=null&&setValueByPath(te,["defaultCheckpointId"],he);const fe=getValueByPath(ee,["checkpoints"]);if(fe!=null){let pe=fe;Array.isArray(pe)&&(pe=pe.map(ge=>ge)),setValueByPath(te,["checkpoints"],pe)}return te}function partToMldev$1(ee){const te={},ne=getValueByPath(ee,["mediaResolution"]);ne!=null&&setValueByPath(te,["mediaResolution"],ne);const ae=getValueByPath(ee,["codeExecutionResult"]);ae!=null&&setValueByPath(te,["codeExecutionResult"],ae);const ie=getValueByPath(ee,["executableCode"]);ie!=null&&setValueByPath(te,["executableCode"],ie);const se=getValueByPath(ee,["fileData"]);se!=null&&setValueByPath(te,["fileData"],fileDataToMldev$1(se));const oe=getValueByPath(ee,["functionCall"]);oe!=null&&setValueByPath(te,["functionCall"],functionCallToMldev$1(oe));const le=getValueByPath(ee,["functionResponse"]);le!=null&&setValueByPath(te,["functionResponse"],le);const ce=getValueByPath(ee,["inlineData"]);ce!=null&&setValueByPath(te,["inlineData"],blobToMldev$1(ce));const he=getValueByPath(ee,["text"]);he!=null&&setValueByPath(te,["text"],he);const fe=getValueByPath(ee,["thought"]);fe!=null&&setValueByPath(te,["thought"],fe);const pe=getValueByPath(ee,["thoughtSignature"]);pe!=null&&setValueByPath(te,["thoughtSignature"],pe);const ge=getValueByPath(ee,["videoMetadata"]);return ge!=null&&setValueByPath(te,["videoMetadata"],ge),te}function productImageToVertex(ee){const te={},ne=getValueByPath(ee,["productImage"]);return ne!=null&&setValueByPath(te,["image"],imageToVertex(ne)),te}function recontextImageConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["numberOfImages"]);te!==void 0&&ae!=null&&setValueByPath(te,["parameters","sampleCount"],ae);const ie=getValueByPath(ee,["baseSteps"]);te!==void 0&&ie!=null&&setValueByPath(te,["parameters","baseSteps"],ie);const se=getValueByPath(ee,["outputGcsUri"]);te!==void 0&&se!=null&&setValueByPath(te,["parameters","storageUri"],se);const oe=getValueByPath(ee,["seed"]);te!==void 0&&oe!=null&&setValueByPath(te,["parameters","seed"],oe);const le=getValueByPath(ee,["safetyFilterLevel"]);te!==void 0&&le!=null&&setValueByPath(te,["parameters","safetySetting"],le);const ce=getValueByPath(ee,["personGeneration"]);te!==void 0&&ce!=null&&setValueByPath(te,["parameters","personGeneration"],ce);const he=getValueByPath(ee,["addWatermark"]);te!==void 0&&he!=null&&setValueByPath(te,["parameters","addWatermark"],he);const fe=getValueByPath(ee,["outputMimeType"]);te!==void 0&&fe!=null&&setValueByPath(te,["parameters","outputOptions","mimeType"],fe);const pe=getValueByPath(ee,["outputCompressionQuality"]);te!==void 0&&pe!=null&&setValueByPath(te,["parameters","outputOptions","compressionQuality"],pe);const ge=getValueByPath(ee,["enhancePrompt"]);te!==void 0&&ge!=null&&setValueByPath(te,["parameters","enhancePrompt"],ge);const ye=getValueByPath(ee,["labels"]);return te!==void 0&&ye!=null&&setValueByPath(te,["labels"],ye),ne}function recontextImageParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["source"]);ie!=null&&recontextImageSourceToVertex(ie,ne);const se=getValueByPath(te,["config"]);return se!=null&&recontextImageConfigToVertex(se,ne),ne}function recontextImageResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["predictions"]);if(ne!=null){let ae=ne;Array.isArray(ae)&&(ae=ae.map(ie=>generatedImageFromVertex(ie))),setValueByPath(te,["generatedImages"],ae)}return te}function recontextImageSourceToVertex(ee,te){const ne={},ae=getValueByPath(ee,["prompt"]);te!==void 0&&ae!=null&&setValueByPath(te,["instances[0]","prompt"],ae);const ie=getValueByPath(ee,["personImage"]);te!==void 0&&ie!=null&&setValueByPath(te,["instances[0]","personImage","image"],imageToVertex(ie));const se=getValueByPath(ee,["productImages"]);if(te!==void 0&&se!=null){let oe=se;Array.isArray(oe)&&(oe=oe.map(le=>productImageToVertex(le))),setValueByPath(te,["instances[0]","productImages"],oe)}return ne}function referenceImageAPIInternalToVertex(ee){const te={},ne=getValueByPath(ee,["referenceImage"]);ne!=null&&setValueByPath(te,["referenceImage"],imageToVertex(ne));const ae=getValueByPath(ee,["referenceId"]);ae!=null&&setValueByPath(te,["referenceId"],ae);const ie=getValueByPath(ee,["referenceType"]);ie!=null&&setValueByPath(te,["referenceType"],ie);const se=getValueByPath(ee,["maskImageConfig"]);se!=null&&setValueByPath(te,["maskImageConfig"],maskReferenceConfigToVertex(se));const oe=getValueByPath(ee,["controlImageConfig"]);oe!=null&&setValueByPath(te,["controlImageConfig"],controlReferenceConfigToVertex(oe));const le=getValueByPath(ee,["styleImageConfig"]);le!=null&&setValueByPath(te,["styleImageConfig"],le);const ce=getValueByPath(ee,["subjectImageConfig"]);return ce!=null&&setValueByPath(te,["subjectImageConfig"],ce),te}function safetyAttributesFromMldev(ee){const te={},ne=getValueByPath(ee,["safetyAttributes","categories"]);ne!=null&&setValueByPath(te,["categories"],ne);const ae=getValueByPath(ee,["safetyAttributes","scores"]);ae!=null&&setValueByPath(te,["scores"],ae);const ie=getValueByPath(ee,["contentType"]);return ie!=null&&setValueByPath(te,["contentType"],ie),te}function safetyAttributesFromVertex(ee){const te={},ne=getValueByPath(ee,["safetyAttributes","categories"]);ne!=null&&setValueByPath(te,["categories"],ne);const ae=getValueByPath(ee,["safetyAttributes","scores"]);ae!=null&&setValueByPath(te,["scores"],ae);const ie=getValueByPath(ee,["contentType"]);return ie!=null&&setValueByPath(te,["contentType"],ie),te}function safetySettingToMldev(ee){const te={},ne=getValueByPath(ee,["category"]);if(ne!=null&&setValueByPath(te,["category"],ne),getValueByPath(ee,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["threshold"]);return ae!=null&&setValueByPath(te,["threshold"],ae),te}function scribbleImageToVertex(ee){const te={},ne=getValueByPath(ee,["image"]);return ne!=null&&setValueByPath(te,["image"],imageToVertex(ne)),te}function segmentImageConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["mode"]);te!==void 0&&ae!=null&&setValueByPath(te,["parameters","mode"],ae);const ie=getValueByPath(ee,["maxPredictions"]);te!==void 0&&ie!=null&&setValueByPath(te,["parameters","maxPredictions"],ie);const se=getValueByPath(ee,["confidenceThreshold"]);te!==void 0&&se!=null&&setValueByPath(te,["parameters","confidenceThreshold"],se);const oe=getValueByPath(ee,["maskDilation"]);te!==void 0&&oe!=null&&setValueByPath(te,["parameters","maskDilation"],oe);const le=getValueByPath(ee,["binaryColorThreshold"]);te!==void 0&&le!=null&&setValueByPath(te,["parameters","binaryColorThreshold"],le);const ce=getValueByPath(ee,["labels"]);return te!==void 0&&ce!=null&&setValueByPath(te,["labels"],ce),ne}function segmentImageParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["source"]);ie!=null&&segmentImageSourceToVertex(ie,ne);const se=getValueByPath(te,["config"]);return se!=null&&segmentImageConfigToVertex(se,ne),ne}function segmentImageResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["predictions"]);if(ne!=null){let ae=ne;Array.isArray(ae)&&(ae=ae.map(ie=>generatedImageMaskFromVertex(ie))),setValueByPath(te,["generatedMasks"],ae)}return te}function segmentImageSourceToVertex(ee,te){const ne={},ae=getValueByPath(ee,["prompt"]);te!==void 0&&ae!=null&&setValueByPath(te,["instances[0]","prompt"],ae);const ie=getValueByPath(ee,["image"]);te!==void 0&&ie!=null&&setValueByPath(te,["instances[0]","image"],imageToVertex(ie));const se=getValueByPath(ee,["scribbleImage"]);return te!==void 0&&se!=null&&setValueByPath(te,["instances[0]","scribble"],scribbleImageToVertex(se)),ne}function speechConfigToVertex(ee){const te={},ne=getValueByPath(ee,["voiceConfig"]);ne!=null&&setValueByPath(te,["voiceConfig"],ne);const ae=getValueByPath(ee,["languageCode"]);if(ae!=null&&setValueByPath(te,["languageCode"],ae),getValueByPath(ee,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return te}function toolConfigToMldev(ee){const te={},ne=getValueByPath(ee,["functionCallingConfig"]);ne!=null&&setValueByPath(te,["functionCallingConfig"],functionCallingConfigToMldev(ne));const ae=getValueByPath(ee,["retrievalConfig"]);return ae!=null&&setValueByPath(te,["retrievalConfig"],ae),te}function toolToMldev$1(ee){const te={},ne=getValueByPath(ee,["functionDeclarations"]);if(ne!=null){let fe=ne;Array.isArray(fe)&&(fe=fe.map(pe=>pe)),setValueByPath(te,["functionDeclarations"],fe)}if(getValueByPath(ee,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["googleSearchRetrieval"]);ae!=null&&setValueByPath(te,["googleSearchRetrieval"],ae);const ie=getValueByPath(ee,["computerUse"]);ie!=null&&setValueByPath(te,["computerUse"],ie);const se=getValueByPath(ee,["fileSearch"]);se!=null&&setValueByPath(te,["fileSearch"],se);const oe=getValueByPath(ee,["codeExecution"]);if(oe!=null&&setValueByPath(te,["codeExecution"],oe),getValueByPath(ee,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const le=getValueByPath(ee,["googleMaps"]);le!=null&&setValueByPath(te,["googleMaps"],googleMapsToMldev$1(le));const ce=getValueByPath(ee,["googleSearch"]);ce!=null&&setValueByPath(te,["googleSearch"],googleSearchToMldev$1(ce));const he=getValueByPath(ee,["urlContext"]);return he!=null&&setValueByPath(te,["urlContext"],he),te}function toolToVertex(ee){const te={},ne=getValueByPath(ee,["functionDeclarations"]);if(ne!=null){let pe=ne;Array.isArray(pe)&&(pe=pe.map(ge=>functionDeclarationToVertex(ge))),setValueByPath(te,["functionDeclarations"],pe)}const ae=getValueByPath(ee,["retrieval"]);ae!=null&&setValueByPath(te,["retrieval"],ae);const ie=getValueByPath(ee,["googleSearchRetrieval"]);ie!=null&&setValueByPath(te,["googleSearchRetrieval"],ie);const se=getValueByPath(ee,["computerUse"]);if(se!=null&&setValueByPath(te,["computerUse"],se),getValueByPath(ee,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const oe=getValueByPath(ee,["codeExecution"]);oe!=null&&setValueByPath(te,["codeExecution"],oe);const le=getValueByPath(ee,["enterpriseWebSearch"]);le!=null&&setValueByPath(te,["enterpriseWebSearch"],le);const ce=getValueByPath(ee,["googleMaps"]);ce!=null&&setValueByPath(te,["googleMaps"],ce);const he=getValueByPath(ee,["googleSearch"]);he!=null&&setValueByPath(te,["googleSearch"],he);const fe=getValueByPath(ee,["urlContext"]);return fe!=null&&setValueByPath(te,["urlContext"],fe),te}function tunedModelInfoFromMldev(ee){const te={},ne=getValueByPath(ee,["baseModel"]);ne!=null&&setValueByPath(te,["baseModel"],ne);const ae=getValueByPath(ee,["createTime"]);ae!=null&&setValueByPath(te,["createTime"],ae);const ie=getValueByPath(ee,["updateTime"]);return ie!=null&&setValueByPath(te,["updateTime"],ie),te}function tunedModelInfoFromVertex(ee){const te={},ne=getValueByPath(ee,["labels","google-vertex-llm-tuning-base-model-id"]);ne!=null&&setValueByPath(te,["baseModel"],ne);const ae=getValueByPath(ee,["createTime"]);ae!=null&&setValueByPath(te,["createTime"],ae);const ie=getValueByPath(ee,["updateTime"]);return ie!=null&&setValueByPath(te,["updateTime"],ie),te}function updateModelConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["displayName"]);te!==void 0&&ae!=null&&setValueByPath(te,["displayName"],ae);const ie=getValueByPath(ee,["description"]);te!==void 0&&ie!=null&&setValueByPath(te,["description"],ie);const se=getValueByPath(ee,["defaultCheckpointId"]);return te!==void 0&&se!=null&&setValueByPath(te,["defaultCheckpointId"],se),ne}function updateModelConfigToVertex(ee,te){const ne={},ae=getValueByPath(ee,["displayName"]);te!==void 0&&ae!=null&&setValueByPath(te,["displayName"],ae);const ie=getValueByPath(ee,["description"]);te!==void 0&&ie!=null&&setValueByPath(te,["description"],ie);const se=getValueByPath(ee,["defaultCheckpointId"]);return te!==void 0&&se!=null&&setValueByPath(te,["defaultCheckpointId"],se),ne}function updateModelParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","name"],tModel(ee,ae));const ie=getValueByPath(te,["config"]);return ie!=null&&updateModelConfigToMldev(ie,ne),ne}function updateModelParametersToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["config"]);return ie!=null&&updateModelConfigToVertex(ie,ne),ne}function upscaleImageAPIConfigInternalToVertex(ee,te){const ne={},ae=getValueByPath(ee,["outputGcsUri"]);te!==void 0&&ae!=null&&setValueByPath(te,["parameters","storageUri"],ae);const ie=getValueByPath(ee,["safetyFilterLevel"]);te!==void 0&&ie!=null&&setValueByPath(te,["parameters","safetySetting"],ie);const se=getValueByPath(ee,["personGeneration"]);te!==void 0&&se!=null&&setValueByPath(te,["parameters","personGeneration"],se);const oe=getValueByPath(ee,["includeRaiReason"]);te!==void 0&&oe!=null&&setValueByPath(te,["parameters","includeRaiReason"],oe);const le=getValueByPath(ee,["outputMimeType"]);te!==void 0&&le!=null&&setValueByPath(te,["parameters","outputOptions","mimeType"],le);const ce=getValueByPath(ee,["outputCompressionQuality"]);te!==void 0&&ce!=null&&setValueByPath(te,["parameters","outputOptions","compressionQuality"],ce);const he=getValueByPath(ee,["enhanceInputImage"]);te!==void 0&&he!=null&&setValueByPath(te,["parameters","upscaleConfig","enhanceInputImage"],he);const fe=getValueByPath(ee,["imagePreservationFactor"]);te!==void 0&&fe!=null&&setValueByPath(te,["parameters","upscaleConfig","imagePreservationFactor"],fe);const pe=getValueByPath(ee,["labels"]);te!==void 0&&pe!=null&&setValueByPath(te,["labels"],pe);const ge=getValueByPath(ee,["numberOfImages"]);te!==void 0&&ge!=null&&setValueByPath(te,["parameters","sampleCount"],ge);const ye=getValueByPath(ee,["mode"]);return te!==void 0&&ye!=null&&setValueByPath(te,["parameters","mode"],ye),ne}function upscaleImageAPIParametersInternalToVertex(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["_url","model"],tModel(ee,ae));const ie=getValueByPath(te,["image"]);ie!=null&&setValueByPath(ne,["instances[0]","image"],imageToVertex(ie));const se=getValueByPath(te,["upscaleFactor"]);se!=null&&setValueByPath(ne,["parameters","upscaleConfig","upscaleFactor"],se);const oe=getValueByPath(te,["config"]);return oe!=null&&upscaleImageAPIConfigInternalToVertex(oe,ne),ne}function upscaleImageResponseFromVertex(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["predictions"]);if(ae!=null){let ie=ae;Array.isArray(ie)&&(ie=ie.map(se=>generatedImageFromVertex(se))),setValueByPath(te,["generatedImages"],ie)}return te}function videoFromMldev(ee){const te={},ne=getValueByPath(ee,["uri"]);ne!=null&&setValueByPath(te,["uri"],ne);const ae=getValueByPath(ee,["encodedVideo"]);ae!=null&&setValueByPath(te,["videoBytes"],tBytes(ae));const ie=getValueByPath(ee,["encoding"]);return ie!=null&&setValueByPath(te,["mimeType"],ie),te}function videoFromVertex(ee){const te={},ne=getValueByPath(ee,["gcsUri"]);ne!=null&&setValueByPath(te,["uri"],ne);const ae=getValueByPath(ee,["bytesBase64Encoded"]);ae!=null&&setValueByPath(te,["videoBytes"],tBytes(ae));const ie=getValueByPath(ee,["mimeType"]);return ie!=null&&setValueByPath(te,["mimeType"],ie),te}function videoGenerationMaskToVertex(ee){const te={},ne=getValueByPath(ee,["image"]);ne!=null&&setValueByPath(te,["_self"],imageToVertex(ne));const ae=getValueByPath(ee,["maskMode"]);return ae!=null&&setValueByPath(te,["maskMode"],ae),te}function videoGenerationReferenceImageToMldev(ee){const te={},ne=getValueByPath(ee,["image"]);ne!=null&&setValueByPath(te,["image"],imageToMldev(ne));const ae=getValueByPath(ee,["referenceType"]);return ae!=null&&setValueByPath(te,["referenceType"],ae),te}function videoGenerationReferenceImageToVertex(ee){const te={},ne=getValueByPath(ee,["image"]);ne!=null&&setValueByPath(te,["image"],imageToVertex(ne));const ae=getValueByPath(ee,["referenceType"]);return ae!=null&&setValueByPath(te,["referenceType"],ae),te}function videoToMldev(ee){const te={},ne=getValueByPath(ee,["uri"]);ne!=null&&setValueByPath(te,["uri"],ne);const ae=getValueByPath(ee,["videoBytes"]);ae!=null&&setValueByPath(te,["encodedVideo"],tBytes(ae));const ie=getValueByPath(ee,["mimeType"]);return ie!=null&&setValueByPath(te,["encoding"],ie),te}function videoToVertex(ee){const te={},ne=getValueByPath(ee,["uri"]);ne!=null&&setValueByPath(te,["gcsUri"],ne);const ae=getValueByPath(ee,["videoBytes"]);ae!=null&&setValueByPath(te,["bytesBase64Encoded"],tBytes(ae));const ie=getValueByPath(ee,["mimeType"]);return ie!=null&&setValueByPath(te,["mimeType"],ie),te}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function createFileSearchStoreConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["displayName"]);return te!==void 0&&ae!=null&&setValueByPath(te,["displayName"],ae),ne}function createFileSearchStoreParametersToMldev(ee){const te={},ne=getValueByPath(ee,["config"]);return ne!=null&&createFileSearchStoreConfigToMldev(ne,te),te}function deleteFileSearchStoreConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["force"]);return te!==void 0&&ae!=null&&setValueByPath(te,["_query","force"],ae),ne}function deleteFileSearchStoreParametersToMldev(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["_url","name"],ne);const ae=getValueByPath(ee,["config"]);return ae!=null&&deleteFileSearchStoreConfigToMldev(ae,te),te}function getFileSearchStoreParametersToMldev(ee){const te={},ne=getValueByPath(ee,["name"]);return ne!=null&&setValueByPath(te,["_url","name"],ne),te}function importFileConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["customMetadata"]);if(te!==void 0&&ae!=null){let se=ae;Array.isArray(se)&&(se=se.map(oe=>oe)),setValueByPath(te,["customMetadata"],se)}const ie=getValueByPath(ee,["chunkingConfig"]);return te!==void 0&&ie!=null&&setValueByPath(te,["chunkingConfig"],ie),ne}function importFileOperationFromMldev(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["name"],ne);const ae=getValueByPath(ee,["metadata"]);ae!=null&&setValueByPath(te,["metadata"],ae);const ie=getValueByPath(ee,["done"]);ie!=null&&setValueByPath(te,["done"],ie);const se=getValueByPath(ee,["error"]);se!=null&&setValueByPath(te,["error"],se);const oe=getValueByPath(ee,["response"]);return oe!=null&&setValueByPath(te,["response"],importFileResponseFromMldev(oe)),te}function importFileParametersToMldev(ee){const te={},ne=getValueByPath(ee,["fileSearchStoreName"]);ne!=null&&setValueByPath(te,["_url","file_search_store_name"],ne);const ae=getValueByPath(ee,["fileName"]);ae!=null&&setValueByPath(te,["fileName"],ae);const ie=getValueByPath(ee,["config"]);return ie!=null&&importFileConfigToMldev(ie,te),te}function importFileResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["parent"]);ae!=null&&setValueByPath(te,["parent"],ae);const ie=getValueByPath(ee,["documentName"]);return ie!=null&&setValueByPath(te,["documentName"],ie),te}function listFileSearchStoresConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["pageSize"]);te!==void 0&&ae!=null&&setValueByPath(te,["_query","pageSize"],ae);const ie=getValueByPath(ee,["pageToken"]);return te!==void 0&&ie!=null&&setValueByPath(te,["_query","pageToken"],ie),ne}function listFileSearchStoresParametersToMldev(ee){const te={},ne=getValueByPath(ee,["config"]);return ne!=null&&listFileSearchStoresConfigToMldev(ne,te),te}function listFileSearchStoresResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["nextPageToken"]);ae!=null&&setValueByPath(te,["nextPageToken"],ae);const ie=getValueByPath(ee,["fileSearchStores"]);if(ie!=null){let se=ie;Array.isArray(se)&&(se=se.map(oe=>oe)),setValueByPath(te,["fileSearchStores"],se)}return te}function uploadToFileSearchStoreConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["mimeType"]);te!==void 0&&ae!=null&&setValueByPath(te,["mimeType"],ae);const ie=getValueByPath(ee,["displayName"]);te!==void 0&&ie!=null&&setValueByPath(te,["displayName"],ie);const se=getValueByPath(ee,["customMetadata"]);if(te!==void 0&&se!=null){let le=se;Array.isArray(le)&&(le=le.map(ce=>ce)),setValueByPath(te,["customMetadata"],le)}const oe=getValueByPath(ee,["chunkingConfig"]);return te!==void 0&&oe!=null&&setValueByPath(te,["chunkingConfig"],oe),ne}function uploadToFileSearchStoreParametersToMldev(ee){const te={},ne=getValueByPath(ee,["fileSearchStoreName"]);ne!=null&&setValueByPath(te,["_url","file_search_store_name"],ne);const ae=getValueByPath(ee,["config"]);return ae!=null&&uploadToFileSearchStoreConfigToMldev(ae,te),te}function uploadToFileSearchStoreResumableResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);return ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne),te}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CONTENT_TYPE_HEADER="Content-Type",SERVER_TIMEOUT_HEADER="X-Server-Timeout",USER_AGENT_HEADER="User-Agent",GOOGLE_API_CLIENT_HEADER="x-goog-api-client",SDK_VERSION="1.32.0",LIBRARY_LABEL=`google-genai-sdk/${SDK_VERSION}`,VERTEX_AI_API_DEFAULT_VERSION="v1beta1",GOOGLE_AI_API_DEFAULT_VERSION="v1beta";class ApiClient{constructor(te){var ne,ae;this.clientOptions=Object.assign(Object.assign({},te),{project:te.project,location:te.location,apiKey:te.apiKey,vertexai:te.vertexai});const ie={};this.clientOptions.vertexai?(ie.apiVersion=(ne=this.clientOptions.apiVersion)!==null&&ne!==void 0?ne:VERTEX_AI_API_DEFAULT_VERSION,ie.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(ie.apiVersion=(ae=this.clientOptions.apiVersion)!==null&&ae!==void 0?ae:GOOGLE_AI_API_DEFAULT_VERSION,ie.baseUrl="https://generativelanguage.googleapis.com/"),ie.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=ie,te.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(ie,te.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var te;return(te=this.clientOptions.vertexai)!==null&&te!==void 0?te:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(te){if(!te||te.baseUrl===void 0||te.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const ae=[te.baseUrl.endsWith("/")?te.baseUrl.slice(0,-1):te.baseUrl];return te.apiVersion&&te.apiVersion!==""&&ae.push(te.apiVersion),ae.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const te=this.getBaseUrl(),ne=new URL(te);return ne.protocol=ne.protocol=="http:"?"ws":"wss",ne.toString()}setBaseUrl(te){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=te;else throw new Error("HTTP options are not correctly set.")}constructUrl(te,ne,ae){const ie=[this.getRequestUrlInternal(ne)];return ae&&ie.push(this.getBaseResourcePath()),te!==""&&ie.push(te),new URL(`${ie.join("/")}`)}shouldPrependVertexProjectPath(te){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||te.path.startsWith("projects/")||te.httpMethod==="GET"&&te.path.startsWith("publishers/google/models"))}async request(te){let ne=this.clientOptions.httpOptions;te.httpOptions&&(ne=this.patchHttpOptions(this.clientOptions.httpOptions,te.httpOptions));const ae=this.shouldPrependVertexProjectPath(te),ie=this.constructUrl(te.path,ne,ae);if(te.queryParams)for(const[oe,le]of Object.entries(te.queryParams))ie.searchParams.append(oe,String(le));let se={};if(te.httpMethod==="GET"){if(te.body&&te.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else se.body=te.body;return se=await this.includeExtraHttpOptionsToRequestInit(se,ne,ie.toString(),te.abortSignal),this.unaryApiCall(ie,se,te.httpMethod)}patchHttpOptions(te,ne){const ae=JSON.parse(JSON.stringify(te));for(const[ie,se]of Object.entries(ne))typeof se=="object"?ae[ie]=Object.assign(Object.assign({},ae[ie]),se):se!==void 0&&(ae[ie]=se);return ae}async requestStream(te){let ne=this.clientOptions.httpOptions;te.httpOptions&&(ne=this.patchHttpOptions(this.clientOptions.httpOptions,te.httpOptions));const ae=this.shouldPrependVertexProjectPath(te),ie=this.constructUrl(te.path,ne,ae);(!ie.searchParams.has("alt")||ie.searchParams.get("alt")!=="sse")&&ie.searchParams.set("alt","sse");let se={};return se.body=te.body,se=await this.includeExtraHttpOptionsToRequestInit(se,ne,ie.toString(),te.abortSignal),this.streamApiCall(ie,se,te.httpMethod)}async includeExtraHttpOptionsToRequestInit(te,ne,ae,ie){if(ne&&ne.timeout||ie){const se=new AbortController,oe=se.signal;if(ne.timeout&&(ne==null?void 0:ne.timeout)>0){const le=setTimeout(()=>se.abort(),ne.timeout);le&&typeof le.unref=="function"&&le.unref()}ie&&ie.addEventListener("abort",()=>{se.abort()}),te.signal=oe}return ne&&ne.extraBody!==null&&includeExtraBodyToRequestInit(te,ne.extraBody),te.headers=await this.getHeadersInternal(ne,ae),te}async unaryApiCall(te,ne,ae){return this.apiCall(te.toString(),Object.assign(Object.assign({},ne),{method:ae})).then(async ie=>(await throwErrorIfNotOK(ie),new HttpResponse(ie))).catch(ie=>{throw ie instanceof Error?ie:new Error(JSON.stringify(ie))})}async streamApiCall(te,ne,ae){return this.apiCall(te.toString(),Object.assign(Object.assign({},ne),{method:ae})).then(async ie=>(await throwErrorIfNotOK(ie),this.processStreamResponse(ie))).catch(ie=>{throw ie instanceof Error?ie:new Error(JSON.stringify(ie))})}processStreamResponse(te){return __asyncGenerator(this,arguments,function*(){var ae;const ie=(ae=te==null?void 0:te.body)===null||ae===void 0?void 0:ae.getReader(),se=new TextDecoder("utf-8");if(!ie)throw new Error("Response body is empty");try{let oe="";const le="data:",ce=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:he,value:fe}=yield __await(ie.read());if(he){if(oe.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const pe=se.decode(fe,{stream:!0});try{const xe=JSON.parse(pe);if("error"in xe){const be=JSON.parse(JSON.stringify(xe.error)),Se=be.status,ve=be.code,Te=`got status: ${Se}. ${JSON.stringify(xe)}`;if(ve>=400&&ve<600)throw new ApiError({message:Te,status:ve})}}catch(xe){if(xe.name==="ApiError")throw xe}oe+=pe;let ge=-1,ye=0;for(;;){ge=-1,ye=0;for(const Se of ce){const ve=oe.indexOf(Se);ve!==-1&&(ge===-1||ve<ge)&&(ge=ve,ye=Se.length)}if(ge===-1)break;const xe=oe.substring(0,ge);oe=oe.substring(ge+ye);const be=xe.trim();if(be.startsWith(le)){const Se=be.substring(le.length).trim();try{const ve=new Response(Se,{headers:te==null?void 0:te.headers,status:te==null?void 0:te.status,statusText:te==null?void 0:te.statusText});yield yield __await(new HttpResponse(ve))}catch(ve){throw new Error(`exception parsing stream chunk ${Se}. ${ve}`)}}}}}finally{ie.releaseLock()}})}async apiCall(te,ne){return fetch(te,ne).catch(ae=>{throw new Error(`exception ${ae} sending request`)})}getDefaultHeaders(){const te={},ne=LIBRARY_LABEL+" "+this.clientOptions.userAgentExtra;return te[USER_AGENT_HEADER]=ne,te[GOOGLE_API_CLIENT_HEADER]=ne,te[CONTENT_TYPE_HEADER]="application/json",te}async getHeadersInternal(te,ne){const ae=new Headers;if(te&&te.headers){for(const[ie,se]of Object.entries(te.headers))ae.append(ie,se);te.timeout&&te.timeout>0&&ae.append(SERVER_TIMEOUT_HEADER,String(Math.ceil(te.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(ae,ne),ae}getFileName(te){var ne;let ae="";return typeof te=="string"&&(ae=te.replace(/[/\\]+$/,""),ae=(ne=ae.split(/[/\\]/).pop())!==null&&ne!==void 0?ne:""),ae}async uploadFile(te,ne){var ae;const ie={};ne!=null&&(ie.mimeType=ne.mimeType,ie.name=ne.name,ie.displayName=ne.displayName),ie.name&&!ie.name.startsWith("files/")&&(ie.name=`files/${ie.name}`);const se=this.clientOptions.uploader,oe=await se.stat(te);ie.sizeBytes=String(oe.size);const le=(ae=ne==null?void 0:ne.mimeType)!==null&&ae!==void 0?ae:oe.type;if(le===void 0||le==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");ie.mimeType=le;const ce={file:ie},he=this.getFileName(te),fe=formatMap("upload/v1beta/files",ce._url),pe=await this.fetchUploadUrl(fe,ie.sizeBytes,ie.mimeType,he,ce,ne==null?void 0:ne.httpOptions);return se.upload(te,pe,this)}async uploadFileToFileSearchStore(te,ne,ae){var ie;const se=this.clientOptions.uploader,oe=await se.stat(ne),le=String(oe.size),ce=(ie=ae==null?void 0:ae.mimeType)!==null&&ie!==void 0?ie:oe.type;if(ce===void 0||ce==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const he=`upload/v1beta/${te}:uploadToFileSearchStore`,fe=this.getFileName(ne),pe={};ae!=null&&uploadToFileSearchStoreConfigToMldev(ae,pe);const ge=await this.fetchUploadUrl(he,le,ce,fe,pe,ae==null?void 0:ae.httpOptions);return se.uploadToFileSearchStore(ne,ge,this)}async downloadFile(te){await this.clientOptions.downloader.download(te,this)}async fetchUploadUrl(te,ne,ae,ie,se,oe){var le;let ce={};oe?ce=oe:ce={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ne}`,"X-Goog-Upload-Header-Content-Type":`${ae}`},ie?{"X-Goog-Upload-File-Name":ie}:{})};const he=await this.request({path:te,body:JSON.stringify(se),httpMethod:"POST",httpOptions:ce});if(!he||!(he!=null&&he.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const fe=(le=he==null?void 0:he.headers)===null||le===void 0?void 0:le["x-goog-upload-url"];if(fe===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return fe}}async function throwErrorIfNotOK(ee){var te;if(ee===void 0)throw new Error("response is undefined");if(!ee.ok){const ne=ee.status;let ae;!((te=ee.headers.get("content-type"))===null||te===void 0)&&te.includes("application/json")?ae=await ee.json():ae={error:{message:await ee.text(),code:ee.status,status:ee.statusText}};const ie=JSON.stringify(ae);throw ne>=400&&ne<600?new ApiError({message:ie,status:ne}):new Error(ie)}}function includeExtraBodyToRequestInit(ee,te){if(!te||Object.keys(te).length===0)return;if(ee.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let ne={};if(typeof ee.body=="string"&&ee.body.length>0)try{const se=JSON.parse(ee.body);if(typeof se=="object"&&se!==null&&!Array.isArray(se))ne=se;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function ae(se,oe){const le=Object.assign({},se);for(const ce in oe)if(Object.prototype.hasOwnProperty.call(oe,ce)){const he=oe[ce],fe=le[ce];he&&typeof he=="object"&&!Array.isArray(he)&&fe&&typeof fe=="object"&&!Array.isArray(fe)?le[ce]=ae(fe,he):(fe&&he&&typeof fe!=typeof he&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${ce}". Original type: ${typeof fe}, New type: ${typeof he}. Overwriting.`),le[ce]=he)}return le}const ie=ae(ne,te);ee.body=JSON.stringify(ie)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MCP_LABEL="mcp_used/unknown";let hasMcpToolUsageFromMcpToTool=!1;function hasMcpToolUsage(ee){for(const te of ee)if(isMcpCallableTool(te)||typeof te=="object"&&"inputSchema"in te)return!0;return hasMcpToolUsageFromMcpToTool}function setMcpUsageHeader(ee){var te;const ne=(te=ee[GOOGLE_API_CLIENT_HEADER])!==null&&te!==void 0?te:"";ee[GOOGLE_API_CLIENT_HEADER]=(ne+` ${MCP_LABEL}`).trimStart()}function isMcpCallableTool(ee){return ee!==null&&typeof ee=="object"&&ee instanceof McpCallableTool}function listAllTools(ee){return __asyncGenerator(this,arguments,function*(ne,ae=100){let ie,se=0;for(;se<ae;){const oe=yield __await(ne.listTools({cursor:ie}));for(const le of oe.tools)yield yield __await(le),se++;if(!oe.nextCursor)break;ie=oe.nextCursor}})}class McpCallableTool{constructor(te=[],ne){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=te,this.config=ne}static create(te,ne){return new McpCallableTool(te,ne)}async initialize(){var te,ne,ae,ie;if(this.mcpTools.length>0)return;const se={},oe=[];for(const fe of this.mcpClients)try{for(var le=!0,ce=(ne=void 0,__asyncValues(listAllTools(fe))),he;he=await ce.next(),te=he.done,!te;le=!0){ie=he.value,le=!1;const pe=ie;oe.push(pe);const ge=pe.name;if(se[ge])throw new Error(`Duplicate function name ${ge} found in MCP tools. Please ensure function names are unique.`);se[ge]=fe}}catch(pe){ne={error:pe}}finally{try{!le&&!te&&(ae=ce.return)&&await ae.call(ce)}finally{if(ne)throw ne.error}}this.mcpTools=oe,this.functionNameToMcpClient=se}async tool(){return await this.initialize(),mcpToolsToGeminiTool(this.mcpTools,this.config)}async callTool(te){await this.initialize();const ne=[];for(const ae of te)if(ae.name in this.functionNameToMcpClient){const ie=this.functionNameToMcpClient[ae.name];let se;this.config.timeout&&(se={timeout:this.config.timeout});const oe=await ie.callTool({name:ae.name,arguments:ae.args},void 0,se);ne.push({functionResponse:{name:ae.name,response:oe.isError?{error:oe}:oe}})}return ne}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function handleWebSocketMessage$1(ee,te,ne){const ae=new LiveMusicServerMessage;let ie;ne.data instanceof Blob?ie=JSON.parse(await ne.data.text()):ie=JSON.parse(ne.data),Object.assign(ae,ie),te(ae)}class LiveMusic{constructor(te,ne,ae){this.apiClient=te,this.auth=ne,this.webSocketFactory=ae}async connect(te){var ne,ae;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const ie=this.apiClient.getWebsocketBaseUrl(),se=this.apiClient.getApiVersion(),oe=mapToHeaders$1(this.apiClient.getDefaultHeaders()),le=this.apiClient.getApiKey(),ce=`${ie}/ws/google.ai.generativelanguage.${se}.GenerativeService.BidiGenerateMusic?key=${le}`;let he=()=>{};const fe=new Promise(Ce=>{he=Ce}),pe=te.callbacks,ge=function(){he({})},ye=this.apiClient,xe={onopen:ge,onmessage:Ce=>{handleWebSocketMessage$1(ye,pe.onmessage,Ce)},onerror:(ne=pe==null?void 0:pe.onerror)!==null&&ne!==void 0?ne:function(Ce){},onclose:(ae=pe==null?void 0:pe.onclose)!==null&&ae!==void 0?ae:function(Ce){}},be=this.webSocketFactory.create(ce,headersToMap$1(oe),xe);be.connect(),await fe;const Te={setup:{model:tModel(this.apiClient,te.model)}};return be.send(JSON.stringify(Te)),new LiveMusicSession(be,this.apiClient)}}class LiveMusicSession{constructor(te,ne){this.conn=te,this.apiClient=ne}async setWeightedPrompts(te){if(!te.weightedPrompts||Object.keys(te.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const ne=liveMusicSetWeightedPromptsParametersToMldev(te);this.conn.send(JSON.stringify({clientContent:ne}))}async setMusicGenerationConfig(te){te.musicGenerationConfig||(te.musicGenerationConfig={});const ne=liveMusicSetConfigParametersToMldev(te);this.conn.send(JSON.stringify(ne))}sendPlaybackControl(te){const ne={playbackControl:te};this.conn.send(JSON.stringify(ne))}play(){this.sendPlaybackControl(LiveMusicPlaybackControl.PLAY)}pause(){this.sendPlaybackControl(LiveMusicPlaybackControl.PAUSE)}stop(){this.sendPlaybackControl(LiveMusicPlaybackControl.STOP)}resetContext(){this.sendPlaybackControl(LiveMusicPlaybackControl.RESET_CONTEXT)}close(){this.conn.close()}}function headersToMap$1(ee){const te={};return ee.forEach((ne,ae)=>{te[ae]=ne}),te}function mapToHeaders$1(ee){const te=new Headers;for(const[ne,ae]of Object.entries(ee))te.append(ne,ae);return te}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FUNCTION_RESPONSE_REQUIRES_ID="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function handleWebSocketMessage(ee,te,ne){const ae=new LiveServerMessage;let ie;ne.data instanceof Blob?ie=await ne.data.text():ne.data instanceof ArrayBuffer?ie=new TextDecoder().decode(ne.data):ie=ne.data;const se=JSON.parse(ie);if(ee.isVertexAI()){const oe=liveServerMessageFromVertex(se);Object.assign(ae,oe)}else Object.assign(ae,se);te(ae)}class Live{constructor(te,ne,ae){this.apiClient=te,this.auth=ne,this.webSocketFactory=ae,this.music=new LiveMusic(this.apiClient,this.auth,this.webSocketFactory)}async connect(te){var ne,ae,ie,se,oe,le;if(te.config&&te.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const ce=this.apiClient.getWebsocketBaseUrl(),he=this.apiClient.getApiVersion();let fe;const pe=this.apiClient.getHeaders();te.config&&te.config.tools&&hasMcpToolUsage(te.config.tools)&&setMcpUsageHeader(pe);const ge=mapToHeaders(pe);if(this.apiClient.isVertexAI())fe=`${ce}/ws/google.cloud.aiplatform.${he}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(ge,fe);else{const Ue=this.apiClient.getApiKey();let Ve="BidiGenerateContent",je="key";Ue!=null&&Ue.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),he!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Ve="BidiGenerateContentConstrained",je="access_token"),fe=`${ce}/ws/google.ai.generativelanguage.${he}.GenerativeService.${Ve}?${je}=${Ue}`}let ye=()=>{};const xe=new Promise(Ue=>{ye=Ue}),be=te.callbacks,Se=function(){var Ue;(Ue=be==null?void 0:be.onopen)===null||Ue===void 0||Ue.call(be),ye({})},ve=this.apiClient,Te={onopen:Se,onmessage:Ue=>{handleWebSocketMessage(ve,be.onmessage,Ue)},onerror:(ne=be==null?void 0:be.onerror)!==null&&ne!==void 0?ne:function(Ue){},onclose:(ae=be==null?void 0:be.onclose)!==null&&ae!==void 0?ae:function(Ue){}},Ce=this.webSocketFactory.create(fe,headersToMap(ge),Te);Ce.connect(),await xe;let Pe=tModel(this.apiClient,te.model);if(this.apiClient.isVertexAI()&&Pe.startsWith("publishers/")){const Ue=this.apiClient.getProject(),Ve=this.apiClient.getLocation();Pe=`projects/${Ue}/locations/${Ve}/`+Pe}let Be={};this.apiClient.isVertexAI()&&((ie=te.config)===null||ie===void 0?void 0:ie.responseModalities)===void 0&&(te.config===void 0?te.config={responseModalities:[Modality.AUDIO]}:te.config.responseModalities=[Modality.AUDIO]),!((se=te.config)===null||se===void 0)&&se.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Ae=(le=(oe=te.config)===null||oe===void 0?void 0:oe.tools)!==null&&le!==void 0?le:[],Me=[];for(const Ue of Ae)if(this.isCallableTool(Ue)){const Ve=Ue;Me.push(await Ve.tool())}else Me.push(Ue);Me.length>0&&(te.config.tools=Me);const Ge={model:Pe,config:te.config,callbacks:te.callbacks};return this.apiClient.isVertexAI()?Be=liveConnectParametersToVertex(this.apiClient,Ge):Be=liveConnectParametersToMldev(this.apiClient,Ge),delete Be.config,Ce.send(JSON.stringify(Be)),new Session(Ce,this.apiClient)}isCallableTool(te){return"callTool"in te&&typeof te.callTool=="function"}}const defaultLiveSendClientContentParamerters={turnComplete:!0};class Session{constructor(te,ne){this.conn=te,this.apiClient=ne}tLiveClientContent(te,ne){if(ne.turns!==null&&ne.turns!==void 0){let ae=[];try{ae=tContents(ne.turns),te.isVertexAI()||(ae=ae.map(ie=>contentToMldev$1(ie)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof ne.turns}'`)}return{clientContent:{turns:ae,turnComplete:ne.turnComplete}}}return{clientContent:{turnComplete:ne.turnComplete}}}tLiveClienttToolResponse(te,ne){let ae=[];if(ne.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(ne.functionResponses)?ae=ne.functionResponses:ae=[ne.functionResponses],ae.length===0)throw new Error("functionResponses is required.");for(const se of ae){if(typeof se!="object"||se===null||!("name"in se)||!("response"in se))throw new Error(`Could not parse function response, type '${typeof se}'.`);if(!te.isVertexAI()&&!("id"in se))throw new Error(FUNCTION_RESPONSE_REQUIRES_ID)}return{toolResponse:{functionResponses:ae}}}sendClientContent(te){te=Object.assign(Object.assign({},defaultLiveSendClientContentParamerters),te);const ne=this.tLiveClientContent(this.apiClient,te);this.conn.send(JSON.stringify(ne))}sendRealtimeInput(te){let ne={};this.apiClient.isVertexAI()?ne={realtimeInput:liveSendRealtimeInputParametersToVertex(te)}:ne={realtimeInput:liveSendRealtimeInputParametersToMldev(te)},this.conn.send(JSON.stringify(ne))}sendToolResponse(te){if(te.functionResponses==null)throw new Error("Tool response parameters are required.");const ne=this.tLiveClienttToolResponse(this.apiClient,te);this.conn.send(JSON.stringify(ne))}close(){this.conn.close()}}function headersToMap(ee){const te={};return ee.forEach((ne,ae)=>{te[ae]=ne}),te}function mapToHeaders(ee){const te=new Headers;for(const[ne,ae]of Object.entries(ee))te.append(ne,ae);return te}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DEFAULT_MAX_REMOTE_CALLS=10;function shouldDisableAfc(ee){var te,ne,ae;if(!((te=ee==null?void 0:ee.automaticFunctionCalling)===null||te===void 0)&&te.disable)return!0;let ie=!1;for(const oe of(ne=ee==null?void 0:ee.tools)!==null&&ne!==void 0?ne:[])if(isCallableTool(oe)){ie=!0;break}if(!ie)return!0;const se=(ae=ee==null?void 0:ee.automaticFunctionCalling)===null||ae===void 0?void 0:ae.maximumRemoteCalls;return se&&(se<0||!Number.isInteger(se))||se==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",se),!0):!1}function isCallableTool(ee){return"callTool"in ee&&typeof ee.callTool=="function"}function hasCallableTools(ee){var te,ne,ae;return(ae=(ne=(te=ee.config)===null||te===void 0?void 0:te.tools)===null||ne===void 0?void 0:ne.some(ie=>isCallableTool(ie)))!==null&&ae!==void 0?ae:!1}function findAfcIncompatibleToolIndexes(ee){var te;const ne=[];return!((te=ee==null?void 0:ee.config)===null||te===void 0)&&te.tools&&ee.config.tools.forEach((ae,ie)=>{if(isCallableTool(ae))return;const se=ae;se.functionDeclarations&&se.functionDeclarations.length>0&&ne.push(ie)}),ne}function shouldAppendAfcHistory(ee){var te;return!(!((te=ee==null?void 0:ee.automaticFunctionCalling)===null||te===void 0)&&te.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Models extends BaseModule{constructor(te){super(),this.apiClient=te,this.generateContent=async ne=>{var ae,ie,se,oe,le;const ce=await this.processParamsMaybeAddMcpUsage(ne);if(this.maybeMoveToResponseJsonSchem(ne),!hasCallableTools(ne)||shouldDisableAfc(ne.config))return await this.generateContentInternal(ce);const he=findAfcIncompatibleToolIndexes(ne);if(he.length>0){const be=he.map(Se=>`tools[${Se}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${be}.`)}let fe,pe;const ge=tContents(ce.contents),ye=(se=(ie=(ae=ce.config)===null||ae===void 0?void 0:ae.automaticFunctionCalling)===null||ie===void 0?void 0:ie.maximumRemoteCalls)!==null&&se!==void 0?se:DEFAULT_MAX_REMOTE_CALLS;let xe=0;for(;xe<ye&&(fe=await this.generateContentInternal(ce),!(!fe.functionCalls||fe.functionCalls.length===0));){const be=fe.candidates[0].content,Se=[];for(const ve of(le=(oe=ne.config)===null||oe===void 0?void 0:oe.tools)!==null&&le!==void 0?le:[])if(isCallableTool(ve)){const Ce=await ve.callTool(fe.functionCalls);Se.push(...Ce)}xe++,pe={role:"user",parts:Se},ce.contents=tContents(ce.contents),ce.contents.push(be),ce.contents.push(pe),shouldAppendAfcHistory(ce.config)&&(ge.push(be),ge.push(pe))}return shouldAppendAfcHistory(ce.config)&&(fe.automaticFunctionCallingHistory=ge),fe},this.generateContentStream=async ne=>{var ae,ie,se,oe,le;if(this.maybeMoveToResponseJsonSchem(ne),shouldDisableAfc(ne.config)){const pe=await this.processParamsMaybeAddMcpUsage(ne);return await this.generateContentStreamInternal(pe)}const ce=findAfcIncompatibleToolIndexes(ne);if(ce.length>0){const pe=ce.map(ge=>`tools[${ge}]`).join(", ");throw new Error(`Incompatible tools found at ${pe}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const he=(se=(ie=(ae=ne==null?void 0:ne.config)===null||ae===void 0?void 0:ae.toolConfig)===null||ie===void 0?void 0:ie.functionCallingConfig)===null||se===void 0?void 0:se.streamFunctionCallArguments,fe=(le=(oe=ne==null?void 0:ne.config)===null||oe===void 0?void 0:oe.automaticFunctionCalling)===null||le===void 0?void 0:le.disable;if(he&&!fe)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(ne)},this.generateImages=async ne=>await this.generateImagesInternal(ne).then(ae=>{var ie;let se;const oe=[];if(ae!=null&&ae.generatedImages)for(const ce of ae.generatedImages)ce&&(ce!=null&&ce.safetyAttributes)&&((ie=ce==null?void 0:ce.safetyAttributes)===null||ie===void 0?void 0:ie.contentType)==="Positive Prompt"?se=ce==null?void 0:ce.safetyAttributes:oe.push(ce);let le;return se?le={generatedImages:oe,positivePromptSafetyAttributes:se,sdkHttpResponse:ae.sdkHttpResponse}:le={generatedImages:oe,sdkHttpResponse:ae.sdkHttpResponse},le}),this.list=async ne=>{var ae;const oe={config:Object.assign(Object.assign({},{queryBase:!0}),ne==null?void 0:ne.config)};if(this.apiClient.isVertexAI()&&!oe.config.queryBase){if(!((ae=oe.config)===null||ae===void 0)&&ae.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");oe.config.filter="labels.tune-type:*"}return new Pager(PagedItem.PAGED_ITEM_MODELS,le=>this.listInternal(le),await this.listInternal(oe),oe)},this.editImage=async ne=>{const ae={model:ne.model,prompt:ne.prompt,referenceImages:[],config:ne.config};return ne.referenceImages&&ne.referenceImages&&(ae.referenceImages=ne.referenceImages.map(ie=>ie.toReferenceImageAPI())),await this.editImageInternal(ae)},this.upscaleImage=async ne=>{let ae={numberOfImages:1,mode:"upscale"};ne.config&&(ae=Object.assign(Object.assign({},ae),ne.config));const ie={model:ne.model,image:ne.image,upscaleFactor:ne.upscaleFactor,config:ae};return await this.upscaleImageInternal(ie)},this.generateVideos=async ne=>{var ae,ie,se,oe,le,ce;if((ne.prompt||ne.image||ne.video)&&ne.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((ae=ne.video)===null||ae===void 0)&&ae.uri&&(!((ie=ne.video)===null||ie===void 0)&&ie.videoBytes)?ne.video={uri:ne.video.uri,mimeType:ne.video.mimeType}:!((oe=(se=ne.source)===null||se===void 0?void 0:se.video)===null||oe===void 0)&&oe.uri&&(!((ce=(le=ne.source)===null||le===void 0?void 0:le.video)===null||ce===void 0)&&ce.videoBytes)&&(ne.source.video={uri:ne.source.video.uri,mimeType:ne.source.video.mimeType})),await this.generateVideosInternal(ne)}}maybeMoveToResponseJsonSchem(te){te.config&&te.config.responseSchema&&(te.config.responseJsonSchema||Object.keys(te.config.responseSchema).includes("$schema")&&(te.config.responseJsonSchema=te.config.responseSchema,delete te.config.responseSchema))}async processParamsMaybeAddMcpUsage(te){var ne,ae,ie;const se=(ne=te.config)===null||ne===void 0?void 0:ne.tools;if(!se)return te;const oe=await Promise.all(se.map(async ce=>isCallableTool(ce)?await ce.tool():ce)),le={model:te.model,contents:te.contents,config:Object.assign(Object.assign({},te.config),{tools:oe})};if(le.config.tools=oe,te.config&&te.config.tools&&hasMcpToolUsage(te.config.tools)){const ce=(ie=(ae=te.config.httpOptions)===null||ae===void 0?void 0:ae.headers)!==null&&ie!==void 0?ie:{};let he=Object.assign({},ce);Object.keys(he).length===0&&(he=this.apiClient.getDefaultHeaders()),setMcpUsageHeader(he),le.config.httpOptions=Object.assign(Object.assign({},te.config.httpOptions),{headers:he})}return le}async initAfcToolsMap(te){var ne,ae,ie;const se=new Map;for(const oe of(ae=(ne=te.config)===null||ne===void 0?void 0:ne.tools)!==null&&ae!==void 0?ae:[])if(isCallableTool(oe)){const le=oe,ce=await le.tool();for(const he of(ie=ce.functionDeclarations)!==null&&ie!==void 0?ie:[]){if(!he.name)throw new Error("Function declaration name is required.");if(se.has(he.name))throw new Error(`Duplicate tool declaration name: ${he.name}`);se.set(he.name,le)}}return se}async processAfcStream(te){var ne,ae,ie;const se=(ie=(ae=(ne=te.config)===null||ne===void 0?void 0:ne.automaticFunctionCalling)===null||ae===void 0?void 0:ae.maximumRemoteCalls)!==null&&ie!==void 0?ie:DEFAULT_MAX_REMOTE_CALLS;let oe=!1,le=0;const ce=await this.initAfcToolsMap(te);return(function(he,fe,pe){return __asyncGenerator(this,arguments,function*(){for(var ge,ye,xe,be,Se,ve;le<se;){oe&&(le++,oe=!1);const Be=yield __await(he.processParamsMaybeAddMcpUsage(pe)),Ae=yield __await(he.generateContentStreamInternal(Be)),Me=[],Ge=[];try{for(var Te=!0,Ce=(ye=void 0,__asyncValues(Ae)),Pe;Pe=yield __await(Ce.next()),ge=Pe.done,!ge;Te=!0){be=Pe.value,Te=!1;const Ue=be;if(yield yield __await(Ue),Ue.candidates&&(!((Se=Ue.candidates[0])===null||Se===void 0)&&Se.content)){Ge.push(Ue.candidates[0].content);for(const Ve of(ve=Ue.candidates[0].content.parts)!==null&&ve!==void 0?ve:[])if(le<se&&Ve.functionCall){if(!Ve.functionCall.name)throw new Error("Function call name was not returned by the model.");if(fe.has(Ve.functionCall.name)){const je=yield __await(fe.get(Ve.functionCall.name).callTool([Ve.functionCall]));Me.push(...je)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${fe.keys()}, mising tool: ${Ve.functionCall.name}`)}}}}catch(Ue){ye={error:Ue}}finally{try{!Te&&!ge&&(xe=Ce.return)&&(yield __await(xe.call(Ce)))}finally{if(ye)throw ye.error}}if(Me.length>0){oe=!0;const Ue=new GenerateContentResponse;Ue.candidates=[{content:{role:"user",parts:Me}}],yield yield __await(Ue);const Ve=[];Ve.push(...Ge),Ve.push({role:"user",parts:Me});const je=tContents(pe.contents).concat(Ve);pe.contents=je}else break}})})(this,ce,te)}async generateContentInternal(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=generateContentParametersToVertex(this.apiClient,te);return le=formatMap("{model}:generateContent",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=generateContentResponseFromVertex(fe),ge=new GenerateContentResponse;return Object.assign(ge,pe),ge})}else{const he=generateContentParametersToMldev(this.apiClient,te);return le=formatMap("{model}:generateContent",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=generateContentResponseFromMldev(fe),ge=new GenerateContentResponse;return Object.assign(ge,pe),ge})}}async generateContentStreamInternal(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=generateContentParametersToVertex(this.apiClient,te);return le=formatMap("{model}:streamGenerateContent?alt=sse",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.requestStream({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}),oe.then(function(pe){return __asyncGenerator(this,arguments,function*(){var ge,ye,xe,be;try{for(var Se=!0,ve=__asyncValues(pe),Te;Te=yield __await(ve.next()),ge=Te.done,!ge;Se=!0){be=Te.value,Se=!1;const Ce=be,Pe=generateContentResponseFromVertex(yield __await(Ce.json()));Pe.sdkHttpResponse={headers:Ce.headers};const Be=new GenerateContentResponse;Object.assign(Be,Pe),yield yield __await(Be)}}catch(Ce){ye={error:Ce}}finally{try{!Se&&!ge&&(xe=ve.return)&&(yield __await(xe.call(ve)))}finally{if(ye)throw ye.error}}})})}else{const he=generateContentParametersToMldev(this.apiClient,te);return le=formatMap("{model}:streamGenerateContent?alt=sse",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.requestStream({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}),oe.then(function(pe){return __asyncGenerator(this,arguments,function*(){var ge,ye,xe,be;try{for(var Se=!0,ve=__asyncValues(pe),Te;Te=yield __await(ve.next()),ge=Te.done,!ge;Se=!0){be=Te.value,Se=!1;const Ce=be,Pe=generateContentResponseFromMldev(yield __await(Ce.json()));Pe.sdkHttpResponse={headers:Ce.headers};const Be=new GenerateContentResponse;Object.assign(Be,Pe),yield yield __await(Be)}}catch(Ce){ye={error:Ce}}finally{try{!Se&&!ge&&(xe=ve.return)&&(yield __await(xe.call(ve)))}finally{if(ye)throw ye.error}}})})}}async embedContent(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=embedContentParametersToVertex(this.apiClient,te);return le=formatMap("{model}:predict",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=embedContentResponseFromVertex(fe),ge=new EmbedContentResponse;return Object.assign(ge,pe),ge})}else{const he=embedContentParametersToMldev(this.apiClient,te);return le=formatMap("{model}:batchEmbedContents",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=embedContentResponseFromMldev(fe),ge=new EmbedContentResponse;return Object.assign(ge,pe),ge})}}async generateImagesInternal(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=generateImagesParametersToVertex(this.apiClient,te);return le=formatMap("{model}:predict",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=generateImagesResponseFromVertex(fe),ge=new GenerateImagesResponse;return Object.assign(ge,pe),ge})}else{const he=generateImagesParametersToMldev(this.apiClient,te);return le=formatMap("{model}:predict",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=generateImagesResponseFromMldev(fe),ge=new GenerateImagesResponse;return Object.assign(ge,pe),ge})}}async editImageInternal(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI()){const le=editImageParametersInternalToVertex(this.apiClient,te);return se=formatMap("{model}:predict",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json().then(he=>{const fe=he;return fe.sdkHttpResponse={headers:ce.headers},fe})),ie.then(ce=>{const he=editImageResponseFromVertex(ce),fe=new EditImageResponse;return Object.assign(fe,he),fe})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI()){const le=upscaleImageAPIParametersInternalToVertex(this.apiClient,te);return se=formatMap("{model}:predict",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json().then(he=>{const fe=he;return fe.sdkHttpResponse={headers:ce.headers},fe})),ie.then(ce=>{const he=upscaleImageResponseFromVertex(ce),fe=new UpscaleImageResponse;return Object.assign(fe,he),fe})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI()){const le=recontextImageParametersToVertex(this.apiClient,te);return se=formatMap("{model}:predict",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>{const he=recontextImageResponseFromVertex(ce),fe=new RecontextImageResponse;return Object.assign(fe,he),fe})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI()){const le=segmentImageParametersToVertex(this.apiClient,te);return se=formatMap("{model}:predict",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>{const he=segmentImageResponseFromVertex(ce),fe=new SegmentImageResponse;return Object.assign(fe,he),fe})}else throw new Error("This method is only supported by the Vertex AI.")}async get(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=getModelParametersToVertex(this.apiClient,te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json()),oe.then(fe=>modelFromVertex(fe))}else{const he=getModelParametersToMldev(this.apiClient,te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json()),oe.then(fe=>modelFromMldev(fe))}}async listInternal(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=listModelsParametersToVertex(this.apiClient,te);return le=formatMap("{models_url}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=listModelsResponseFromVertex(fe),ge=new ListModelsResponse;return Object.assign(ge,pe),ge})}else{const he=listModelsParametersToMldev(this.apiClient,te);return le=formatMap("{models_url}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=listModelsResponseFromMldev(fe),ge=new ListModelsResponse;return Object.assign(ge,pe),ge})}}async update(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=updateModelParametersToVertex(this.apiClient,te);return le=formatMap("{model}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"PATCH",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json()),oe.then(fe=>modelFromVertex(fe))}else{const he=updateModelParametersToMldev(this.apiClient,te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"PATCH",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json()),oe.then(fe=>modelFromMldev(fe))}}async delete(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=deleteModelParametersToVertex(this.apiClient,te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"DELETE",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=deleteModelResponseFromVertex(fe),ge=new DeleteModelResponse;return Object.assign(ge,pe),ge})}else{const he=deleteModelParametersToMldev(this.apiClient,te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"DELETE",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=deleteModelResponseFromMldev(fe),ge=new DeleteModelResponse;return Object.assign(ge,pe),ge})}}async countTokens(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=countTokensParametersToVertex(this.apiClient,te);return le=formatMap("{model}:countTokens",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=countTokensResponseFromVertex(fe),ge=new CountTokensResponse;return Object.assign(ge,pe),ge})}else{const he=countTokensParametersToMldev(this.apiClient,te);return le=formatMap("{model}:countTokens",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=countTokensResponseFromMldev(fe),ge=new CountTokensResponse;return Object.assign(ge,pe),ge})}}async computeTokens(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI()){const le=computeTokensParametersToVertex(this.apiClient,te);return se=formatMap("{model}:computeTokens",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json().then(he=>{const fe=he;return fe.sdkHttpResponse={headers:ce.headers},fe})),ie.then(ce=>{const he=computeTokensResponseFromVertex(ce),fe=new ComputeTokensResponse;return Object.assign(fe,he),fe})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=generateVideosParametersToVertex(this.apiClient,te);return le=formatMap("{model}:predictLongRunning",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json()),oe.then(fe=>{const pe=generateVideosOperationFromVertex(fe),ge=new GenerateVideosOperation;return Object.assign(ge,pe),ge})}else{const he=generateVideosParametersToMldev(this.apiClient,te);return le=formatMap("{model}:predictLongRunning",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json()),oe.then(fe=>{const pe=generateVideosOperationFromMldev(fe),ge=new GenerateVideosOperation;return Object.assign(ge,pe),ge})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Operations extends BaseModule{constructor(te){super(),this.apiClient=te}async getVideosOperation(te){const ne=te.operation,ae=te.config;if(ne.name===void 0||ne.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const ie=ne.name.split("/operations/")[0];let se;ae&&"httpOptions"in ae&&(se=ae.httpOptions);const oe=await this.fetchPredictVideosOperationInternal({operationName:ne.name,resourceName:ie,config:{httpOptions:se}});return ne._fromAPIResponse({apiResponse:oe,_isVertexAI:!0})}else{const ie=await this.getVideosOperationInternal({operationName:ne.name,config:ae});return ne._fromAPIResponse({apiResponse:ie,_isVertexAI:!1})}}async get(te){const ne=te.operation,ae=te.config;if(ne.name===void 0||ne.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const ie=ne.name.split("/operations/")[0];let se;ae&&"httpOptions"in ae&&(se=ae.httpOptions);const oe=await this.fetchPredictVideosOperationInternal({operationName:ne.name,resourceName:ie,config:{httpOptions:se}});return ne._fromAPIResponse({apiResponse:oe,_isVertexAI:!0})}else{const ie=await this.getVideosOperationInternal({operationName:ne.name,config:ae});return ne._fromAPIResponse({apiResponse:ie,_isVertexAI:!1})}}async getVideosOperationInternal(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=getOperationParametersToVertex(te);return le=formatMap("{operationName}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json()),oe}else{const he=getOperationParametersToMldev(te);return le=formatMap("{operationName}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json()),oe}}async fetchPredictVideosOperationInternal(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI()){const le=fetchPredictOperationParametersToVertex(te);return se=formatMap("{resourceName}:fetchPredictOperation",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function blobToMldev(ee){const te={},ne=getValueByPath(ee,["data"]);if(ne!=null&&setValueByPath(te,["data"],ne),getValueByPath(ee,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function contentToMldev(ee){const te={},ne=getValueByPath(ee,["parts"]);if(ne!=null){let ie=ne;Array.isArray(ie)&&(ie=ie.map(se=>partToMldev(se))),setValueByPath(te,["parts"],ie)}const ae=getValueByPath(ee,["role"]);return ae!=null&&setValueByPath(te,["role"],ae),te}function createAuthTokenConfigToMldev(ee,te,ne){const ae={},ie=getValueByPath(te,["expireTime"]);ne!==void 0&&ie!=null&&setValueByPath(ne,["expireTime"],ie);const se=getValueByPath(te,["newSessionExpireTime"]);ne!==void 0&&se!=null&&setValueByPath(ne,["newSessionExpireTime"],se);const oe=getValueByPath(te,["uses"]);ne!==void 0&&oe!=null&&setValueByPath(ne,["uses"],oe);const le=getValueByPath(te,["liveConnectConstraints"]);ne!==void 0&&le!=null&&setValueByPath(ne,["bidiGenerateContentSetup"],liveConnectConstraintsToMldev(ee,le));const ce=getValueByPath(te,["lockAdditionalFields"]);return ne!==void 0&&ce!=null&&setValueByPath(ne,["fieldMask"],ce),ae}function createAuthTokenParametersToMldev(ee,te){const ne={},ae=getValueByPath(te,["config"]);return ae!=null&&setValueByPath(ne,["config"],createAuthTokenConfigToMldev(ee,ae,ne)),ne}function fileDataToMldev(ee){const te={};if(getValueByPath(ee,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["fileUri"]);ne!=null&&setValueByPath(te,["fileUri"],ne);const ae=getValueByPath(ee,["mimeType"]);return ae!=null&&setValueByPath(te,["mimeType"],ae),te}function functionCallToMldev(ee){const te={},ne=getValueByPath(ee,["id"]);ne!=null&&setValueByPath(te,["id"],ne);const ae=getValueByPath(ee,["args"]);ae!=null&&setValueByPath(te,["args"],ae);const ie=getValueByPath(ee,["name"]);if(ie!=null&&setValueByPath(te,["name"],ie),getValueByPath(ee,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(getValueByPath(ee,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return te}function googleMapsToMldev(ee){const te={};if(getValueByPath(ee,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["enableWidget"]);return ne!=null&&setValueByPath(te,["enableWidget"],ne),te}function googleSearchToMldev(ee){const te={};if(getValueByPath(ee,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(getValueByPath(ee,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const ne=getValueByPath(ee,["timeRangeFilter"]);return ne!=null&&setValueByPath(te,["timeRangeFilter"],ne),te}function liveConnectConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["generationConfig"]);te!==void 0&&ae!=null&&setValueByPath(te,["setup","generationConfig"],ae);const ie=getValueByPath(ee,["responseModalities"]);te!==void 0&&ie!=null&&setValueByPath(te,["setup","generationConfig","responseModalities"],ie);const se=getValueByPath(ee,["temperature"]);te!==void 0&&se!=null&&setValueByPath(te,["setup","generationConfig","temperature"],se);const oe=getValueByPath(ee,["topP"]);te!==void 0&&oe!=null&&setValueByPath(te,["setup","generationConfig","topP"],oe);const le=getValueByPath(ee,["topK"]);te!==void 0&&le!=null&&setValueByPath(te,["setup","generationConfig","topK"],le);const ce=getValueByPath(ee,["maxOutputTokens"]);te!==void 0&&ce!=null&&setValueByPath(te,["setup","generationConfig","maxOutputTokens"],ce);const he=getValueByPath(ee,["mediaResolution"]);te!==void 0&&he!=null&&setValueByPath(te,["setup","generationConfig","mediaResolution"],he);const fe=getValueByPath(ee,["seed"]);te!==void 0&&fe!=null&&setValueByPath(te,["setup","generationConfig","seed"],fe);const pe=getValueByPath(ee,["speechConfig"]);te!==void 0&&pe!=null&&setValueByPath(te,["setup","generationConfig","speechConfig"],tLiveSpeechConfig(pe));const ge=getValueByPath(ee,["thinkingConfig"]);te!==void 0&&ge!=null&&setValueByPath(te,["setup","generationConfig","thinkingConfig"],ge);const ye=getValueByPath(ee,["enableAffectiveDialog"]);te!==void 0&&ye!=null&&setValueByPath(te,["setup","generationConfig","enableAffectiveDialog"],ye);const xe=getValueByPath(ee,["systemInstruction"]);te!==void 0&&xe!=null&&setValueByPath(te,["setup","systemInstruction"],contentToMldev(tContent(xe)));const be=getValueByPath(ee,["tools"]);if(te!==void 0&&be!=null){let Ae=tTools(be);Array.isArray(Ae)&&(Ae=Ae.map(Me=>toolToMldev(tTool(Me)))),setValueByPath(te,["setup","tools"],Ae)}const Se=getValueByPath(ee,["sessionResumption"]);te!==void 0&&Se!=null&&setValueByPath(te,["setup","sessionResumption"],sessionResumptionConfigToMldev(Se));const ve=getValueByPath(ee,["inputAudioTranscription"]);te!==void 0&&ve!=null&&setValueByPath(te,["setup","inputAudioTranscription"],ve);const Te=getValueByPath(ee,["outputAudioTranscription"]);te!==void 0&&Te!=null&&setValueByPath(te,["setup","outputAudioTranscription"],Te);const Ce=getValueByPath(ee,["realtimeInputConfig"]);te!==void 0&&Ce!=null&&setValueByPath(te,["setup","realtimeInputConfig"],Ce);const Pe=getValueByPath(ee,["contextWindowCompression"]);te!==void 0&&Pe!=null&&setValueByPath(te,["setup","contextWindowCompression"],Pe);const Be=getValueByPath(ee,["proactivity"]);return te!==void 0&&Be!=null&&setValueByPath(te,["setup","proactivity"],Be),ne}function liveConnectConstraintsToMldev(ee,te){const ne={},ae=getValueByPath(te,["model"]);ae!=null&&setValueByPath(ne,["setup","model"],tModel(ee,ae));const ie=getValueByPath(te,["config"]);return ie!=null&&setValueByPath(ne,["config"],liveConnectConfigToMldev(ie,ne)),ne}function partToMldev(ee){const te={},ne=getValueByPath(ee,["mediaResolution"]);ne!=null&&setValueByPath(te,["mediaResolution"],ne);const ae=getValueByPath(ee,["codeExecutionResult"]);ae!=null&&setValueByPath(te,["codeExecutionResult"],ae);const ie=getValueByPath(ee,["executableCode"]);ie!=null&&setValueByPath(te,["executableCode"],ie);const se=getValueByPath(ee,["fileData"]);se!=null&&setValueByPath(te,["fileData"],fileDataToMldev(se));const oe=getValueByPath(ee,["functionCall"]);oe!=null&&setValueByPath(te,["functionCall"],functionCallToMldev(oe));const le=getValueByPath(ee,["functionResponse"]);le!=null&&setValueByPath(te,["functionResponse"],le);const ce=getValueByPath(ee,["inlineData"]);ce!=null&&setValueByPath(te,["inlineData"],blobToMldev(ce));const he=getValueByPath(ee,["text"]);he!=null&&setValueByPath(te,["text"],he);const fe=getValueByPath(ee,["thought"]);fe!=null&&setValueByPath(te,["thought"],fe);const pe=getValueByPath(ee,["thoughtSignature"]);pe!=null&&setValueByPath(te,["thoughtSignature"],pe);const ge=getValueByPath(ee,["videoMetadata"]);return ge!=null&&setValueByPath(te,["videoMetadata"],ge),te}function sessionResumptionConfigToMldev(ee){const te={},ne=getValueByPath(ee,["handle"]);if(ne!=null&&setValueByPath(te,["handle"],ne),getValueByPath(ee,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return te}function toolToMldev(ee){const te={},ne=getValueByPath(ee,["functionDeclarations"]);if(ne!=null){let fe=ne;Array.isArray(fe)&&(fe=fe.map(pe=>pe)),setValueByPath(te,["functionDeclarations"],fe)}if(getValueByPath(ee,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["googleSearchRetrieval"]);ae!=null&&setValueByPath(te,["googleSearchRetrieval"],ae);const ie=getValueByPath(ee,["computerUse"]);ie!=null&&setValueByPath(te,["computerUse"],ie);const se=getValueByPath(ee,["fileSearch"]);se!=null&&setValueByPath(te,["fileSearch"],se);const oe=getValueByPath(ee,["codeExecution"]);if(oe!=null&&setValueByPath(te,["codeExecution"],oe),getValueByPath(ee,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const le=getValueByPath(ee,["googleMaps"]);le!=null&&setValueByPath(te,["googleMaps"],googleMapsToMldev(le));const ce=getValueByPath(ee,["googleSearch"]);ce!=null&&setValueByPath(te,["googleSearch"],googleSearchToMldev(ce));const he=getValueByPath(ee,["urlContext"]);return he!=null&&setValueByPath(te,["urlContext"],he),te}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function getFieldMasks(ee){const te=[];for(const ne in ee)if(Object.prototype.hasOwnProperty.call(ee,ne)){const ae=ee[ne];if(typeof ae=="object"&&ae!=null&&Object.keys(ae).length>0){const ie=Object.keys(ae).map(se=>`${ne}.${se}`);te.push(...ie)}else te.push(ne)}return te.join(",")}function convertBidiSetupToTokenSetup(ee,te){let ne=null;const ae=ee.bidiGenerateContentSetup;if(typeof ae=="object"&&ae!==null&&"setup"in ae){const se=ae.setup;typeof se=="object"&&se!==null?(ee.bidiGenerateContentSetup=se,ne=se):delete ee.bidiGenerateContentSetup}else ae!==void 0&&delete ee.bidiGenerateContentSetup;const ie=ee.fieldMask;if(ne){const se=getFieldMasks(ne);if(Array.isArray(te==null?void 0:te.lockAdditionalFields)&&(te==null?void 0:te.lockAdditionalFields.length)===0)se?ee.fieldMask=se:delete ee.fieldMask;else if(te!=null&&te.lockAdditionalFields&&te.lockAdditionalFields.length>0&&ie!==null&&Array.isArray(ie)&&ie.length>0){const oe=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let le=[];ie.length>0&&(le=ie.map(he=>oe.includes(he)?`generationConfig.${he}`:he));const ce=[];se&&ce.push(se),le.length>0&&ce.push(...le),ce.length>0?ee.fieldMask=ce.join(","):delete ee.fieldMask}else delete ee.fieldMask}else ie!==null&&Array.isArray(ie)&&ie.length>0?ee.fieldMask=ie.join(","):delete ee.fieldMask;return ee}class Tokens extends BaseModule{constructor(te){super(),this.apiClient=te}async create(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const le=createAuthTokenParametersToMldev(this.apiClient,te);se=formatMap("auth_tokens",le._url),oe=le._query,delete le.config,delete le._url,delete le._query;const ce=convertBidiSetupToTokenSetup(le,te.config);return ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(ce),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(he=>he.json()),ie.then(he=>he)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function deleteDocumentConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["force"]);return te!==void 0&&ae!=null&&setValueByPath(te,["_query","force"],ae),ne}function deleteDocumentParametersToMldev(ee){const te={},ne=getValueByPath(ee,["name"]);ne!=null&&setValueByPath(te,["_url","name"],ne);const ae=getValueByPath(ee,["config"]);return ae!=null&&deleteDocumentConfigToMldev(ae,te),te}function getDocumentParametersToMldev(ee){const te={},ne=getValueByPath(ee,["name"]);return ne!=null&&setValueByPath(te,["_url","name"],ne),te}function listDocumentsConfigToMldev(ee,te){const ne={},ae=getValueByPath(ee,["pageSize"]);te!==void 0&&ae!=null&&setValueByPath(te,["_query","pageSize"],ae);const ie=getValueByPath(ee,["pageToken"]);return te!==void 0&&ie!=null&&setValueByPath(te,["_query","pageToken"],ie),ne}function listDocumentsParametersToMldev(ee){const te={},ne=getValueByPath(ee,["parent"]);ne!=null&&setValueByPath(te,["_url","parent"],ne);const ae=getValueByPath(ee,["config"]);return ae!=null&&listDocumentsConfigToMldev(ae,te),te}function listDocumentsResponseFromMldev(ee){const te={},ne=getValueByPath(ee,["sdkHttpResponse"]);ne!=null&&setValueByPath(te,["sdkHttpResponse"],ne);const ae=getValueByPath(ee,["nextPageToken"]);ae!=null&&setValueByPath(te,["nextPageToken"],ae);const ie=getValueByPath(ee,["documents"]);if(ie!=null){let se=ie;Array.isArray(se)&&(se=se.map(oe=>oe)),setValueByPath(te,["documents"],se)}return te}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Documents extends BaseModule{constructor(te){super(),this.apiClient=te,this.list=async ne=>new Pager(PagedItem.PAGED_ITEM_DOCUMENTS,ae=>this.listInternal({parent:ne.parent,config:ae.config}),await this.listInternal(ne),ne)}async get(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=getDocumentParametersToMldev(te);return se=formatMap("{name}",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>ce)}}async delete(te){var ne,ae;let ie="",se={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const oe=deleteDocumentParametersToMldev(te);ie=formatMap("{name}",oe._url),se=oe._query,delete oe._url,delete oe._query,await this.apiClient.request({path:ie,queryParams:se,body:JSON.stringify(oe),httpMethod:"DELETE",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal})}}async listInternal(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=listDocumentsParametersToMldev(te);return se=formatMap("{parent}/documents",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>{const he=listDocumentsResponseFromMldev(ce),fe=new ListDocumentsResponse;return Object.assign(fe,he),fe})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FileSearchStores extends BaseModule{constructor(te,ne=new Documents(te)){super(),this.apiClient=te,this.documents=ne,this.list=async(ae={})=>new Pager(PagedItem.PAGED_ITEM_FILE_SEARCH_STORES,ie=>this.listInternal(ie),await this.listInternal(ae),ae)}async uploadToFileSearchStore(te){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(te.fileSearchStoreName,te.file,te.config)}async create(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=createFileSearchStoreParametersToMldev(te);return se=formatMap("fileSearchStores",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>ce)}}async get(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=getFileSearchStoreParametersToMldev(te);return se=formatMap("{name}",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>ce)}}async delete(te){var ne,ae;let ie="",se={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const oe=deleteFileSearchStoreParametersToMldev(te);ie=formatMap("{name}",oe._url),se=oe._query,delete oe._url,delete oe._query,await this.apiClient.request({path:ie,queryParams:se,body:JSON.stringify(oe),httpMethod:"DELETE",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal})}}async listInternal(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=listFileSearchStoresParametersToMldev(te);return se=formatMap("fileSearchStores",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>{const he=listFileSearchStoresResponseFromMldev(ce),fe=new ListFileSearchStoresResponse;return Object.assign(fe,he),fe})}}async uploadToFileSearchStoreInternal(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=uploadToFileSearchStoreParametersToMldev(te);return se=formatMap("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>{const he=uploadToFileSearchStoreResumableResponseFromMldev(ce),fe=new UploadToFileSearchStoreResumableResponse;return Object.assign(fe,he),fe})}}async importFile(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=importFileParametersToMldev(te);return se=formatMap("{file_search_store_name}:importFile",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json()),ie.then(ce=>{const he=importFileOperationFromMldev(ce),fe=new ImportFileOperation;return Object.assign(fe,he),fe})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cancelTuningJobParametersToMldev(ee,te){const ne={},ae=getValueByPath(ee,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],ae),ne}function cancelTuningJobParametersToVertex(ee,te){const ne={},ae=getValueByPath(ee,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],ae),ne}function cancelTuningJobResponseFromMldev(ee,te){const ne={},ae=getValueByPath(ee,["sdkHttpResponse"]);return ae!=null&&setValueByPath(ne,["sdkHttpResponse"],ae),ne}function cancelTuningJobResponseFromVertex(ee,te){const ne={},ae=getValueByPath(ee,["sdkHttpResponse"]);return ae!=null&&setValueByPath(ne,["sdkHttpResponse"],ae),ne}function createTuningJobConfigToMldev(ee,te,ne){const ae={};if(getValueByPath(ee,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const ie=getValueByPath(ee,["tunedModelDisplayName"]);if(te!==void 0&&ie!=null&&setValueByPath(te,["displayName"],ie),getValueByPath(ee,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const se=getValueByPath(ee,["epochCount"]);te!==void 0&&se!=null&&setValueByPath(te,["tuningTask","hyperparameters","epochCount"],se);const oe=getValueByPath(ee,["learningRateMultiplier"]);if(oe!=null&&setValueByPath(ae,["tuningTask","hyperparameters","learningRateMultiplier"],oe),getValueByPath(ee,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(getValueByPath(ee,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(getValueByPath(ee,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const le=getValueByPath(ee,["batchSize"]);te!==void 0&&le!=null&&setValueByPath(te,["tuningTask","hyperparameters","batchSize"],le);const ce=getValueByPath(ee,["learningRate"]);if(te!==void 0&&ce!=null&&setValueByPath(te,["tuningTask","hyperparameters","learningRate"],ce),getValueByPath(ee,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(getValueByPath(ee,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return ae}function createTuningJobConfigToVertex(ee,te,ne){const ae={};let ie=getValueByPath(ne,["config","method"]);if(ie===void 0&&(ie="SUPERVISED_FINE_TUNING"),ie==="SUPERVISED_FINE_TUNING"){const ye=getValueByPath(ee,["validationDataset"]);te!==void 0&&ye!=null&&setValueByPath(te,["supervisedTuningSpec"],tuningValidationDatasetToVertex(ye))}else if(ie==="PREFERENCE_TUNING"){const ye=getValueByPath(ee,["validationDataset"]);te!==void 0&&ye!=null&&setValueByPath(te,["preferenceOptimizationSpec"],tuningValidationDatasetToVertex(ye))}const se=getValueByPath(ee,["tunedModelDisplayName"]);te!==void 0&&se!=null&&setValueByPath(te,["tunedModelDisplayName"],se);const oe=getValueByPath(ee,["description"]);te!==void 0&&oe!=null&&setValueByPath(te,["description"],oe);let le=getValueByPath(ne,["config","method"]);if(le===void 0&&(le="SUPERVISED_FINE_TUNING"),le==="SUPERVISED_FINE_TUNING"){const ye=getValueByPath(ee,["epochCount"]);te!==void 0&&ye!=null&&setValueByPath(te,["supervisedTuningSpec","hyperParameters","epochCount"],ye)}else if(le==="PREFERENCE_TUNING"){const ye=getValueByPath(ee,["epochCount"]);te!==void 0&&ye!=null&&setValueByPath(te,["preferenceOptimizationSpec","hyperParameters","epochCount"],ye)}let ce=getValueByPath(ne,["config","method"]);if(ce===void 0&&(ce="SUPERVISED_FINE_TUNING"),ce==="SUPERVISED_FINE_TUNING"){const ye=getValueByPath(ee,["learningRateMultiplier"]);te!==void 0&&ye!=null&&setValueByPath(te,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],ye)}else if(ce==="PREFERENCE_TUNING"){const ye=getValueByPath(ee,["learningRateMultiplier"]);te!==void 0&&ye!=null&&setValueByPath(te,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],ye)}let he=getValueByPath(ne,["config","method"]);if(he===void 0&&(he="SUPERVISED_FINE_TUNING"),he==="SUPERVISED_FINE_TUNING"){const ye=getValueByPath(ee,["exportLastCheckpointOnly"]);te!==void 0&&ye!=null&&setValueByPath(te,["supervisedTuningSpec","exportLastCheckpointOnly"],ye)}else if(he==="PREFERENCE_TUNING"){const ye=getValueByPath(ee,["exportLastCheckpointOnly"]);te!==void 0&&ye!=null&&setValueByPath(te,["preferenceOptimizationSpec","exportLastCheckpointOnly"],ye)}let fe=getValueByPath(ne,["config","method"]);if(fe===void 0&&(fe="SUPERVISED_FINE_TUNING"),fe==="SUPERVISED_FINE_TUNING"){const ye=getValueByPath(ee,["adapterSize"]);te!==void 0&&ye!=null&&setValueByPath(te,["supervisedTuningSpec","hyperParameters","adapterSize"],ye)}else if(fe==="PREFERENCE_TUNING"){const ye=getValueByPath(ee,["adapterSize"]);te!==void 0&&ye!=null&&setValueByPath(te,["preferenceOptimizationSpec","hyperParameters","adapterSize"],ye)}if(getValueByPath(ee,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(getValueByPath(ee,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const pe=getValueByPath(ee,["labels"]);te!==void 0&&pe!=null&&setValueByPath(te,["labels"],pe);const ge=getValueByPath(ee,["beta"]);return te!==void 0&&ge!=null&&setValueByPath(te,["preferenceOptimizationSpec","hyperParameters","beta"],ge),ae}function createTuningJobParametersPrivateToMldev(ee,te){const ne={},ae=getValueByPath(ee,["baseModel"]);ae!=null&&setValueByPath(ne,["baseModel"],ae);const ie=getValueByPath(ee,["preTunedModel"]);ie!=null&&setValueByPath(ne,["preTunedModel"],ie);const se=getValueByPath(ee,["trainingDataset"]);se!=null&&tuningDatasetToMldev(se);const oe=getValueByPath(ee,["config"]);return oe!=null&&createTuningJobConfigToMldev(oe,ne),ne}function createTuningJobParametersPrivateToVertex(ee,te){const ne={},ae=getValueByPath(ee,["baseModel"]);ae!=null&&setValueByPath(ne,["baseModel"],ae);const ie=getValueByPath(ee,["preTunedModel"]);ie!=null&&setValueByPath(ne,["preTunedModel"],ie);const se=getValueByPath(ee,["trainingDataset"]);se!=null&&tuningDatasetToVertex(se,ne,te);const oe=getValueByPath(ee,["config"]);return oe!=null&&createTuningJobConfigToVertex(oe,ne,te),ne}function getTuningJobParametersToMldev(ee,te){const ne={},ae=getValueByPath(ee,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],ae),ne}function getTuningJobParametersToVertex(ee,te){const ne={},ae=getValueByPath(ee,["name"]);return ae!=null&&setValueByPath(ne,["_url","name"],ae),ne}function listTuningJobsConfigToMldev(ee,te,ne){const ae={},ie=getValueByPath(ee,["pageSize"]);te!==void 0&&ie!=null&&setValueByPath(te,["_query","pageSize"],ie);const se=getValueByPath(ee,["pageToken"]);te!==void 0&&se!=null&&setValueByPath(te,["_query","pageToken"],se);const oe=getValueByPath(ee,["filter"]);return te!==void 0&&oe!=null&&setValueByPath(te,["_query","filter"],oe),ae}function listTuningJobsConfigToVertex(ee,te,ne){const ae={},ie=getValueByPath(ee,["pageSize"]);te!==void 0&&ie!=null&&setValueByPath(te,["_query","pageSize"],ie);const se=getValueByPath(ee,["pageToken"]);te!==void 0&&se!=null&&setValueByPath(te,["_query","pageToken"],se);const oe=getValueByPath(ee,["filter"]);return te!==void 0&&oe!=null&&setValueByPath(te,["_query","filter"],oe),ae}function listTuningJobsParametersToMldev(ee,te){const ne={},ae=getValueByPath(ee,["config"]);return ae!=null&&listTuningJobsConfigToMldev(ae,ne),ne}function listTuningJobsParametersToVertex(ee,te){const ne={},ae=getValueByPath(ee,["config"]);return ae!=null&&listTuningJobsConfigToVertex(ae,ne),ne}function listTuningJobsResponseFromMldev(ee,te){const ne={},ae=getValueByPath(ee,["sdkHttpResponse"]);ae!=null&&setValueByPath(ne,["sdkHttpResponse"],ae);const ie=getValueByPath(ee,["nextPageToken"]);ie!=null&&setValueByPath(ne,["nextPageToken"],ie);const se=getValueByPath(ee,["tunedModels"]);if(se!=null){let oe=se;Array.isArray(oe)&&(oe=oe.map(le=>tuningJobFromMldev(le))),setValueByPath(ne,["tuningJobs"],oe)}return ne}function listTuningJobsResponseFromVertex(ee,te){const ne={},ae=getValueByPath(ee,["sdkHttpResponse"]);ae!=null&&setValueByPath(ne,["sdkHttpResponse"],ae);const ie=getValueByPath(ee,["nextPageToken"]);ie!=null&&setValueByPath(ne,["nextPageToken"],ie);const se=getValueByPath(ee,["tuningJobs"]);if(se!=null){let oe=se;Array.isArray(oe)&&(oe=oe.map(le=>tuningJobFromVertex(le))),setValueByPath(ne,["tuningJobs"],oe)}return ne}function tunedModelFromMldev(ee,te){const ne={},ae=getValueByPath(ee,["name"]);ae!=null&&setValueByPath(ne,["model"],ae);const ie=getValueByPath(ee,["name"]);return ie!=null&&setValueByPath(ne,["endpoint"],ie),ne}function tuningDatasetToMldev(ee,te){const ne={};if(getValueByPath(ee,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(getValueByPath(ee,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const ae=getValueByPath(ee,["examples"]);if(ae!=null){let ie=ae;Array.isArray(ie)&&(ie=ie.map(se=>se)),setValueByPath(ne,["examples","examples"],ie)}return ne}function tuningDatasetToVertex(ee,te,ne){const ae={};let ie=getValueByPath(ne,["config","method"]);if(ie===void 0&&(ie="SUPERVISED_FINE_TUNING"),ie==="SUPERVISED_FINE_TUNING"){const oe=getValueByPath(ee,["gcsUri"]);te!==void 0&&oe!=null&&setValueByPath(te,["supervisedTuningSpec","trainingDatasetUri"],oe)}else if(ie==="PREFERENCE_TUNING"){const oe=getValueByPath(ee,["gcsUri"]);te!==void 0&&oe!=null&&setValueByPath(te,["preferenceOptimizationSpec","trainingDatasetUri"],oe)}let se=getValueByPath(ne,["config","method"]);if(se===void 0&&(se="SUPERVISED_FINE_TUNING"),se==="SUPERVISED_FINE_TUNING"){const oe=getValueByPath(ee,["vertexDatasetResource"]);te!==void 0&&oe!=null&&setValueByPath(te,["supervisedTuningSpec","trainingDatasetUri"],oe)}else if(se==="PREFERENCE_TUNING"){const oe=getValueByPath(ee,["vertexDatasetResource"]);te!==void 0&&oe!=null&&setValueByPath(te,["preferenceOptimizationSpec","trainingDatasetUri"],oe)}if(getValueByPath(ee,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return ae}function tuningJobFromMldev(ee,te){const ne={},ae=getValueByPath(ee,["sdkHttpResponse"]);ae!=null&&setValueByPath(ne,["sdkHttpResponse"],ae);const ie=getValueByPath(ee,["name"]);ie!=null&&setValueByPath(ne,["name"],ie);const se=getValueByPath(ee,["state"]);se!=null&&setValueByPath(ne,["state"],tTuningJobStatus(se));const oe=getValueByPath(ee,["createTime"]);oe!=null&&setValueByPath(ne,["createTime"],oe);const le=getValueByPath(ee,["tuningTask","startTime"]);le!=null&&setValueByPath(ne,["startTime"],le);const ce=getValueByPath(ee,["tuningTask","completeTime"]);ce!=null&&setValueByPath(ne,["endTime"],ce);const he=getValueByPath(ee,["updateTime"]);he!=null&&setValueByPath(ne,["updateTime"],he);const fe=getValueByPath(ee,["description"]);fe!=null&&setValueByPath(ne,["description"],fe);const pe=getValueByPath(ee,["baseModel"]);pe!=null&&setValueByPath(ne,["baseModel"],pe);const ge=getValueByPath(ee,["_self"]);return ge!=null&&setValueByPath(ne,["tunedModel"],tunedModelFromMldev(ge)),ne}function tuningJobFromVertex(ee,te){const ne={},ae=getValueByPath(ee,["sdkHttpResponse"]);ae!=null&&setValueByPath(ne,["sdkHttpResponse"],ae);const ie=getValueByPath(ee,["name"]);ie!=null&&setValueByPath(ne,["name"],ie);const se=getValueByPath(ee,["state"]);se!=null&&setValueByPath(ne,["state"],tTuningJobStatus(se));const oe=getValueByPath(ee,["createTime"]);oe!=null&&setValueByPath(ne,["createTime"],oe);const le=getValueByPath(ee,["startTime"]);le!=null&&setValueByPath(ne,["startTime"],le);const ce=getValueByPath(ee,["endTime"]);ce!=null&&setValueByPath(ne,["endTime"],ce);const he=getValueByPath(ee,["updateTime"]);he!=null&&setValueByPath(ne,["updateTime"],he);const fe=getValueByPath(ee,["error"]);fe!=null&&setValueByPath(ne,["error"],fe);const pe=getValueByPath(ee,["description"]);pe!=null&&setValueByPath(ne,["description"],pe);const ge=getValueByPath(ee,["baseModel"]);ge!=null&&setValueByPath(ne,["baseModel"],ge);const ye=getValueByPath(ee,["tunedModel"]);ye!=null&&setValueByPath(ne,["tunedModel"],ye);const xe=getValueByPath(ee,["preTunedModel"]);xe!=null&&setValueByPath(ne,["preTunedModel"],xe);const be=getValueByPath(ee,["supervisedTuningSpec"]);be!=null&&setValueByPath(ne,["supervisedTuningSpec"],be);const Se=getValueByPath(ee,["preferenceOptimizationSpec"]);Se!=null&&setValueByPath(ne,["preferenceOptimizationSpec"],Se);const ve=getValueByPath(ee,["tuningDataStats"]);ve!=null&&setValueByPath(ne,["tuningDataStats"],ve);const Te=getValueByPath(ee,["encryptionSpec"]);Te!=null&&setValueByPath(ne,["encryptionSpec"],Te);const Ce=getValueByPath(ee,["partnerModelTuningSpec"]);Ce!=null&&setValueByPath(ne,["partnerModelTuningSpec"],Ce);const Pe=getValueByPath(ee,["customBaseModel"]);Pe!=null&&setValueByPath(ne,["customBaseModel"],Pe);const Be=getValueByPath(ee,["experiment"]);Be!=null&&setValueByPath(ne,["experiment"],Be);const Ae=getValueByPath(ee,["labels"]);Ae!=null&&setValueByPath(ne,["labels"],Ae);const Me=getValueByPath(ee,["outputUri"]);Me!=null&&setValueByPath(ne,["outputUri"],Me);const Ge=getValueByPath(ee,["pipelineJob"]);Ge!=null&&setValueByPath(ne,["pipelineJob"],Ge);const Ue=getValueByPath(ee,["serviceAccount"]);Ue!=null&&setValueByPath(ne,["serviceAccount"],Ue);const Ve=getValueByPath(ee,["tunedModelDisplayName"]);Ve!=null&&setValueByPath(ne,["tunedModelDisplayName"],Ve);const je=getValueByPath(ee,["veoTuningSpec"]);return je!=null&&setValueByPath(ne,["veoTuningSpec"],je),ne}function tuningOperationFromMldev(ee,te){const ne={},ae=getValueByPath(ee,["sdkHttpResponse"]);ae!=null&&setValueByPath(ne,["sdkHttpResponse"],ae);const ie=getValueByPath(ee,["name"]);ie!=null&&setValueByPath(ne,["name"],ie);const se=getValueByPath(ee,["metadata"]);se!=null&&setValueByPath(ne,["metadata"],se);const oe=getValueByPath(ee,["done"]);oe!=null&&setValueByPath(ne,["done"],oe);const le=getValueByPath(ee,["error"]);return le!=null&&setValueByPath(ne,["error"],le),ne}function tuningValidationDatasetToVertex(ee,te){const ne={},ae=getValueByPath(ee,["gcsUri"]);ae!=null&&setValueByPath(ne,["validationDatasetUri"],ae);const ie=getValueByPath(ee,["vertexDatasetResource"]);return ie!=null&&setValueByPath(ne,["validationDatasetUri"],ie),ne}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tunings extends BaseModule{constructor(te){super(),this.apiClient=te,this.list=async(ne={})=>new Pager(PagedItem.PAGED_ITEM_TUNING_JOBS,ae=>this.listInternal(ae),await this.listInternal(ne),ne),this.get=async ne=>await this.getInternal(ne),this.tune=async ne=>{var ae;if(this.apiClient.isVertexAI())if(ne.baseModel.startsWith("projects/")){const ie={tunedModelName:ne.baseModel};!((ae=ne.config)===null||ae===void 0)&&ae.preTunedModelCheckpointId&&(ie.checkpointId=ne.config.preTunedModelCheckpointId);const se=Object.assign(Object.assign({},ne),{preTunedModel:ie});return se.baseModel=void 0,await this.tuneInternal(se)}else{const ie=Object.assign({},ne);return await this.tuneInternal(ie)}else{const ie=Object.assign({},ne),se=await this.tuneMldevInternal(ie);let oe="";return se.metadata!==void 0&&se.metadata.tunedModel!==void 0?oe=se.metadata.tunedModel:se.name!==void 0&&se.name.includes("/operations/")&&(oe=se.name.split("/operations/")[0]),{name:oe,state:JobState.JOB_STATE_QUEUED}}}}async getInternal(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=getTuningJobParametersToVertex(te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>tuningJobFromVertex(fe))}else{const he=getTuningJobParametersToMldev(te);return le=formatMap("{name}",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>tuningJobFromMldev(fe))}}async listInternal(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=listTuningJobsParametersToVertex(te);return le=formatMap("tuningJobs",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=listTuningJobsResponseFromVertex(fe),ge=new ListTuningJobsResponse;return Object.assign(ge,pe),ge})}else{const he=listTuningJobsParametersToMldev(te);return le=formatMap("tunedModels",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"GET",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=listTuningJobsResponseFromMldev(fe),ge=new ListTuningJobsResponse;return Object.assign(ge,pe),ge})}}async cancel(te){var ne,ae,ie,se;let oe,le="",ce={};if(this.apiClient.isVertexAI()){const he=cancelTuningJobParametersToVertex(te);return le=formatMap("{name}:cancel",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=cancelTuningJobResponseFromVertex(fe),ge=new CancelTuningJobResponse;return Object.assign(ge,pe),ge})}else{const he=cancelTuningJobParametersToMldev(te);return le=formatMap("{name}:cancel",he._url),ce=he._query,delete he._url,delete he._query,oe=this.apiClient.request({path:le,queryParams:ce,body:JSON.stringify(he),httpMethod:"POST",httpOptions:(ie=te.config)===null||ie===void 0?void 0:ie.httpOptions,abortSignal:(se=te.config)===null||se===void 0?void 0:se.abortSignal}).then(fe=>fe.json().then(pe=>{const ge=pe;return ge.sdkHttpResponse={headers:fe.headers},ge})),oe.then(fe=>{const pe=cancelTuningJobResponseFromMldev(fe),ge=new CancelTuningJobResponse;return Object.assign(ge,pe),ge})}}async tuneInternal(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI()){const le=createTuningJobParametersPrivateToVertex(te,te);return se=formatMap("tuningJobs",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json().then(he=>{const fe=he;return fe.sdkHttpResponse={headers:ce.headers},fe})),ie.then(ce=>tuningJobFromVertex(ce))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(te){var ne,ae;let ie,se="",oe={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const le=createTuningJobParametersPrivateToMldev(te);return se=formatMap("tunedModels",le._url),oe=le._query,delete le._url,delete le._query,ie=this.apiClient.request({path:se,queryParams:oe,body:JSON.stringify(le),httpMethod:"POST",httpOptions:(ne=te.config)===null||ne===void 0?void 0:ne.httpOptions,abortSignal:(ae=te.config)===null||ae===void 0?void 0:ae.abortSignal}).then(ce=>ce.json().then(he=>{const fe=he;return fe.sdkHttpResponse={headers:ce.headers},fe})),ie.then(ce=>tuningOperationFromMldev(ce))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BrowserDownloader{async download(te,ne){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MAX_CHUNK_SIZE=1024*1024*8,MAX_RETRY_COUNT=3,INITIAL_RETRY_DELAY_MS=1e3,DELAY_MULTIPLIER=2,X_GOOG_UPLOAD_STATUS_HEADER_FIELD="x-goog-upload-status";async function uploadBlob(ee,te,ne){var ae;const ie=await uploadBlobInternal(ee,te,ne),se=await(ie==null?void 0:ie.json());if(((ae=ie==null?void 0:ie.headers)===null||ae===void 0?void 0:ae[X_GOOG_UPLOAD_STATUS_HEADER_FIELD])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return se.file}async function uploadBlobToFileSearchStore(ee,te,ne){var ae;const ie=await uploadBlobInternal(ee,te,ne),se=await(ie==null?void 0:ie.json());if(((ae=ie==null?void 0:ie.headers)===null||ae===void 0?void 0:ae[X_GOOG_UPLOAD_STATUS_HEADER_FIELD])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const oe=uploadToFileSearchStoreOperationFromMldev(se),le=new UploadToFileSearchStoreOperation;return Object.assign(le,oe),le}async function uploadBlobInternal(ee,te,ne){var ae,ie;let se=0,oe=0,le=new HttpResponse(new Response),ce="upload";for(se=ee.size;oe<se;){const he=Math.min(MAX_CHUNK_SIZE,se-oe),fe=ee.slice(oe,oe+he);oe+he>=se&&(ce+=", finalize");let pe=0,ge=INITIAL_RETRY_DELAY_MS;for(;pe<MAX_RETRY_COUNT&&(le=await ne.request({path:"",body:fe,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:te,headers:{"X-Goog-Upload-Command":ce,"X-Goog-Upload-Offset":String(oe),"Content-Length":String(he)}}}),!(!((ae=le==null?void 0:le.headers)===null||ae===void 0)&&ae[X_GOOG_UPLOAD_STATUS_HEADER_FIELD]));)pe++,await sleep$1(ge),ge=ge*DELAY_MULTIPLIER;if(oe+=he,((ie=le==null?void 0:le.headers)===null||ie===void 0?void 0:ie[X_GOOG_UPLOAD_STATUS_HEADER_FIELD])!=="active")break;if(se<=oe)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return le}async function getBlobStat(ee){return{size:ee.size,type:ee.type}}function sleep$1(ee){return new Promise(te=>setTimeout(te,ee))}class BrowserUploader{async upload(te,ne,ae){if(typeof te=="string")throw new Error("File path is not supported in browser uploader.");return await uploadBlob(te,ne,ae)}async uploadToFileSearchStore(te,ne,ae){if(typeof te=="string")throw new Error("File path is not supported in browser uploader.");return await uploadBlobToFileSearchStore(te,ne,ae)}async stat(te){if(typeof te=="string")throw new Error("File path is not supported in browser uploader.");return await getBlobStat(te)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BrowserWebSocketFactory{create(te,ne,ae){return new BrowserWebSocket(te,ne,ae)}}class BrowserWebSocket{constructor(te,ne,ae){this.url=te,this.headers=ne,this.callbacks=ae}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(te){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(te)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GOOGLE_API_KEY_HEADER="x-goog-api-key";class WebAuth{constructor(te){this.apiKey=te}async addAuthHeaders(te,ne){if(te.get(GOOGLE_API_KEY_HEADER)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");te.append(GOOGLE_API_KEY_HEADER,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LANGUAGE_LABEL_PREFIX="gl-node/";class GoogleGenAI{constructor(te){var ne;if(te.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(te.project||te.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(ne=te.vertexai)!==null&&ne!==void 0?ne:!1,this.apiKey=te.apiKey;const ae=getBaseUrl(te.httpOptions,te.vertexai,void 0,void 0);ae&&(te.httpOptions?te.httpOptions.baseUrl=ae:te.httpOptions={baseUrl:ae}),this.apiVersion=te.apiVersion,this.httpOptions=te.httpOptions;const ie=new WebAuth(this.apiKey);this.apiClient=new ApiClient({auth:ie,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:LANGUAGE_LABEL_PREFIX+"web",uploader:new BrowserUploader,downloader:new BrowserDownloader}),this.models=new Models(this.apiClient),this.live=new Live(this.apiClient,ie,new BrowserWebSocketFactory),this.batches=new Batches(this.apiClient),this.chats=new Chats(this.models,this.apiClient),this.caches=new Caches(this.apiClient),this.files=new Files(this.apiClient),this.operations=new Operations(this.apiClient),this.authTokens=new Tokens(this.apiClient),this.tunings=new Tunings(this.apiClient),this.fileSearchStores=new FileSearchStores(this.apiClient)}}var MessageRole=(ee=>(ee.USER="user",ee.MODEL="model",ee.SYSTEM="system",ee))(MessageRole||{});const DB_NAME="MultiAgentMemory",DB_VERSION=1,STORE_NAME="knowledge_items";class MemoryService{constructor(){this.db=null,this.initDB()}initDB(){return new Promise((te,ne)=>{const ae=indexedDB.open(DB_NAME,DB_VERSION);ae.onerror=ie=>{console.error("IndexedDB error:",ie),ne("Failed to open memory DB")},ae.onsuccess=ie=>{this.db=ie.target.result,te()},ae.onupgradeneeded=ie=>{const se=ie.target.result;se.objectStoreNames.contains(STORE_NAME)||se.createObjectStore(STORE_NAME,{keyPath:"id"}).createIndex("tags","tags",{unique:!1,multiEntry:!0})}})}async ensureDB(){this.db||await this.initDB()}async save(te,ne=[],ae){return await this.ensureDB(),new Promise((ie,se)=>{const le=this.db.transaction([STORE_NAME],"readwrite").objectStore(STORE_NAME),ce={id:`mem-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,content:te,tags:ne,vector:ae,timestamp:Date.now()},he=le.add(ce);he.onsuccess=()=>ie(ce.id),he.onerror=()=>se(he.error)})}dotProduct(te,ne){return te.reduce((ae,ie,se)=>ae+ie*ne[se],0)}cosineSimilarity(te,ne){const ae=this.dotProduct(te,ne),ie=Math.sqrt(this.dotProduct(te,te)),se=Math.sqrt(this.dotProduct(ne,ne));return ie===0||se===0?0:ae/(ie*se)}async search(te,ne,ae=5){return await this.ensureDB(),new Promise((ie,se)=>{const ce=this.db.transaction([STORE_NAME],"readonly").objectStore(STORE_NAME).getAll();ce.onsuccess=()=>{const he=ce.result;if(te&&he.some(fe=>fe.vector)){const fe=he.filter(pe=>pe.vector&&pe.vector.length===te.length).map(pe=>({item:pe,score:this.cosineSimilarity(te,pe.vector)})).sort((pe,ge)=>ge.score-pe.score).slice(0,ae);ie(fe.map(pe=>pe.item))}else{const fe=ne.toLowerCase(),pe=he.filter(ge=>ge.content.toLowerCase().includes(fe)||ge.tags.some(ye=>ye.toLowerCase().includes(fe))).slice(0,ae);ie(pe)}},ce.onerror=()=>se(ce.error)})}async getAll(){return await this.ensureDB(),new Promise((te,ne)=>{const se=this.db.transaction([STORE_NAME],"readonly").objectStore(STORE_NAME).getAll();se.onsuccess=()=>te(se.result),se.onerror=()=>ne(se.error)})}async update(te){return await this.ensureDB(),new Promise((ne,ae)=>{const oe=this.db.transaction([STORE_NAME],"readwrite").objectStore(STORE_NAME).put(te);oe.onsuccess=()=>ne(),oe.onerror=()=>ae(oe.error)})}async delete(te){return await this.ensureDB(),new Promise((ne,ae)=>{const oe=this.db.transaction([STORE_NAME],"readwrite").objectStore(STORE_NAME).delete(te);oe.onsuccess=()=>ne(),oe.onerror=()=>ae(oe.error)})}}class TaskManager{constructor(){this.tasks=new Map,this.taskListeners=[]}registerTask(te,ne,ae=0,ie,se){const oe=`task-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,le={id:oe,parentId:ne,toolCallId:ie,name:te,status:"pending",depth:ae,events:[],subTasks:[],timestamp:Date.now(),inputArgs:se};if(this.tasks.set(oe,le),ne&&this.tasks.has(ne)){const ce=this.tasks.get(ne);ce.subTasks.push(oe),this.tasks.set(ne,ce)}return this.emitTaskUpdate(),console.log(`Task registered: ${oe}`),oe}updateTask(te,ne){if(this.tasks.has(te)){const ae=this.tasks.get(te);Object.assign(ae,ne),this.tasks.set(te,ae),this.emitTaskUpdate(),console.log(`Task updated: ${te}`)}}reportTaskLog(te,ne){this.reportTaskEvent(te,{type:"log",content:ne})}reportTaskEvent(te,ne){if(this.tasks.has(te)){const ae=this.tasks.get(te);ae.events.push({...ne,timestamp:Date.now()}),this.tasks.set(te,ae),this.emitTaskUpdate(),console.log(`Task event reported: ${te}`)}}getTask(te){return this.tasks.get(te)}getAllTasks(){return Array.from(this.tasks.values())}storeTasks(){return this.tasks}loadTasks(te){this.tasks=te}clear(){this.tasks.clear(),this.emitTaskUpdate()}addTaskListener(te){this.taskListeners.push(te),te(this.tasks)}removeTaskListener(te){this.taskListeners=this.taskListeners.filter(ne=>ne!==te)}emitTaskUpdate(){this.taskListeners.length!==0&&(this._updateTimeout||(this._updateTimeout=setTimeout(()=>{const te=new Map(this.tasks);this.taskListeners.forEach(ne=>ne(te)),this._updateTimeout=null},150)))}}class WebService{constructor(te){this.ai=te}async performGoogleSearch(te,ne){var ae,ie,se;try{const oe="gemini-2.5-flash-lite";let le=`Search Google for: "${te}". Provide a concise summary of the top results.`;ne&&(le+=`

[CONSTRAINT] You MUST output the summary strictly in valid JSON format matching this schema:
${ne}`);const ce=await this.ai.models.generateContent({model:oe,contents:{parts:[{text:le}]},config:{tools:[{googleSearch:{}}]}}),he=ce.text||"No summary provided.",fe=(se=(ie=(ae=ce.candidates)==null?void 0:ae[0])==null?void 0:ie.groundingMetadata)==null?void 0:se.groundingChunks;let pe="";if(fe&&Array.isArray(fe)){const ge=fe.filter(ye=>{var xe;return(xe=ye.web)==null?void 0:xe.uri}).map(ye=>`- [${ye.web.title||ye.web.uri}](${ye.web.uri})`).join(`
`);ge&&(pe=`

**Sources:**
${ge}`)}return`[GOOGLE SEARCH RESULT]
Query: ${te}

${he}${pe}`}catch(oe){return`Error: Google Search Failed: ${oe.message}`}}async performBatchGoogleSearch(te,ne){try{const ae=te.map(async se=>{const oe=typeof se=="string"?se:se.query,le=typeof se=="string"?"":se.tag;return{result:await this.performGoogleSearch(oe,ne),tag:le}});return await Promise.all(ae)}catch(ae){return[{result:`Error: Batch Google Search Failed: ${ae.message}`,tag:"error"}]}}async fetchUrlContent(te){try{let ne=null;try{ne=await fetch(te)}catch{ne=null}if(!ne||!ne.ok){console.warn(`Direct fetch failed for ${te}, attempting proxy fallback...`);try{const se=`https://api.allorigins.win/raw?url=${encodeURIComponent(te)}`;ne=await fetch(se)}catch(se){return`Error: Failed to fetch URL ${te} (even with proxy): ${se.message}`}}if(!ne.ok)return`Error: Failed to fetch URL ${te}: ${ne.status} ${ne.statusText}`;const ae=ne.headers.get("content-type"),ie=await ne.text();if(ae&&ae.includes("text/html")){const oe=new DOMParser().parseFromString(ie,"text/html");oe.querySelectorAll("script, style, svg, noscript").forEach(ce=>ce.remove());const le=(oe.body.innerText||oe.body.textContent||"").replace(/\s+/g," ").substring(0,2e4);return`[FETCHED CONTENT FROM ${te}]
${le}... (truncated)`}return`[FETCHED CONTENT FROM ${te}]
${ie.substring(0,2e4)}`}catch(ne){return`Error fetching URL: ${ne.message}`}}async callWebApi(te,ne,ae,ie){try{const se={method:te.toUpperCase(),headers:ae||{}};ie&&["POST","PUT","PATCH"].includes(se.method)&&(se.body=typeof ie=="string"?ie:JSON.stringify(ie),!se.headers["Content-Type"]&&typeof ie!="string"&&(se.headers["Content-Type"]="application/json"));const oe=await fetch(ne,se),le=await oe.text();return`[API RESPONSE: ${oe.status} ${oe.statusText}]
${le.substring(0,1e4)}`}catch(se){return`Error calling Web API: ${se.message}`}}}function extractSources(ee){var ae,ie,se;const te=[],ne=(se=(ie=(ae=ee.candidates)==null?void 0:ae[0])==null?void 0:ie.groundingMetadata)==null?void 0:se.groundingChunks;return ne&&Array.isArray(ne)&&ne.forEach(oe=>{var le;(le=oe.web)!=null&&le.uri&&(te.find(ce=>ce.uri===oe.web.uri)||te.push({title:oe.web.title||new URL(oe.web.uri).hostname,uri:oe.web.uri}))}),te}var treeSitter={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredTreeSitter;function requireTreeSitter(){return hasRequiredTreeSitter||(hasRequiredTreeSitter=1,(function(module,exports$1){var Module=Module!==void 0?Module:{},TreeSitter=(function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise((resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(ee,te)=>{throw te},ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary;function locateFile(ee){return Module.locateFile?Module.locateFile(ee,scriptDirectory):scriptDirectory+ee}if(ENVIRONMENT_IS_NODE){var fs=require$$0,nodePath=require$$0;scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=(ee,te)=>(ee=isFileURI(ee)?new URL(ee):nodePath.normalize(ee),fs.readFileSync(ee,te?void 0:"utf8")),readBinary=ee=>{var te=read_(ee,!0);return te.buffer||(te=new Uint8Array(te)),te},readAsync=(ee,te,ne,ae=!0)=>{ee=isFileURI(ee)?new URL(ee):nodePath.normalize(ee),fs.readFile(ee,ae?void 0:"utf8",((ie,se)=>{ie?ne(ie):te(ae?se.buffer:se)}))},!Module.thisProgram&&process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),module.exports=Module,quit_=(ee,te)=>{throw process.exitCode=ee,te}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.startsWith("blob:")?"":scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1),read_=ee=>{var te=new XMLHttpRequest;return te.open("GET",ee,!1),te.send(null),te.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=ee=>{var te=new XMLHttpRequest;return te.open("GET",ee,!1),te.responseType="arraybuffer",te.send(null),new Uint8Array(te.response)}),readAsync=(ee,te,ne)=>{var ae=new XMLHttpRequest;ae.open("GET",ee,!0),ae.responseType="arraybuffer",ae.onload=()=>{ae.status==200||ae.status==0&&ae.response?te(ae.response):ne()},ae.onerror=ne,ae.send(null)});var out=Module.print||console.log.bind(console),err=Module.printErr||console.error.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var dynamicLibraries=Module.dynamicLibraries||[],wasmBinary,wasmMemory;Module.wasmBinary&&(wasmBinary=Module.wasmBinary),typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,HEAP8,HEAPU8,HEAP16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var ee=wasmMemory.buffer;Module.HEAP8=HEAP8=new Int8Array(ee),Module.HEAP16=HEAP16=new Int16Array(ee),Module.HEAPU8=HEAPU8=new Uint8Array(ee),Module.HEAPU16=new Uint16Array(ee),Module.HEAP32=HEAP32=new Int32Array(ee),Module.HEAPU32=HEAPU32=new Uint32Array(ee),Module.HEAPF32=HEAPF32=new Float32Array(ee),Module.HEAPF64=HEAPF64=new Float64Array(ee)}var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),updateMemoryViews(),INITIAL_MEMORY=wasmMemory.buffer.byteLength;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(ee){__ATPRERUN__.unshift(ee)}function addOnInit(ee){__ATINIT__.unshift(ee)}function addOnPostRun(ee){__ATPOSTRUN__.unshift(ee)}var runDependencies=0,dependenciesFulfilled=null;function getUniqueRunDependency(ee){return ee}function addRunDependency(ee){var te;runDependencies++,(te=Module.monitorRunDependencies)==null||te.call(Module,runDependencies)}function removeRunDependency(ee){var ne;if(runDependencies--,(ne=Module.monitorRunDependencies)==null||ne.call(Module,runDependencies),runDependencies==0&&dependenciesFulfilled){var te=dependenciesFulfilled;dependenciesFulfilled=null,te()}}function abort(ee){var te;throw(te=Module.onAbort)==null||te.call(Module,ee),err(ee="Aborted("+ee+")"),ABORT=!0,EXITSTATUS=1,ee+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(ee)}var dataURIPrefix="data:application/octet-stream;base64,",isDataURI=ee=>ee.startsWith(dataURIPrefix),isFileURI=ee=>ee.startsWith("file://"),wasmBinaryFile;function getBinarySync(ee){if(ee==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(ee);throw"both async and sync fetching of the wasm failed"}function getBinaryPromise(ee){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(ee))return fetch(ee,{credentials:"same-origin"}).then((te=>{if(!te.ok)throw`failed to load wasm binary file at '${ee}'`;return te.arrayBuffer()})).catch((()=>getBinarySync(ee)));if(readAsync)return new Promise(((te,ne)=>{readAsync(ee,(ae=>te(new Uint8Array(ae))),ne)}))}return Promise.resolve().then((()=>getBinarySync(ee)))}function instantiateArrayBuffer(ee,te,ne){return getBinaryPromise(ee).then((ae=>WebAssembly.instantiate(ae,te))).then(ne,(ae=>{err(`failed to asynchronously prepare wasm: ${ae}`),abort(ae)}))}function instantiateAsync(ee,te,ne,ae){return ee||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(te)||isFileURI(te)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?instantiateArrayBuffer(te,ne,ae):fetch(te,{credentials:"same-origin"}).then((ie=>WebAssembly.instantiateStreaming(ie,ne).then(ae,(function(se){return err(`wasm streaming compile failed: ${se}`),err("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(te,ne,ae)}))))}function createWasm(){var ee={env:wasmImports,wasi_snapshot_preview1:wasmImports,"GOT.mem":new Proxy(wasmImports,GOTHandler),"GOT.func":new Proxy(wasmImports,GOTHandler)};function te(ne,ae){wasmExports=ne.exports,wasmExports=relocateExports(wasmExports,1024);var ie=getDylinkMetadata(ae);return ie.neededDynlibs&&(dynamicLibraries=ie.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(wasmExports),LDSO.init(),loadDylibs(),addOnInit(wasmExports.__wasm_call_ctors),__RELOC_FUNCS__.push(wasmExports.__wasm_apply_data_relocs),removeRunDependency(),wasmExports}if(addRunDependency(),Module.instantiateWasm)try{return Module.instantiateWasm(ee,te)}catch(ne){return err(`Module.instantiateWasm callback failed with error: ${ne}`),!1}return instantiateAsync(wasmBinary,wasmBinaryFile,ee,(function(ne){te(ne.instance,ne.module)})),{}}wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));function ExitStatus(ee){this.name="ExitStatus",this.message=`Program terminated with exit(${ee})`,this.status=ee}var GOT={},currentModuleWeakSymbols=new Set([]),GOTHandler={get(ee,te){var ne=GOT[te];return ne||(ne=GOT[te]=new WebAssembly.Global({value:"i32",mutable:!0})),currentModuleWeakSymbols.has(te)||(ne.required=!0),ne}},callRuntimeCallbacks=ee=>{for(;ee.length>0;)ee.shift()(Module)},UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,UTF8ArrayToString=(ee,te,ne)=>{for(var ae=te+ne,ie=te;ee[ie]&&!(ie>=ae);)++ie;if(ie-te>16&&ee.buffer&&UTF8Decoder)return UTF8Decoder.decode(ee.subarray(te,ie));for(var se="";te<ie;){var oe=ee[te++];if(128&oe){var le=63&ee[te++];if((224&oe)!=192){var ce=63&ee[te++];if((oe=(240&oe)==224?(15&oe)<<12|le<<6|ce:(7&oe)<<18|le<<12|ce<<6|63&ee[te++])<65536)se+=String.fromCharCode(oe);else{var he=oe-65536;se+=String.fromCharCode(55296|he>>10,56320|1023&he)}}else se+=String.fromCharCode((31&oe)<<6|le)}else se+=String.fromCharCode(oe)}return se},getDylinkMetadata=ee=>{var te=0,ne=0;function ae(){for(var ve=0,Te=1;;){var Ce=ee[te++];if(ve+=(127&Ce)*Te,Te*=128,!(128&Ce))break}return ve}function ie(){var ve=ae();return UTF8ArrayToString(ee,(te+=ve)-ve,ve)}function se(ve,Te){if(ve)throw new Error(Te)}var oe="dylink.0";if(ee instanceof WebAssembly.Module){var le=WebAssembly.Module.customSections(ee,oe);le.length===0&&(oe="dylink",le=WebAssembly.Module.customSections(ee,oe)),se(le.length===0,"need dylink section"),ne=(ee=new Uint8Array(le[0])).length}else{se(new Uint32Array(new Uint8Array(ee.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),se(ee[8]!==0,"need the dylink section to be first"),te=9;var ce=ae();ne=te+ce,oe=ie()}var he={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(oe=="dylink"){he.memorySize=ae(),he.memoryAlign=ae(),he.tableSize=ae(),he.tableAlign=ae();for(var fe=ae(),pe=0;pe<fe;++pe){var ge=ie();he.neededDynlibs.push(ge)}}else for(se(oe!=="dylink.0");te<ne;){var ye=ee[te++],xe=ae();if(ye===1)he.memorySize=ae(),he.memoryAlign=ae(),he.tableSize=ae(),he.tableAlign=ae();else if(ye===2)for(fe=ae(),pe=0;pe<fe;++pe)ge=ie(),he.neededDynlibs.push(ge);else if(ye===3)for(var be=ae();be--;){var Se=ie();256&ae()&&he.tlsExports.add(Se)}else if(ye===4)for(be=ae();be--;)ie(),Se=ie(),(3&ae())==1&&he.weakImports.add(Se);else te+=xe}return he};function getValue(ee,te="i8"){switch(te.endsWith("*")&&(te="*"),te){case"i1":case"i8":return HEAP8[ee];case"i16":return HEAP16[ee>>1];case"i32":return HEAP32[ee>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ee>>2];case"double":return HEAPF64[ee>>3];case"*":return HEAPU32[ee>>2];default:abort(`invalid type for getValue: ${te}`)}}var newDSO=(ee,te,ne)=>{var ae={refcount:1/0,name:ee,exports:ne,global:!0};return LDSO.loadedLibsByName[ee]=ae,te!=null&&(LDSO.loadedLibsByHandle[te]=ae),ae},LDSO={loadedLibsByName:{},loadedLibsByHandle:{},init(){newDSO("__main__",0,wasmImports)}},___heap_base=78096,zeroMemory=(ee,te)=>(HEAPU8.fill(0,ee,ee+te),ee),alignMemory=(ee,te)=>Math.ceil(ee/te)*te,getMemory=ee=>{if(runtimeInitialized)return zeroMemory(_malloc(ee),ee);var te=___heap_base,ne=te+alignMemory(ee,16);return ___heap_base=ne,GOT.__heap_base.value=ne,te},isInternalSym=ee=>["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm","__start_em_js","__stop_em_js"].includes(ee)||ee.startsWith("__em_js__"),uleb128Encode=(ee,te)=>{ee<128?te.push(ee):te.push(ee%128|128,ee>>7)},sigToWasmTypes=ee=>{for(var te={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},ne={parameters:[],results:ee[0]=="v"?[]:[te[ee[0]]]},ae=1;ae<ee.length;++ae)ne.parameters.push(te[ee[ae]]);return ne},generateFuncType=(ee,te)=>{var ne=ee.slice(0,1),ae=ee.slice(1),ie={i:127,p:127,j:126,f:125,d:124,e:111};te.push(96),uleb128Encode(ae.length,te);for(var se=0;se<ae.length;++se)te.push(ie[ae[se]]);ne=="v"?te.push(0):te.push(1,ie[ne])},convertJsFunctionToWasm=(ee,te)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(te),ee);var ne=[1];generateFuncType(te,ne);var ae=[0,97,115,109,1,0,0,0,1];uleb128Encode(ne.length,ae),ae.push(...ne),ae.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var ie=new WebAssembly.Module(new Uint8Array(ae));return new WebAssembly.Instance(ie,{e:{f:ee}}).exports.f},wasmTableMirror=[],wasmTable=new WebAssembly.Table({initial:27,element:"anyfunc"}),getWasmTableEntry=ee=>{var te=wasmTableMirror[ee];return te||(ee>=wasmTableMirror.length&&(wasmTableMirror.length=ee+1),wasmTableMirror[ee]=te=wasmTable.get(ee)),te},updateTableMap=(ee,te)=>{if(functionsInTableMap)for(var ne=ee;ne<ee+te;ne++){var ae=getWasmTableEntry(ne);ae&&functionsInTableMap.set(ae,ne)}},functionsInTableMap,getFunctionAddress=ee=>(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.get(ee)||0),freeTableIndexes=[],getEmptyTableSlot=()=>{if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(ee){throw ee instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":ee}return wasmTable.length-1},setWasmTableEntry=(ee,te)=>{wasmTable.set(ee,te),wasmTableMirror[ee]=wasmTable.get(ee)},addFunction=(ee,te)=>{var ne=getFunctionAddress(ee);if(ne)return ne;var ae=getEmptyTableSlot();try{setWasmTableEntry(ae,ee)}catch(se){if(!(se instanceof TypeError))throw se;var ie=convertJsFunctionToWasm(ee,te);setWasmTableEntry(ae,ie)}return functionsInTableMap.set(ee,ae),ae},updateGOT=(ee,te)=>{for(var ne in ee)if(!isInternalSym(ne)){var ae=ee[ne];ne.startsWith("orig$")&&(ne=ne.split("$")[1],te=!0),GOT[ne]||(GOT[ne]=new WebAssembly.Global({value:"i32",mutable:!0})),(te||GOT[ne].value==0)&&(typeof ae=="function"?GOT[ne].value=addFunction(ae):typeof ae=="number"?GOT[ne].value=ae:err(`unhandled export type for '${ne}': ${typeof ae}`))}},relocateExports=(ee,te,ne)=>{var ae={};for(var ie in ee){var se=ee[ie];typeof se=="object"&&(se=se.value),typeof se=="number"&&(se+=te),ae[ie]=se}return updateGOT(ae,ne),ae},isSymbolDefined=ee=>{var te=wasmImports[ee];return!(!te||te.stub)},dynCallLegacy=(ee,te,ne)=>(0,Module["dynCall_"+ee])(te,...ne),dynCall=(ee,te,ne=[])=>ee.includes("j")?dynCallLegacy(ee,te,ne):getWasmTableEntry(te)(...ne),createInvokeFunction=ee=>function(){var te=stackSave();try{return dynCall(ee,arguments[0],Array.prototype.slice.call(arguments,1))}catch(ne){if(stackRestore(te),ne!==ne+0)throw ne;_setThrew(1,0)}},resolveGlobalSymbol=(ee,te=!1)=>{var ne;return te&&"orig$"+ee in wasmImports&&(ee="orig$"+ee),isSymbolDefined(ee)?ne=wasmImports[ee]:ee.startsWith("invoke_")&&(ne=wasmImports[ee]=createInvokeFunction(ee.split("_")[1])),{sym:ne,name:ee}},UTF8ToString=(ee,te)=>ee?UTF8ArrayToString(HEAPU8,ee,te):"",loadWebAssemblyModule=(binary,flags,libName,localScope,handle)=>{var metadata=getDylinkMetadata(binary);function loadModule(){var memAlign=Math.pow(2,metadata.memoryAlign),memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0,tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(ee){var te=resolveGlobalSymbol(ee).sym;return!te&&localScope&&(te=localScope[ee]),te||(te=moduleExports[ee]),te}tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get(ee,te){switch(te){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(te in wasmImports&&!wasmImports[te].stub)return wasmImports[te];var ne;return te in ee||(ee[te]=(...ae)=>(ne||(ne=resolveSymbol(te)),ne(...ae))),ee[te]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(module,instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func=`(${args}) => { ${body} };`;eval(func)}if(updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}function addEmJs(name,cSig,body){var jsArgs=[];if(cSig=cSig.slice(1,-1),cSig!="void")for(var i in cSig=cSig.split(","),cSig){var jsArg=cSig[i].split(" ").pop();jsArgs.push(jsArg.replace("*",""))}var func=`(${jsArgs}) => ${body};`;moduleExports[name]=eval(func)}for(var name in moduleExports)if(name.startsWith("__em_js__")){var start=moduleExports[name],jsString=UTF8ToString(start),parts=jsString.split("<::>");addEmJs(name.replace("__em_js__",""),parts[0],parts[1]),delete moduleExports[name]}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(binary,instance))}return WebAssembly.instantiate(binary,info).then((ee=>postInstantiation(ee.module,ee.instance)))}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(module,instance)}return currentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(((ee,te)=>ee.then((()=>loadDynamicLibrary(te,flags)))),Promise.resolve()).then(loadModule):(metadata.neededDynlibs.forEach((ee=>loadDynamicLibrary(ee,flags,localScope))),loadModule())},mergeLibSymbols=(ee,te)=>{for(var[ne,ae]of Object.entries(ee)){const ie=oe=>{isSymbolDefined(oe)||(wasmImports[oe]=ae)};ie(ne);const se="__main_argc_argv";ne=="main"&&ie(se),ne==se&&ie("main"),ne.startsWith("dynCall_")&&!Module.hasOwnProperty(ne)&&(Module[ne]=ae)}},asyncLoad=(ee,te,ne,ae)=>{var ie=`al ${ee}`;readAsync(ee,(se=>{te(new Uint8Array(se)),ie&&removeRunDependency()}),(se=>{if(!ne)throw`Loading data file "${ee}" failed.`;ne()})),ie&&addRunDependency()};function loadDynamicLibrary(ee,te={global:!0,nodelete:!0},ne,ae){var ie=LDSO.loadedLibsByName[ee];if(ie)return te.global&&(ie.global||(ie.global=!0,mergeLibSymbols(ie.exports))),te.nodelete&&ie.refcount!==1/0&&(ie.refcount=1/0),ie.refcount++,!te.loadAsync||Promise.resolve(!0);function se(){var ce=locateFile(ee);if(te.loadAsync)return new Promise((function(he,fe){asyncLoad(ce,he,fe)}));if(!readBinary)throw new Error(`${ce}: file not found, and synchronous loading of external files is not available`);return readBinary(ce)}function oe(){return te.loadAsync?se().then((ce=>loadWebAssemblyModule(ce,te,ee,ne))):loadWebAssemblyModule(se(),te,ee,ne)}function le(ce){ie.global&&mergeLibSymbols(ce),ie.exports=ce}return(ie=newDSO(ee,ae,"loading")).refcount=te.nodelete?1/0:1,ie.global=te.global,te.loadAsync?oe().then((ce=>(le(ce),!0))):(le(oe()),!0)}var reportUndefinedSymbols=()=>{for(var[ee,te]of Object.entries(GOT))if(te.value==0){var ne=resolveGlobalSymbol(ee,!0).sym;if(!ne&&!te.required)continue;if(typeof ne=="function")te.value=addFunction(ne,ne.sig);else{if(typeof ne!="number")throw new Error(`bad export type for '${ee}': ${typeof ne}`);te.value=ne}}},loadDylibs=()=>{dynamicLibraries.length?(addRunDependency(),dynamicLibraries.reduce(((ee,te)=>ee.then((()=>loadDynamicLibrary(te,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})))),Promise.resolve()).then((()=>{reportUndefinedSymbols(),removeRunDependency()}))):reportUndefinedSymbols()};Module.noExitRuntime;function setValue(ee,te,ne="i8"){switch(ne.endsWith("*")&&(ne="*"),ne){case"i1":case"i8":HEAP8[ee]=te;break;case"i16":HEAP16[ee>>1]=te;break;case"i32":HEAP32[ee>>2]=te;break;case"i64":abort("to do setValue(i64) use WASM_BIGINT");case"float":HEAPF32[ee>>2]=te;break;case"double":HEAPF64[ee>>3]=te;break;case"*":HEAPU32[ee>>2]=te;break;default:abort(`invalid type for setValue: ${ne}`)}}var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78096),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=1,__emscripten_get_now_is_monotonic=()=>nowIsMonotonic;__emscripten_get_now_is_monotonic.sig="i";var _abort=()=>{abort("")};_abort.sig="v";var _emscripten_get_now;_emscripten_get_now=()=>performance.now(),_emscripten_get_now.sig="d";var _emscripten_memcpy_js=(ee,te,ne)=>HEAPU8.copyWithin(ee,te,te+ne);_emscripten_memcpy_js.sig="vppp";var getHeapMax=()=>2147483648,growMemory=ee=>{var te=(ee-wasmMemory.buffer.byteLength+65535)/65536;try{return wasmMemory.grow(te),updateMemoryViews(),1}catch{}},_emscripten_resize_heap=ee=>{var te=HEAPU8.length;ee>>>=0;var ne=getHeapMax();if(ee>ne)return!1;for(var ae,ie,se=1;se<=4;se*=2){var oe=te*(1+.2/se);oe=Math.min(oe,ee+100663296);var le=Math.min(ne,(ae=Math.max(ee,oe))+((ie=65536)-ae%ie)%ie);if(growMemory(le))return!0}return!1};_emscripten_resize_heap.sig="ip";var _fd_close=ee=>52;_fd_close.sig="ii";function _fd_seek(ee,te,ne,ae,ie){return 70}_fd_seek.sig="iiiiip";var printCharBuffers=[null,[],[]],printChar=(ee,te)=>{var ne=printCharBuffers[ee];te===0||te===10?((ee===1?out:err)(UTF8ArrayToString(ne,0)),ne.length=0):ne.push(te)},_fd_write=(ee,te,ne,ae)=>{for(var ie=0,se=0;se<ne;se++){var oe=HEAPU32[te>>2],le=HEAPU32[te+4>>2];te+=8;for(var ce=0;ce<le;ce++)printChar(ee,HEAPU8[oe+ce]);ie+=le}return HEAPU32[ae>>2]=ie,0};function _tree_sitter_log_callback(ee,te){if(currentLogCallback){const ne=UTF8ToString(te);currentLogCallback(ne,ee!==0)}}function _tree_sitter_parse_callback(ee,te,ne,ae,ie){const se=currentParseCallback(te,{row:ne,column:ae});typeof se=="string"?(setValue(ie,se.length,"i32"),stringToUTF16(se,ee,10240)):setValue(ie,0,"i32")}_fd_write.sig="iippp";var _proc_exit=ee=>{EXITSTATUS=ee,quit_(ee,new ExitStatus(ee))};_proc_exit.sig="vi";var exitJS=(ee,te)=>{EXITSTATUS=ee,_proc_exit(ee)},handleException=ee=>{if(ee instanceof ExitStatus||ee=="unwind")return EXITSTATUS;quit_(1,ee)},lengthBytesUTF8=ee=>{for(var te=0,ne=0;ne<ee.length;++ne){var ae=ee.charCodeAt(ne);ae<=127?te++:ae<=2047?te+=2:ae>=55296&&ae<=57343?(te+=4,++ne):te+=3}return te},stringToUTF8Array=(ee,te,ne,ae)=>{if(!(ae>0))return 0;for(var ie=ne,se=ne+ae-1,oe=0;oe<ee.length;++oe){var le=ee.charCodeAt(oe);if(le>=55296&&le<=57343&&(le=65536+((1023&le)<<10)|1023&ee.charCodeAt(++oe)),le<=127){if(ne>=se)break;te[ne++]=le}else if(le<=2047){if(ne+1>=se)break;te[ne++]=192|le>>6,te[ne++]=128|63&le}else if(le<=65535){if(ne+2>=se)break;te[ne++]=224|le>>12,te[ne++]=128|le>>6&63,te[ne++]=128|63&le}else{if(ne+3>=se)break;te[ne++]=240|le>>18,te[ne++]=128|le>>12&63,te[ne++]=128|le>>6&63,te[ne++]=128|63&le}}return te[ne]=0,ne-ie},stringToUTF8=(ee,te,ne)=>stringToUTF8Array(ee,HEAPU8,te,ne),stringToUTF8OnStack=ee=>{var te=lengthBytesUTF8(ee)+1,ne=stackAlloc(te);return stringToUTF8(ee,ne,te),ne},stringToUTF16=(ee,te,ne)=>{if(ne??(ne=2147483647),ne<2)return 0;for(var ae=te,ie=(ne-=2)<2*ee.length?ne/2:ee.length,se=0;se<ie;++se){var oe=ee.charCodeAt(se);HEAP16[te>>1]=oe,te+=2}return HEAP16[te>>1]=0,te-ae},AsciiToString=ee=>{for(var te="";;){var ne=HEAPU8[ee++];if(!ne)return te;te+=String.fromCharCode(ne)}},wasmImports={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_js:_emscripten_memcpy_js,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},wasmExports=createWasm(),_malloc=Module._malloc=ee=>(_malloc=Module._malloc=wasmExports.malloc)(ee);Module._calloc=(ee,te)=>(Module._calloc=wasmExports.calloc)(ee,te),Module._realloc=(ee,te)=>(Module._realloc=wasmExports.realloc)(ee,te),Module._free=ee=>(Module._free=wasmExports.free)(ee),Module._ts_language_symbol_count=ee=>(Module._ts_language_symbol_count=wasmExports.ts_language_symbol_count)(ee),Module._ts_language_state_count=ee=>(Module._ts_language_state_count=wasmExports.ts_language_state_count)(ee),Module._ts_language_version=ee=>(Module._ts_language_version=wasmExports.ts_language_version)(ee),Module._ts_language_field_count=ee=>(Module._ts_language_field_count=wasmExports.ts_language_field_count)(ee),Module._ts_language_next_state=(ee,te,ne)=>(Module._ts_language_next_state=wasmExports.ts_language_next_state)(ee,te,ne),Module._ts_language_symbol_name=(ee,te)=>(Module._ts_language_symbol_name=wasmExports.ts_language_symbol_name)(ee,te),Module._ts_language_symbol_for_name=(ee,te,ne,ae)=>(Module._ts_language_symbol_for_name=wasmExports.ts_language_symbol_for_name)(ee,te,ne,ae),Module._strncmp=(ee,te,ne)=>(Module._strncmp=wasmExports.strncmp)(ee,te,ne),Module._ts_language_symbol_type=(ee,te)=>(Module._ts_language_symbol_type=wasmExports.ts_language_symbol_type)(ee,te),Module._ts_language_field_name_for_id=(ee,te)=>(Module._ts_language_field_name_for_id=wasmExports.ts_language_field_name_for_id)(ee,te),Module._ts_lookahead_iterator_new=(ee,te)=>(Module._ts_lookahead_iterator_new=wasmExports.ts_lookahead_iterator_new)(ee,te),Module._ts_lookahead_iterator_delete=ee=>(Module._ts_lookahead_iterator_delete=wasmExports.ts_lookahead_iterator_delete)(ee),Module._ts_lookahead_iterator_reset_state=(ee,te)=>(Module._ts_lookahead_iterator_reset_state=wasmExports.ts_lookahead_iterator_reset_state)(ee,te),Module._ts_lookahead_iterator_reset=(ee,te,ne)=>(Module._ts_lookahead_iterator_reset=wasmExports.ts_lookahead_iterator_reset)(ee,te,ne),Module._ts_lookahead_iterator_next=ee=>(Module._ts_lookahead_iterator_next=wasmExports.ts_lookahead_iterator_next)(ee),Module._ts_lookahead_iterator_current_symbol=ee=>(Module._ts_lookahead_iterator_current_symbol=wasmExports.ts_lookahead_iterator_current_symbol)(ee),Module._memset=(ee,te,ne)=>(Module._memset=wasmExports.memset)(ee,te,ne),Module._memcpy=(ee,te,ne)=>(Module._memcpy=wasmExports.memcpy)(ee,te,ne),Module._ts_parser_delete=ee=>(Module._ts_parser_delete=wasmExports.ts_parser_delete)(ee),Module._ts_parser_reset=ee=>(Module._ts_parser_reset=wasmExports.ts_parser_reset)(ee),Module._ts_parser_set_language=(ee,te)=>(Module._ts_parser_set_language=wasmExports.ts_parser_set_language)(ee,te),Module._ts_parser_timeout_micros=ee=>(Module._ts_parser_timeout_micros=wasmExports.ts_parser_timeout_micros)(ee),Module._ts_parser_set_timeout_micros=(ee,te,ne)=>(Module._ts_parser_set_timeout_micros=wasmExports.ts_parser_set_timeout_micros)(ee,te,ne),Module._ts_parser_set_included_ranges=(ee,te,ne)=>(Module._ts_parser_set_included_ranges=wasmExports.ts_parser_set_included_ranges)(ee,te,ne),Module._memmove=(ee,te,ne)=>(Module._memmove=wasmExports.memmove)(ee,te,ne),Module._memcmp=(ee,te,ne)=>(Module._memcmp=wasmExports.memcmp)(ee,te,ne),Module._ts_query_new=(ee,te,ne,ae,ie)=>(Module._ts_query_new=wasmExports.ts_query_new)(ee,te,ne,ae,ie),Module._ts_query_delete=ee=>(Module._ts_query_delete=wasmExports.ts_query_delete)(ee),Module._iswspace=ee=>(Module._iswspace=wasmExports.iswspace)(ee),Module._iswalnum=ee=>(Module._iswalnum=wasmExports.iswalnum)(ee),Module._ts_query_pattern_count=ee=>(Module._ts_query_pattern_count=wasmExports.ts_query_pattern_count)(ee),Module._ts_query_capture_count=ee=>(Module._ts_query_capture_count=wasmExports.ts_query_capture_count)(ee),Module._ts_query_string_count=ee=>(Module._ts_query_string_count=wasmExports.ts_query_string_count)(ee),Module._ts_query_capture_name_for_id=(ee,te,ne)=>(Module._ts_query_capture_name_for_id=wasmExports.ts_query_capture_name_for_id)(ee,te,ne),Module._ts_query_string_value_for_id=(ee,te,ne)=>(Module._ts_query_string_value_for_id=wasmExports.ts_query_string_value_for_id)(ee,te,ne),Module._ts_query_predicates_for_pattern=(ee,te,ne)=>(Module._ts_query_predicates_for_pattern=wasmExports.ts_query_predicates_for_pattern)(ee,te,ne),Module._ts_query_disable_capture=(ee,te,ne)=>(Module._ts_query_disable_capture=wasmExports.ts_query_disable_capture)(ee,te,ne),Module._ts_tree_copy=ee=>(Module._ts_tree_copy=wasmExports.ts_tree_copy)(ee),Module._ts_tree_delete=ee=>(Module._ts_tree_delete=wasmExports.ts_tree_delete)(ee),Module._ts_init=()=>(Module._ts_init=wasmExports.ts_init)(),Module._ts_parser_new_wasm=()=>(Module._ts_parser_new_wasm=wasmExports.ts_parser_new_wasm)(),Module._ts_parser_enable_logger_wasm=(ee,te)=>(Module._ts_parser_enable_logger_wasm=wasmExports.ts_parser_enable_logger_wasm)(ee,te),Module._ts_parser_parse_wasm=(ee,te,ne,ae,ie)=>(Module._ts_parser_parse_wasm=wasmExports.ts_parser_parse_wasm)(ee,te,ne,ae,ie),Module._ts_parser_included_ranges_wasm=ee=>(Module._ts_parser_included_ranges_wasm=wasmExports.ts_parser_included_ranges_wasm)(ee),Module._ts_language_type_is_named_wasm=(ee,te)=>(Module._ts_language_type_is_named_wasm=wasmExports.ts_language_type_is_named_wasm)(ee,te),Module._ts_language_type_is_visible_wasm=(ee,te)=>(Module._ts_language_type_is_visible_wasm=wasmExports.ts_language_type_is_visible_wasm)(ee,te),Module._ts_tree_root_node_wasm=ee=>(Module._ts_tree_root_node_wasm=wasmExports.ts_tree_root_node_wasm)(ee),Module._ts_tree_root_node_with_offset_wasm=ee=>(Module._ts_tree_root_node_with_offset_wasm=wasmExports.ts_tree_root_node_with_offset_wasm)(ee),Module._ts_tree_edit_wasm=ee=>(Module._ts_tree_edit_wasm=wasmExports.ts_tree_edit_wasm)(ee),Module._ts_tree_included_ranges_wasm=ee=>(Module._ts_tree_included_ranges_wasm=wasmExports.ts_tree_included_ranges_wasm)(ee),Module._ts_tree_get_changed_ranges_wasm=(ee,te)=>(Module._ts_tree_get_changed_ranges_wasm=wasmExports.ts_tree_get_changed_ranges_wasm)(ee,te),Module._ts_tree_cursor_new_wasm=ee=>(Module._ts_tree_cursor_new_wasm=wasmExports.ts_tree_cursor_new_wasm)(ee),Module._ts_tree_cursor_delete_wasm=ee=>(Module._ts_tree_cursor_delete_wasm=wasmExports.ts_tree_cursor_delete_wasm)(ee),Module._ts_tree_cursor_reset_wasm=ee=>(Module._ts_tree_cursor_reset_wasm=wasmExports.ts_tree_cursor_reset_wasm)(ee),Module._ts_tree_cursor_reset_to_wasm=(ee,te)=>(Module._ts_tree_cursor_reset_to_wasm=wasmExports.ts_tree_cursor_reset_to_wasm)(ee,te),Module._ts_tree_cursor_goto_first_child_wasm=ee=>(Module._ts_tree_cursor_goto_first_child_wasm=wasmExports.ts_tree_cursor_goto_first_child_wasm)(ee),Module._ts_tree_cursor_goto_last_child_wasm=ee=>(Module._ts_tree_cursor_goto_last_child_wasm=wasmExports.ts_tree_cursor_goto_last_child_wasm)(ee),Module._ts_tree_cursor_goto_first_child_for_index_wasm=ee=>(Module._ts_tree_cursor_goto_first_child_for_index_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_index_wasm)(ee),Module._ts_tree_cursor_goto_first_child_for_position_wasm=ee=>(Module._ts_tree_cursor_goto_first_child_for_position_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_position_wasm)(ee),Module._ts_tree_cursor_goto_next_sibling_wasm=ee=>(Module._ts_tree_cursor_goto_next_sibling_wasm=wasmExports.ts_tree_cursor_goto_next_sibling_wasm)(ee),Module._ts_tree_cursor_goto_previous_sibling_wasm=ee=>(Module._ts_tree_cursor_goto_previous_sibling_wasm=wasmExports.ts_tree_cursor_goto_previous_sibling_wasm)(ee),Module._ts_tree_cursor_goto_descendant_wasm=(ee,te)=>(Module._ts_tree_cursor_goto_descendant_wasm=wasmExports.ts_tree_cursor_goto_descendant_wasm)(ee,te),Module._ts_tree_cursor_goto_parent_wasm=ee=>(Module._ts_tree_cursor_goto_parent_wasm=wasmExports.ts_tree_cursor_goto_parent_wasm)(ee),Module._ts_tree_cursor_current_node_type_id_wasm=ee=>(Module._ts_tree_cursor_current_node_type_id_wasm=wasmExports.ts_tree_cursor_current_node_type_id_wasm)(ee),Module._ts_tree_cursor_current_node_state_id_wasm=ee=>(Module._ts_tree_cursor_current_node_state_id_wasm=wasmExports.ts_tree_cursor_current_node_state_id_wasm)(ee),Module._ts_tree_cursor_current_node_is_named_wasm=ee=>(Module._ts_tree_cursor_current_node_is_named_wasm=wasmExports.ts_tree_cursor_current_node_is_named_wasm)(ee),Module._ts_tree_cursor_current_node_is_missing_wasm=ee=>(Module._ts_tree_cursor_current_node_is_missing_wasm=wasmExports.ts_tree_cursor_current_node_is_missing_wasm)(ee),Module._ts_tree_cursor_current_node_id_wasm=ee=>(Module._ts_tree_cursor_current_node_id_wasm=wasmExports.ts_tree_cursor_current_node_id_wasm)(ee),Module._ts_tree_cursor_start_position_wasm=ee=>(Module._ts_tree_cursor_start_position_wasm=wasmExports.ts_tree_cursor_start_position_wasm)(ee),Module._ts_tree_cursor_end_position_wasm=ee=>(Module._ts_tree_cursor_end_position_wasm=wasmExports.ts_tree_cursor_end_position_wasm)(ee),Module._ts_tree_cursor_start_index_wasm=ee=>(Module._ts_tree_cursor_start_index_wasm=wasmExports.ts_tree_cursor_start_index_wasm)(ee),Module._ts_tree_cursor_end_index_wasm=ee=>(Module._ts_tree_cursor_end_index_wasm=wasmExports.ts_tree_cursor_end_index_wasm)(ee),Module._ts_tree_cursor_current_field_id_wasm=ee=>(Module._ts_tree_cursor_current_field_id_wasm=wasmExports.ts_tree_cursor_current_field_id_wasm)(ee),Module._ts_tree_cursor_current_depth_wasm=ee=>(Module._ts_tree_cursor_current_depth_wasm=wasmExports.ts_tree_cursor_current_depth_wasm)(ee),Module._ts_tree_cursor_current_descendant_index_wasm=ee=>(Module._ts_tree_cursor_current_descendant_index_wasm=wasmExports.ts_tree_cursor_current_descendant_index_wasm)(ee),Module._ts_tree_cursor_current_node_wasm=ee=>(Module._ts_tree_cursor_current_node_wasm=wasmExports.ts_tree_cursor_current_node_wasm)(ee),Module._ts_node_symbol_wasm=ee=>(Module._ts_node_symbol_wasm=wasmExports.ts_node_symbol_wasm)(ee),Module._ts_node_field_name_for_child_wasm=(ee,te)=>(Module._ts_node_field_name_for_child_wasm=wasmExports.ts_node_field_name_for_child_wasm)(ee,te),Module._ts_node_children_by_field_id_wasm=(ee,te)=>(Module._ts_node_children_by_field_id_wasm=wasmExports.ts_node_children_by_field_id_wasm)(ee,te),Module._ts_node_first_child_for_byte_wasm=ee=>(Module._ts_node_first_child_for_byte_wasm=wasmExports.ts_node_first_child_for_byte_wasm)(ee),Module._ts_node_first_named_child_for_byte_wasm=ee=>(Module._ts_node_first_named_child_for_byte_wasm=wasmExports.ts_node_first_named_child_for_byte_wasm)(ee),Module._ts_node_grammar_symbol_wasm=ee=>(Module._ts_node_grammar_symbol_wasm=wasmExports.ts_node_grammar_symbol_wasm)(ee),Module._ts_node_child_count_wasm=ee=>(Module._ts_node_child_count_wasm=wasmExports.ts_node_child_count_wasm)(ee),Module._ts_node_named_child_count_wasm=ee=>(Module._ts_node_named_child_count_wasm=wasmExports.ts_node_named_child_count_wasm)(ee),Module._ts_node_child_wasm=(ee,te)=>(Module._ts_node_child_wasm=wasmExports.ts_node_child_wasm)(ee,te),Module._ts_node_named_child_wasm=(ee,te)=>(Module._ts_node_named_child_wasm=wasmExports.ts_node_named_child_wasm)(ee,te),Module._ts_node_child_by_field_id_wasm=(ee,te)=>(Module._ts_node_child_by_field_id_wasm=wasmExports.ts_node_child_by_field_id_wasm)(ee,te),Module._ts_node_next_sibling_wasm=ee=>(Module._ts_node_next_sibling_wasm=wasmExports.ts_node_next_sibling_wasm)(ee),Module._ts_node_prev_sibling_wasm=ee=>(Module._ts_node_prev_sibling_wasm=wasmExports.ts_node_prev_sibling_wasm)(ee),Module._ts_node_next_named_sibling_wasm=ee=>(Module._ts_node_next_named_sibling_wasm=wasmExports.ts_node_next_named_sibling_wasm)(ee),Module._ts_node_prev_named_sibling_wasm=ee=>(Module._ts_node_prev_named_sibling_wasm=wasmExports.ts_node_prev_named_sibling_wasm)(ee),Module._ts_node_descendant_count_wasm=ee=>(Module._ts_node_descendant_count_wasm=wasmExports.ts_node_descendant_count_wasm)(ee),Module._ts_node_parent_wasm=ee=>(Module._ts_node_parent_wasm=wasmExports.ts_node_parent_wasm)(ee),Module._ts_node_descendant_for_index_wasm=ee=>(Module._ts_node_descendant_for_index_wasm=wasmExports.ts_node_descendant_for_index_wasm)(ee),Module._ts_node_named_descendant_for_index_wasm=ee=>(Module._ts_node_named_descendant_for_index_wasm=wasmExports.ts_node_named_descendant_for_index_wasm)(ee),Module._ts_node_descendant_for_position_wasm=ee=>(Module._ts_node_descendant_for_position_wasm=wasmExports.ts_node_descendant_for_position_wasm)(ee),Module._ts_node_named_descendant_for_position_wasm=ee=>(Module._ts_node_named_descendant_for_position_wasm=wasmExports.ts_node_named_descendant_for_position_wasm)(ee),Module._ts_node_start_point_wasm=ee=>(Module._ts_node_start_point_wasm=wasmExports.ts_node_start_point_wasm)(ee),Module._ts_node_end_point_wasm=ee=>(Module._ts_node_end_point_wasm=wasmExports.ts_node_end_point_wasm)(ee),Module._ts_node_start_index_wasm=ee=>(Module._ts_node_start_index_wasm=wasmExports.ts_node_start_index_wasm)(ee),Module._ts_node_end_index_wasm=ee=>(Module._ts_node_end_index_wasm=wasmExports.ts_node_end_index_wasm)(ee),Module._ts_node_to_string_wasm=ee=>(Module._ts_node_to_string_wasm=wasmExports.ts_node_to_string_wasm)(ee),Module._ts_node_children_wasm=ee=>(Module._ts_node_children_wasm=wasmExports.ts_node_children_wasm)(ee),Module._ts_node_named_children_wasm=ee=>(Module._ts_node_named_children_wasm=wasmExports.ts_node_named_children_wasm)(ee),Module._ts_node_descendants_of_type_wasm=(ee,te,ne,ae,ie,se,oe)=>(Module._ts_node_descendants_of_type_wasm=wasmExports.ts_node_descendants_of_type_wasm)(ee,te,ne,ae,ie,se,oe),Module._ts_node_is_named_wasm=ee=>(Module._ts_node_is_named_wasm=wasmExports.ts_node_is_named_wasm)(ee),Module._ts_node_has_changes_wasm=ee=>(Module._ts_node_has_changes_wasm=wasmExports.ts_node_has_changes_wasm)(ee),Module._ts_node_has_error_wasm=ee=>(Module._ts_node_has_error_wasm=wasmExports.ts_node_has_error_wasm)(ee),Module._ts_node_is_error_wasm=ee=>(Module._ts_node_is_error_wasm=wasmExports.ts_node_is_error_wasm)(ee),Module._ts_node_is_missing_wasm=ee=>(Module._ts_node_is_missing_wasm=wasmExports.ts_node_is_missing_wasm)(ee),Module._ts_node_is_extra_wasm=ee=>(Module._ts_node_is_extra_wasm=wasmExports.ts_node_is_extra_wasm)(ee),Module._ts_node_parse_state_wasm=ee=>(Module._ts_node_parse_state_wasm=wasmExports.ts_node_parse_state_wasm)(ee),Module._ts_node_next_parse_state_wasm=ee=>(Module._ts_node_next_parse_state_wasm=wasmExports.ts_node_next_parse_state_wasm)(ee),Module._ts_query_matches_wasm=(ee,te,ne,ae,ie,se,oe,le,ce,he)=>(Module._ts_query_matches_wasm=wasmExports.ts_query_matches_wasm)(ee,te,ne,ae,ie,se,oe,le,ce,he),Module._ts_query_captures_wasm=(ee,te,ne,ae,ie,se,oe,le,ce,he)=>(Module._ts_query_captures_wasm=wasmExports.ts_query_captures_wasm)(ee,te,ne,ae,ie,se,oe,le,ce,he),Module._iswalpha=ee=>(Module._iswalpha=wasmExports.iswalpha)(ee),Module._iswblank=ee=>(Module._iswblank=wasmExports.iswblank)(ee),Module._iswdigit=ee=>(Module._iswdigit=wasmExports.iswdigit)(ee),Module._iswlower=ee=>(Module._iswlower=wasmExports.iswlower)(ee),Module._iswupper=ee=>(Module._iswupper=wasmExports.iswupper)(ee),Module._iswxdigit=ee=>(Module._iswxdigit=wasmExports.iswxdigit)(ee),Module._memchr=(ee,te,ne)=>(Module._memchr=wasmExports.memchr)(ee,te,ne),Module._strlen=ee=>(Module._strlen=wasmExports.strlen)(ee),Module._strcmp=(ee,te)=>(Module._strcmp=wasmExports.strcmp)(ee,te),Module._strncat=(ee,te,ne)=>(Module._strncat=wasmExports.strncat)(ee,te,ne),Module._strncpy=(ee,te,ne)=>(Module._strncpy=wasmExports.strncpy)(ee,te,ne),Module._towlower=ee=>(Module._towlower=wasmExports.towlower)(ee),Module._towupper=ee=>(Module._towupper=wasmExports.towupper)(ee);var _setThrew=(ee,te)=>(_setThrew=wasmExports.setThrew)(ee,te),stackSave=()=>(stackSave=wasmExports.stackSave)(),stackRestore=ee=>(stackRestore=wasmExports.stackRestore)(ee),stackAlloc=ee=>(stackAlloc=wasmExports.stackAlloc)(ee);Module.dynCall_jiji=(ee,te,ne,ae,ie)=>(Module.dynCall_jiji=wasmExports.dynCall_jiji)(ee,te,ne,ae,ie),Module._orig$ts_parser_timeout_micros=ee=>(Module._orig$ts_parser_timeout_micros=wasmExports.orig$ts_parser_timeout_micros)(ee),Module._orig$ts_parser_set_timeout_micros=(ee,te)=>(Module._orig$ts_parser_set_timeout_micros=wasmExports.orig$ts_parser_set_timeout_micros)(ee,te);var calledRun;function callMain(ee=[]){var te=resolveGlobalSymbol("main").sym;if(te){ee.unshift(thisProgram);var ne=ee.length,ae=stackAlloc(4*(ne+1)),ie=ae;ee.forEach((oe=>{HEAPU32[ie>>2]=stringToUTF8OnStack(oe),ie+=4})),HEAPU32[ie>>2]=0;try{var se=te(ne,ae);return exitJS(se,!0),se}catch(oe){return handleException(oe)}}}function run(ee=arguments_){function te(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(ee),postRun()))}runDependencies>0||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Module.setStatus("")}),1),te()}),1)):te()))}if(Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=function ee(){calledRun||run(),calledRun||(dependenciesFulfilled=ee)},Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();const C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_CURSOR=4*SIZE_OF_INT,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;let VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(te){let ne;if(te){if(te.constructor!==Language)throw new Error("Argument must be a Language");{ne=te[0];const ae=C._ts_language_version(ne);if(ae<MIN_COMPATIBLE_VERSION||VERSION<ae)throw new Error(`Incompatible language version ${ae}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else ne=0,te=null;return this.language=te,C._ts_parser_set_language(this[0],ne),this}getLanguage(){return this.language}parse(te,ne,ae){if(typeof te=="string")currentParseCallback=(ce,he)=>te.slice(ce);else{if(typeof te!="function")throw new Error("Argument must be a string or a function");currentParseCallback=te}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let ie=0,se=0;if(ae!=null&&ae.includedRanges){ie=ae.includedRanges.length,se=C._calloc(ie,SIZE_OF_RANGE);let ce=se;for(let he=0;he<ie;he++)marshalRange(ce,ae.includedRanges[he]),ce+=SIZE_OF_RANGE}const oe=C._ts_parser_parse_wasm(this[0],this[1],ne?ne[0]:0,se,ie);if(!oe)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");const le=new Tree(INTERNAL,oe,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,le}reset(){C._ts_parser_reset(this[0])}getIncludedRanges(){C._ts_parser_included_ranges_wasm(this[0]);const te=getValue(TRANSFER_BUFFER,"i32"),ne=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),ae=new Array(te);if(te>0){let ie=ne;for(let se=0;se<te;se++)ae[se]=unmarshalRange(ie),ie+=SIZE_OF_RANGE;C._free(ne)}return ae}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setTimeoutMicros(te){C._ts_parser_set_timeout_micros(this[0],te)}setLogger(te){if(te){if(typeof te!="function")throw new Error("Logger callback must be a function")}else te=null;return this.logCallback=te,this}getLogger(){return this.logCallback}}class Tree{constructor(te,ne,ae,ie){assertInternal(te),this[0]=ne,this.language=ae,this.textCallback=ie}copy(){const te=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,te,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(te){marshalEdit(te),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}rootNodeWithOffset(te,ne){const ae=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(ae,te,"i32"),marshalPoint(ae+SIZE_OF_INT,ne),C._ts_tree_root_node_with_offset_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(te){if(te.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],te[0]);const ne=getValue(TRANSFER_BUFFER,"i32"),ae=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),ie=new Array(ne);if(ne>0){let se=ae;for(let oe=0;oe<ne;oe++)ie[oe]=unmarshalRange(se),se+=SIZE_OF_RANGE;C._free(ae)}return ie}getIncludedRanges(){C._ts_tree_included_ranges_wasm(this[0]);const te=getValue(TRANSFER_BUFFER,"i32"),ne=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),ae=new Array(te);if(te>0){let ie=ne;for(let se=0;se<te;se++)ae[se]=unmarshalRange(ie),ie+=SIZE_OF_RANGE;C._free(ne)}return ae}}class Node{constructor(te,ne){assertInternal(te),this.tree=ne}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get grammarId(){return marshalNode(this),C._ts_node_grammar_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get grammarType(){return this.tree.language.types[this.grammarId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}get parseState(){return marshalNode(this),C._ts_node_parse_state_wasm(this.tree[0])}get nextParseState(){return marshalNode(this),C._ts_node_next_parse_state_wasm(this.tree[0])}get isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}get hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}get hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}get isError(){return marshalNode(this),C._ts_node_is_error_wasm(this.tree[0])===1}get isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}get isExtra(){return marshalNode(this),C._ts_node_is_extra_wasm(this.tree[0])===1}equals(te){return this.id===te.id}child(te){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],te),unmarshalNode(this.tree)}namedChild(te){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],te),unmarshalNode(this.tree)}childForFieldId(te){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],te),unmarshalNode(this.tree)}childForFieldName(te){const ne=this.tree.language.fields.indexOf(te);return ne!==-1?this.childForFieldId(ne):null}fieldNameForChild(te){marshalNode(this);const ne=C._ts_node_field_name_for_child_wasm(this.tree[0],te);return ne?AsciiToString(ne):null}childrenForFieldName(te){const ne=this.tree.language.fields.indexOf(te);return ne!==-1&&ne!==0?this.childrenForFieldId(ne):[]}childrenForFieldId(te){marshalNode(this),C._ts_node_children_by_field_id_wasm(this.tree[0],te);const ne=getValue(TRANSFER_BUFFER,"i32"),ae=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),ie=new Array(ne);if(ne>0){let se=ae;for(let oe=0;oe<ne;oe++)ie[oe]=unmarshalNode(this.tree,se),se+=SIZE_OF_NODE;C._free(ae)}return ie}firstChildForIndex(te){return marshalNode(this),setValue(TRANSFER_BUFFER+SIZE_OF_NODE,te,"i32"),C._ts_node_first_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}firstNamedChildForIndex(te){return marshalNode(this),setValue(TRANSFER_BUFFER+SIZE_OF_NODE,te,"i32"),C._ts_node_first_named_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);const te=getValue(TRANSFER_BUFFER,"i32"),ne=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(te),te>0){let ae=ne;for(let ie=0;ie<te;ie++)this._children[ie]=unmarshalNode(this.tree,ae),ae+=SIZE_OF_NODE;C._free(ne)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);const te=getValue(TRANSFER_BUFFER,"i32"),ne=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(te),te>0){let ae=ne;for(let ie=0;ie<te;ie++)this._namedChildren[ie]=unmarshalNode(this.tree,ae),ae+=SIZE_OF_NODE;C._free(ne)}}return this._namedChildren}descendantsOfType(te,ne,ae){Array.isArray(te)||(te=[te]),ne||(ne=ZERO_POINT),ae||(ae=ZERO_POINT);const ie=[],se=this.tree.language.types;for(let fe=0,pe=se.length;fe<pe;fe++)te.includes(se[fe])&&ie.push(fe);const oe=C._malloc(SIZE_OF_INT*ie.length);for(let fe=0,pe=ie.length;fe<pe;fe++)setValue(oe+fe*SIZE_OF_INT,ie[fe],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],oe,ie.length,ne.row,ne.column,ae.row,ae.column);const le=getValue(TRANSFER_BUFFER,"i32"),ce=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),he=new Array(le);if(le>0){let fe=ce;for(let pe=0;pe<le;pe++)he[pe]=unmarshalNode(this.tree,fe),fe+=SIZE_OF_NODE}return C._free(ce),C._free(oe),he}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get descendantCount(){return marshalNode(this),C._ts_node_descendant_count_wasm(this.tree[0])}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(te,ne=te){if(typeof te!="number"||typeof ne!="number")throw new Error("Arguments must be numbers");marshalNode(this);const ae=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(ae,te,"i32"),setValue(ae+SIZE_OF_INT,ne,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(te,ne=te){if(typeof te!="number"||typeof ne!="number")throw new Error("Arguments must be numbers");marshalNode(this);const ae=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(ae,te,"i32"),setValue(ae+SIZE_OF_INT,ne,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(te,ne=te){if(!isPoint(te)||!isPoint(ne))throw new Error("Arguments must be {row, column} objects");marshalNode(this);const ae=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(ae,te),marshalPoint(ae+SIZE_OF_POINT,ne),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(te,ne=te){if(!isPoint(te)||!isPoint(ne))throw new Error("Arguments must be {row, column} objects");marshalNode(this);const ae=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(ae,te),marshalPoint(ae+SIZE_OF_POINT,ne),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);const te=C._ts_node_to_string_wasm(this.tree[0]),ne=AsciiToString(te);return C._free(te),ne}}class TreeCursor{constructor(te,ne){assertInternal(te),this.tree=ne,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(te){marshalNode(te),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}resetTo(te){marshalTreeCursor(this,TRANSFER_BUFFER),marshalTreeCursor(te,TRANSFER_BUFFER+SIZE_OF_CURSOR),C._ts_tree_cursor_reset_to_wasm(this.tree[0],te.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeStateId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_state_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);const te=C._ts_tree_cursor_start_index_wasm(this.tree[0]),ne=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,te,ne)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}get currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}get currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}get currentFieldName(){return this.tree.language.fields[this.currentFieldId]}get currentDepth(){return marshalTreeCursor(this),C._ts_tree_cursor_current_depth_wasm(this.tree[0])}get currentDescendantIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_current_descendant_index_wasm(this.tree[0])}gotoFirstChild(){marshalTreeCursor(this);const te=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),te===1}gotoLastChild(){marshalTreeCursor(this);const te=C._ts_tree_cursor_goto_last_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),te===1}gotoFirstChildForIndex(te){marshalTreeCursor(this),setValue(TRANSFER_BUFFER+SIZE_OF_CURSOR,te,"i32");const ne=C._ts_tree_cursor_goto_first_child_for_index_wasm(this.tree[0]);return unmarshalTreeCursor(this),ne===1}gotoFirstChildForPosition(te){marshalTreeCursor(this),marshalPoint(TRANSFER_BUFFER+SIZE_OF_CURSOR,te);const ne=C._ts_tree_cursor_goto_first_child_for_position_wasm(this.tree[0]);return unmarshalTreeCursor(this),ne===1}gotoNextSibling(){marshalTreeCursor(this);const te=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),te===1}gotoPreviousSibling(){marshalTreeCursor(this);const te=C._ts_tree_cursor_goto_previous_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),te===1}gotoDescendant(te){marshalTreeCursor(this),C._ts_tree_cursor_goto_descendant_wasm(this.tree[0],te),unmarshalTreeCursor(this)}gotoParent(){marshalTreeCursor(this);const te=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),te===1}}class Language{constructor(te,ne){assertInternal(te),this[0]=ne,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let ae=0,ie=this.types.length;ae<ie;ae++)C._ts_language_symbol_type(this[0],ae)<2&&(this.types[ae]=UTF8ToString(C._ts_language_symbol_name(this[0],ae)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let ae=0,ie=this.fields.length;ae<ie;ae++){const se=C._ts_language_field_name_for_id(this[0],ae);this.fields[ae]=se!==0?UTF8ToString(se):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}get stateCount(){return C._ts_language_state_count(this[0])}fieldIdForName(te){const ne=this.fields.indexOf(te);return ne!==-1?ne:null}fieldNameForId(te){return this.fields[te]||null}idForNodeType(te,ne){const ae=lengthBytesUTF8(te),ie=C._malloc(ae+1);stringToUTF8(te,ie,ae+1);const se=C._ts_language_symbol_for_name(this[0],ie,ae,ne);return C._free(ie),se||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(te){const ne=C._ts_language_symbol_name(this[0],te);return ne?UTF8ToString(ne):null}nodeTypeIsNamed(te){return!!C._ts_language_type_is_named_wasm(this[0],te)}nodeTypeIsVisible(te){return!!C._ts_language_type_is_visible_wasm(this[0],te)}nextState(te,ne){return C._ts_language_next_state(this[0],te,ne)}lookaheadIterator(te){const ne=C._ts_lookahead_iterator_new(this[0],te);return ne?new LookaheadIterable(INTERNAL,ne,this):null}query(te){const ne=lengthBytesUTF8(te),ae=C._malloc(ne+1);stringToUTF8(te,ae,ne+1);const ie=C._ts_query_new(this[0],ae,ne,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!ie){const be=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),Se=getValue(TRANSFER_BUFFER,"i32"),ve=UTF8ToString(ae,Se).length,Te=te.substr(ve,100).split(`
`)[0];let Ce,Pe=Te.match(QUERY_WORD_REGEX)[0];switch(be){case 2:Ce=new RangeError(`Bad node name '${Pe}'`);break;case 3:Ce=new RangeError(`Bad field name '${Pe}'`);break;case 4:Ce=new RangeError(`Bad capture name @${Pe}`);break;case 5:Ce=new TypeError(`Bad pattern structure at offset ${ve}: '${Te}'...`),Pe="";break;default:Ce=new SyntaxError(`Bad syntax at offset ${ve}: '${Te}'...`),Pe=""}throw Ce.index=ve,Ce.length=Pe.length,C._free(ae),Ce}const se=C._ts_query_string_count(ie),oe=C._ts_query_capture_count(ie),le=C._ts_query_pattern_count(ie),ce=new Array(oe),he=new Array(se);for(let be=0;be<oe;be++){const Se=C._ts_query_capture_name_for_id(ie,be,TRANSFER_BUFFER),ve=getValue(TRANSFER_BUFFER,"i32");ce[be]=UTF8ToString(Se,ve)}for(let be=0;be<se;be++){const Se=C._ts_query_string_value_for_id(ie,be,TRANSFER_BUFFER),ve=getValue(TRANSFER_BUFFER,"i32");he[be]=UTF8ToString(Se,ve)}const fe=new Array(le),pe=new Array(le),ge=new Array(le),ye=new Array(le),xe=new Array(le);for(let be=0;be<le;be++){const Se=C._ts_query_predicates_for_pattern(ie,be,TRANSFER_BUFFER),ve=getValue(TRANSFER_BUFFER,"i32");ye[be]=[],xe[be]=[];const Te=[];let Ce=Se;for(let Pe=0;Pe<ve;Pe++){const Be=getValue(Ce,"i32");Ce+=SIZE_OF_INT;const Ae=getValue(Ce,"i32");if(Ce+=SIZE_OF_INT,Be===PREDICATE_STEP_TYPE_CAPTURE)Te.push({type:"capture",name:ce[Ae]});else if(Be===PREDICATE_STEP_TYPE_STRING)Te.push({type:"string",value:he[Ae]});else if(Te.length>0){if(Te[0].type!=="string")throw new Error("Predicates must begin with a literal value");const Me=Te[0].value;let Ge,Ue=!0,Ve=!0;switch(Me){case"any-not-eq?":case"not-eq?":Ue=!1;case"any-eq?":case"eq?":if(Te.length!==3)throw new Error(`Wrong number of arguments to \`#${Me}\` predicate. Expected 2, got ${Te.length-1}`);if(Te[1].type!=="capture")throw new Error(`First argument of \`#${Me}\` predicate must be a capture. Got "${Te[1].value}"`);if(Ve=!Me.startsWith("any-"),Te[2].type==="capture"){const ke=Te[1].name,$e=Te[2].name;xe[be].push((Oe=>{const He=[],qe=[];for(const ze of Oe)ze.name===ke&&He.push(ze.node),ze.name===$e&&qe.push(ze.node);const Xe=(ze,Ie,Fe)=>Fe?ze.text===Ie.text:ze.text!==Ie.text;return Ve?He.every((ze=>qe.some((Ie=>Xe(ze,Ie,Ue))))):He.some((ze=>qe.some((Ie=>Xe(ze,Ie,Ue)))))}))}else{Ge=Te[1].name;const ke=Te[2].value,$e=He=>He.text===ke,Oe=He=>He.text!==ke;xe[be].push((He=>{const qe=[];for(const ze of He)ze.name===Ge&&qe.push(ze.node);const Xe=Ue?$e:Oe;return Ve?qe.every(Xe):qe.some(Xe)}))}break;case"any-not-match?":case"not-match?":Ue=!1;case"any-match?":case"match?":if(Te.length!==3)throw new Error(`Wrong number of arguments to \`#${Me}\` predicate. Expected 2, got ${Te.length-1}.`);if(Te[1].type!=="capture")throw new Error(`First argument of \`#${Me}\` predicate must be a capture. Got "${Te[1].value}".`);if(Te[2].type!=="string")throw new Error(`Second argument of \`#${Me}\` predicate must be a string. Got @${Te[2].value}.`);Ge=Te[1].name;const je=new RegExp(Te[2].value);Ve=!Me.startsWith("any-"),xe[be].push((ke=>{const $e=[];for(const He of ke)He.name===Ge&&$e.push(He.node.text);const Oe=(He,qe)=>qe?je.test(He):!je.test(He);return $e.length===0?!Ue:Ve?$e.every((He=>Oe(He,Ue))):$e.some((He=>Oe(He,Ue)))}));break;case"set!":if(Te.length<2||Te.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${Te.length-1}.`);if(Te.some((ke=>ke.type!=="string")))throw new Error('Arguments to `#set!` predicate must be a strings.".');fe[be]||(fe[be]={}),fe[be][Te[1].value]=Te[2]?Te[2].value:null;break;case"is?":case"is-not?":if(Te.length<2||Te.length>3)throw new Error(`Wrong number of arguments to \`#${Me}\` predicate. Expected 1 or 2. Got ${Te.length-1}.`);if(Te.some((ke=>ke.type!=="string")))throw new Error(`Arguments to \`#${Me}\` predicate must be a strings.".`);const De=Me==="is?"?pe:ge;De[be]||(De[be]={}),De[be][Te[1].value]=Te[2]?Te[2].value:null;break;case"not-any-of?":Ue=!1;case"any-of?":if(Te.length<2)throw new Error(`Wrong number of arguments to \`#${Me}\` predicate. Expected at least 1. Got ${Te.length-1}.`);if(Te[1].type!=="capture")throw new Error(`First argument of \`#${Me}\` predicate must be a capture. Got "${Te[1].value}".`);for(let ke=2;ke<Te.length;ke++)if(Te[ke].type!=="string")throw new Error(`Arguments to \`#${Me}\` predicate must be a strings.".`);Ge=Te[1].name;const Ye=Te.slice(2).map((ke=>ke.value));xe[be].push((ke=>{const $e=[];for(const Oe of ke)Oe.name===Ge&&$e.push(Oe.node.text);return $e.length===0?!Ue:$e.every((Oe=>Ye.includes(Oe)))===Ue}));break;default:ye[be].push({operator:Me,operands:Te.slice(1)})}Te.length=0}}Object.freeze(fe[be]),Object.freeze(pe[be]),Object.freeze(ge[be])}return C._free(ae),new Query(INTERNAL,ie,ce,xe,ye,Object.freeze(fe),Object.freeze(pe),Object.freeze(ge))}static load(te){let ne;if(te instanceof Uint8Array)ne=Promise.resolve(te);else{const ae=te;if(typeof process<"u"&&process.versions&&process.versions.node){const ie=require$$0;ne=Promise.resolve(ie.readFileSync(ae))}else ne=fetch(ae).then((ie=>ie.arrayBuffer().then((se=>{if(ie.ok)return new Uint8Array(se);{const oe=new TextDecoder("utf-8").decode(se);throw new Error(`Language.load failed with status ${ie.status}.

${oe}`)}}))))}return ne.then((ae=>loadWebAssemblyModule(ae,{loadAsync:!0}))).then((ae=>{const ie=Object.keys(ae),se=ie.find((le=>LANGUAGE_FUNCTION_REGEX.test(le)&&!le.includes("external_scanner_")));se||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(ie,null,2)}`);const oe=ae[se]();return new Language(INTERNAL,oe)}))}}class LookaheadIterable{constructor(te,ne,ae){assertInternal(te),this[0]=ne,this.language=ae}get currentTypeId(){return C._ts_lookahead_iterator_current_symbol(this[0])}get currentType(){return this.language.types[this.currentTypeId]||"ERROR"}delete(){C._ts_lookahead_iterator_delete(this[0]),this[0]=0}resetState(te){return C._ts_lookahead_iterator_reset_state(this[0],te)}reset(te,ne){return!!C._ts_lookahead_iterator_reset(this[0],te[0],ne)&&(this.language=te,!0)}[Symbol.iterator](){const te=this;return{next:()=>C._ts_lookahead_iterator_next(te[0])?{done:!1,value:te.currentType}:{done:!0,value:""}}}}class Query{constructor(te,ne,ae,ie,se,oe,le,ce){assertInternal(te),this[0]=ne,this.captureNames=ae,this.textPredicates=ie,this.predicates=se,this.setProperties=oe,this.assertedProperties=le,this.refutedProperties=ce,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(te,{startPosition:ne=ZERO_POINT,endPosition:ae=ZERO_POINT,startIndex:ie=0,endIndex:se=0,matchLimit:oe=4294967295,maxStartDepth:le=4294967295}={}){if(typeof oe!="number")throw new Error("Arguments must be numbers");marshalNode(te),C._ts_query_matches_wasm(this[0],te.tree[0],ne.row,ne.column,ae.row,ae.column,ie,se,oe,le);const ce=getValue(TRANSFER_BUFFER,"i32"),he=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),fe=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),pe=new Array(ce);this.exceededMatchLimit=!!fe;let ge=0,ye=he;for(let xe=0;xe<ce;xe++){const be=getValue(ye,"i32");ye+=SIZE_OF_INT;const Se=getValue(ye,"i32");ye+=SIZE_OF_INT;const ve=new Array(Se);if(ye=unmarshalCaptures(this,te.tree,ye,ve),this.textPredicates[be].every((Te=>Te(ve)))){pe[ge]={pattern:be,captures:ve};const Te=this.setProperties[be];Te&&(pe[ge].setProperties=Te);const Ce=this.assertedProperties[be];Ce&&(pe[ge].assertedProperties=Ce);const Pe=this.refutedProperties[be];Pe&&(pe[ge].refutedProperties=Pe),ge++}}return pe.length=ge,C._free(he),pe}captures(te,{startPosition:ne=ZERO_POINT,endPosition:ae=ZERO_POINT,startIndex:ie=0,endIndex:se=0,matchLimit:oe=4294967295,maxStartDepth:le=4294967295}={}){if(typeof oe!="number")throw new Error("Arguments must be numbers");marshalNode(te),C._ts_query_captures_wasm(this[0],te.tree[0],ne.row,ne.column,ae.row,ae.column,ie,se,oe,le);const ce=getValue(TRANSFER_BUFFER,"i32"),he=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),fe=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),pe=[];this.exceededMatchLimit=!!fe;const ge=[];let ye=he;for(let xe=0;xe<ce;xe++){const be=getValue(ye,"i32");ye+=SIZE_OF_INT;const Se=getValue(ye,"i32");ye+=SIZE_OF_INT;const ve=getValue(ye,"i32");if(ye+=SIZE_OF_INT,ge.length=Se,ye=unmarshalCaptures(this,te.tree,ye,ge),this.textPredicates[be].every((Te=>Te(ge)))){const Te=ge[ve],Ce=this.setProperties[be];Ce&&(Te.setProperties=Ce);const Pe=this.assertedProperties[be];Pe&&(Te.assertedProperties=Pe);const Be=this.refutedProperties[be];Be&&(Te.refutedProperties=Be),pe.push(Te)}}return C._free(he),pe}predicatesForPattern(te){return this.predicates[te]}disableCapture(te){const ne=lengthBytesUTF8(te),ae=C._malloc(ne+1);stringToUTF8(te,ae,ne+1),C._ts_query_disable_capture(this[0],ae,ne),C._free(ae)}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(ee,te,ne){const ae=ne-te;let ie=ee.textCallback(te,null,ne);for(te+=ie.length;te<ne;){const se=ee.textCallback(te,null,ne);if(!(se&&se.length>0))break;te+=se.length,ie+=se}return te>ne&&(ie=ie.slice(0,ae)),ie}function unmarshalCaptures(ee,te,ne,ae){for(let ie=0,se=ae.length;ie<se;ie++){const oe=getValue(ne,"i32"),le=unmarshalNode(te,ne+=SIZE_OF_INT);ne+=SIZE_OF_NODE,ae[ie]={name:ee.captureNames[oe],node:le}}return ne}function assertInternal(ee){if(ee!==INTERNAL)throw new Error("Illegal constructor")}function isPoint(ee){return ee&&typeof ee.row=="number"&&typeof ee.column=="number"}function marshalNode(ee){let te=TRANSFER_BUFFER;setValue(te,ee.id,"i32"),te+=SIZE_OF_INT,setValue(te,ee.startIndex,"i32"),te+=SIZE_OF_INT,setValue(te,ee.startPosition.row,"i32"),te+=SIZE_OF_INT,setValue(te,ee.startPosition.column,"i32"),te+=SIZE_OF_INT,setValue(te,ee[0],"i32")}function unmarshalNode(ee,te=TRANSFER_BUFFER){const ne=getValue(te,"i32");if(ne===0)return null;const ae=getValue(te+=SIZE_OF_INT,"i32"),ie=getValue(te+=SIZE_OF_INT,"i32"),se=getValue(te+=SIZE_OF_INT,"i32"),oe=getValue(te+=SIZE_OF_INT,"i32"),le=new Node(INTERNAL,ee);return le.id=ne,le.startIndex=ae,le.startPosition={row:ie,column:se},le[0]=oe,le}function marshalTreeCursor(ee,te=TRANSFER_BUFFER){setValue(te+0*SIZE_OF_INT,ee[0],"i32"),setValue(te+1*SIZE_OF_INT,ee[1],"i32"),setValue(te+2*SIZE_OF_INT,ee[2],"i32"),setValue(te+3*SIZE_OF_INT,ee[3],"i32")}function unmarshalTreeCursor(ee){ee[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),ee[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),ee[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),ee[3]=getValue(TRANSFER_BUFFER+3*SIZE_OF_INT,"i32")}function marshalPoint(ee,te){setValue(ee,te.row,"i32"),setValue(ee+SIZE_OF_INT,te.column,"i32")}function unmarshalPoint(ee){return{row:getValue(ee,"i32")>>>0,column:getValue(ee+SIZE_OF_INT,"i32")>>>0}}function marshalRange(ee,te){marshalPoint(ee,te.startPosition),marshalPoint(ee+=SIZE_OF_POINT,te.endPosition),setValue(ee+=SIZE_OF_POINT,te.startIndex,"i32"),setValue(ee+=SIZE_OF_INT,te.endIndex,"i32"),ee+=SIZE_OF_INT}function unmarshalRange(ee){const te={};return te.startPosition=unmarshalPoint(ee),ee+=SIZE_OF_POINT,te.endPosition=unmarshalPoint(ee),ee+=SIZE_OF_POINT,te.startIndex=getValue(ee,"i32")>>>0,ee+=SIZE_OF_INT,te.endIndex=getValue(ee,"i32")>>>0,te}function marshalEdit(ee){let te=TRANSFER_BUFFER;marshalPoint(te,ee.startPosition),te+=SIZE_OF_POINT,marshalPoint(te,ee.oldEndPosition),te+=SIZE_OF_POINT,marshalPoint(te,ee.newEndPosition),te+=SIZE_OF_POINT,setValue(te,ee.startIndex,"i32"),te+=SIZE_OF_INT,setValue(te,ee.oldEndIndex,"i32"),te+=SIZE_OF_INT,setValue(te,ee.newEndIndex,"i32"),te+=SIZE_OF_INT}for(const ee of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,ee,{value:ParserImpl.prototype[ee],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}})))}}return Parser})();module.exports=TreeSitter})(treeSitter)),treeSitter.exports}var treeSitterExports=requireTreeSitter();const Parser=getDefaultExportFromCjs(treeSitterExports);let isInitialized=!1;async function initParser(){if(!isInitialized)try{await Parser.init({locateFile(ee){return`https://unpkg.com/web-tree-sitter@0.22.6/${ee}`}}),isInitialized=!0}catch(ee){throw console.error("Failed to initialize Tree-sitter:",ee),ee}}const extract=(ee,te,ne)=>{try{return ee.query(ne).captures(te)}catch(ae){return console.warn("Tree-sitter query warning:",ae),[]}};async function analyzeCode(ee,te="javascript",ne="provided_code"){try{isInitialized||await initParser();const ae=new Parser;let ie="",se="generic";if(["javascript","js","jsx"].includes(te))ie="https://unpkg.com/tree-sitter-wasms@0.1.0/out/tree-sitter-javascript.wasm",se="javascript";else if(["typescript","ts","tsx"].includes(te))ie="https://unpkg.com/tree-sitter-wasms@0.1.0/out/tree-sitter-typescript.wasm",se="typescript";else if(["python","py"].includes(te))ie="https://unpkg.com/tree-sitter-wasms@0.1.0/out/tree-sitter-python.wasm",se="python";else if(te==="go")ie="https://unpkg.com/tree-sitter-wasms@0.1.0/out/tree-sitter-go.wasm",se="go";else if(["rust","rs"].includes(te))ie="https://unpkg.com/tree-sitter-wasms@0.1.0/out/tree-sitter-rust.wasm",se="rust";else return{error:`Analysis for language '${te}' is not currently supported.`};const oe=await Parser.Language.load(ie);ae.setLanguage(oe);const le=ae.parse(ee),ce=[],he=[],fe=[],pe=new Set;return se==="python"?(extract(oe,le.rootNode,"(import_statement) @imp").forEach(xe=>ce.push(xe.node.text)),extract(oe,le.rootNode,"(import_from_statement) @imp").forEach(xe=>ce.push(xe.node.text)),extract(oe,le.rootNode,"(class_definition name: (identifier) @name body: (block) @body)").forEach(xe=>{var be,Se;if(xe.name==="name"){const ve=((Se=(be=xe.node.parent)==null?void 0:be.childForFieldName("superclasses"))==null?void 0:Se.text)||"";he.push({name:xe.node.text,start_line:xe.node.startPosition.row+1,end_line:xe.node.endPosition.row+1,inheritance:ve?[ve]:[]})}}),extract(oe,le.rootNode,"(function_definition name: (identifier) @name parameters: (parameters) @params)").forEach(xe=>{var be,Se;if(xe.name==="name"){const ve=xe.node.parent,Te=(be=ve.childForFieldName("body"))==null?void 0:be.children.find(Ce=>Ce.type==="expression_statement"&&Ce.text.startsWith('"""'));fe.push({name:xe.node.text,start_line:ve.startPosition.row+1,end_line:ve.endPosition.row+1,parameters:((Se=ve.childForFieldName("parameters"))==null?void 0:Se.text)||"()",docstring:Te?Te.text.substring(0,100)+"...":void 0,cyclomatic_complexity:1})}}),extract(oe,le.rootNode,"(call function: (_) @func)").forEach(xe=>{xe.node.text.length<50&&pe.add(xe.node.text)})):se==="javascript"||se==="typescript"?(extract(oe,le.rootNode,"(import_statement) @imp").forEach(ye=>ce.push(ye.node.text)),extract(oe,le.rootNode,"(class_declaration name: (_) @name)").forEach(ye=>{he.push({name:ye.node.text,start_line:ye.node.startPosition.row+1,end_line:ye.node.endPosition.row+1})}),extract(oe,le.rootNode,"(function_declaration name: (identifier) @name)").forEach(ye=>{fe.push({name:ye.node.text,start_line:ye.node.startPosition.row+1,end_line:ye.node.endPosition.row+1,type:"function_declaration"})}),extract(oe,le.rootNode,"(variable_declarator name: (identifier) @name value: (arrow_function))").forEach(ye=>{fe.push({name:ye.node.text,start_line:ye.node.startPosition.row+1,end_line:ye.node.endPosition.row+1,type:"arrow_function"})}),extract(oe,le.rootNode,"(call_expression function: (_) @func)").forEach(ye=>{ye.node.text.length<50&&pe.add(ye.node.text)})):se==="go"?(extract(oe,le.rootNode,"(import_declaration) @imp").forEach(ge=>ce.push(ge.node.text)),extract(oe,le.rootNode,"(function_declaration name: (identifier) @name)").forEach(ge=>{fe.push({name:ge.node.text,start_line:ge.node.startPosition.row+1,end_line:ge.node.endPosition.row+1})}),extract(oe,le.rootNode,"(call_expression function: (_) @func)").forEach(ge=>{ge.node.text.length<50&&pe.add(ge.node.text)})):se==="rust"&&(extract(oe,le.rootNode,"(use_declaration) @imp").forEach(ge=>ce.push(ge.node.text)),extract(oe,le.rootNode,"(function_item name: (identifier) @name)").forEach(ge=>{fe.push({name:ge.node.text,start_line:ge.node.startPosition.row+1,end_line:ge.node.endPosition.row+1})}),extract(oe,le.rootNode,"(call_expression function: (_) @func)").forEach(ge=>{ge.node.text.length<50&&pe.add(ge.node.text)})),{file_path:ne,language:te,overview:{loc:le.rootNode.endPosition.row,functions_count:fe.length,classes_count:he.length,imports_count:ce.length,imports:ce.slice(0,15)},classes:he.map(ge=>({name:ge.name,location:`${ge.start_line}-${ge.end_line}`,inheritance:ge.inheritance||[]})),functions:fe.slice(0,50).map(ge=>({name:ge.name,location:`${ge.start_line}-${ge.end_line}`,parameters:ge.parameters,type:ge.type,docstring:ge.docstring})),dependencies:{calls:Array.from(pe).slice(0,50)}}}catch(ae){return{error:`Code Analysis Error: ${ae.message}`}}}class FileSystemBridge{constructor(){this.pendingRequests=new Map,this.listeners=new Set,this.worker=new Worker(new URL("/multi_agent/assets/opfsFiles-ZomIaZD_.js",import.meta.url),{type:"module"}),this.worker.onmessage=te=>{const{id:ne,status:ae,result:ie,error:se}=te.data;if(ne==="event"&&ae==="fs_change"){this.emitChange(ie);return}const oe=this.pendingRequests.get(ne);oe&&(ae==="success"?oe.resolve(ie):oe.reject(new Error(se)),this.pendingRequests.delete(ne))}}callWorker(te,ne){const ae=Math.random().toString(36).substring(2,9);return new Promise((ie,se)=>{this.pendingRequests.set(ae,{resolve:ie,reject:se}),this.worker.postMessage({id:ae,method:te,args:ne})})}async addTags(te,ne){return this.callWorker("addTags",{path:te,tags:ne})}async removeTags(te,ne){return this.callWorker("removeTags",{path:te,tags:ne})}async searchByTags(te){return this.callWorker("searchByTags",{tags:te})}async getTags(te){return this.callWorker("getTags",{path:te})}async list(te="/"){return this.callWorker("list",{path:te})}async getMetadata(te){return this.callWorker("getMetadata",{path:te})}async listRecursive(te="/"){return this.callWorker("listRecursive",{path:te})}async write(te,ne){return this.callWorker("write",{path:te,content:ne})}async applyPatch(te,ne){return this.callWorker("applyPatch",{path:te,content:ne})}async replaceRange(te,ne,ae,ie,se,oe){let le=ie;return typeof ie!="string"&&ie[Symbol.iterator]&&(le=Array.from(ie)),this.callWorker("replaceRange",{path:te,startLine:ne,endLine:ae,newContent:le,expectedStart:se,expectedEnd:oe})}async append(te,ne){return this.callWorker("append",{path:te,content:ne})}async readWindow(te,ne,ae){return this.callWorker("readWindow",{path:te,startLine:ne,endLine:ae})}async grep(te,ne){return this.callWorker("grep",{query:te,options:ne})}async grepFile(te,ne){return this.callWorker("grepFile",{path:te,query:ne})}async delete(te){return this.callWorker("delete",{path:te})}async countLines(te){return this.callWorker("countLines",{path:te})}async readFile(te){return this.callWorker("readFile",{path:te})}async readBytes(te,ne,ae){return this.callWorker("readBytes",{path:te,offset:ne,length:ae})}async writeBytes(te,ne,ae){return this.callWorker("writeBytes",{path:te,buffer:ne,offset:ae})}async truncate(te,ne){await this.callWorker("truncate",{path:te,size:ne})}async getFileUrl(te){const ne=await this.readFile(te);return URL.createObjectURL(ne)}async rename(te,ne){await this.callWorker("rename",{oldPath:te,newPath:ne})}subscribe(te){return this.listeners.add(te),()=>{this.listeners.delete(te)}}emitChange(te){this.listeners.forEach(ne=>ne(te))}async mountLocalDirectory(te){try{const ne=await window.showDirectoryPicker({mode:"readwrite"}),ae=Math.random().toString(36).substring(2,9);return new Promise((ie,se)=>{this.pendingRequests.set(ae,{resolve:ie,reject:se}),this.worker.postMessage({id:ae,method:"mount",args:{alias:te,handle:ne}})})}catch(ne){throw console.error("Failed to mount directory:",ne),ne}}async mountGithub(te,ne,ae,ie){const se=localStorage.getItem("gh_token");return se&&await this.callWorker("setGithubToken",{token:se}),this.callWorker("mountGithub",{alias:te,owner:ne,repo:ae,branch:ie})}async setGithubToken(te){return this.callWorker("setGithubToken",{token:te})}async unmount(te){return this.callWorker("unmount",{alias:te})}async getMounts(){return this.callWorker("getMounts",{})}async flushFile(te){return this.callWorker("flushFile",{path:te})}async flushMount(te){return this.callWorker("flushMount",{alias:te})}async getMountInfo(te){return this.callWorker("getMountInfo",{alias:te})}async discardChange(te){return this.callWorker("discardChange",{path:te})}async diff(te){return this.callWorker("diff",{path:te})}async mkdir(te){return this.callWorker("mkdir",{path:te})}terminate(){this.worker.terminate()}}const fileSystem=new FileSystemBridge,createStoreImpl=ee=>{let te;const ne=new Set,ae=(he,fe)=>{const pe=typeof he=="function"?he(te):he;if(!Object.is(pe,te)){const ge=te;te=fe??(typeof pe!="object"||pe===null)?pe:Object.assign({},te,pe),ne.forEach(ye=>ye(te,ge))}},ie=()=>te,le={setState:ae,getState:ie,getInitialState:()=>ce,subscribe:he=>(ne.add(he),()=>ne.delete(he))},ce=te=ee(ae,ie,le);return le},createStore=(ee=>ee?createStoreImpl(ee):createStoreImpl);class AgentVariable{constructor(te,ne,ae,ie){this.id=te,this.type=ne,this.metadata=ae,this.content=ie}getCompactPreview(){return generateCompactPreview(this)}getUnwrapped(){return generateUnwrapped(this)}toJSON(){return{id:this.id,type:this.type,metadata:this.metadata,content:this.serializeContent(this.content)}}serializeContent(te){if(this.type==="map"&&te instanceof Map){const ne={};for(const[ae,ie]of te.entries())ne[ae]=ie instanceof AgentVariable?ie.toJSON():ie;return ne}return this.type==="list"&&Array.isArray(te)?te.map(ne=>ne instanceof AgentVariable?ne.toJSON():ne):te}static fromJSON(te){let ne=te.content;if(te.type==="map"&&typeof ne=="object"&&ne!==null){const ae=new Map;for(const ie in ne)ae.set(ie,AgentVariable.fromJSON(ne[ie]));ne=ae}else te.type==="list"&&Array.isArray(ne)&&(ne=ne.map(ae=>AgentVariable.fromJSON(ae)));return new AgentVariable(te.id,te.type,te.metadata,ne)}}const createAgentStore=()=>createStore((ee,te)=>({variables:new Map,allocateReference:(ne,ae)=>{const ie=`var_${Date.now()}_${Math.random().toString(36).substring(2,5)}`,se=new AgentVariable(null,ne.type,ne.metadata,ne.content);return ee(oe=>{const le=ae&&!oe.variables.has(ae)?ae:ie,ce=new Map(oe.variables);return ce.set(le,se),{variables:ce}}),se},setVariable:(ne,ae)=>{const ie=ae||`var_${Date.now()}_${Math.random().toString(36).substring(2,5)}`,se=wrapValue(ne);return se.id=ie,ee(oe=>{const le=new Map(oe.variables);return le.set(ie,se),{variables:le}}),se},getVariable:ne=>te().variables.get(ne),hasVariable:ne=>te().variables.has(ne),updateVariable:(ne,ae)=>{const ie=wrapValue(ae);ie.id=ne,ee(se=>{const oe=new Map(se.variables);return oe.set(ne,ie),{variables:oe}})},deleteVariable:ne=>{ee(ae=>{const ie=new Map(ae.variables);return ie.delete(ne),{variables:ie}})},clear:()=>ee({variables:new Map}),serialize:()=>{const ne={};return te().variables.forEach((ae,ie)=>{ne[ie]=ae.toJSON()}),ne},deserialize:ne=>{const ae=new Map;for(const ie in ne)ae.set(ie,AgentVariable.fromJSON(ne[ie]));ee({variables:ae})}}));function wrapValue(ee){if(ee==null)return new AgentVariable(null,"text",{size:0},String(ee));if(Array.isArray(ee))return new AgentVariable(null,"list",{size:ee.length},ee.map(wrapValue));if(ee instanceof AgentVariable)return ee;if(typeof ee=="object"&&ee!==null){const te=new Map;for(const ne in ee)te.set(ne,wrapValue(ee[ne]));return new AgentVariable(null,"map",{size:ee.length},te)}return new AgentVariable(null,"text",{size:ee.length},String(ee))}function generateUnwrapped(ee){if(!ee)return null;const{type:te,content:ne,metadata:ae}=ee;try{switch(te){case"text":return ne;case"list":return ne.map(generateUnwrapped);case"map":if(ne instanceof Map){const ie={};for(const[se,oe]of ne.entries())ie[se]=generateUnwrapped(oe);return ie}else return ne;default:return ne}}catch{return null}}function generateCompactPreview(ee){if(!ee)return"null";const{type:te,content:ne,metadata:ae}=ee;try{switch(te){case"text":return previewText(ne);case"list":return previewList(ne);case"map":return ne instanceof Map?previewMap(ne):previewObject(ne);case"blob":return previewBlob(ae);default:return`Unknown Type (${te})`}}catch(ie){return`[Error Generating Preview: ${ie instanceof Error?ie.message:"Unknown"}]`}}function previewText(ee){if(typeof ee!="string")return`[Invalid Text Content: ${typeof ee}]`;const te=ee.length;if(te<=50)return`"${ee}"`;const ne=ee.slice(0,50).replace(/\n/g,"");return`String(Len: ${te}) "${ne}..."`}function previewList(ee){if(!Array.isArray(ee))return"[Invalid List Content]";const te=ee.length;if(te===0)return"List[] (Empty)";const ne=ee[0];let ae="Unknown";if(ne)if(ne.type==="map"){const ie=getKeysFromMapOrObject(ne.content),se=ie.slice(0,4).join(", "),oe=ie.length>4?", ...":"";ae=`{${se}${oe}}`}else ne.type==="list"?ae=`List<${ne.type}>`:ae=ne.type;return`List<${ae}> (Len: ${te})`}function previewMap(ee){const te=ee.size,ne=Array.from(ee.keys());return formatKeyPreview(ne,te,"Map")}function previewObject(ee){if(typeof ee!="object"||ee===null)return"[Invalid Map Content]";const te=Object.keys(ee);return formatKeyPreview(te,te.length,"Map")}function formatKeyPreview(ee,te,ne){if(te===0)return`${ne}{} (Empty)`;const ae=ee.slice(0,5),ie=te-5,se=ae.join(", "),oe=ie>0?`, ...+${ie} more`:"";return`${ne}{ ${se}${oe} }`}function previewBlob(ee){const te=ee.mimeType||"unknown/binary",ne=ee.size?formatBytes(ee.size):"Unknown Size";return`Blob(${te}, ${ne})`}function getKeysFromMapOrObject(ee){return ee instanceof Map?Array.from(ee.keys()):typeof ee=="object"&&ee!==null?Object.keys(ee):[]}function formatBytes(ee,te=1){if(ee===0)return"0 B";const ne=1024,ae=te<0?0:te,ie=["B","KB","MB","GB","TB"],se=Math.floor(Math.log(ee)/Math.log(ne));return parseFloat((ee/Math.pow(ne,se)).toFixed(ae))+" "+ie[se]}class IsolatedAgentContext{constructor(te,ne,ae=[]){this.parent=te,this.config=ne,this.localValues=createAgentStore(),this.chat=te.getGeminiService().chats.create({model:ne.model,config:{systemInstruction:`You are ${ne.name}. 
System:
 ${ne.system_prompt}
${ae.length?`
Present variables: ${ae.join(", ")}`:""}
`,tools:[{functionDeclarations:this.getToolDeclaration(2)}]}}),ae.forEach(ie=>{const se=te.localValues.getState().getVariable(ie);se&&this.localValues.getState().setVariable(se.content,se.id)})}async sendMessage(te,ne=[],ae,ie){return sendMessage(this.chat,this,this.config.name,te,ne,ae,ie)}getGeminiService(){return this.parent.getGeminiService()}setCurrentTaskId(te){this.currentTaskId=te}async executeTool(te,ne,ae,ie,se){const oe=ie||this.currentTaskId;return executeTool(te,ne,this,ae,oe,se)}async startTask(te,ne,ae,ie){if(!this.parent.startTask)return"no_task_manager";const se=ne||this.currentTaskId;return this.parent.startTask(`[${this.config.name}] ${te}`,se,ae,ie)}getToolDeclaration(te){let ne=this.parent.getToolDeclaration(te);return allTools.filter(ae=>this.config.allowedTools.includes(ae.category)&&ne.includes(ae.declaration)).map(ae=>ae.declaration)}async getContextStats(){return this.parent.getContextStats()}async removeContextTurns(te){return this.parent.removeContextTurns(te)}async toggleContextTurn(te,ne){return this.parent.toggleContextTurn(te,ne)}async runResearchTask(te,ne,ae,ie,se,oe){return this.parent.runResearchTask(te,ne,ae,ie,se,oe)}async runBatchResearchTask(te,ne,ae,ie){return this.parent.runBatchResearchTask(te,ne,ae,ie)}async fetchUrlContent(te){return this.parent.fetchUrlContent(te)}async callWebApi(te,ne,ae,ie){return this.parent.callWebApi(te,ne,ae,ie)}async performGoogleSearch(te,ne){return this.parent.performGoogleSearch(te,ne)}async performBatchGoogleSearch(te,ne){return this.parent.performBatchGoogleSearch(te,ne)}async performImageGeneration(te,ne){return this.parent.performImageGeneration(te,ne)}async performImageGenerationBatch(te,ne,ae){return this.parent.performImageGenerationBatch(te,ne,ae)}async saveToMemory(te,ne){return this.parent.saveToMemory(te,ne)}async searchMemory(te){return this.parent.searchMemory(te)}reportTaskLog(te,ne){this.parent.reportTaskLog&&this.parent.reportTaskLog(te,`[${this.config.name}] ${ne}`)}reportTaskEvent(te,ne){this.parent.reportTaskEvent&&this.parent.reportTaskEvent(te,ne)}updateTaskStatus(te,ne,ae){this.parent.updateTaskStatus&&this.parent.updateTaskStatus(te,ne,ae)}}async function askIsolatedAgent(ee,te,ne,ae,ie){return(await new IsolatedAgentContext(ae,te,ne).sendMessage(ee,void 0,void 0,ie)).text}const INTERPOLATION_REGEX=/(\$\{[a-zA-Z0-9_]+\})/,DIRECT_REF_REGEX=/^\$([a-zA-Z0-9_]+)$/;class ArgumentResolver{constructor(te){this.store=te}*resolveStreaming(te){const ne=te.match(DIRECT_REF_REGEX);if(ne){const ie=ne[1];if(!this.store.getState().hasVariable(ie))throw Error(`The variable ${ie} is not defined.`);yield this.store.getState().getVariable(ie);return}if(!te.includes("${")){yield te;return}const ae=te.split(INTERPOLATION_REGEX);for(let ie=0;ie<ae.length;ie++){const se=ae[ie];if(se.startsWith("${")&&se.endsWith("}")){const oe=se.substring(2,se.length-1);if(!this.store.getState().hasVariable(oe))throw Error(`The variable ${oe} is not defined.`)}}for(let ie=0;ie<ae.length;ie++){const se=ae[ie];if(se.startsWith("${")&&se.endsWith("}")){const oe=se.substring(2,se.length-1);yield this.store.getState().getVariable(oe)}else se.length>0&&(yield se)}}resolve(te){var ne="";for(const ae of this.resolveStreaming(te))ne.length&&(ne+=""),typeof ae=="string"?ne+=ae:ae.type=="text"?ne+=ae.content:ne+=ae.toJSON();return ne}}function getLanguageFromExtension(ee){var ne;switch((ne=ee.split(".").pop())==null?void 0:ne.toLowerCase()){case"js":case"jsx":return"javascript";case"ts":case"tsx":return"typescript";case"py":return"python";case"go":return"go";case"rs":return"rust";default:return""}}const analysisTools=[{declaration:{name:"analyze_code_structure",description:"Perform deep semantic analysis on code. Can analyze code from a string or a local file path.",parameters:{type:Type$2.OBJECT,properties:{code:{type:Type$2.STRING,description:"Raw code string to analyze."},path:{type:Type$2.STRING,description:"Local virtual file path to analyze (highly recommended for large files)."},language:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["language"]}},handler:async(ee,te)=>{let ne=ee.code;if(!ne&&ee.path)try{ne=await(await fileSystem.readFile(ee.path)).text()}catch(ie){return`Error reading file at ${ee.path}: ${ie.message}`}if(!ne)return"Error: Either 'code' or 'path' must be provided.";const ae=await analyzeCode(ne,ee.language,ee.path);return ee.output_variable?te.localValues.getState().setVariable(ae,ee.output_variable):JSON.stringify(ae,null,2)},category:"system",ui:{iconName:"FileText",renderSummary:ee=>{switch(ee.action){case"read_window":return`Reading file ${ee.path}`;case"count_lines":return`Getting the line count for ${ee.path}`;case"search_text":return`Searching for text in file ${ee.path}`;case"write_file":return`Overwriting file ${ee.path}`;case"append":return`Appending data to file ${ee.path}`;case"replace_range":return`Modifying file ${ee.path}`;case"diff":return`Receiving diff for file ${ee.path}`;case"apply_patch":return`Patching file ${ee.path}`;default:return"Unknown file action"}}}},{declaration:{name:"index_codebase",description:"Fast semantic mapping of a codebase. Scans a directory and builds a compact index of all classes, functions, and symbols. Result is saved to a variable for search.",parameters:{type:Type$2.OBJECT,properties:{path:{type:Type$2.STRING,description:"The directory path to index."},output_variable:{type:Type$2.STRING,description:"Variable ID to store the map."}},required:["path","output_variable"]}},handler:async(ee,te,ne,ae)=>{te.reportTaskLog&&ae&&te.reportTaskLog(ae,`Indexing codebase at: ${ee.path}`);const se=(await fileSystem.listRecursive(ee.path)).filter(fe=>getLanguageFromExtension(fe.path)!==""&&!fe.path.includes("node_modules")&&!fe.path.includes(".git"));if(se.length===0)return"No supported source files found in the specified path.";te.reportTaskLog&&ae&&te.reportTaskLog(ae,`Found ${se.length} files to index.`);const oe=10,le={};let ce=0;for(let fe=0;fe<se.length;fe+=oe){const pe=se.slice(fe,fe+oe);te.reportTaskLog&&ae&&te.reportTaskLog(ae,`Processing chunk ${Math.floor(fe/oe)+1}/${Math.ceil(se.length/oe)}`),(await Promise.all(pe.map(async ye=>{try{const xe=await(await fileSystem.readFile(ee.path)).text(),be=getLanguageFromExtension(ye.path),Se=await analyzeCode(xe,be,ye.path);return Se.error?null:{path:ye.path,language:be,symbols:{classes:Se.classes.map(ve=>ve.name),functions:Se.functions.map(ve=>ve.name),imports:Se.overview.imports}}}catch{return null}}))).forEach(ye=>{ye&&(le[ye.path]=ye,ce++)})}const he=te.localValues.getState().setVariable(le,ee.output_variable);return`[System]: Successfully indexed ${ce}/${se.length} files. 
Semantic map stored in variable '$${he.id}'. 
Use 'query_variable' with JSONPath to find symbols, e.g., "$.*[?(@.symbols.functions.includes('myFunc'))]".`},category:"system",ui:{iconName:"FileText",renderSummary:ee=>{switch(ee.action){case"read_window":return`Reading file ${ee.path}`;case"count_lines":return`Getting the line count for ${ee.path}`;case"search_text":return`Searching for text in file ${ee.path}`;case"write_file":return`Overwriting file ${ee.path}`;case"append":return`Appending data to file ${ee.path}`;case"replace_range":return`Modifying file ${ee.path}`;case"diff":return`Receiving diff for file ${ee.path}`;case"apply_patch":return`Patching file ${ee.path}`;default:return"Unknown file action"}}}},{declaration:{name:"run_critic_review",description:'Spawns a specialized "Critic Agent".',parameters:{type:Type$2.OBJECT,properties:{content_to_review:{type:Type$2.STRING,description:"Any ${name} variable mentioned is automatically cloned for the critic."},perspective:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["content_to_review"]}},handler:async(ee,te,ne,ae)=>{const ie=new ArgumentResolver(te.localValues).resolveStreaming(ee.content_to_review).filter(se=>typeof se!="string").map(se=>se.id).toArray();return await askIsolatedAgent(ee.content_to_review,{name:"Critic agent",model:"gemini-2.5-flash",system_prompt:"Review the content provided by the other agent and share own opinion about it.",allowedTools:["browser","memory"]},ie,te,ae)},category:"system",ui:{iconName:"Brain",renderSummary:ee=>"Running critic review"}},{declaration:{name:"generate_diagram",description:"Generates a diagram using Mermaid.js syntax.",parameters:{type:Type$2.OBJECT,properties:{type:{type:Type$2.STRING,enum:["flowchart","sequence","class","state","er","gantt"]},description:{type:Type$2.STRING},mermaid_code:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["type","mermaid_code"]}},handler:async(ee,te)=>{const ne=`[DIAGRAM GENERATED]
\`\`\`mermaid
${ee.mermaid_code}
\`\`\``;return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):ne},category:"research",ui:{iconName:"ImageIcon",renderSummary:ee=>"Creating a diagram"}}];function base64ToUint8Array(ee){const te=window.atob(ee),ne=new Uint8Array(te.length);for(let ae=0;ae<te.length;ae++)ne[ae]=te.charCodeAt(ae);return ne}function*generatorToSource(ee,te){for(const ne of ee){let ae;if(typeof ne=="string")ae=ne;else{const ie=ne.getUnwrapped();ne.type==="blob"?ae=ie:typeof ie=="object"?ae=JSON.stringify(ie,null,2):ae=String(ie)}te&&typeof ae=="string"&&(ae=base64ToUint8Array(ae)),yield ae}}function generateInput(ee,te,ne){return generatorToSource(new ArgumentResolver(te.localValues).resolveStreaming(ee),ne)}const contextFileTools=[{declaration:{name:"manage_file_system",description:"Manage files and directories. Use this to list files, check file sizes, delete files, or manage tags. DO NOT use this to read or edit file content.",parameters:{type:Type$2.OBJECT,properties:{action:{type:Type$2.STRING,enum:["list_files","list_recursive","get_metadata","delete_file","rename_file","add_tags","remove_tags","search_by_tags","get_tags","list_mounts","mount_github_repo","unmount_repo"],description:"The operation to perform."},path:{type:Type$2.STRING,description:"The path to the file or directory (e.g., 'src/utils.ts'). Required for most file operations."},alias:{type:Type$2.STRING,description:"Alias for mounting (e.g., 'my-repo'). Required for mount/unmount."},owner:{type:Type$2.STRING,description:"GitHub Owner. Required for mount_github_repo."},repo:{type:Type$2.STRING,description:"GitHub Repo. Required for mount_github_repo."},branch:{type:Type$2.STRING,description:"GitHub Branch. Optional for mount_github_repo."},new_path:{type:Type$2.STRING,description:"Required only for 'rename_file'."},tags:{type:Type$2.ARRAY,items:{type:Type$2.STRING},description:"List of tags for tag operations."},output_variable:{type:Type$2.STRING,description:"Optional. Save the result (e.g., file list) to a variable instead of returning text."}},required:["action"]}},handler:async(ee,te)=>{let ne;switch(ee.action){case"list_files":ne=await fileSystem.list(ee.path);break;case"list_recursive":ne=await fileSystem.listRecursive(ee.path);break;case"get_metadata":if(!ee.path)throw new Error("path is required");ne=await fileSystem.getMetadata(ee.path);break;case"delete_file":if(!ee.path)throw new Error("path is required");await fileSystem.delete(ee.path),ne=`File '${ee.path}' deleted.`;break;case"rename_file":if(!ee.path||!ee.new_path)throw new Error("path and new_path are required");await fileSystem.rename(ee.path,ee.new_path),ne=`File '${ee.path}' renamed to '${ee.new_path}'.`;break;case"add_tags":if(!ee.path)throw new Error("path is required");await fileSystem.addTags(ee.path,ee.tags),ne="Tags added.";break;case"remove_tags":if(!ee.path)throw new Error("path is required");await fileSystem.removeTags(ee.path,ee.tags),ne="Tags removed.";break;case"get_tags":if(!ee.path)throw new Error("path is required");ne=await fileSystem.getTags(ee.path);break;case"search_by_tags":ne=await fileSystem.searchByTags(ee.tags);break;case"list_mounts":ne=await fileSystem.getMounts();break;case"mount_github_repo":if(!ee.alias||!ee.owner||!ee.repo)throw new Error("alias, owner, and repo are required.");await fileSystem.mountGithub(ee.alias,ee.owner,ee.repo,ee.branch||"main"),ne=`Mounted GitHub repo ${ee.owner}/${ee.repo} at /${ee.alias}`;break;case"unmount_repo":if(!ee.alias)throw new Error("alias is required.");await fileSystem.unmount(ee.alias),ne=`Unmounted ${ee.alias}`;break;default:throw new Error(`Unknown action: ${ee.action}`)}return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):typeof ne=="string"?ne:JSON.stringify(ne,null,2)},category:"system",ui:{iconName:"FileText",renderSummary:ee=>{switch(ee.action){case"list_files":return`Listing files in ${ee.path}`;case"list_recursive":return`Listing files in ${ee.path} recursively`;case"get_metadata":return`Loading metadata for ${ee.path}`;case"delete_file":return`Deleting file ${ee.path}`;case"rename_file":return`Renaming file from ${ee.path} to ${ee.new_path}`;case"add_tags":return`Adding tags to ${ee.path}`;case"remove_tags":return`Removing tags from ${ee.path}`;case"get_tags":return`Receiving tags from ${ee.path}`;case"search_by_tags":return`Searching by tags ${ee.tags}`;case"list_mounts":return"Listing mounts";case"mount_github_repo":return"Mounting github repository";case"unmount_repo":return"Unmounting repository";default:return"Unknown file action"}}}},{declaration:{name:"manage_file_content",description:"The primary tool for file operations. Use `apply_patch` for code editing (it handles line shifts safely). Use `write_file` for new files. Use `replace_range` only for strict, surgical edits on known line numbers.",parameters:{type:Type$2.OBJECT,properties:{action:{type:Type$2.STRING,enum:["read_window","count_lines","search_text","write_file","append","replace_range","diff","apply_patch"],description:`
- read_window: Read specific lines. Use to limit context. Uses start_line, end_line and path.
- apply_patch: PREFERRED for editing code. Applies a Git-style Unified Diff. Fuzzy matches context even if line numbers shift. This is always in direct_mode. Requires content and path.
- replace_range: STRICT overwrite. Replaces lines start_line to end_line. Fails if safety checks (expected_text) miss. Requires content path start_line end_line and one of expected_start_text/expected_end_text
- write_file: Overwrites the ENTIRE file. Requires content and path.
- search_text: Grep/Find. Returns line numbers and content. Requires query and path.
                        `},path:{type:Type$2.STRING},content:{type:Type$2.STRING,description:"The data to write. Supports system variable injection (e.g., '${user_name}'). WARNING: If writing code that naturally uses '${...}' syntax, set 'direct_mode: true' to prevent accidental substitution. For 'apply_patch', this MUST be a standard Unified Diff string (including '@@ -n,l +n,l @@' headers)."},encoding:{type:Type$2.STRING,enum:["utf-8","base64"],description:"Default is 'utf-8'. Use 'base64' if saving images or binaries."},start_line:{type:Type$2.NUMBER,description:"Required for 'read_window' and 'replace_range'. (1-based index)"},end_line:{type:Type$2.NUMBER,description:"Required for 'replace_range'. Optional for 'read_window' (defaults to start + 500)."},expected_start_text:{type:Type$2.STRING,description:"Strongly recommended for 'replace_range'. Verifies the line at start_line matches this text before editing."},expected_end_text:{type:Type$2.STRING,description:"Strongly recommended for 'replace_range'. Verifies the line at end_line matches this text."},query:{type:Type$2.STRING,description:"Text to search for (used with 'search_text')."},direct_mode:{type:Type$2.BOOLEAN,description:"If true, bypasses variable interpolation `${var}` and writes content literally."},output_variable:{type:Type$2.STRING}},required:["action","path"]}},handler:async(ee,te)=>{if(ee.action==="write_file"){if(ee.content===void 0)throw new Error("content is required for 'write_file' action.");if(ee.path===void 0)throw new Error("path is required for 'write_file' action.");if(ee.direct_mode)await fileSystem.write(ee.path,ee.content);else{await fileSystem.write(ee.path,"");for(const ne of generateInput(ee.content,te,ee.encoding==="base64"))await fileSystem.append(ee.path,ne)}return ee.path.match(/\.(png|jpg|webp)$/)&&await fileSystem.addTags(ee.path,["image"]),`[System]: Successfully wrote content to '${ee.path}'.`}else if(ee.action==="append"){if(ee.content===void 0)throw new Error("content is required for 'append' action.");if(ee.path===void 0)throw new Error("path is required for 'append' action.");if(ee.direct_mode)await fileSystem.append(ee.path,ee.content);else for(const ne of generateInput(ee.content,te,ee.encoding==="base64"))await fileSystem.append(ee.path,ne);return`[System]: Successfully appended content to '${ee.path}'.`}else if(ee.action==="read_window"){if(ee.path===void 0)throw new Error("path is required for 'read_window' action.");const ne=ee.start_line||1,ae=ee.end_line||ne+500,ie=await fileSystem.readWindow(ee.path,ne,ae),se=await fileSystem.countLines(ee.path),oe=ie.split(`
`),le=[`--- Lines ${ne}-${ne+oe.length-1} of ${se} ---`,oe.join(`
`),"--- End of Window ---"].join(`
`);return ee.output_variable?te.localValues.getState().setVariable(le,ee.output_variable):le}else if(ee.action==="replace_range"){if(ee.content===void 0)throw new Error("content is required for 'replace_range' action.");if(ee.path===void 0)throw new Error("path is required for 'replace_range' action.");if(ee.start_line===void 0)throw new Error("start_line is required for 'replace_range' action.");if(ee.end_line===void 0)throw new Error("end_line is required for 'replace_range' action.");if(ee.expected_start_text===void 0&&ee.expected_end_text===void 0)throw new Error("expected_start_text or expected_end_text required for 'replace_range' action.");return ee.direct_mode?await fileSystem.replaceRange(ee.path,ee.start_line,ee.end_line,ee.content,ee.expected_start_text,ee.expected_end_text):await fileSystem.replaceRange(ee.path,ee.start_line,ee.end_line,generateInput(ee.content,te,ee.encoding==="base64"),ee.expected_start_text,ee.expected_end_text),`[System]: Successfully replaced lines ${ee.start_line}-${ee.end_line}.`}else if(ee.action==="search_text"){if(ee.path===void 0)throw new Error("path is required for 'search_text' action.");if(ee.query===void 0)throw new Error("query is required for 'search_text' action.");const ne=await fileSystem.grepFile(ee.path,ee.query);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):JSON.stringify(ne)}else if(ee.action==="count_lines"){if(ee.path===void 0)throw new Error("path is required for 'count_lines' action.");return`[System]: File has ${await fileSystem.countLines(ee.path)} lines.`}else if(ee.action==="diff"){if(ee.path===void 0)throw new Error("path is required for 'diff' action.");const ne=await fileSystem.diff(ee.path);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):ne||"[System]: No differences found."}else if(ee.action==="apply_patch"){if(ee.path===void 0)throw new Error("path is required for 'apply_patch' action.");if(ee.content===void 0)throw new Error("content is required for 'apply_patch' action.");if(ee.direct_mode)await fileSystem.write(ee.path,ee.content);else{await fileSystem.write(ee.path,"");for(const ae of generateInput(ee.content,te,ee.encoding==="base64"))await fileSystem.append(ee.path,ae)}const ne=await fileSystem.applyPatch(ee.path,ee.content);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):ne}else throw new Error(`Unknown action: ${ee.action}`)},category:"system",ui:{iconName:"FileText",renderSummary:ee=>{switch(ee.action){case"read_window":return`Reading file ${ee.path}`;case"count_lines":return`Getting the line count for ${ee.path}`;case"search_text":return`Searching for text in file ${ee.path}`;case"write_file":return`Overwriting file ${ee.path}`;case"append":return`Appending data to file ${ee.path}`;case"replace_range":return`Modifying file ${ee.path}`;case"diff":return`Receiving diff for file ${ee.path}`;case"apply_patch":return`Patching file ${ee.path}`;default:return"Unknown file action"}}}}];function resolveVariable(ee,te){var ie,se,oe,le;const ae=ee.replace(/\[(\d+)\]/g,".$1").split(".");if(ae[0]==="$steps"&&ae.length>=3){const ce=ae[1],he=ae[2],fe=(ie=te.steps)==null?void 0:ie[ce];if(fe){let pe;if((he==="result"||he==="output")&&(pe=fe.result),pe!==void 0){if(ae.length>3){if(typeof pe=="string"&&(pe.trim().startsWith("{")||pe.trim().startsWith("[")))try{const ye=JSON.parse(pe);typeof ye=="object"&&ye!==null&&(pe=ye)}catch{}let ge=pe;for(let ye=3;ye<ae.length&&ge!=null;ye++)ge=ge[ae[ye]];return ge}return pe}}return}if(ae[0]==="$item"&&ae.length>=2){const ce=ae[1];return ce==="value"||ce==="result"||ce==="output"?(se=te.item)==null?void 0:se.value:ce==="name"?(oe=te.item)==null?void 0:oe.name:(le=te.item)==null?void 0:le[ce]}}function substituteVariables(ee,te){if(typeof ee=="string"){if(ee.startsWith("$")&&!ee.includes(" ")&&!ee.includes("{")){const ae=resolveVariable(ee,te);if(ae!==void 0)return ae}const ne=/(\$|\$\{)(\$?steps\.[a-zA-Z0-9_-]+\.(?:result|output)(?:[a-zA-Z0-9_\-\.\[\]]+)*|\$?item\.(?:value|result|output|name)|\$?items)(\}?)/g;return ne.test(ee)?ee.replace(ne,(ae,ie,se,oe)=>{const le=se.startsWith("$")?se:"$"+se,ce=resolveVariable(le,te);return ce===void 0?ae:typeof ce=="object"?JSON.stringify(ce):String(ce)}):ee}else{if(Array.isArray(ee))return ee.map(ne=>substituteVariables(ne,te));if(typeof ee=="object"&&ee!==null){const ne={};for(const ae in ee)ne[ae]=substituteVariables(ee[ae],te);return ne}}return ee}function getDependencies(ee){const te=new Set,ne=JSON.stringify(ee),ae=/(?:\$|\$\{)\$?steps\.([a-zA-Z0-9_-]+)/g;let ie;for(;(ie=ae.exec(ne))!==null;)te.add(ie[1]);return te}async function executeDAG(ee,te,ne,ae,ie){const se=ee.map(fe=>fe[0]),oe=new Map(ee),le=new Map;for(const fe of se){const pe=oe.get(fe);if(!pe||typeof pe!="object")throw new Error(`Step '${fe}' must be an object with { tool_name: args }.`);const ge=Object.keys(pe)[0],ye=pe[ge],xe=getDependencies(ye);for(const be of xe)if(!oe.has(be))throw new Error(`Step '${fe}' references non-existent step '${be}'. Check your variable names.`)}const ce=new Map;se.forEach(fe=>{let pe,ge;const ye=new Promise((xe,be)=>{pe=xe,ge=be});ce.set(fe,{resolve:pe,reject:ge,promise:ye})}),se.forEach(fe=>{(async()=>{try{const pe=oe.get(fe),ge=Object.keys(pe)[0],ye=pe[ge],xe=Array.from(getDependencies(ye)).filter(Ce=>se.includes(Ce));await Promise.all(xe.map(Ce=>{const Pe=ce.get(Ce);return Pe?Pe.promise:Promise.resolve()}));const be={...te,steps:{...te.steps}};le.forEach((Ce,Pe)=>{be.steps[Pe]=Ce});const Se=substituteVariables(ye,be);if(!ne.executeTool)throw new Error("Context executeTool missing");let ve=await ne.executeTool(ge,Se,ae,ie,fe);if(typeof ve=="string"&&(ve.trim().startsWith("{")||ve.trim().startsWith("[")))try{ve=JSON.parse(ve)}catch{}const Te={result:ve};le.set(fe,Te),ce.get(fe).resolve(Te)}catch(pe){ce.get(fe).reject(pe)}})()}),await Promise.all(Array.from(ce.values()).map(fe=>fe.promise));const he={};return le.forEach((fe,pe)=>{he[pe]=fe}),he}const flowTools=[{declaration:{name:"transform_text",description:"Lightweight string templating utility. Could be useful for formatting run_flow outputs in to one.",parameters:{type:Type$2.OBJECT,properties:{template:{type:Type$2.STRING,description:"Template string with placeholders like {input_name}."},inputs:{type:Type$2.OBJECT,description:"Map of input_name to value to substitute in the template."},output_variable:{type:Type$2.STRING}},required:["template","inputs"]}},handler:async(ee,te)=>{let ne=ee.template;if(ee.inputs){for(const[ae,ie]of Object.entries(ee.inputs)){const se=new RegExp(`\\{${ae}(?:\\[(\\d+)\\])?\\}`,"g");ne=ne.replace(se,(oe,le)=>{if(le!==void 0&&Array.isArray(ie)){const ce=parseInt(le),he=ie[ce];return typeof he=="object"?JSON.stringify(he):String(he??"")}return typeof ie=="object"?JSON.stringify(ie):String(ie??"")})}ne=ne.replace(/\{[a-zA-Z0-9_]+(?:\[\d+\])?\}/g,"")}return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):ne},category:"system",ui:{iconName:"Terminal",renderSummary:ee=>"Transforming text"}},{declaration:{name:"run_flow",description:"Orchestrates a Directed Acyclic Graph (DAG) of tool calls. Dependencies are inferred automatically from variable usage ($steps.STEP_ID.result). Supports bracket notation (e.g. $steps.STEP_ID.result[0]) and deep property access (e.g. $steps.STEP_ID.result.path). String results from steps are automatically parsed as JSON if applicable for deep access. Parallel execution is automatic.",parameters:{type:Type$2.OBJECT,properties:{steps:{type:Type$2.OBJECT,description:'Map of step ids, define the step as `{ "step_id": {"tool_name": { arguments }}.`'},return_output:{type:Type$2.STRING,description:'Could be empty. Use "*" for all results (sorted by declaration), or comma-separated keys.'},output_variable:{type:Type$2.STRING}},required:["steps","return_output"]}},handler:async(ee,te,ne,ae,ie)=>{var he,fe;const se=ee.steps;if(!se||typeof se!="object")throw Error("'steps' argument must be an object.");const oe=Object.entries(se);if(oe.length===0)throw Error("No steps defined.");let le=ae;te.startTask&&ie&&(le=await te.startTask(`Flow Execution (${oe.length} steps)`,ae,ne,ie),te.updateTaskStatus&&te.updateTaskStatus(le,"running"));const ce={steps:{}};try{if(ce.steps=await executeDAG(oe,ce,te,ne,le),te.updateTaskStatus&&le&&le!==ae&&te.updateTaskStatus(le,"completed"),!ee.return_output||ee.return_output===""){const ge=oe[oe.length-1][0],ye=(he=ce.steps[ge])==null?void 0:he.result;return ee.output_variable?te.localValues.getState().setVariable(ye,ee.output_variable):typeof ye=="object"?JSON.stringify(ye,null,2):String(ye??"")}if(ee.return_output==="*"){const ge={};return oe.forEach(([ye])=>{ce.steps[ye]&&(ge[ye]=ce.steps[ye].result)}),ee.output_variable?te.localValues.getState().setVariable(ge,ee.output_variable):JSON.stringify(ge,null,2)}if(ee.return_output.includes(",")){const ge=ee.return_output.split(",").map(xe=>xe.trim()),ye={};for(const xe of ge)ce.steps[xe]&&(ye[xe]=ce.steps[xe].result);return ee.output_variable?te.localValues.getState().setVariable(ye,ee.output_variable):JSON.stringify(ye,null,2)}const pe=(fe=ce.steps[ee.return_output])==null?void 0:fe.result;if(pe===void 0)throw new Error(`Step '${ee.return_output}' not found or produced no result.`);return ee.output_variable?te.localValues.getState().setVariable(pe,ee.output_variable):typeof pe=="object"?JSON.stringify(pe):String(pe)}catch(pe){throw te.updateTaskStatus&&le&&le!==ae&&te.updateTaskStatus(le,"failed",pe.message),pe}},category:"flow",ui:{iconName:"Terminal",renderSummary:ee=>"Executing the flow"}},{declaration:{name:"for_each",description:"Appplies for each item run_flow operation. To get the current item value use $item.value for lists and maps, to get the name use $item.name for maps. Supports bracket notation and deep access within steps.",parameters:{type:Type$2.OBJECT,properties:{input:{type:Type$2.STRING,description:"Accepts variable $name."},steps:{type:Type$2.OBJECT,description:'Map of step_id to { "tool_name": { params... }.'},return_output:{type:Type$2.STRING,description:'Optional. Use "*" for all results (sorted by declaration), or comma-separated keys.'},output_variable:{type:Type$2.STRING}},required:["steps","input"]}},handler:async(ee,te,ne,ae,ie)=>{const se=ee.steps;if(!se||typeof se!="object")throw Error("'steps' argument must be an object.");const oe=Object.entries(se);if(oe.length===0)throw Error("No steps defined.");const le=ee.input;let ce=[];if(le.startsWith("$")){const ye=le.slice(1),xe=te.localValues.getState().getVariable(ye);if(xe){const be=xe.getUnwrapped();Array.isArray(be)?ce=be.map(Se=>({value:Se})):typeof be=="object"&&be!==null?ce=Object.entries(be).map(([Se,ve])=>({value:ve,name:Se})):ce=[{value:be}]}}else try{const ye=JSON.parse(le);Array.isArray(ye)?ce=ye.map(xe=>({value:xe})):ce=[{value:ye}]}catch{ce=[{value:le}]}let he=ae;te.startTask&&ie&&(he=await te.startTask("For Each Execution",ae,ne,ie),te.updateTaskStatus&&te.updateTaskStatus(he,"running"));const fe=ce.map(async ye=>{let xe=he;te.startTask&&ie&&(xe=await te.startTask("Flow Execution for item",he,ne,ie),te.updateTaskStatus&&te.updateTaskStatus(xe,"running"));const Se=await executeDAG(oe,{steps:{},item:ye},te,ne,xe);return te.updateTaskStatus&&xe&&xe!==he&&te.updateTaskStatus(xe,"completed"),{steps:Se}}),pe=await Promise.all(fe);if(te.updateTaskStatus&&he&&he!==ae&&te.updateTaskStatus(he,"completed"),!ee.return_output||ee.return_output===""){const ye=oe[oe.length-1][0],xe=pe.map(be=>{var Se;return(Se=be.steps[ye])==null?void 0:Se.result});return ee.output_variable?te.localValues.getState().setVariable(xe,ee.output_variable):JSON.stringify(xe,null,2)}if(ee.return_output==="*"){const ye=[];return pe.forEach(xe=>{const be={};oe.forEach(([Se])=>{xe.steps[Se]&&(be[Se]=xe.steps[Se].result)}),ye.push(be)}),ee.output_variable?te.localValues.getState().setVariable(ye,ee.output_variable):JSON.stringify(ye,null,2)}if(ee.return_output.includes(",")){const ye=ee.return_output.split(",").map(be=>be.trim()),xe=[];return pe.forEach(be=>{const Se={};for(const ve of ye)be.steps[ve]&&(Se[ve]=be.steps[ve].result);xe.push(Se)}),ee.output_variable?te.localValues.getState().setVariable(xe,ee.output_variable):JSON.stringify(xe,null,2)}const ge=[];return pe.forEach(ye=>{var be;const xe=(be=ye.steps[ee.return_output])==null?void 0:be.result;if(xe===void 0)throw new Error(`Step '${ee.return_output}' not found or produced no result.`);ge.push(xe)}),ee.output_variable?te.localValues.getState().setVariable(ge,ee.output_variable):JSON.stringify(ge,null,2)},category:"flow",ui:{iconName:"Terminal",renderSummary:ee=>"Executing the for each item the flow command"}}],GITHUB_API_BASE="https://api.github.com";class RateLimiter{constructor(){this.queue=[],this.active=0,this.limit=5,this.interval=100,this.lastRequestTime=0}async acquire(){const ne=Date.now()-this.lastRequestTime;ne<this.interval&&await new Promise(ae=>setTimeout(ae,this.interval-ne)),this.active>=this.limit&&await new Promise(ae=>this.queue.push(ae)),this.active++,this.lastRequestTime=Date.now()}release(){if(this.active--,this.queue.length>0){const te=this.queue.shift();te&&te()}}}const rateLimiter=new RateLimiter;async function fetchWithLimit(ee,te){await rateLimiter.acquire();try{const ne=await fetch(ee,te);if(ne.status===403||ne.status===429){const ae=ne.headers.get("x-ratelimit-reset"),ie=ne.headers.get("retry-after");let se=1e3;if(ie)se=parseInt(ie)*1e3;else if(ae){const oe=parseInt(ae)*1e3;se=Math.max(1e3,oe-Date.now())}if(console.warn(`Hit GitHub Rate Limit. Waiting ${se}ms...`),se>1e4)throw new Error(`GitHub Rate Limit Exceeded. Try again in ${Math.round(se/1e3)}s.`);return await new Promise(oe=>setTimeout(oe,se)),fetch(ee,te)}return ne}finally{rateLimiter.release()}}function getHeaders(){const ee=localStorage.getItem("gh_token"),te={Accept:"application/vnd.github.v3+json"};return ee&&(te.Authorization=`Bearer ${ee}`),te}async function handleResponse(ee){if(!ee.ok){const te=await ee.json().catch(()=>({}));throw new Error(te.message||`GitHub API Error: ${ee.statusText}`)}return ee.json()}async function fetchRepoContents(ee,te,ne="",ae){let ie=`${GITHUB_API_BASE}/repos/${ee}/${te}/contents/${ne}`;ae&&(ie+=`?ref=${ae}`);const se=await fetchWithLimit(ie,{headers:getHeaders()});return handleResponse(se)}async function fetchMultipleFiles(ee,te,ne,ae="main"){const se=`
    query ($owner: String!, $repo: String!) {
      repository(owner: $owner, name: $repo) {
        ${ne.map((oe,le)=>{const ce=oe.replace(/"/g,'\\"');return`
      file_${le}: object(expression: "${ae}:${ce}") {
        __typename
        ... on Blob {
          text
          isBinary
        }
        ... on Commit {
           oid 
        }
      }
    `}).join(`
`)}
      }
    }
  `;try{const le=(await fetchGraphQL(se,{owner:ee,repo:te})).repository;if(!le)throw new Error("Repository not found");const ce={};return ne.forEach((he,fe)=>{const pe=`file_${fe}`,ge=le[pe];if(!ge){ce[he]=`Error: File not found at ${he}`;return}switch(ge.__typename){case"Blob":ge.isBinary?ce[he]="Error: Binary file detected (cannot display text).":ce[he]=ge.text??"";break;case"Tree":ce[he]=`Error: ${he} is a directory, not a file.`;break;case"Commit":ce[he]=`Error: ${he} is a submodule (SHA: ${ge.oid}).`;break;default:ce[he]=`Error: Unknown object type ${ge.__typename}`}}),ce}catch(oe){throw console.error("Batch fetch failed",oe),oe}}async function fetchBranches(ee,te){const ne=`${GITHUB_API_BASE}/repos/${ee}/${te}/branches`,ae=await fetchWithLimit(ne,{headers:getHeaders()});return handleResponse(ae)}async function fetchCommits(ee,te,ne="main",ae=5,ie=1,se){let oe=`${GITHUB_API_BASE}/repos/${ee}/${te}/commits?sha=${ne}&per_page=${ae}&page=${ie}`;se&&(oe+=`&path=${se}`);const le=await fetchWithLimit(oe,{headers:getHeaders()});return handleResponse(le)}async function fetchCommit(ee,te,ne){const ae=`${GITHUB_API_BASE}/repos/${ee}/${te}/commits/${ne}`,ie=await fetchWithLimit(ae,{headers:getHeaders()});return handleResponse(ie)}async function fetchIssues(ee,te,ne="open",ae=10){const ie=`${GITHUB_API_BASE}/repos/${ee}/${te}/issues?state=${ne}&per_page=${ae}`,se=await fetchWithLimit(ie,{headers:getHeaders()});return handleResponse(se)}async function fetchPullRequests(ee,te,ne="open",ae=10){const ie=`${GITHUB_API_BASE}/repos/${ee}/${te}/pulls?state=${ne}&per_page=${ae}`,se=await fetchWithLimit(ie,{headers:getHeaders()});return handleResponse(se)}function parseRepoUrl(ee){const te=/(?:github\.com[:/])([\w-]+)\/([\w.-]+?)(?:\.git)?$/,ne=ee.match(te);return ne?{owner:ne[1],repo:ne[2]}:null}async function fetchAndParseSubmodules(ee,te,ne){try{const ae=`${GITHUB_API_BASE}/repos/${ee}/${te}/contents/.gitmodules?ref=${ne}`,ie=await fetchWithLimit(ae,{headers:{...getHeaders(),Accept:"application/vnd.github.v3.raw"}});if(ie.status===404)return{};const se=await ie.text(),oe={};let le="",ce="";const he=se.split(`
`);for(const fe of he){const pe=fe.trim();if(pe.startsWith("path ="))le=pe.split("=")[1].trim();else if(pe.startsWith("url =")&&(ce=pe.split("=")[1].trim(),le&&ce)){const ge=parseRepoUrl(ce);ge&&(oe[le]={url:ce,...ge})}pe.startsWith("[submodule")&&(le="",ce="")}return oe}catch(ae){return console.warn("Failed to load .gitmodules:",ae),{}}}async function resolvePathToSha(ee,te,ne,ae){var le,ce;const ie=ae.replace(/^\//,""),se=`${ne}:${ie}`,oe=`
    query ($owner: String!, $name: String!, $expression: String!) {
      repository(owner: $owner, name: $name) {
        object(expression: $expression) {
          ... on Tree {
            oid
          }
        }
      }
    }
  `;try{const he=await fetchGraphQL(oe,{owner:ee,name:te,expression:se});if(!((ce=(le=he.repository)==null?void 0:le.object)!=null&&ce.oid))throw new Error(`Path '${ae}' not found or is not a directory.`);return he.repository.object.oid}catch(he){throw new Error(`Failed to resolve path: ${he.message}`)}}async function saturateTree(ee,te,ne,ae="",ie,se){const oe=`${GITHUB_API_BASE}/repos/${ee}/${te}/git/trees/${ne}`,le=await fetchWithLimit(oe,{headers:getHeaders()}),ce=await handleResponse(le);let he=[];const fe=ce.tree.map(async ge=>{const ye=ae?`${ae}/${ge.path}`:ge.path,xe={...ge,path:ye};if(se!=null&&se.some(be=>ye.includes(be)))return[];if(ie!=null&&ie.length&&ge.type==="blob"&&!ie.some(be=>ye.endsWith(be)))return[];if(ge.type==="tree"){const be=await saturateTree(ee,te,ge.sha,ye);return[xe,...be]}else return[xe]});return(await Promise.all(fe)).forEach(ge=>he.push(...ge)),he.filter(ge=>{const ye=ge.path||"";return!(!ye||se!=null&&se.some(xe=>ye.includes(xe))||ie!=null&&ie.length&&ge.type==="blob"&&!ie.some(xe=>ye.endsWith(xe)))})}async function fetchTree(ee,te,ne="main",ae,ie,se,oe){let le=ne;if(ie&&ie.trim()!=="")try{le=await resolvePathToSha(ee,te,ne,ie)}catch(ye){throw console.error(ye),ye}const ce=`${GITHUB_API_BASE}/repos/${ee}/${te}/git/trees/${le}?recursive=${ae?"1":"0"}`,he=await fetchWithLimit(ce,{headers:getHeaders()}),fe=await handleResponse(he);fe.tree=fe.tree.filter(ye=>{const xe=ye.path||"";return!(!xe||oe!=null&&oe.some(be=>xe.includes(be))||se!=null&&se.length&&ye.type==="blob"&&!se.some(be=>xe.endsWith(be)))});let pe=fe.tree;if(fe.truncated&&(pe=await saturateTree(ee,te,fe.sha,"",se,oe)),!fe.truncated)return fe;const ge=pe.filter(ye=>ye.type==="commit");if(ge.length>0){console.log(`Found ${ge.length} submodules. Fetching .gitmodules...`);const ye=await fetchAndParseSubmodules(ee,te,ne);pe=pe.map(xe=>{if(xe.type==="commit"){const be=ie?`${ie}/${xe.path}`:xe.path,Se=ye[be];if(Se)return{...xe,submodule:{owner:Se.owner,repo:Se.repo,url:Se.url,ref:xe.sha}}}return xe})}return{...fe,tree:pe,truncated:!1}}async function searchCode(ee,te,ne){const ae=encodeURIComponent(`${ne} repo:${ee}/${te}`),ie=`${GITHUB_API_BASE}/search/code?q=${ae}`,se=await fetchWithLimit(ie,{headers:getHeaders()});return handleResponse(se)}async function fetchRepoModules(ee,te,ne){const ae=["package.json","requirements.txt","go.mod","Cargo.toml","pom.xml","Gemfile"],ie=[".gitmodules",...ae],se=await fetchMultipleFiles(ee,te,ie,ne);let oe;const le=se[".gitmodules"];le&&!le.startsWith("Error:")&&(oe=le);const ce=[];for(const he of ae){const fe=se[he];fe&&!fe.startsWith("Error:")&&ce.push({name:he,content:fe})}if(!(!oe&&ce.length===0))return{gitmodules:oe,declarations:ce}}async function fetchDiff(ee,te,ne,ae){const ie=`${GITHUB_API_BASE}/repos/${ee}/${te}/compare/${ne}...${ae}`,se=await fetchWithLimit(ie,{headers:getHeaders()}),oe=await handleResponse(se);if(!oe.files||oe.files.length===0)return"No changes found.";let le=`Diff between ${ne} and ${ae} (Total commits: ${oe.total_commits})

`;for(const ce of oe.files)le+=`File: ${ce.filename} (${ce.status}) - Add: ${ce.additions}, Del: ${ce.deletions}
`,ce.patch&&(le+=`\`\`\`diff
${ce.patch.substring(0,1e3)}${ce.patch.length>1e3?`
... (truncated)`:""}
\`\`\`

`);return le}async function fetchGraphQL(ee,te={}){const ne=localStorage.getItem("gh_token");if(!ne)throw new Error("GitHub Token is required for GraphQL operations (e.g. Blame). Please add one in Settings.");const ae=await fetchWithLimit("https://api.github.com/graphql",{method:"POST",headers:{Authorization:`Bearer ${ne}`,"Content-Type":"application/json"},body:JSON.stringify({query:ee,variables:te})});if(!ae.ok){const se=await ae.json().catch(()=>({}));throw new Error(se.message||`GitHub GraphQL Error: ${ae.statusText}`)}const ie=await ae.json();if(ie.errors)throw new Error(`GraphQL Error: ${ie.errors.map(se=>se.message).join(", ")}`);return ie.data}async function fetchBlame(ee,te,ne,ae="main"){var le,ce,he,fe;const oe=(fe=(he=(ce=(le=(await fetchGraphQL(`
      query($owner: String!, $repo: String!, $path: String!, $branch: String!) {
        repository(owner: $owner, name: $repo) {
          ref(qualifiedName: $branch) {
            target {
              ... on Commit {
                blame(path: $path) {
                  ranges {
                    commit {
                      oid
                      author {
                        name
                        date
                      }
                      message
                    }
                    startingLine
                    endingLine
                    age
                  }
                }
              }
            }
          }
        }
      }
    `,{owner:ee,repo:te,path:ne,branch:ae})).repository)==null?void 0:le.ref)==null?void 0:ce.target)==null?void 0:he.blame)==null?void 0:fe.ranges;if(oe)return oe;throw new Error(`No blame data found for ${ne} on ${ae}. Check path/branch validity.`)}async function fetchRepoMetadata(ee,te){const ne=`${GITHUB_API_BASE}/repos/${ee}/${te}`,ae=await fetchWithLimit(ne,{headers:getHeaders()});return handleResponse(ae)}async function resolveRepoContext(ee,te,ne,ae){if(te&&ne)return{owner:te,repo:ne,branch:ae,relativePath:ee||""};if(ee&&ee.startsWith("/")){const ie=ee.split("/").filter(le=>le),se=ie[0],oe=await fileSystem.getMountInfo(se);if(oe&&oe.type==="github")return{owner:oe.owner,repo:oe.repo,branch:ae||oe.branch,relativePath:ie.slice(1).join("/")}}return null}const githubTools=[{declaration:{name:"get_github_tree",description:"Fetch the file structure (tree) of a GitHub repository directory.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING},relativePath:{type:Type$2.STRING},branch:{type:Type$2.STRING},recursive:{type:Type$2.BOOLEAN},include_extensions:{type:Type$2.ARRAY,items:{type:Type$2.STRING}},exclude_paths:{type:Type$2.ARRAY,items:{type:Type$2.STRING}},output_variable:{type:Type$2.STRING}},required:["owner","repo"]}},handler:async(ee,te)=>{const ne=await fetchTree(ee.owner,ee.repo,ee.branch,ee.recursive,ee.relativePath,ee.include_extensions,ee.exclude_paths);return ee.output_variable?te.localValues.getState().setVariable(ne.tree.map(ae=>({type:ae.type,path:ae.path})),ee.output_variable):ne.tree.map(ae=>`${ae.type==="commit"?`submodule: ${ae.submodule}`:`${ae.type}:`} ${ae.path}`).join(`
`)||"No files found."},category:"github",ui:{iconName:"Github",renderSummary:ee=>`Listing files in: ${ee.owner}/${ee.repo}/${ee.path||""}`}},{declaration:{name:"get_github_branches",description:"List all branches in a GitHub repository.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["owner","repo"]}},handler:async(ee,te)=>{const ne=await fetchBranches(ee.owner,ee.repo);return ee.output_variable?te.localValues.getState().setVariable(ne.map(ae=>ae.name),ee.output_variable):ne.map(ae=>ae.name).join(", ")},category:"github",ui:{iconName:"Github",renderSummary:ee=>`Listing the branches in ${ee.owner}/${ee.repo}`}},{declaration:{name:"get_github_file_content",description:"Fetch and read the raw content of a specific file.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING},path:{type:Type$2.STRING},branch:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["owner","repo","path"]}},handler:async(ee,te)=>{const ne=await fetchRepoContents(ee.owner,ee.repo,ee.path,ee.branch);if(Array.isArray(ne))return"Error: Path is a directory.";const ae=ne;return ae.content?ee.output_variable?te.localValues.getState().setVariable(ae.content,ee.output_variable):ae.content:"Error: No content."},category:"github",ui:{iconName:"Github",renderSummary:ee=>`Reading: ${ee.path}`}},{declaration:{name:"get_multiple_github_files",description:"Fetch content of multiple files from a GitHub repository in parallel.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING},paths:{type:Type$2.ARRAY,items:{type:Type$2.STRING}},branch:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["owner","repo","paths"]}},handler:async(ee,te)=>{const ne=await fetchMultipleFiles(ee.owner,ee.repo,ee.paths,ee.branch);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):Object.entries(ne).map(([ae,ie])=>`--- ${ae} ---
${ie}
--- END ---`).join(`

`)},category:"github",ui:{iconName:"Github",renderSummary:ee=>"Reading multiple files"}},{declaration:{name:"get_github_commits",description:"Fetch the recent commit history. Supports VFS github mount in path argument instead of owner/repo.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING},path:{type:Type$2.STRING},branch:{type:Type$2.STRING},per_page:{type:Type$2.NUMBER},page_num:{type:Type$2.NUMBER},include_stats:{type:Type$2.BOOLEAN},include_files:{type:Type$2.BOOLEAN},output_variable:{type:Type$2.STRING}},required:[]}},handler:async(ee,te)=>{const ne=await resolveRepoContext(ee.path,ee.owner,ee.repo,ee.branch);if(!ne&&(!ee.owner||!ee.repo))throw new Error("Owner/Repo required or VFS path.");const ae=ne?ne.owner:ee.owner,ie=ne?ne.repo:ee.repo,se=ne?ne.branch:ee.branch||"main",oe=ne?ne.relativePath:ee.path,le=await fetchCommits(ae,ie,se,ee.per_page||5,ee.page_num||1,oe);if(ee.output_variable){const ce=await Promise.all(le.map(async he=>{let fe={},pe={};if(ee.include_stats||ee.include_files){const ge=await fetchCommit(ae,ie,he.sha).catch(()=>null);ge&&(ee.include_stats&&ge.stats&&(fe={additions:ge.stats.additions,deletions:ge.stats.deletions,total:ge.stats.total}),ee.include_files&&ge.files&&(pe={files:ge.files.map(ye=>({filename:ye.filename,status:ye.status,...ee.include_stats&&{additions:ye.additions,deletions:ye.deletions}}))}))}return{sha:he.sha.substring(0,7),author:he.commit.author.name,message:he.commit.message,...fe,...pe}}));return te.localValues.getState().setVariable(ce,ee.output_variable)}else return ee.include_stats||ee.include_files?(await Promise.all(le.map(async ce=>{const he=await fetchCommit(ae,ie,ce.sha).catch(()=>({}));var fe;return he.files&&ee.include_files&&(fe=he.files.map(pe=>{var ge=`
		filename: ${pe.filename}
		status: ${pe.status}`;return ee.include_stats?ge+`
		changes: +${pe.additions}/-${pe.deletions}`:ge}).join(`
`)),`[${ce.sha.substr(0,7)}] ${ce.commit.message} ${he.stats&&ee.include_stats?`(+${he.stats.additions}/-${he.stats.deletions})`:""}${fe}`}))).join(`

`):le.map(ce=>`[${ce.sha.substr(0,7)}] ${ce.commit.author.name}: ${ce.commit.message}`).join(`
`)},category:"github",ui:{iconName:"Github",renderSummary:ee=>"Reading: ${args.path}"}},{declaration:{name:"get_github_issues",description:"Fetch a list of issues for a repository. Supports VFS github mount in path argument instead of owner/repo.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING},path:{type:Type$2.STRING},state:{type:Type$2.STRING,enum:["open","closed","all"]},limit:{type:Type$2.NUMBER},output_variable:{type:Type$2.STRING}},required:["owner","repo"]}},handler:async(ee,te)=>{const ne=await resolveRepoContext(ee.path,ee.owner,ee.repo),ae=await fetchIssues(ne.owner,ne.repo,ee.state,ee.limit);return ee.output_variable?te.localValues.getState().setVariable(ae.map(ie=>({number:ie.number,title:ie.title,state:ie.state})),ee.output_variable):ae.map(ie=>`[#${ie.number}] ${ie.title} (${ie.state})`).join(`
`)},category:"github",ui:{iconName:"Github",renderSummary:ee=>"Reading: ${args.path}"}},{declaration:{name:"get_github_pull_requests",description:"Fetch a list of Pull Requests for a repository. Supports VFS github mount in path argument instead of owner/repo.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING},path:{type:Type$2.STRING},state:{type:Type$2.STRING,enum:["open","closed","all"]},limit:{type:Type$2.NUMBER},output_variable:{type:Type$2.STRING}},required:["owner","repo"]}},handler:async(ee,te)=>{const ne=await resolveRepoContext(ee.path,ee.owner,ee.repo),ae=await fetchPullRequests(ne.owner,ne.repo,ee.state,ee.limit);return ee.output_variable?te.localValues.getState().setVariable(ae.map(ie=>({number:ie.number,title:ie.title,state:ie.state})),ee.output_variable):ae.map(ie=>`[PR #${ie.number}] ${ie.title} (${ie.state})`).join(`
`)},category:"github",ui:{iconName:"Github",renderSummary:ee=>"Listing prs in"}},{declaration:{name:"scan_repo_modules",description:"Scan the repository root for .gitmodules, package.json, requirements.txt, go.mod, Cargo.toml, pom.xml, Gemfile.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING},branch:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["owner","repo","output_variable"]}},handler:async(ee,te)=>{const ne=await fetchRepoModules(ee.owner,ee.repo,ee.branch);return ne?te.localValues.getState().setVariable(ne,ee.output_variable):"Could not list root directory."},category:"github",ui:{iconName:"Github",renderSummary:ee=>"Fetching modules in repository"}},{declaration:{name:"search_github_code",description:"Search for specific code strings within a repository.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING},query:{type:Type$2.STRING}},required:["owner","repo","query"]}},handler:async ee=>{const te=await searchCode(ee.owner,ee.repo,ee.query);return te.total_count===0?"No matches.":`Found ${te.total_count} matches:
`+te.items.slice(0,10).map(ne=>`- ${ne.path}`).join(`
`)},category:"github",ui:{iconName:"Github",renderSummary:ee=>"Listing prs in"}},{declaration:{name:"get_git_diff",description:"Fetch the code differences.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING},base:{type:Type$2.STRING},head:{type:Type$2.STRING}},required:["owner","repo","base","head"]}},handler:async ee=>await fetchDiff(ee.owner,ee.repo,ee.base,ee.head),category:"github",ui:{iconName:"Github",renderSummary:ee=>"Listing prs in"}},{declaration:{name:"get_git_blame",description:"Fetch Git Blame information. Supports VFS paths (e.g. /my-repo/src/file.ts) to infer owner/repo.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING},path:{type:Type$2.STRING},branch:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["path"]}},handler:async(ee,te)=>{const ne=await resolveRepoContext(ee.path,ee.owner,ee.repo,ee.branch);if(!ne)throw new Error("Could not determine repository context. Provide owner/repo or a mounted VFS path.");const ie=(await fetchBlame(ne.owner,ne.repo,ne.relativePath,ne.branch)).map(se=>({lines:{start:se.startingLine,end:se.endingLine},commit:{sha:se.commit.oid.substring(0,7),author:se.commit.author.name,date:se.commit.author.date.split("T")[0],message:se.commit.message.split(`
`)[0]},age_months:se.age}));if(ee.output_variable)return te.localValues.getState().setVariable(ie,ee.output_variable);{const se=`Git Blame: ${ee.path} (${ee.branch||"main"})
`,oe=ie.map(ce=>`${ce.lines.start===ce.lines.end?`L${ce.lines.start}`.padEnd(6):`L${ce.lines.start}-${ce.lines.end}`.padEnd(8)} | ${ce.commit.author.padEnd(12)} | ${ce.commit.date} | ${ce.commit.sha} ${ce.commit.message}`),le=se+oe.join(`
`);return le.length>2e3?`[System]: Blame output is too large (${oe.length} blocks, ${le.length} chars). 
Saved structured data to anonymous variable: '${te.localValues.getState().setVariable(ie).id}'. 
Use 'query_variable' to filter, e.g., "$[?(@.commit.author=='Someone')]".

Preview of first 5 blocks:
${oe.slice(0,5).join(`
`)}`:le}},category:"github",ui:{iconName:"Github",renderSummary:ee=>"Listing prs in"}},{declaration:{name:"get_repo_stats",description:"Get stats like stars, issues and fork count.",parameters:{type:Type$2.OBJECT,properties:{owner:{type:Type$2.STRING},repo:{type:Type$2.STRING}},required:["owner","repo"]}},handler:async ee=>{const te=await fetchRepoMetadata(ee.owner,ee.repo);return`Stars: ${te.stargazers_count}, Issues: ${te.open_issues_count}, Fork: ${te.forks_count}`},category:"github",ui:{iconName:"Github",renderSummary:ee=>"Listing prs in"}}],imageTools=[{declaration:{name:"generate_image",description:"Uses google imagen 4 model to generate the images. The tool returns blob variables with the image.",parameters:{type:Type$2.OBJECT,properties:{prompt:{type:Type$2.STRING},aspectRatio:{type:Type$2.STRING,description:"Supported aspects: 1:1  3:4  4:3  9:16  16:9"},output_variable:{type:Type$2.STRING}},required:["prompt","aspectRatio"]}},handler:async(ee,te)=>{const ne=await te.performImageGeneration(ee.prompt,ee.aspectRatio);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):ne},category:"image",ui:{iconName:"Image",renderSummary:ee=>"Generating the image"}},{declaration:{name:"generate_image_batch",description:"Uses google imagen 3 model to generate multiple images.",parameters:{type:Type$2.OBJECT,properties:{prompt:{type:Type$2.STRING},aspectRatio:{type:Type$2.STRING,description:"Supported aspects: 1:1  3:4  4:3  9:16  16:9"},count:{type:Type$2.INTEGER},output_variable:{type:Type$2.STRING}},required:["prompt","aspectRatio","count"]}},handler:async(ee,te)=>{const ne=await te.performImageGenerationBatch(ee.prompt,ee.aspectRatio,ee.count);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):new AgentVariable(null,"list",{},ne)},category:"image",ui:{iconName:"Image",renderSummary:ee=>"Generating multiple images"}}];class Hooks{add(te,ne,ae){if(typeof arguments[0]!="string")for(let ie in arguments[0])this.add(ie,arguments[0][ie],arguments[1]);else(Array.isArray(te)?te:[te]).forEach(function(ie){this[ie]=this[ie]||[],ne&&this[ie][ae?"unshift":"push"](ne)},this)}run(te,ne){this[te]=this[te]||[],this[te].forEach(function(ae){ae.call(ne&&ne.context?ne.context:ne,ne)})}}class Plugins{constructor(te){this.jsep=te,this.registered={}}register(){for(var te=arguments.length,ne=new Array(te),ae=0;ae<te;ae++)ne[ae]=arguments[ae];ne.forEach(ie=>{if(typeof ie!="object"||!ie.name||!ie.init)throw new Error("Invalid JSEP plugin format");this.registered[ie.name]||(ie.init(this.jsep),this.registered[ie.name]=ie)})}}class Jsep{static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+Jsep.version}static addUnaryOp(te){return Jsep.max_unop_len=Math.max(te.length,Jsep.max_unop_len),Jsep.unary_ops[te]=1,Jsep}static addBinaryOp(te,ne,ae){return Jsep.max_binop_len=Math.max(te.length,Jsep.max_binop_len),Jsep.binary_ops[te]=ne,ae?Jsep.right_associative.add(te):Jsep.right_associative.delete(te),Jsep}static addIdentifierChar(te){return Jsep.additional_identifier_chars.add(te),Jsep}static addLiteral(te,ne){return Jsep.literals[te]=ne,Jsep}static removeUnaryOp(te){return delete Jsep.unary_ops[te],te.length===Jsep.max_unop_len&&(Jsep.max_unop_len=Jsep.getMaxKeyLen(Jsep.unary_ops)),Jsep}static removeAllUnaryOps(){return Jsep.unary_ops={},Jsep.max_unop_len=0,Jsep}static removeIdentifierChar(te){return Jsep.additional_identifier_chars.delete(te),Jsep}static removeBinaryOp(te){return delete Jsep.binary_ops[te],te.length===Jsep.max_binop_len&&(Jsep.max_binop_len=Jsep.getMaxKeyLen(Jsep.binary_ops)),Jsep.right_associative.delete(te),Jsep}static removeAllBinaryOps(){return Jsep.binary_ops={},Jsep.max_binop_len=0,Jsep}static removeLiteral(te){return delete Jsep.literals[te],Jsep}static removeAllLiterals(){return Jsep.literals={},Jsep}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(te){this.expr=te,this.index=0}static parse(te){return new Jsep(te).parse()}static getMaxKeyLen(te){return Math.max(0,...Object.keys(te).map(ne=>ne.length))}static isDecimalDigit(te){return te>=48&&te<=57}static binaryPrecedence(te){return Jsep.binary_ops[te]||0}static isIdentifierStart(te){return te>=65&&te<=90||te>=97&&te<=122||te>=128&&!Jsep.binary_ops[String.fromCharCode(te)]||Jsep.additional_identifier_chars.has(String.fromCharCode(te))}static isIdentifierPart(te){return Jsep.isIdentifierStart(te)||Jsep.isDecimalDigit(te)}throwError(te){const ne=new Error(te+" at character "+this.index);throw ne.index=this.index,ne.description=te,ne}runHook(te,ne){if(Jsep.hooks[te]){const ae={context:this,node:ne};return Jsep.hooks.run(te,ae),ae.node}return ne}searchHook(te){if(Jsep.hooks[te]){const ne={context:this};return Jsep.hooks[te].find(function(ae){return ae.call(ne.context,ne),ne.node}),ne.node}}gobbleSpaces(){let te=this.code;for(;te===Jsep.SPACE_CODE||te===Jsep.TAB_CODE||te===Jsep.LF_CODE||te===Jsep.CR_CODE;)te=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");const te=this.gobbleExpressions(),ne=te.length===1?te[0]:{type:Jsep.COMPOUND,body:te};return this.runHook("after-all",ne)}gobbleExpressions(te){let ne=[],ae,ie;for(;this.index<this.expr.length;)if(ae=this.code,ae===Jsep.SEMCOL_CODE||ae===Jsep.COMMA_CODE)this.index++;else if(ie=this.gobbleExpression())ne.push(ie);else if(this.index<this.expr.length){if(ae===te)break;this.throwError('Unexpected "'+this.char+'"')}return ne}gobbleExpression(){const te=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",te)}gobbleBinaryOp(){this.gobbleSpaces();let te=this.expr.substr(this.index,Jsep.max_binop_len),ne=te.length;for(;ne>0;){if(Jsep.binary_ops.hasOwnProperty(te)&&(!Jsep.isIdentifierStart(this.code)||this.index+te.length<this.expr.length&&!Jsep.isIdentifierPart(this.expr.charCodeAt(this.index+te.length))))return this.index+=ne,te;te=te.substr(0,--ne)}return!1}gobbleBinaryExpression(){let te,ne,ae,ie,se,oe,le,ce,he;if(oe=this.gobbleToken(),!oe||(ne=this.gobbleBinaryOp(),!ne))return oe;for(se={value:ne,prec:Jsep.binaryPrecedence(ne),right_a:Jsep.right_associative.has(ne)},le=this.gobbleToken(),le||this.throwError("Expected expression after "+ne),ie=[oe,se,le];ne=this.gobbleBinaryOp();){if(ae=Jsep.binaryPrecedence(ne),ae===0){this.index-=ne.length;break}se={value:ne,prec:ae,right_a:Jsep.right_associative.has(ne)},he=ne;const fe=pe=>se.right_a&&pe.right_a?ae>pe.prec:ae<=pe.prec;for(;ie.length>2&&fe(ie[ie.length-2]);)le=ie.pop(),ne=ie.pop().value,oe=ie.pop(),te={type:Jsep.BINARY_EXP,operator:ne,left:oe,right:le},ie.push(te);te=this.gobbleToken(),te||this.throwError("Expected expression after "+he),ie.push(se,te)}for(ce=ie.length-1,te=ie[ce];ce>1;)te={type:Jsep.BINARY_EXP,operator:ie[ce-1].value,left:ie[ce-2],right:te},ce-=2;return te}gobbleToken(){let te,ne,ae,ie;if(this.gobbleSpaces(),ie=this.searchHook("gobble-token"),ie)return this.runHook("after-token",ie);if(te=this.code,Jsep.isDecimalDigit(te)||te===Jsep.PERIOD_CODE)return this.gobbleNumericLiteral();if(te===Jsep.SQUOTE_CODE||te===Jsep.DQUOTE_CODE)ie=this.gobbleStringLiteral();else if(te===Jsep.OBRACK_CODE)ie=this.gobbleArray();else{for(ne=this.expr.substr(this.index,Jsep.max_unop_len),ae=ne.length;ae>0;){if(Jsep.unary_ops.hasOwnProperty(ne)&&(!Jsep.isIdentifierStart(this.code)||this.index+ne.length<this.expr.length&&!Jsep.isIdentifierPart(this.expr.charCodeAt(this.index+ne.length)))){this.index+=ae;const se=this.gobbleToken();return se||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:Jsep.UNARY_EXP,operator:ne,argument:se,prefix:!0})}ne=ne.substr(0,--ae)}Jsep.isIdentifierStart(te)?(ie=this.gobbleIdentifier(),Jsep.literals.hasOwnProperty(ie.name)?ie={type:Jsep.LITERAL,value:Jsep.literals[ie.name],raw:ie.name}:ie.name===Jsep.this_str&&(ie={type:Jsep.THIS_EXP})):te===Jsep.OPAREN_CODE&&(ie=this.gobbleGroup())}return ie?(ie=this.gobbleTokenProperty(ie),this.runHook("after-token",ie)):this.runHook("after-token",!1)}gobbleTokenProperty(te){this.gobbleSpaces();let ne=this.code;for(;ne===Jsep.PERIOD_CODE||ne===Jsep.OBRACK_CODE||ne===Jsep.OPAREN_CODE||ne===Jsep.QUMARK_CODE;){let ae;if(ne===Jsep.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==Jsep.PERIOD_CODE)break;ae=!0,this.index+=2,this.gobbleSpaces(),ne=this.code}this.index++,ne===Jsep.OBRACK_CODE?(te={type:Jsep.MEMBER_EXP,computed:!0,object:te,property:this.gobbleExpression()},te.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),ne=this.code,ne!==Jsep.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):ne===Jsep.OPAREN_CODE?te={type:Jsep.CALL_EXP,arguments:this.gobbleArguments(Jsep.CPAREN_CODE),callee:te}:(ne===Jsep.PERIOD_CODE||ae)&&(ae&&this.index--,this.gobbleSpaces(),te={type:Jsep.MEMBER_EXP,computed:!1,object:te,property:this.gobbleIdentifier()}),ae&&(te.optional=!0),this.gobbleSpaces(),ne=this.code}return te}gobbleNumericLiteral(){let te="",ne,ae;for(;Jsep.isDecimalDigit(this.code);)te+=this.expr.charAt(this.index++);if(this.code===Jsep.PERIOD_CODE)for(te+=this.expr.charAt(this.index++);Jsep.isDecimalDigit(this.code);)te+=this.expr.charAt(this.index++);if(ne=this.char,ne==="e"||ne==="E"){for(te+=this.expr.charAt(this.index++),ne=this.char,(ne==="+"||ne==="-")&&(te+=this.expr.charAt(this.index++));Jsep.isDecimalDigit(this.code);)te+=this.expr.charAt(this.index++);Jsep.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+te+this.char+")")}return ae=this.code,Jsep.isIdentifierStart(ae)?this.throwError("Variable names cannot start with a number ("+te+this.char+")"):(ae===Jsep.PERIOD_CODE||te.length===1&&te.charCodeAt(0)===Jsep.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:Jsep.LITERAL,value:parseFloat(te),raw:te}}gobbleStringLiteral(){let te="";const ne=this.index,ae=this.expr.charAt(this.index++);let ie=!1;for(;this.index<this.expr.length;){let se=this.expr.charAt(this.index++);if(se===ae){ie=!0;break}else if(se==="\\")switch(se=this.expr.charAt(this.index++),se){case"n":te+=`
`;break;case"r":te+="\r";break;case"t":te+="	";break;case"b":te+="\b";break;case"f":te+="\f";break;case"v":te+="\v";break;default:te+=se}else te+=se}return ie||this.throwError('Unclosed quote after "'+te+'"'),{type:Jsep.LITERAL,value:te,raw:this.expr.substring(ne,this.index)}}gobbleIdentifier(){let te=this.code,ne=this.index;for(Jsep.isIdentifierStart(te)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(te=this.code,Jsep.isIdentifierPart(te));)this.index++;return{type:Jsep.IDENTIFIER,name:this.expr.slice(ne,this.index)}}gobbleArguments(te){const ne=[];let ae=!1,ie=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let se=this.code;if(se===te){ae=!0,this.index++,te===Jsep.CPAREN_CODE&&ie&&ie>=ne.length&&this.throwError("Unexpected token "+String.fromCharCode(te));break}else if(se===Jsep.COMMA_CODE){if(this.index++,ie++,ie!==ne.length){if(te===Jsep.CPAREN_CODE)this.throwError("Unexpected token ,");else if(te===Jsep.CBRACK_CODE)for(let oe=ne.length;oe<ie;oe++)ne.push(null)}}else if(ne.length!==ie&&ie!==0)this.throwError("Expected comma");else{const oe=this.gobbleExpression();(!oe||oe.type===Jsep.COMPOUND)&&this.throwError("Expected comma"),ne.push(oe)}}return ae||this.throwError("Expected "+String.fromCharCode(te)),ne}gobbleGroup(){this.index++;let te=this.gobbleExpressions(Jsep.CPAREN_CODE);if(this.code===Jsep.CPAREN_CODE)return this.index++,te.length===1?te[0]:te.length?{type:Jsep.SEQUENCE_EXP,expressions:te}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:Jsep.ARRAY_EXP,elements:this.gobbleArguments(Jsep.CBRACK_CODE)}}}const hooks=new Hooks;Object.assign(Jsep,{hooks,plugins:new Plugins(Jsep),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});Jsep.max_unop_len=Jsep.getMaxKeyLen(Jsep.unary_ops);Jsep.max_binop_len=Jsep.getMaxKeyLen(Jsep.binary_ops);const jsep=ee=>new Jsep(ee).parse(),stdClassProps=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(Jsep).filter(ee=>!stdClassProps.includes(ee)&&jsep[ee]===void 0).forEach(ee=>{jsep[ee]=Jsep[ee]});jsep.Jsep=Jsep;const CONDITIONAL_EXP="ConditionalExpression";var ternary={name:"ternary",init(ee){ee.hooks.add("after-expression",function(ne){if(ne.node&&this.code===ee.QUMARK_CODE){this.index++;const ae=ne.node,ie=this.gobbleExpression();if(ie||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===ee.COLON_CODE){this.index++;const se=this.gobbleExpression();if(se||this.throwError("Expected expression"),ne.node={type:CONDITIONAL_EXP,test:ae,consequent:ie,alternate:se},ae.operator&&ee.binary_ops[ae.operator]<=.9){let oe=ae;for(;oe.right.operator&&ee.binary_ops[oe.right.operator]<=.9;)oe=oe.right;ne.node.test=oe.right,oe.right=ne.node,ne.node=ae}}else this.throwError("Expected :")}})}};jsep.plugins.register(ternary);const FSLASH_CODE=47,BSLASH_CODE=92;var index$1={name:"regex",init(ee){ee.hooks.add("gobble-token",function(ne){if(this.code===FSLASH_CODE){const ae=++this.index;let ie=!1;for(;this.index<this.expr.length;){if(this.code===FSLASH_CODE&&!ie){const se=this.expr.slice(ae,this.index);let oe="";for(;++this.index<this.expr.length;){const ce=this.code;if(ce>=97&&ce<=122||ce>=65&&ce<=90||ce>=48&&ce<=57)oe+=this.char;else break}let le;try{le=new RegExp(se,oe)}catch(ce){this.throwError(ce.message)}return ne.node={type:ee.LITERAL,value:le,raw:this.expr.slice(ae-1,this.index)},ne.node=this.gobbleTokenProperty(ne.node),ne.node}this.code===ee.OBRACK_CODE?ie=!0:ie&&this.code===ee.CBRACK_CODE&&(ie=!1),this.index+=this.code===BSLASH_CODE?2:1}this.throwError("Unclosed Regex")}})}};const PLUS_CODE=43,MINUS_CODE=45,plugin$1={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[PLUS_CODE,MINUS_CODE],assignmentPrecedence:.9,init(ee){const te=[ee.IDENTIFIER,ee.MEMBER_EXP];plugin$1.assignmentOperators.forEach(ae=>ee.addBinaryOp(ae,plugin$1.assignmentPrecedence,!0)),ee.hooks.add("gobble-token",function(ie){const se=this.code;plugin$1.updateOperators.some(oe=>oe===se&&oe===this.expr.charCodeAt(this.index+1))&&(this.index+=2,ie.node={type:"UpdateExpression",operator:se===PLUS_CODE?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!ie.node.argument||!te.includes(ie.node.argument.type))&&this.throwError(`Unexpected ${ie.node.operator}`))}),ee.hooks.add("after-token",function(ie){if(ie.node){const se=this.code;plugin$1.updateOperators.some(oe=>oe===se&&oe===this.expr.charCodeAt(this.index+1))&&(te.includes(ie.node.type)||this.throwError(`Unexpected ${ie.node.operator}`),this.index+=2,ie.node={type:"UpdateExpression",operator:se===PLUS_CODE?"++":"--",argument:ie.node,prefix:!1})}}),ee.hooks.add("after-expression",function(ie){ie.node&&ne(ie.node)});function ne(ae){plugin$1.assignmentOperators.has(ae.operator)?(ae.type="AssignmentExpression",ne(ae.left),ne(ae.right)):ae.operator||Object.values(ae).forEach(ie=>{ie&&typeof ie=="object"&&ne(ie)})}}};jsep.plugins.register(index$1,plugin$1);jsep.addUnaryOp("typeof");jsep.addLiteral("null",null);jsep.addLiteral("undefined",void 0);const BLOCKED_PROTO_PROPERTIES=new Set(["constructor","__proto__","__defineGetter__","__defineSetter__"]),SafeEval={evalAst(ee,te){switch(ee.type){case"BinaryExpression":case"LogicalExpression":return SafeEval.evalBinaryExpression(ee,te);case"Compound":return SafeEval.evalCompound(ee,te);case"ConditionalExpression":return SafeEval.evalConditionalExpression(ee,te);case"Identifier":return SafeEval.evalIdentifier(ee,te);case"Literal":return SafeEval.evalLiteral(ee,te);case"MemberExpression":return SafeEval.evalMemberExpression(ee,te);case"UnaryExpression":return SafeEval.evalUnaryExpression(ee,te);case"ArrayExpression":return SafeEval.evalArrayExpression(ee,te);case"CallExpression":return SafeEval.evalCallExpression(ee,te);case"AssignmentExpression":return SafeEval.evalAssignmentExpression(ee,te);default:throw SyntaxError("Unexpected expression",ee)}},evalBinaryExpression(ee,te){return{"||":(ae,ie)=>ae||ie(),"&&":(ae,ie)=>ae&&ie(),"|":(ae,ie)=>ae|ie(),"^":(ae,ie)=>ae^ie(),"&":(ae,ie)=>ae&ie(),"==":(ae,ie)=>ae==ie(),"!=":(ae,ie)=>ae!=ie(),"===":(ae,ie)=>ae===ie(),"!==":(ae,ie)=>ae!==ie(),"<":(ae,ie)=>ae<ie(),">":(ae,ie)=>ae>ie(),"<=":(ae,ie)=>ae<=ie(),">=":(ae,ie)=>ae>=ie(),"<<":(ae,ie)=>ae<<ie(),">>":(ae,ie)=>ae>>ie(),">>>":(ae,ie)=>ae>>>ie(),"+":(ae,ie)=>ae+ie(),"-":(ae,ie)=>ae-ie(),"*":(ae,ie)=>ae*ie(),"/":(ae,ie)=>ae/ie(),"%":(ae,ie)=>ae%ie()}[ee.operator](SafeEval.evalAst(ee.left,te),()=>SafeEval.evalAst(ee.right,te))},evalCompound(ee,te){let ne;for(let ae=0;ae<ee.body.length;ae++){ee.body[ae].type==="Identifier"&&["var","let","const"].includes(ee.body[ae].name)&&ee.body[ae+1]&&ee.body[ae+1].type==="AssignmentExpression"&&(ae+=1);const ie=ee.body[ae];ne=SafeEval.evalAst(ie,te)}return ne},evalConditionalExpression(ee,te){return SafeEval.evalAst(ee.test,te)?SafeEval.evalAst(ee.consequent,te):SafeEval.evalAst(ee.alternate,te)},evalIdentifier(ee,te){if(Object.hasOwn(te,ee.name))return te[ee.name];throw ReferenceError(`${ee.name} is not defined`)},evalLiteral(ee){return ee.value},evalMemberExpression(ee,te){const ne=String(ee.computed?SafeEval.evalAst(ee.property):ee.property.name),ae=SafeEval.evalAst(ee.object,te);if(ae==null)throw TypeError(`Cannot read properties of ${ae} (reading '${ne}')`);if(!Object.hasOwn(ae,ne)&&BLOCKED_PROTO_PROPERTIES.has(ne))throw TypeError(`Cannot read properties of ${ae} (reading '${ne}')`);const ie=ae[ne];return typeof ie=="function"?ie.bind(ae):ie},evalUnaryExpression(ee,te){return{"-":ae=>-SafeEval.evalAst(ae,te),"!":ae=>!SafeEval.evalAst(ae,te),"~":ae=>~SafeEval.evalAst(ae,te),"+":ae=>+SafeEval.evalAst(ae,te),typeof:ae=>typeof SafeEval.evalAst(ae,te)}[ee.operator](ee.argument)},evalArrayExpression(ee,te){return ee.elements.map(ne=>SafeEval.evalAst(ne,te))},evalCallExpression(ee,te){const ne=ee.arguments.map(ie=>SafeEval.evalAst(ie,te));return SafeEval.evalAst(ee.callee,te)(...ne)},evalAssignmentExpression(ee,te){if(ee.left.type!=="Identifier")throw SyntaxError("Invalid left-hand side in assignment");const ne=ee.left.name,ae=SafeEval.evalAst(ee.right,te);return te[ne]=ae,te[ne]}};class SafeScript{constructor(te){this.code=te,this.ast=jsep(this.code)}runInNewContext(te){const ne=Object.assign(Object.create(null),te);return SafeEval.evalAst(this.ast,ne)}}function push$1(ee,te){return ee=ee.slice(),ee.push(te),ee}function unshift(ee,te){return te=te.slice(),te.unshift(ee),te}class NewError extends Error{constructor(te){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=te,this.name="NewError"}}function JSONPath(ee,te,ne,ae,ie){if(!(this instanceof JSONPath))try{return new JSONPath(ee,te,ne,ae,ie)}catch(oe){if(!oe.avoidNew)throw oe;return oe.value}typeof ee=="string"&&(ie=ae,ae=ne,ne=te,te=ee,ee=null);const se=ee&&typeof ee=="object";if(ee=ee||{},this.json=ee.json||ne,this.path=ee.path||te,this.resultType=ee.resultType||"value",this.flatten=ee.flatten||!1,this.wrap=Object.hasOwn(ee,"wrap")?ee.wrap:!0,this.sandbox=ee.sandbox||{},this.eval=ee.eval===void 0?"safe":ee.eval,this.ignoreEvalErrors=typeof ee.ignoreEvalErrors>"u"?!1:ee.ignoreEvalErrors,this.parent=ee.parent||null,this.parentProperty=ee.parentProperty||null,this.callback=ee.callback||ae||null,this.otherTypeCallback=ee.otherTypeCallback||ie||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},ee.autostart!==!1){const oe={path:se?ee.path:te};se?"json"in ee&&(oe.json=ee.json):oe.json=ne;const le=this.evaluate(oe);if(!le||typeof le!="object")throw new NewError(le);return le}}JSONPath.prototype.evaluate=function(ee,te,ne,ae){let ie=this.parent,se=this.parentProperty,{flatten:oe,wrap:le}=this;if(this.currResultType=this.resultType,this.currEval=this.eval,this.currSandbox=this.sandbox,ne=ne||this.callback,this.currOtherTypeCallback=ae||this.otherTypeCallback,te=te||this.json,ee=ee||this.path,ee&&typeof ee=="object"&&!Array.isArray(ee)){if(!ee.path&&ee.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Object.hasOwn(ee,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:te}=ee),oe=Object.hasOwn(ee,"flatten")?ee.flatten:oe,this.currResultType=Object.hasOwn(ee,"resultType")?ee.resultType:this.currResultType,this.currSandbox=Object.hasOwn(ee,"sandbox")?ee.sandbox:this.currSandbox,le=Object.hasOwn(ee,"wrap")?ee.wrap:le,this.currEval=Object.hasOwn(ee,"eval")?ee.eval:this.currEval,ne=Object.hasOwn(ee,"callback")?ee.callback:ne,this.currOtherTypeCallback=Object.hasOwn(ee,"otherTypeCallback")?ee.otherTypeCallback:this.currOtherTypeCallback,ie=Object.hasOwn(ee,"parent")?ee.parent:ie,se=Object.hasOwn(ee,"parentProperty")?ee.parentProperty:se,ee=ee.path}if(ie=ie||null,se=se||null,Array.isArray(ee)&&(ee=JSONPath.toPathString(ee)),!ee&&ee!==""||!te)return;const ce=JSONPath.toPathArray(ee);ce[0]==="$"&&ce.length>1&&ce.shift(),this._hasParentSelector=null;const he=this._trace(ce,te,["$"],ie,se,ne).filter(function(fe){return fe&&!fe.isParentSelector});return he.length?!le&&he.length===1&&!he[0].hasArrExpr?this._getPreferredOutput(he[0]):he.reduce((fe,pe)=>{const ge=this._getPreferredOutput(pe);return oe&&Array.isArray(ge)?fe=fe.concat(ge):fe.push(ge),fe},[]):le?[]:void 0};JSONPath.prototype._getPreferredOutput=function(ee){const te=this.currResultType;switch(te){case"all":{const ne=Array.isArray(ee.path)?ee.path:JSONPath.toPathArray(ee.path);return ee.pointer=JSONPath.toPointer(ne),ee.path=typeof ee.path=="string"?ee.path:JSONPath.toPathString(ee.path),ee}case"value":case"parent":case"parentProperty":return ee[te];case"path":return JSONPath.toPathString(ee[te]);case"pointer":return JSONPath.toPointer(ee.path);default:throw new TypeError("Unknown result type")}};JSONPath.prototype._handleCallback=function(ee,te,ne){if(te){const ae=this._getPreferredOutput(ee);ee.path=typeof ee.path=="string"?ee.path:JSONPath.toPathString(ee.path),te(ae,ne,ee)}};JSONPath.prototype._trace=function(ee,te,ne,ae,ie,se,oe,le){let ce;if(!ee.length)return ce={path:ne,value:te,parent:ae,parentProperty:ie,hasArrExpr:oe},this._handleCallback(ce,se,"value"),ce;const he=ee[0],fe=ee.slice(1),pe=[];function ge(ye){Array.isArray(ye)?ye.forEach(xe=>{pe.push(xe)}):pe.push(ye)}if((typeof he!="string"||le)&&te&&Object.hasOwn(te,he))ge(this._trace(fe,te[he],push$1(ne,he),te,he,se,oe));else if(he==="*")this._walk(te,ye=>{ge(this._trace(fe,te[ye],push$1(ne,ye),te,ye,se,!0,!0))});else if(he==="..")ge(this._trace(fe,te,ne,ae,ie,se,oe)),this._walk(te,ye=>{typeof te[ye]=="object"&&ge(this._trace(ee.slice(),te[ye],push$1(ne,ye),te,ye,se,!0))});else{if(he==="^")return this._hasParentSelector=!0,{path:ne.slice(0,-1),expr:fe,isParentSelector:!0};if(he==="~")return ce={path:push$1(ne,he),value:ie,parent:ae,parentProperty:null},this._handleCallback(ce,se,"property"),ce;if(he==="$")ge(this._trace(fe,te,ne,null,null,se,oe));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(he))ge(this._slice(he,fe,te,ne,ae,ie,se));else if(he.indexOf("?(")===0){if(this.currEval===!1)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");const ye=he.replace(/^\?\((.*?)\)$/u,"$1"),xe=/@.?([^?]*)[['](\??\(.*?\))(?!.\)\])[\]']/gu.exec(ye);xe?this._walk(te,be=>{const Se=[xe[2]],ve=xe[1]?te[be][xe[1]]:te[be];this._trace(Se,ve,ne,ae,ie,se,!0).length>0&&ge(this._trace(fe,te[be],push$1(ne,be),te,be,se,!0))}):this._walk(te,be=>{this._eval(ye,te[be],be,ne,ae,ie)&&ge(this._trace(fe,te[be],push$1(ne,be),te,be,se,!0))})}else if(he[0]==="("){if(this.currEval===!1)throw new Error("Eval [(expr)] prevented in JSONPath expression.");ge(this._trace(unshift(this._eval(he,te,ne.at(-1),ne.slice(0,-1),ae,ie),fe),te,ne,ae,ie,se,oe))}else if(he[0]==="@"){let ye=!1;const xe=he.slice(1,-2);switch(xe){case"scalar":(!te||!["object","function"].includes(typeof te))&&(ye=!0);break;case"boolean":case"string":case"undefined":case"function":typeof te===xe&&(ye=!0);break;case"integer":Number.isFinite(te)&&!(te%1)&&(ye=!0);break;case"number":Number.isFinite(te)&&(ye=!0);break;case"nonFinite":typeof te=="number"&&!Number.isFinite(te)&&(ye=!0);break;case"object":te&&typeof te===xe&&(ye=!0);break;case"array":Array.isArray(te)&&(ye=!0);break;case"other":ye=this.currOtherTypeCallback(te,ne,ae,ie);break;case"null":te===null&&(ye=!0);break;default:throw new TypeError("Unknown value type "+xe)}if(ye)return ce={path:ne,value:te,parent:ae,parentProperty:ie},this._handleCallback(ce,se,"value"),ce}else if(he[0]==="`"&&te&&Object.hasOwn(te,he.slice(1))){const ye=he.slice(1);ge(this._trace(fe,te[ye],push$1(ne,ye),te,ye,se,oe,!0))}else if(he.includes(",")){const ye=he.split(",");for(const xe of ye)ge(this._trace(unshift(xe,fe),te,ne,ae,ie,se,!0))}else!le&&te&&Object.hasOwn(te,he)&&ge(this._trace(fe,te[he],push$1(ne,he),te,he,se,oe,!0))}if(this._hasParentSelector)for(let ye=0;ye<pe.length;ye++){const xe=pe[ye];if(xe&&xe.isParentSelector){const be=this._trace(xe.expr,te,xe.path,ae,ie,se,oe);if(Array.isArray(be)){pe[ye]=be[0];const Se=be.length;for(let ve=1;ve<Se;ve++)ye++,pe.splice(ye,0,be[ve])}else pe[ye]=be}}return pe};JSONPath.prototype._walk=function(ee,te){if(Array.isArray(ee)){const ne=ee.length;for(let ae=0;ae<ne;ae++)te(ae)}else ee&&typeof ee=="object"&&Object.keys(ee).forEach(ne=>{te(ne)})};JSONPath.prototype._slice=function(ee,te,ne,ae,ie,se,oe){if(!Array.isArray(ne))return;const le=ne.length,ce=ee.split(":"),he=ce[2]&&Number.parseInt(ce[2])||1;let fe=ce[0]&&Number.parseInt(ce[0])||0,pe=ce[1]&&Number.parseInt(ce[1])||le;fe=fe<0?Math.max(0,fe+le):Math.min(le,fe),pe=pe<0?Math.max(0,pe+le):Math.min(le,pe);const ge=[];for(let ye=fe;ye<pe;ye+=he)this._trace(unshift(ye,te),ne,ae,ie,se,oe,!0).forEach(be=>{ge.push(be)});return ge};JSONPath.prototype._eval=function(ee,te,ne,ae,ie,se){this.currSandbox._$_parentProperty=se,this.currSandbox._$_parent=ie,this.currSandbox._$_property=ne,this.currSandbox._$_root=this.json,this.currSandbox._$_v=te;const oe=ee.includes("@path");oe&&(this.currSandbox._$_path=JSONPath.toPathString(ae.concat([ne])));const le=this.currEval+"Script:"+ee;if(!JSONPath.cache[le]){let ce=ee.replaceAll("@parentProperty","_$_parentProperty").replaceAll("@parent","_$_parent").replaceAll("@property","_$_property").replaceAll("@root","_$_root").replaceAll(/@([.\s)[])/gu,"_$_v$1");if(oe&&(ce=ce.replaceAll("@path","_$_path")),this.currEval==="safe"||this.currEval===!0||this.currEval===void 0)JSONPath.cache[le]=new this.safeVm.Script(ce);else if(this.currEval==="native")JSONPath.cache[le]=new this.vm.Script(ce);else if(typeof this.currEval=="function"&&this.currEval.prototype&&Object.hasOwn(this.currEval.prototype,"runInNewContext")){const he=this.currEval;JSONPath.cache[le]=new he(ce)}else if(typeof this.currEval=="function")JSONPath.cache[le]={runInNewContext:he=>this.currEval(ce,he)};else throw new TypeError(`Unknown "eval" property "${this.currEval}"`)}try{return JSONPath.cache[le].runInNewContext(this.currSandbox)}catch(ce){if(this.ignoreEvalErrors)return!1;throw new Error("jsonPath: "+ce.message+": "+ee)}};JSONPath.cache={};JSONPath.toPathString=function(ee){const te=ee,ne=te.length;let ae="$";for(let ie=1;ie<ne;ie++)/^(~|\^|@.*?\(\))$/u.test(te[ie])||(ae+=/^[0-9*]+$/u.test(te[ie])?"["+te[ie]+"]":"['"+te[ie]+"']");return ae};JSONPath.toPointer=function(ee){const te=ee,ne=te.length;let ae="";for(let ie=1;ie<ne;ie++)/^(~|\^|@.*?\(\))$/u.test(te[ie])||(ae+="/"+te[ie].toString().replaceAll("~","~0").replaceAll("/","~1"));return ae};JSONPath.toPathArray=function(ee){const{cache:te}=JSONPath;if(te[ee])return te[ee].concat();const ne=[],ie=ee.replaceAll(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replaceAll(/[['](\??\(.*?\))[\]'](?!.\])/gu,function(se,oe){return"[#"+(ne.push(oe)-1)+"]"}).replaceAll(/\[['"]([^'\]]*)['"]\]/gu,function(se,oe){return"['"+oe.replaceAll(".","%@%").replaceAll("~","%%@@%%")+"']"}).replaceAll("~",";~;").replaceAll(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replaceAll("%@%",".").replaceAll("%%@@%%","~").replaceAll(/(?:;)?(\^+)(?:;)?/gu,function(se,oe){return";"+oe.split("").join(";")+";"}).replaceAll(/;;;|;;/gu,";..;").replaceAll(/;$|'?\]|'$/gu,"").split(";").map(function(se){const oe=se.match(/#(\d+)/u);return!oe||!oe[1]?se:ne[oe[1]]});return te[ee]=ie,te[ee].concat()};JSONPath.prototype.safeVm={Script:SafeScript};const moveToAnotherArray=function(ee,te,ne){const ae=ee.length;for(let ie=0;ie<ae;ie++){const se=ee[ie];ne(se)&&te.push(ee.splice(ie--,1)[0])}};class Script{constructor(te){this.code=te}runInNewContext(te){let ne=this.code;const ae=Object.keys(te),ie=[];moveToAnotherArray(ae,ie,he=>typeof te[he]=="function");const se=ae.map(he=>te[he]);ne=ie.reduce((he,fe)=>{let pe=te[fe].toString();return/function/u.test(pe)||(pe="function "+pe),"var "+fe+"="+pe+";"+he},"")+ne,!/(['"])use strict\1/u.test(ne)&&!ae.includes("arguments")&&(ne="var arguments = undefined;"+ne),ne=ne.replace(/;\s*$/u,"");const le=ne.lastIndexOf(";"),ce=le!==-1?ne.slice(0,le+1)+" return "+ne.slice(le+1):" return "+ne;return new Function(...ae,ce)(...se)}}JSONPath.prototype.vm={Script};const IDX_STATUS=0,IDX_OPCODE=1,IDX_ARG1=2,IDX_ARG2=3,DATA_OFFSET=16,STATUS_OK=2,STATUS_ERR=3,OP_GETATTR=1,OP_READDIR=2,OP_UNLINK=5,OP_MKDIR=6,OP_RMDIR=7,OP_RENAME=8,OP_READ_BYTES=10,OP_WRITE_BYTES=11,OP_TRUNCATE=12,ERR_ENOENT=44,ERR_EIO=147;class PyodideWorkerWrapper{constructor(){this.isReady=!1,this.currentTask=null,this.textDecoder=new TextDecoder,this.textEncoder=new TextEncoder,this.sharedBuffer=new SharedArrayBuffer(10*1024*1024),this.int32View=new Int32Array(this.sharedBuffer),this.uint8View=new Uint8Array(this.sharedBuffer),this.reinit()}reinit(){this.worker&&this.worker.terminate(),this.isReady=!1,this.worker=new Worker(new URL("/multi_agent/assets/worker-DN6zsOxA.js",import.meta.url),{type:"module"}),this.worker.onmessage=this.handleMessage.bind(this),this.worker.postMessage({type:"init",payload:{buffer:this.sharedBuffer}})}readString(te){let ne=te;for(;ne<this.uint8View.length&&this.uint8View[ne]!==0;)ne++;return{raw:this.textDecoder.decode(this.uint8View.slice(te,ne)),length:ne-te}}mapPath(te){const ne=te.replace(/\/+$/,"")||"/";return ne==="/workspace"?"/":ne.startsWith("/workspace/")?ne.substring(4):ne}async handleMessage(te){const{type:ne,result:ae,error:ie,text:se}=te.data;if((ne==="stdout"||ne==="stderr")&&this.currentTask)this.currentTask.stdout.push(se);else if(ne==="ready")this.isReady=!0;else if(ne==="fs_req"){const oe=Atomics.load(this.int32View,IDX_OPCODE),le=Atomics.load(this.int32View,IDX_ARG1);try{const{raw:ce,length:he}=this.readString(DATA_OFFSET),fe=this.mapPath(ce);switch(console.log(`Received new op: ${oe}
Arg1: ${le}
RawPath: ${ce}
Path: ${fe}`),oe){case OP_GETATTR:{if(fe==="/"||fe==="")Atomics.store(this.int32View,IDX_ARG1,16895),Atomics.store(this.int32View,IDX_ARG2,0);else{const pe=await fileSystem.getMetadata(fe);Atomics.store(this.int32View,IDX_ARG1,pe.kind==="directory"?16895:33188),Atomics.store(this.int32View,IDX_ARG2,pe.size||0)}break}case OP_READDIR:{const ge=(await fileSystem.list(fe)).map(xe=>xe.name).join(`
`),ye=this.textEncoder.encode(ge);if(ye.length>this.uint8View.length-DATA_OFFSET)throw new Error("Listing too large");Atomics.store(this.int32View,IDX_ARG1,ye.length),this.uint8View.set(ye,DATA_OFFSET);break}case OP_READ_BYTES:{const pe=Atomics.load(this.int32View,IDX_ARG2),ge=await fileSystem.readBytes(fe,pe,le);Atomics.store(this.int32View,IDX_ARG1,ge.length),this.uint8View.set(ge,DATA_OFFSET);break}case OP_WRITE_BYTES:{const pe=Atomics.load(this.int32View,IDX_ARG2),ge=DATA_OFFSET+he+1,ye=this.uint8View.subarray(ge,ge+le);await fileSystem.writeBytes(fe,new Uint8Array(ye),pe);break}case OP_TRUNCATE:await fileSystem.truncate(fe,Atomics.load(this.int32View,IDX_ARG2));break;case OP_MKDIR:await fileSystem.mkdir(fe);break;case OP_UNLINK:case OP_RMDIR:await fileSystem.delete(fe);break;case OP_RENAME:{const pe=DATA_OFFSET+he+1,ge=this.mapPath(this.textDecoder.decode(this.uint8View.slice(pe,pe+le)));await fileSystem.rename(fe,ge);break}}Atomics.store(this.int32View,IDX_STATUS,STATUS_OK)}catch(ce){console.error(`[FS Error] Op ${oe} on:`,ce);const he=ce.message.toLowerCase().includes("enoent")||ce.message.toLowerCase().includes("not found");Atomics.store(this.int32View,IDX_ARG1,he?ERR_ENOENT:ERR_EIO),Atomics.store(this.int32View,IDX_STATUS,STATUS_ERR)}finally{Atomics.notify(this.int32View,IDX_STATUS)}}else ne==="result"&&this.currentTask?(this.currentTask.resolve(ae),this.currentTask=null):ne==="error"&&this.currentTask&&(this.currentTask.reject(ie),this.currentTask=null)}run(te,ne){return new Promise((ae,ie)=>{const se=setTimeout(()=>{var le;const oe=((le=this.currentTask)==null?void 0:le.stdout.join(""))||"";this.reinit(),ie({console_output:oe+`
[System]: Timeout.`,error:"TIMEOUT"})},ne);this.currentTask={code:te,stdout:[],resolve:oe=>{clearTimeout(se),ae(oe)},reject:oe=>{clearTimeout(se),ie(oe)}},this.worker.postMessage({type:"run",payload:{code:te,id:"1"}})})}}class PyodideManager{constructor(){this.pool=[]}async runPython(te,ne){if(this.pool.length===0){const ae=new PyodideWorkerWrapper;for(this.pool.push(ae);!ae.isReady;)await new Promise(ie=>setTimeout(ie,50))}return this.pool[0].run(te,ne)}}const pyodideManager=new PyodideManager;var diffMatchPatch={exports:{}},hasRequiredDiffMatchPatch;function requireDiffMatchPatch(){return hasRequiredDiffMatchPatch||(hasRequiredDiffMatchPatch=1,(function(ee){var te=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},ne=-1,ae=1,ie=0;te.Diff=function(se,oe){return[se,oe]},te.prototype.diff_main=function(se,oe,le,ce){typeof ce>"u"&&(this.Diff_Timeout<=0?ce=Number.MAX_VALUE:ce=new Date().getTime()+this.Diff_Timeout*1e3);var he=ce;if(se==null||oe==null)throw new Error("Null input. (diff_main)");if(se==oe)return se?[new te.Diff(ie,se)]:[];typeof le>"u"&&(le=!0);var fe=le,pe=this.diff_commonPrefix(se,oe),ge=se.substring(0,pe);se=se.substring(pe),oe=oe.substring(pe),pe=this.diff_commonSuffix(se,oe);var ye=se.substring(se.length-pe);se=se.substring(0,se.length-pe),oe=oe.substring(0,oe.length-pe);var xe=this.diff_compute_(se,oe,fe,he);return ge&&xe.unshift(new te.Diff(ie,ge)),ye&&xe.push(new te.Diff(ie,ye)),this.diff_cleanupMerge(xe),xe},te.prototype.diff_compute_=function(se,oe,le,ce){var he;if(!se)return[new te.Diff(ae,oe)];if(!oe)return[new te.Diff(ne,se)];var fe=se.length>oe.length?se:oe,pe=se.length>oe.length?oe:se,ge=fe.indexOf(pe);if(ge!=-1)return he=[new te.Diff(ae,fe.substring(0,ge)),new te.Diff(ie,pe),new te.Diff(ae,fe.substring(ge+pe.length))],se.length>oe.length&&(he[0][0]=he[2][0]=ne),he;if(pe.length==1)return[new te.Diff(ne,se),new te.Diff(ae,oe)];var ye=this.diff_halfMatch_(se,oe);if(ye){var xe=ye[0],be=ye[1],Se=ye[2],ve=ye[3],Te=ye[4],Ce=this.diff_main(xe,Se,le,ce),Pe=this.diff_main(be,ve,le,ce);return Ce.concat([new te.Diff(ie,Te)],Pe)}return le&&se.length>100&&oe.length>100?this.diff_lineMode_(se,oe,ce):this.diff_bisect_(se,oe,ce)},te.prototype.diff_lineMode_=function(se,oe,le){var ce=this.diff_linesToChars_(se,oe);se=ce.chars1,oe=ce.chars2;var he=ce.lineArray,fe=this.diff_main(se,oe,!1,le);this.diff_charsToLines_(fe,he),this.diff_cleanupSemantic(fe),fe.push(new te.Diff(ie,""));for(var pe=0,ge=0,ye=0,xe="",be="";pe<fe.length;){switch(fe[pe][0]){case ae:ye++,be+=fe[pe][1];break;case ne:ge++,xe+=fe[pe][1];break;case ie:if(ge>=1&&ye>=1){fe.splice(pe-ge-ye,ge+ye),pe=pe-ge-ye;for(var Se=this.diff_main(xe,be,!1,le),ve=Se.length-1;ve>=0;ve--)fe.splice(pe,0,Se[ve]);pe=pe+Se.length}ye=0,ge=0,xe="",be="";break}pe++}return fe.pop(),fe},te.prototype.diff_bisect_=function(se,oe,le){for(var ce=se.length,he=oe.length,fe=Math.ceil((ce+he)/2),pe=fe,ge=2*fe,ye=new Array(ge),xe=new Array(ge),be=0;be<ge;be++)ye[be]=-1,xe[be]=-1;ye[pe+1]=0,xe[pe+1]=0;for(var Se=ce-he,ve=Se%2!=0,Te=0,Ce=0,Pe=0,Be=0,Ae=0;Ae<fe&&!(new Date().getTime()>le);Ae++){for(var Me=-Ae+Te;Me<=Ae-Ce;Me+=2){var Ge=pe+Me,Ue;Me==-Ae||Me!=Ae&&ye[Ge-1]<ye[Ge+1]?Ue=ye[Ge+1]:Ue=ye[Ge-1]+1;for(var Ve=Ue-Me;Ue<ce&&Ve<he&&se.charAt(Ue)==oe.charAt(Ve);)Ue++,Ve++;if(ye[Ge]=Ue,Ue>ce)Ce+=2;else if(Ve>he)Te+=2;else if(ve){var je=pe+Se-Me;if(je>=0&&je<ge&&xe[je]!=-1){var De=ce-xe[je];if(Ue>=De)return this.diff_bisectSplit_(se,oe,Ue,Ve,le)}}}for(var Ye=-Ae+Pe;Ye<=Ae-Be;Ye+=2){var je=pe+Ye,De;Ye==-Ae||Ye!=Ae&&xe[je-1]<xe[je+1]?De=xe[je+1]:De=xe[je-1]+1;for(var ke=De-Ye;De<ce&&ke<he&&se.charAt(ce-De-1)==oe.charAt(he-ke-1);)De++,ke++;if(xe[je]=De,De>ce)Be+=2;else if(ke>he)Pe+=2;else if(!ve){var Ge=pe+Se-Ye;if(Ge>=0&&Ge<ge&&ye[Ge]!=-1){var Ue=ye[Ge],Ve=pe+Ue-Ge;if(De=ce-De,Ue>=De)return this.diff_bisectSplit_(se,oe,Ue,Ve,le)}}}}return[new te.Diff(ne,se),new te.Diff(ae,oe)]},te.prototype.diff_bisectSplit_=function(se,oe,le,ce,he){var fe=se.substring(0,le),pe=oe.substring(0,ce),ge=se.substring(le),ye=oe.substring(ce),xe=this.diff_main(fe,pe,!1,he),be=this.diff_main(ge,ye,!1,he);return xe.concat(be)},te.prototype.diff_linesToChars_=function(se,oe){var le=[],ce={};le[0]="";function he(ye){for(var xe="",be=0,Se=-1,ve=le.length;Se<ye.length-1;){Se=ye.indexOf(`
`,be),Se==-1&&(Se=ye.length-1);var Te=ye.substring(be,Se+1);(ce.hasOwnProperty?ce.hasOwnProperty(Te):ce[Te]!==void 0)?xe+=String.fromCharCode(ce[Te]):(ve==fe&&(Te=ye.substring(be),Se=ye.length),xe+=String.fromCharCode(ve),ce[Te]=ve,le[ve++]=Te),be=Se+1}return xe}var fe=4e4,pe=he(se);fe=65535;var ge=he(oe);return{chars1:pe,chars2:ge,lineArray:le}},te.prototype.diff_charsToLines_=function(se,oe){for(var le=0;le<se.length;le++){for(var ce=se[le][1],he=[],fe=0;fe<ce.length;fe++)he[fe]=oe[ce.charCodeAt(fe)];se[le][1]=he.join("")}},te.prototype.diff_commonPrefix=function(se,oe){if(!se||!oe||se.charAt(0)!=oe.charAt(0))return 0;for(var le=0,ce=Math.min(se.length,oe.length),he=ce,fe=0;le<he;)se.substring(fe,he)==oe.substring(fe,he)?(le=he,fe=le):ce=he,he=Math.floor((ce-le)/2+le);return he},te.prototype.diff_commonSuffix=function(se,oe){if(!se||!oe||se.charAt(se.length-1)!=oe.charAt(oe.length-1))return 0;for(var le=0,ce=Math.min(se.length,oe.length),he=ce,fe=0;le<he;)se.substring(se.length-he,se.length-fe)==oe.substring(oe.length-he,oe.length-fe)?(le=he,fe=le):ce=he,he=Math.floor((ce-le)/2+le);return he},te.prototype.diff_commonOverlap_=function(se,oe){var le=se.length,ce=oe.length;if(le==0||ce==0)return 0;le>ce?se=se.substring(le-ce):le<ce&&(oe=oe.substring(0,le));var he=Math.min(le,ce);if(se==oe)return he;for(var fe=0,pe=1;;){var ge=se.substring(he-pe),ye=oe.indexOf(ge);if(ye==-1)return fe;pe+=ye,(ye==0||se.substring(he-pe)==oe.substring(0,pe))&&(fe=pe,pe++)}},te.prototype.diff_halfMatch_=function(se,oe){if(this.Diff_Timeout<=0)return null;var le=se.length>oe.length?se:oe,ce=se.length>oe.length?oe:se;if(le.length<4||ce.length*2<le.length)return null;var he=this;function fe(Ce,Pe,Be){for(var Ae=Ce.substring(Be,Be+Math.floor(Ce.length/4)),Me=-1,Ge="",Ue,Ve,je,De;(Me=Pe.indexOf(Ae,Me+1))!=-1;){var Ye=he.diff_commonPrefix(Ce.substring(Be),Pe.substring(Me)),ke=he.diff_commonSuffix(Ce.substring(0,Be),Pe.substring(0,Me));Ge.length<ke+Ye&&(Ge=Pe.substring(Me-ke,Me)+Pe.substring(Me,Me+Ye),Ue=Ce.substring(0,Be-ke),Ve=Ce.substring(Be+Ye),je=Pe.substring(0,Me-ke),De=Pe.substring(Me+Ye))}return Ge.length*2>=Ce.length?[Ue,Ve,je,De,Ge]:null}var pe=fe(le,ce,Math.ceil(le.length/4)),ge=fe(le,ce,Math.ceil(le.length/2)),ye;if(!pe&&!ge)return null;ge?pe?ye=pe[4].length>ge[4].length?pe:ge:ye=ge:ye=pe;var xe,be,Se,ve;se.length>oe.length?(xe=ye[0],be=ye[1],Se=ye[2],ve=ye[3]):(Se=ye[0],ve=ye[1],xe=ye[2],be=ye[3]);var Te=ye[4];return[xe,be,Se,ve,Te]},te.prototype.diff_cleanupSemantic=function(se){for(var oe=!1,le=[],ce=0,he=null,fe=0,pe=0,ge=0,ye=0,xe=0;fe<se.length;)se[fe][0]==ie?(le[ce++]=fe,pe=ye,ge=xe,ye=0,xe=0,he=se[fe][1]):(se[fe][0]==ae?ye+=se[fe][1].length:xe+=se[fe][1].length,he&&he.length<=Math.max(pe,ge)&&he.length<=Math.max(ye,xe)&&(se.splice(le[ce-1],0,new te.Diff(ne,he)),se[le[ce-1]+1][0]=ae,ce--,ce--,fe=ce>0?le[ce-1]:-1,pe=0,ge=0,ye=0,xe=0,he=null,oe=!0)),fe++;for(oe&&this.diff_cleanupMerge(se),this.diff_cleanupSemanticLossless(se),fe=1;fe<se.length;){if(se[fe-1][0]==ne&&se[fe][0]==ae){var be=se[fe-1][1],Se=se[fe][1],ve=this.diff_commonOverlap_(be,Se),Te=this.diff_commonOverlap_(Se,be);ve>=Te?(ve>=be.length/2||ve>=Se.length/2)&&(se.splice(fe,0,new te.Diff(ie,Se.substring(0,ve))),se[fe-1][1]=be.substring(0,be.length-ve),se[fe+1][1]=Se.substring(ve),fe++):(Te>=be.length/2||Te>=Se.length/2)&&(se.splice(fe,0,new te.Diff(ie,be.substring(0,Te))),se[fe-1][0]=ae,se[fe-1][1]=Se.substring(0,Se.length-Te),se[fe+1][0]=ne,se[fe+1][1]=be.substring(Te),fe++),fe++}fe++}},te.prototype.diff_cleanupSemanticLossless=function(se){function oe(Te,Ce){if(!Te||!Ce)return 6;var Pe=Te.charAt(Te.length-1),Be=Ce.charAt(0),Ae=Pe.match(te.nonAlphaNumericRegex_),Me=Be.match(te.nonAlphaNumericRegex_),Ge=Ae&&Pe.match(te.whitespaceRegex_),Ue=Me&&Be.match(te.whitespaceRegex_),Ve=Ge&&Pe.match(te.linebreakRegex_),je=Ue&&Be.match(te.linebreakRegex_),De=Ve&&Te.match(te.blanklineEndRegex_),Ye=je&&Ce.match(te.blanklineStartRegex_);return De||Ye?5:Ve||je?4:Ae&&!Ge&&Ue?3:Ge||Ue?2:Ae||Me?1:0}for(var le=1;le<se.length-1;){if(se[le-1][0]==ie&&se[le+1][0]==ie){var ce=se[le-1][1],he=se[le][1],fe=se[le+1][1],pe=this.diff_commonSuffix(ce,he);if(pe){var ge=he.substring(he.length-pe);ce=ce.substring(0,ce.length-pe),he=ge+he.substring(0,he.length-pe),fe=ge+fe}for(var ye=ce,xe=he,be=fe,Se=oe(ce,he)+oe(he,fe);he.charAt(0)===fe.charAt(0);){ce+=he.charAt(0),he=he.substring(1)+fe.charAt(0),fe=fe.substring(1);var ve=oe(ce,he)+oe(he,fe);ve>=Se&&(Se=ve,ye=ce,xe=he,be=fe)}se[le-1][1]!=ye&&(ye?se[le-1][1]=ye:(se.splice(le-1,1),le--),se[le][1]=xe,be?se[le+1][1]=be:(se.splice(le+1,1),le--))}le++}},te.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,te.whitespaceRegex_=/\s/,te.linebreakRegex_=/[\r\n]/,te.blanklineEndRegex_=/\n\r?\n$/,te.blanklineStartRegex_=/^\r?\n\r?\n/,te.prototype.diff_cleanupEfficiency=function(se){for(var oe=!1,le=[],ce=0,he=null,fe=0,pe=!1,ge=!1,ye=!1,xe=!1;fe<se.length;)se[fe][0]==ie?(se[fe][1].length<this.Diff_EditCost&&(ye||xe)?(le[ce++]=fe,pe=ye,ge=xe,he=se[fe][1]):(ce=0,he=null),ye=xe=!1):(se[fe][0]==ne?xe=!0:ye=!0,he&&(pe&&ge&&ye&&xe||he.length<this.Diff_EditCost/2&&pe+ge+ye+xe==3)&&(se.splice(le[ce-1],0,new te.Diff(ne,he)),se[le[ce-1]+1][0]=ae,ce--,he=null,pe&&ge?(ye=xe=!0,ce=0):(ce--,fe=ce>0?le[ce-1]:-1,ye=xe=!1),oe=!0)),fe++;oe&&this.diff_cleanupMerge(se)},te.prototype.diff_cleanupMerge=function(se){se.push(new te.Diff(ie,""));for(var oe=0,le=0,ce=0,he="",fe="",pe;oe<se.length;)switch(se[oe][0]){case ae:ce++,fe+=se[oe][1],oe++;break;case ne:le++,he+=se[oe][1],oe++;break;case ie:le+ce>1?(le!==0&&ce!==0&&(pe=this.diff_commonPrefix(fe,he),pe!==0&&(oe-le-ce>0&&se[oe-le-ce-1][0]==ie?se[oe-le-ce-1][1]+=fe.substring(0,pe):(se.splice(0,0,new te.Diff(ie,fe.substring(0,pe))),oe++),fe=fe.substring(pe),he=he.substring(pe)),pe=this.diff_commonSuffix(fe,he),pe!==0&&(se[oe][1]=fe.substring(fe.length-pe)+se[oe][1],fe=fe.substring(0,fe.length-pe),he=he.substring(0,he.length-pe))),oe-=le+ce,se.splice(oe,le+ce),he.length&&(se.splice(oe,0,new te.Diff(ne,he)),oe++),fe.length&&(se.splice(oe,0,new te.Diff(ae,fe)),oe++),oe++):oe!==0&&se[oe-1][0]==ie?(se[oe-1][1]+=se[oe][1],se.splice(oe,1)):oe++,ce=0,le=0,he="",fe="";break}se[se.length-1][1]===""&&se.pop();var ge=!1;for(oe=1;oe<se.length-1;)se[oe-1][0]==ie&&se[oe+1][0]==ie&&(se[oe][1].substring(se[oe][1].length-se[oe-1][1].length)==se[oe-1][1]?(se[oe][1]=se[oe-1][1]+se[oe][1].substring(0,se[oe][1].length-se[oe-1][1].length),se[oe+1][1]=se[oe-1][1]+se[oe+1][1],se.splice(oe-1,1),ge=!0):se[oe][1].substring(0,se[oe+1][1].length)==se[oe+1][1]&&(se[oe-1][1]+=se[oe+1][1],se[oe][1]=se[oe][1].substring(se[oe+1][1].length)+se[oe+1][1],se.splice(oe+1,1),ge=!0)),oe++;ge&&this.diff_cleanupMerge(se)},te.prototype.diff_xIndex=function(se,oe){var le=0,ce=0,he=0,fe=0,pe;for(pe=0;pe<se.length&&(se[pe][0]!==ae&&(le+=se[pe][1].length),se[pe][0]!==ne&&(ce+=se[pe][1].length),!(le>oe));pe++)he=le,fe=ce;return se.length!=pe&&se[pe][0]===ne?fe:fe+(oe-he)},te.prototype.diff_prettyHtml=function(se){for(var oe=[],le=/&/g,ce=/</g,he=/>/g,fe=/\n/g,pe=0;pe<se.length;pe++){var ge=se[pe][0],ye=se[pe][1],xe=ye.replace(le,"&amp;").replace(ce,"&lt;").replace(he,"&gt;").replace(fe,"&para;<br>");switch(ge){case ae:oe[pe]='<ins style="background:#e6ffe6;">'+xe+"</ins>";break;case ne:oe[pe]='<del style="background:#ffe6e6;">'+xe+"</del>";break;case ie:oe[pe]="<span>"+xe+"</span>";break}}return oe.join("")},te.prototype.diff_text1=function(se){for(var oe=[],le=0;le<se.length;le++)se[le][0]!==ae&&(oe[le]=se[le][1]);return oe.join("")},te.prototype.diff_text2=function(se){for(var oe=[],le=0;le<se.length;le++)se[le][0]!==ne&&(oe[le]=se[le][1]);return oe.join("")},te.prototype.diff_levenshtein=function(se){for(var oe=0,le=0,ce=0,he=0;he<se.length;he++){var fe=se[he][0],pe=se[he][1];switch(fe){case ae:le+=pe.length;break;case ne:ce+=pe.length;break;case ie:oe+=Math.max(le,ce),le=0,ce=0;break}}return oe+=Math.max(le,ce),oe},te.prototype.diff_toDelta=function(se){for(var oe=[],le=0;le<se.length;le++)switch(se[le][0]){case ae:oe[le]="+"+encodeURI(se[le][1]);break;case ne:oe[le]="-"+se[le][1].length;break;case ie:oe[le]="="+se[le][1].length;break}return oe.join("	").replace(/%20/g," ")},te.prototype.diff_fromDelta=function(se,oe){for(var le=[],ce=0,he=0,fe=oe.split(/\t/g),pe=0;pe<fe.length;pe++){var ge=fe[pe].substring(1);switch(fe[pe].charAt(0)){case"+":try{le[ce++]=new te.Diff(ae,decodeURI(ge))}catch{throw new Error("Illegal escape in diff_fromDelta: "+ge)}break;case"-":case"=":var ye=parseInt(ge,10);if(isNaN(ye)||ye<0)throw new Error("Invalid number in diff_fromDelta: "+ge);var xe=se.substring(he,he+=ye);fe[pe].charAt(0)=="="?le[ce++]=new te.Diff(ie,xe):le[ce++]=new te.Diff(ne,xe);break;default:if(fe[pe])throw new Error("Invalid diff operation in diff_fromDelta: "+fe[pe])}}if(he!=se.length)throw new Error("Delta length ("+he+") does not equal source text length ("+se.length+").");return le},te.prototype.match_main=function(se,oe,le){if(se==null||oe==null||le==null)throw new Error("Null input. (match_main)");return le=Math.max(0,Math.min(le,se.length)),se==oe?0:se.length?se.substring(le,le+oe.length)==oe?le:this.match_bitap_(se,oe,le):-1},te.prototype.match_bitap_=function(se,oe,le){if(oe.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var ce=this.match_alphabet_(oe),he=this;function fe(Ue,Ve){var je=Ue/oe.length,De=Math.abs(le-Ve);return he.Match_Distance?je+De/he.Match_Distance:De?1:je}var pe=this.Match_Threshold,ge=se.indexOf(oe,le);ge!=-1&&(pe=Math.min(fe(0,ge),pe),ge=se.lastIndexOf(oe,le+oe.length),ge!=-1&&(pe=Math.min(fe(0,ge),pe)));var ye=1<<oe.length-1;ge=-1;for(var xe,be,Se=oe.length+se.length,ve,Te=0;Te<oe.length;Te++){for(xe=0,be=Se;xe<be;)fe(Te,le+be)<=pe?xe=be:Se=be,be=Math.floor((Se-xe)/2+xe);Se=be;var Ce=Math.max(1,le-be+1),Pe=Math.min(le+be,se.length)+oe.length,Be=Array(Pe+2);Be[Pe+1]=(1<<Te)-1;for(var Ae=Pe;Ae>=Ce;Ae--){var Me=ce[se.charAt(Ae-1)];if(Te===0?Be[Ae]=(Be[Ae+1]<<1|1)&Me:Be[Ae]=(Be[Ae+1]<<1|1)&Me|((ve[Ae+1]|ve[Ae])<<1|1)|ve[Ae+1],Be[Ae]&ye){var Ge=fe(Te,Ae-1);if(Ge<=pe)if(pe=Ge,ge=Ae-1,ge>le)Ce=Math.max(1,2*le-ge);else break}}if(fe(Te+1,le)>pe)break;ve=Be}return ge},te.prototype.match_alphabet_=function(se){for(var oe={},le=0;le<se.length;le++)oe[se.charAt(le)]=0;for(var le=0;le<se.length;le++)oe[se.charAt(le)]|=1<<se.length-le-1;return oe},te.prototype.patch_addContext_=function(se,oe){if(oe.length!=0){if(se.start2===null)throw Error("patch not initialized");for(var le=oe.substring(se.start2,se.start2+se.length1),ce=0;oe.indexOf(le)!=oe.lastIndexOf(le)&&le.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)ce+=this.Patch_Margin,le=oe.substring(se.start2-ce,se.start2+se.length1+ce);ce+=this.Patch_Margin;var he=oe.substring(se.start2-ce,se.start2);he&&se.diffs.unshift(new te.Diff(ie,he));var fe=oe.substring(se.start2+se.length1,se.start2+se.length1+ce);fe&&se.diffs.push(new te.Diff(ie,fe)),se.start1-=he.length,se.start2-=he.length,se.length1+=he.length+fe.length,se.length2+=he.length+fe.length}},te.prototype.patch_make=function(se,oe,le){var ce,he;if(typeof se=="string"&&typeof oe=="string"&&typeof le>"u")ce=se,he=this.diff_main(ce,oe,!0),he.length>2&&(this.diff_cleanupSemantic(he),this.diff_cleanupEfficiency(he));else if(se&&typeof se=="object"&&typeof oe>"u"&&typeof le>"u")he=se,ce=this.diff_text1(he);else if(typeof se=="string"&&oe&&typeof oe=="object"&&typeof le>"u")ce=se,he=oe;else if(typeof se=="string"&&typeof oe=="string"&&le&&typeof le=="object")ce=se,he=le;else throw new Error("Unknown call format to patch_make.");if(he.length===0)return[];for(var fe=[],pe=new te.patch_obj,ge=0,ye=0,xe=0,be=ce,Se=ce,ve=0;ve<he.length;ve++){var Te=he[ve][0],Ce=he[ve][1];switch(!ge&&Te!==ie&&(pe.start1=ye,pe.start2=xe),Te){case ae:pe.diffs[ge++]=he[ve],pe.length2+=Ce.length,Se=Se.substring(0,xe)+Ce+Se.substring(xe);break;case ne:pe.length1+=Ce.length,pe.diffs[ge++]=he[ve],Se=Se.substring(0,xe)+Se.substring(xe+Ce.length);break;case ie:Ce.length<=2*this.Patch_Margin&&ge&&he.length!=ve+1?(pe.diffs[ge++]=he[ve],pe.length1+=Ce.length,pe.length2+=Ce.length):Ce.length>=2*this.Patch_Margin&&ge&&(this.patch_addContext_(pe,be),fe.push(pe),pe=new te.patch_obj,ge=0,be=Se,ye=xe);break}Te!==ae&&(ye+=Ce.length),Te!==ne&&(xe+=Ce.length)}return ge&&(this.patch_addContext_(pe,be),fe.push(pe)),fe},te.prototype.patch_deepCopy=function(se){for(var oe=[],le=0;le<se.length;le++){var ce=se[le],he=new te.patch_obj;he.diffs=[];for(var fe=0;fe<ce.diffs.length;fe++)he.diffs[fe]=new te.Diff(ce.diffs[fe][0],ce.diffs[fe][1]);he.start1=ce.start1,he.start2=ce.start2,he.length1=ce.length1,he.length2=ce.length2,oe[le]=he}return oe},te.prototype.patch_apply=function(se,oe){if(se.length==0)return[oe,[]];se=this.patch_deepCopy(se);var le=this.patch_addPadding(se);oe=le+oe+le,this.patch_splitMax(se);for(var ce=0,he=[],fe=0;fe<se.length;fe++){var pe=se[fe].start2+ce,ge=this.diff_text1(se[fe].diffs),ye,xe=-1;if(ge.length>this.Match_MaxBits?(ye=this.match_main(oe,ge.substring(0,this.Match_MaxBits),pe),ye!=-1&&(xe=this.match_main(oe,ge.substring(ge.length-this.Match_MaxBits),pe+ge.length-this.Match_MaxBits),(xe==-1||ye>=xe)&&(ye=-1))):ye=this.match_main(oe,ge,pe),ye==-1)he[fe]=!1,ce-=se[fe].length2-se[fe].length1;else{he[fe]=!0,ce=ye-pe;var be;if(xe==-1?be=oe.substring(ye,ye+ge.length):be=oe.substring(ye,xe+this.Match_MaxBits),ge==be)oe=oe.substring(0,ye)+this.diff_text2(se[fe].diffs)+oe.substring(ye+ge.length);else{var Se=this.diff_main(ge,be,!1);if(ge.length>this.Match_MaxBits&&this.diff_levenshtein(Se)/ge.length>this.Patch_DeleteThreshold)he[fe]=!1;else{this.diff_cleanupSemanticLossless(Se);for(var ve=0,Te,Ce=0;Ce<se[fe].diffs.length;Ce++){var Pe=se[fe].diffs[Ce];Pe[0]!==ie&&(Te=this.diff_xIndex(Se,ve)),Pe[0]===ae?oe=oe.substring(0,ye+Te)+Pe[1]+oe.substring(ye+Te):Pe[0]===ne&&(oe=oe.substring(0,ye+Te)+oe.substring(ye+this.diff_xIndex(Se,ve+Pe[1].length))),Pe[0]!==ne&&(ve+=Pe[1].length)}}}}}return oe=oe.substring(le.length,oe.length-le.length),[oe,he]},te.prototype.patch_addPadding=function(se){for(var oe=this.Patch_Margin,le="",ce=1;ce<=oe;ce++)le+=String.fromCharCode(ce);for(var ce=0;ce<se.length;ce++)se[ce].start1+=oe,se[ce].start2+=oe;var he=se[0],fe=he.diffs;if(fe.length==0||fe[0][0]!=ie)fe.unshift(new te.Diff(ie,le)),he.start1-=oe,he.start2-=oe,he.length1+=oe,he.length2+=oe;else if(oe>fe[0][1].length){var pe=oe-fe[0][1].length;fe[0][1]=le.substring(fe[0][1].length)+fe[0][1],he.start1-=pe,he.start2-=pe,he.length1+=pe,he.length2+=pe}if(he=se[se.length-1],fe=he.diffs,fe.length==0||fe[fe.length-1][0]!=ie)fe.push(new te.Diff(ie,le)),he.length1+=oe,he.length2+=oe;else if(oe>fe[fe.length-1][1].length){var pe=oe-fe[fe.length-1][1].length;fe[fe.length-1][1]+=le.substring(0,pe),he.length1+=pe,he.length2+=pe}return le},te.prototype.patch_splitMax=function(se){for(var oe=this.Match_MaxBits,le=0;le<se.length;le++)if(!(se[le].length1<=oe)){var ce=se[le];se.splice(le--,1);for(var he=ce.start1,fe=ce.start2,pe="";ce.diffs.length!==0;){var ge=new te.patch_obj,ye=!0;for(ge.start1=he-pe.length,ge.start2=fe-pe.length,pe!==""&&(ge.length1=ge.length2=pe.length,ge.diffs.push(new te.Diff(ie,pe)));ce.diffs.length!==0&&ge.length1<oe-this.Patch_Margin;){var xe=ce.diffs[0][0],be=ce.diffs[0][1];xe===ae?(ge.length2+=be.length,fe+=be.length,ge.diffs.push(ce.diffs.shift()),ye=!1):xe===ne&&ge.diffs.length==1&&ge.diffs[0][0]==ie&&be.length>2*oe?(ge.length1+=be.length,he+=be.length,ye=!1,ge.diffs.push(new te.Diff(xe,be)),ce.diffs.shift()):(be=be.substring(0,oe-ge.length1-this.Patch_Margin),ge.length1+=be.length,he+=be.length,xe===ie?(ge.length2+=be.length,fe+=be.length):ye=!1,ge.diffs.push(new te.Diff(xe,be)),be==ce.diffs[0][1]?ce.diffs.shift():ce.diffs[0][1]=ce.diffs[0][1].substring(be.length))}pe=this.diff_text2(ge.diffs),pe=pe.substring(pe.length-this.Patch_Margin);var Se=this.diff_text1(ce.diffs).substring(0,this.Patch_Margin);Se!==""&&(ge.length1+=Se.length,ge.length2+=Se.length,ge.diffs.length!==0&&ge.diffs[ge.diffs.length-1][0]===ie?ge.diffs[ge.diffs.length-1][1]+=Se:ge.diffs.push(new te.Diff(ie,Se))),ye||se.splice(++le,0,ge)}}},te.prototype.patch_toText=function(se){for(var oe=[],le=0;le<se.length;le++)oe[le]=se[le];return oe.join("")},te.prototype.patch_fromText=function(se){var oe=[];if(!se)return oe;for(var le=se.split(`
`),ce=0,he=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;ce<le.length;){var fe=le[ce].match(he);if(!fe)throw new Error("Invalid patch string: "+le[ce]);var pe=new te.patch_obj;for(oe.push(pe),pe.start1=parseInt(fe[1],10),fe[2]===""?(pe.start1--,pe.length1=1):fe[2]=="0"?pe.length1=0:(pe.start1--,pe.length1=parseInt(fe[2],10)),pe.start2=parseInt(fe[3],10),fe[4]===""?(pe.start2--,pe.length2=1):fe[4]=="0"?pe.length2=0:(pe.start2--,pe.length2=parseInt(fe[4],10)),ce++;ce<le.length;){var ge=le[ce].charAt(0);try{var ye=decodeURI(le[ce].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+ye)}if(ge=="-")pe.diffs.push(new te.Diff(ne,ye));else if(ge=="+")pe.diffs.push(new te.Diff(ae,ye));else if(ge==" ")pe.diffs.push(new te.Diff(ie,ye));else{if(ge=="@")break;if(ge!=="")throw new Error('Invalid patch mode "'+ge+'" in: '+ye)}ce++}}return oe},te.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},te.patch_obj.prototype.toString=function(){var se,oe;this.length1===0?se=this.start1+",0":this.length1==1?se=this.start1+1:se=this.start1+1+","+this.length1,this.length2===0?oe=this.start2+",0":this.length2==1?oe=this.start2+1:oe=this.start2+1+","+this.length2;for(var le=["@@ -"+se+" +"+oe+` @@
`],ce,he=0;he<this.diffs.length;he++){switch(this.diffs[he][0]){case ae:ce="+";break;case ne:ce="-";break;case ie:ce=" ";break}le[he+1]=ce+encodeURI(this.diffs[he][1])+`
`}return le.join("").replace(/%20/g," ")},ee.exports=te,ee.exports.diff_match_patch=te,ee.exports.DIFF_DELETE=ne,ee.exports.DIFF_INSERT=ae,ee.exports.DIFF_EQUAL=ie})(diffMatchPatch)),diffMatchPatch.exports}var diffMatchPatchExports=requireDiffMatchPatch();const dmp=new diffMatchPatchExports.diff_match_patch,systemTools=[{declaration:{name:"query_variable",description:`"Extract specific data from a variable using JSONPath. Works best on Maps and Arrays (e.g. output from run_flow or run_python's result field). If the variable is a raw string, only $ is supported."`,parameters:{type:Type$2.OBJECT,properties:{source_variable_id:{type:Type$2.STRING,description:"The ID of the variable to query."},json_path:{type:Type$2.STRING,description:"The query path. Examples: '$.items[0]', '$[*].name', '$.users[?(@.age > 20)]'."},save_as_variable:{type:Type$2.STRING,description:"Optional. If provided, saves the extraction result to a new variable with this name."}},required:["source_variable_id","json_path"]}},handler:async(ee,te)=>{const ne=ee.source_variable_id,ae=ee.json_path,ie=ee.save_as_variable,se=te.localValues.getState(),oe=se.getVariable(ne);if(!oe)throw Error(`Variable '${ne}' not found. Check 'inspect_variable' to see available IDs.`);const le=oe.getUnwrapped();let ce;try{ce=JSONPath({path:ae,json:le,wrap:!0})}catch(pe){throw Error(`Invalid JSONPath syntax: "${ae}". Details: ${pe.message}`)}if(!ce||ce.length===0)return`[System]: Query '${ae}' matched no data.`;const he=ce.length===1?ce[0]:ce;if(ie)return se.setVariable(he,ie),`[System]: Extracted data saved to variable '${ie}'.`;const fe=JSON.stringify(he,null,2);if(fe.length>2e4){const pe=se.setVariable(he);return`[System]: Result size (${fe.length} chars) exceeds text limit.
Saved to anonymous variable: '${pe.id}'.
Use 'inspect_variable' to view it or refine your query.`}return`[System]: Query Result:
${fe}`},category:"memory",ui:{iconName:"Cpu",renderSummary:ee=>`Querying variable '${ee.json_path}' from '${ee.source_variable_id}'`}},{declaration:{name:"compare_variables",description:"Compare two variables and return a diff. Works for both text and structured data.",parameters:{type:Type$2.OBJECT,properties:{variable_id_a:{type:Type$2.STRING},variable_id_b:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["variable_id_a","variable_id_b"]}},handler:async(ee,te)=>{const ne=te.localValues.getState(),ae=ne.getVariable(ee.variable_id_a),ie=ne.getVariable(ee.variable_id_b);if(!ae||!ie)throw new Error("One or both variables not found.");const se=ae.type==="text"?ae.content:JSON.stringify(ae.getUnwrapped(),null,2),oe=ie.type==="text"?ie.content:JSON.stringify(ie.getUnwrapped(),null,2),le=dmp.diff_main(se,oe);dmp.diff_cleanupSemantic(le);const ce=dmp.patch_make(se,le),he=decodeURIComponent(dmp.patch_toText(ce));return ee.output_variable?ne.setVariable(he,ee.output_variable):he||"No differences found."},category:"memory",ui:{iconName:"Cpu",renderSummary:ee=>`Comparing variables '${ee.variable_id_a}' and '${ee.variable_id_b}'`}},{declaration:{name:"inspect_variable",description:"Check the metadata of a stored variable without reading its content. Returns type, size, keys, and length.",parameters:{type:Type$2.OBJECT,properties:{variable_id:{type:Type$2.STRING},preview_items:{type:Type$2.NUMBER}},required:["variable_id"]}},handler:async(ee,te)=>{const ne=te.localValues.getState().getVariable(ee.variable_id);if(!ne)throw new Error(`Variable '${ee.variable_id}' not found.`);return ne.getCompactPreview()},category:"memory",ui:{iconName:"Cpu",renderSummary:ee=>`Inspecting variable '${ee.variable_id}'`}},{declaration:{name:"get_context_stats",description:"Get a summary of the full conversation history including turns, status (enabled/disabled), and tool usage.",parameters:{type:Type$2.OBJECT,properties:{}}},handler:async(ee,te)=>await te.getContextStats(),category:"memory",ui:{iconName:"Cpu",renderSummary:ee=>"Reviewing the context"}},{declaration:{name:"remove_context_turns",description:"PERMANENTLY remove specific turns from the conversation history.",parameters:{type:Type$2.OBJECT,properties:{indices:{type:Type$2.ARRAY,items:{type:Type$2.NUMBER}}},required:["indices"]}},handler:async(ee,te)=>await te.removeContextTurns(ee.indices),category:"memory",ui:{iconName:"Cpu",renderSummary:ee=>"Removing turns"}},{declaration:{name:"toggle_context_turn",description:"Enable or disable a specific turn in the conversation history.",parameters:{type:Type$2.OBJECT,properties:{index:{type:Type$2.NUMBER},action:{type:Type$2.STRING,enum:["enable","disable"]}},required:["index","action"]}},handler:async(ee,te)=>await te.toggleContextTurn(ee.index,ee.action),category:"memory",ui:{iconName:"Cpu",renderSummary:ee=>"Togling the turns visibility"}},{declaration:{name:"run_python",description:`Executes Python 3 code within a Pyodide-based sandbox.
Supports standard libraries and data science packages (NumPy, Pandas, Matplotlib, and SciPy).
The function returns the stdout and the value of the last expression in {console_output: str, result: any} format.
The pyodite has mounted workspace at /workspace. You have full read/write access to this directory for file operations.
`,parameters:{type:Type$2.OBJECT,properties:{code:{type:Type$2.STRING},requirements:{type:Type$2.ARRAY,items:{type:Type$2.STRING},description:"Optional list of PyPI packages to install before running the code."},timeout:{type:Type$2.INTEGER,description:"Optional timeout in milliseconds (default 30000ms)."},output_variable:{type:Type$2.STRING}},required:["code"]}},handler:async(ee,te)=>{const ne=await pyodideManager.runPython(new ArgumentResolver(te.localValues).resolve(ee.code),ee.timeout||3e4);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):JSON.stringify(ne,null,2)},category:"python",ui:{iconName:"Cpu",renderSummary:ee=>"Running the python code"}},{declaration:{name:"save_knowledge",description:"Store a snippet of knowledge into Vector Memory.",parameters:{type:Type$2.OBJECT,properties:{content:{type:Type$2.STRING},tags:{type:Type$2.ARRAY,items:{type:Type$2.STRING}}},required:["content"]}},handler:async(ee,te)=>{const ne=await te.saveToMemory(ee.content,ee.tags);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):ne},category:"knowledge",ui:{iconName:"Cpu",renderSummary:ee=>"Storing the knowledge in shared database"}},{declaration:{name:"search_knowledge",description:"Search the Vector Memory.",parameters:{type:Type$2.OBJECT,properties:{query:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["query"]}},handler:async(ee,te)=>{const ne=await te.searchMemory(ee.query);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):ne},category:"knowledge",ui:{iconName:"Cpu",renderSummary:ee=>"Looking for knowledge"}}],webTools=[{declaration:{name:"fetch_url_content",description:"Fetch and extract text content from a specific URL. Handles HTML stripping.",parameters:{type:Type$2.OBJECT,properties:{url:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["url"]}},handler:async(ee,te)=>{const ne=await te.fetchUrlContent(ee.url);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):ne},category:"browser",ui:{iconName:"Search",renderSummary:ee=>`Fetching: ${ee.url}`}},{declaration:{name:"fetch_url_batch",description:"Fetch and extract text content from multiple URLs in parallel.",parameters:{type:Type$2.OBJECT,properties:{urls:{type:Type$2.ARRAY,items:{type:Type$2.STRING}},output_variable:{type:Type$2.STRING}},required:["urls"]}},handler:async(ee,te)=>{const ne=ee.urls.map(async ie=>{try{return await te.fetchUrlContent(ie)}catch(se){return`Error fetching ${ie}: ${se.message}`}}),ae=await Promise.all(ne);return ee.output_variable?te.localValues.getState().setVariable(ae,ee.output_variable):JSON.stringify(ae,null,2)},category:"browser",ui:{iconName:"Search",renderSummary:ee=>`Fetching: ${ee.url}`}},{declaration:{name:"call_web_api",description:"Make a raw HTTP request to an external API (GET, POST, etc). Useful for querying structured data sources directly.",parameters:{type:Type$2.OBJECT,properties:{method:{type:Type$2.STRING,enum:["GET","POST","PUT","PATCH","DELETE"]},url:{type:Type$2.STRING},headers:{type:Type$2.OBJECT,description:"Optional headers (e.g. Authorization)."},body:{type:Type$2.STRING,description:"Optional body for POST/PUT."},output_variable:{type:Type$2.STRING}},required:["method","url"]}},handler:async(ee,te)=>{const ne=await te.callWebApi(ee.method,ee.url,ee.headers,ee.body);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):JSON.stringify(ne,null,2)},category:"browser",ui:{iconName:"Search",renderSummary:ee=>`Fetching: ${ee.url}`}},{declaration:{name:"search_google",description:"Perform a Google Search.",parameters:{type:Type$2.OBJECT,properties:{query:{type:Type$2.STRING},output_schema:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["query"]}},handler:async(ee,te)=>{const ne=await te.performGoogleSearch(ee.query,ee.output_schema);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):JSON.stringify(ne,null,2)},category:"browser",ui:{iconName:"Search",renderSummary:ee=>`Fetching: ${ee.url}`}},{declaration:{name:"search_google_batch",description:"Perform multiple Google Searches in parallel. You MUST assign a unique TAG to each query to identify the results in the output.",parameters:{type:Type$2.OBJECT,properties:{searches:{type:Type$2.ARRAY,items:{type:Type$2.OBJECT,properties:{query:{type:Type$2.STRING},tag:{type:Type$2.STRING,description:"MANDATORY: Unique identifier for this search query."}},required:["query","tag"]}},output_schema:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["searches"]}},handler:async(ee,te)=>{const ne=await te.performBatchGoogleSearch(ee.searches,ee.output_schema);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):JSON.stringify(ne,null,2)},category:"browser",ui:{iconName:"Search",renderSummary:ee=>{var te;return`Batch Search (${((te=ee.searches)==null?void 0:te.length)||0})`}}},{declaration:{name:"delegate_research",description:'Spawn a separate "Research Agent" to search the web.',parameters:{type:Type$2.OBJECT,properties:{topic:{type:Type$2.STRING},complexity:{type:Type$2.STRING,enum:["simple","standard","complex"]},output_schema:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["topic"]}},handler:async(ee,te,ne,ae,ie)=>{if(!ee.topic)return"Error: 'topic' is required for delegate_research.";const se=await te.runResearchTask(ee.topic,ee.complexity,(ne||0)+1,ae,ie,ee.output_schema);return ee.output_variable?te.localValues.getState().setVariable(se,ee.output_variable):se},category:"research",ui:{iconName:"Brain",renderSummary:ee=>`Sub-Agent: "${ee.topic}"`}},{declaration:{name:"delegate_research_batch",description:'Spawn MULTIPLE separate "Research Agents" in parallel. USE THIS whenever you have multiple topics to research. You MUST provide a tag for each task to distinguish results.',parameters:{type:Type$2.OBJECT,properties:{tasks:{type:Type$2.ARRAY,items:{type:Type$2.OBJECT,properties:{topic:{type:Type$2.STRING},tag:{type:Type$2.STRING,description:"MANDATORY: Unique label to identify this research result."},complexity:{type:Type$2.STRING},output_schema:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["topic","tag"]}}},required:["tasks"]}},handler:async(ee,te,ne,ae,ie)=>{let se=ee.tasks;if(typeof se=="string")try{se=JSON.parse(se)}catch{}if(!se||!Array.isArray(se))return"Error: Invalid tasks provided for batch research. Expected an array of task objects.";const oe=await te.runBatchResearchTask(se,(ne||0)+1,ae,ie);return ee.output_variable?te.localValues.getState().setVariable(oe,ee.output_variable):JSON.stringify(oe,null,2)},category:"research",ui:{iconName:"Brain",renderSummary:ee=>{var ne;return`Batch Sub-Agents (${((ne=ee.tasks)==null?void 0:ne.length)||0})`}}},{declaration:{name:"plan_research",description:"Generates a dynamic, multi-stage research plan.",parameters:{type:Type$2.OBJECT,properties:{research_query:{type:Type$2.STRING},context:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["research_query"]}},handler:async(ee,te)=>{const ne=await te.planResearch(ee.research_query,ee.context);return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):ne},category:"research",ui:{iconName:"Brain",renderSummary:ee=>{var te;return(te=ee.tasks)!=null&&te.length,"Planning the research"}}},{declaration:{name:"get_package_info",description:"Fetch metadata for a package (NPM, PyPI, Crates.io).",parameters:{type:Type$2.OBJECT,properties:{package_name:{type:Type$2.STRING},ecosystem:{type:Type$2.STRING,enum:["npm","pypi","cargo"]},output_variable:{type:Type$2.STRING}},required:["package_name","ecosystem"]}},handler:async(ee,te)=>{var ae;let ne="";if(ee.ecosystem==="npm"){const ie=await fetch(`https://registry.npmjs.org/${ee.package_name}`);if(!ie.ok)ne="Not found.";else{const se=await ie.json();ne=`NPM: ${se.name}
Latest: ${(ae=se["dist-tags"])==null?void 0:ae.latest}
Desc: ${se.description}`}}else ne="Ecosystem not implemented in web demo.";return ee.output_variable?te.localValues.getState().setVariable(ne,ee.output_variable):ne},category:"research",ui:{iconName:"Search",renderSummary:ee=>`Loading the package info for ${ee.package_name} from ${ee.ecosystem}`}},{declaration:{name:"search_stackoverflow",description:"Search Stack Overflow for coding questions.",parameters:{type:Type$2.OBJECT,properties:{query:{type:Type$2.STRING},tags:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["query"]}},handler:async(ee,te)=>{var se;const ie=((se=(await(await fetch(`https://api.stackexchange.com/2.3/search/advanced?order=desc&sort=relevance&site=stackoverflow&q=${encodeURIComponent(ee.query)}&filter=withbody&pagesize=3`)).json()).items)==null?void 0:se.map(oe=>`[${oe.title}] ${oe.link}`).join(`
`))||"No results.";return ee.output_variable?te.localValues.getState().setVariable(ie,ee.output_variable):ie},category:"research",ui:{iconName:"Search",renderSummary:ee=>`Searching stackoverflow: query=${ee.query}${` tags=${ee.tags}`}`}},{declaration:{name:"search_tech_discussions",description:"Search Hacker News.",parameters:{type:Type$2.OBJECT,properties:{query:{type:Type$2.STRING},output_variable:{type:Type$2.STRING}},required:["query"]}},handler:async(ee,te)=>{var se;const ie=((se=(await(await fetch(`https://hn.algolia.com/api/v1/search?query=${encodeURIComponent(ee.query)}&hitsPerPage=10`)).json()).items)==null?void 0:se.map(oe=>`[${oe.title}] https://news.ycombinator.com/item?id=${oe.objectID}`).join(`
`))||"No results.";return ee.output_variable?te.localValues.getState().setVariable(ie,ee.output_variable):ie},category:"research",ui:{iconName:"Search",renderSummary:ee=>`Searching ycombinator: query=${ee.query}${` tags=${ee.tags}`}`}}],SUBMIT_OPINION_TOOL_DEF={name:"submit_opinion",description:"Participate in the debate. You can vote for existing options, propose a new option, or both.",parameters:{type:Type$2.OBJECT,properties:{selected_options:{type:Type$2.ARRAY,items:{type:Type$2.STRING},description:"Array of Option IDs you support. Leave empty if you are only proposing a new option."},propose_new_options:{type:Type$2.ARRAY,items:{type:Type$2.OBJECT,properties:{id:{type:Type$2.STRING,description:"Short, unique identifier (e.g., 'Redis_Cache')."},description:{type:Type$2.STRING,description:"Brief explanation of this solution."}},description:"Fill this ONLY if you want to add a new solution to the board."}},reasoning:{type:Type$2.STRING},confidence:{type:Type$2.NUMBER},share_variables:{type:Type$2.ARRAY,items:{type:Type$2.STRING}}},required:["reasoning"]}};class IsolatedToolContext{constructor(te,ne,ae=[]){this.parent=te,this.agentName=ne,this.localValues=createAgentStore(),ae.forEach(ie=>{const se=te.localValues.getState().getVariable(ie);se&&this.localValues.getState().setVariable(se.content,se.id)})}getGeminiService(){return this.parent.getGeminiService()}setCurrentTaskId(te){this.currentTaskId=te}async executeTool(te,ne,ae,ie,se){const oe=ie||this.currentTaskId;return executeTool(te,ne,this,ae,oe,se)}async startTask(te,ne,ae,ie){if(!this.parent.startTask)return"no_task_manager";const se=ne||this.currentTaskId;return this.parent.startTask(`[${this.agentName}] ${te}`,se,ae,ie)}getToolDeclaration(te){let ne=this.parent.getToolDeclaration(te).filter(ae=>ae.name==="manage_file_system"||ae.name==="manage_file_content"?!1:ae.name==="delete_tool_calls"?!0:ae.name!=="run_flow");return ne.push(SUBMIT_OPINION_TOOL_DEF),ne}async getContextStats(){return this.parent.getContextStats()}async removeContextTurns(te){return this.parent.removeContextTurns(te)}async toggleContextTurn(te,ne){return this.parent.toggleContextTurn(te,ne)}async runResearchTask(te,ne,ae,ie,se,oe){return this.parent.runResearchTask(te,ne,ae,ie,se,oe)}async runBatchResearchTask(te,ne,ae,ie){return this.parent.runBatchResearchTask(te,ne,ae,ie)}async fetchUrlContent(te){return this.parent.fetchUrlContent(te)}async callWebApi(te,ne,ae,ie){return this.parent.callWebApi(te,ne,ae,ie)}async performGoogleSearch(te,ne){return this.parent.performGoogleSearch(te,ne)}async performBatchGoogleSearch(te,ne){return this.parent.performBatchGoogleSearch(te,ne)}async performImageGeneration(te,ne){return this.parent.performImageGeneration(te,ne)}async performImageGenerationBatch(te,ne,ae){return this.parent.performImageGenerationBatch(te,ne,ae)}async saveToMemory(te,ne){return this.parent.saveToMemory(te,ne)}async searchMemory(te){return this.parent.searchMemory(te)}reportTaskLog(te,ne){this.parent.reportTaskLog&&this.parent.reportTaskLog(te,`[${this.agentName}] ${ne}`)}reportTaskEvent(te,ne){this.parent.reportTaskEvent&&this.parent.reportTaskEvent(te,ne)}updateTaskStatus(te,ne,ae){this.parent.updateTaskStatus&&this.parent.updateTaskStatus(te,ne,ae)}}async function runDebate(ee,te,ne,ae,ie,se=[],oe,le){var Se,ve,Te;let ce=oe;ie.startTask&&le&&(ce=await ie.startTask(`Debate: ${ee.substring(0,40)}...`,oe,1,le),(Se=ie.updateTaskStatus)==null||Se.call(ie,ce,"running"));const he=new Map;se.forEach(Ce=>he.set(Ce.id,Ce));const fe=await Promise.all(te.map(async Ce=>{const Pe=new IsolatedToolContext(ie,Ce.name,ne),Be=`
                You are ${Ce.name}. 
                ROLE: ${Ce.system_prompt}
                TASK: "${ee}".
                
                PROTOCOL:
                1. REVIEW: Check 'Current Options' in the user prompt.
                2. CONTRIBUTE: 
                   - If you see a good option, vote for it using 'selected_options'.
                   - If you have a better idea/s, use 'propose_new_options'.
                   - You can do BOTH (vote for A, but propose B) or (Propose B and C and vote for B).
                   - You can vote for MULTIPLE options if they are compatible or both good.
                3. COLLABORATE: Share new data via 'share_variables'.
                4. ISOLATION: You have your own private workspace. Variables you create are NOT visible to others unless you share them.
                5. VOTING: You MUST call 'submit_opinion' to register your vote.
                6. PROCESS: You will receive opinions from other agents. Analyze them critically.
                7. CONSTRAINT: Do not agree just to agree. Only change your vote if the counter-arguments are logical.
            `;return{config:Ce,context:Pe,chat:ie.getGeminiService().chats.create({model:Ce.model,config:{systemInstruction:Be,tools:[{functionDeclarations:Pe.getToolDeclaration(2)}]}}),lastVote:null}}));let pe=1,ge=[],ye=!1,xe=!1;for(;pe<=ae&&!ye;){let Ce="";ie.startTask&&ce&&(Ce=await ie.startTask(`Round ${pe}`,ce,2),(ve=ie.updateTaskStatus)==null||ve.call(ie,Ce,"running"));const Pe=he.size===0?"No options proposed yet. The floor is open.":Array.from(he.values()).map(Ue=>`- ID: "${Ue.id}" | Desc: ${Ue.description} (By ${Ue.proposedBy})`).join(`
`);let Be="";if(pe===1)Be=`[SYSTEM]: Debate Open. Topic: ${ee}.

Current Options:
${Pe}

Propose a solution or vote if options exist.`;else{const Ue=fe.map(Ve=>{if(!Ve.lastVote)return`<agent name="${Ve.config.name}">Status: Pending</agent>`;const je=Ve.lastVote.selectedOptionIds.join(", ")||"None",De=Ve.lastVote.newProposals&&Ve.lastVote.newProposals.length>0?`(Proposed New Option: ${Ve.lastVote.newProposals[0].id})`:"";return`
<opinion_statement>
    <agent>${Ve.config.name}</agent>
    <vote>${je}</vote>
    ${De?`<proposal>${De}</proposal>`:""}
    <argument>
        ${Ve.lastVote.reasoning}
    </argument>
</opinion_statement>`}).join(`
`);Be=`
[SYSTEM]: Round ${pe} Start. Max Rounds: ${ae}
CURRENT OPTIONS:
${Pe}

--------------------------------------------------
PREVIOUS ROUND OPINIONS (Analyze these carefully):
--------------------------------------------------
${Ue}

INSTRUCTIONS:
1. Read the arguments above.
2. If an agent made a compelling point, acknowledge it in your reasoning.
3. Submit your updated vote/proposal.
`}await Promise.all(fe.map(async Ue=>{var Ye;let Ve="";ie.startTask&&Ce&&(Ve=await ie.startTask(`${Ue.config.name} Thinking...`,Ce,2,le),(Ye=ie.updateTaskStatus)==null||Ye.call(ie,Ve,"running")),Ue.context.setCurrentTaskId(Ve);let je=!0,De=Be;for(;je;){const $e=(await Ue.chat.sendMessage({message:De})).functionCalls;if(!$e||$e.length===0){De="[SYSTEM]: Please call 'submit_opinion' to end your turn.";continue}const Oe=[];for(const He of $e)if(He.name==="submit_opinion"){const qe=He.args;let Xe;qe.propose_new_options&&(Xe=qe.propose_new_options.map(ze=>({id:ze.id,description:ze.description||"",proposedBy:Ue.config.name}))),Ue.lastVote={agentName:Ue.config.name,selectedOptionIds:qe.selected_options||[],newProposals:Xe,reasoning:qe.reasoning,confidence:qe.confidence||0,sharedVars:qe.share_variables||[]},je=!1,ie.reportTaskEvent&&ie.reportTaskEvent(Ve,{type:"tool_result",content:"Opinion Submitted",metadata:{toolName:He.name,...He.args}}),Oe.push({functionResponse:{name:"submit_opinion",id:He.id,response:{result:"Opinion Recorded."}}})}else try{const qe=await Ue.context.executeTool(He.name,He.args,1,Ve,He.id);let Xe="";qe instanceof AgentVariable?Xe=`Variable $${qe.id} (Type: ${qe.type})`:typeof qe=="object"?Xe=JSON.stringify(qe):Xe=String(qe),ie.updateTaskStatus&&Ve&&ie.updateTaskStatus(Ve,"completed"),Oe.push({functionResponse:{name:He.name,id:He.id,response:{result:Xe}}})}catch(qe){ie.updateTaskStatus&&Ve&&ie.updateTaskStatus(Ve,"failed"),Oe.push({functionResponse:{name:He.name,id:He.id,response:{result:`Error: ${qe.message}`}}})}je&&(De=Oe)}ie.updateTaskStatus&&Ve&&ie.updateTaskStatus(Ve,"completed")})),ie.updateTaskStatus&&Ce&&ie.updateTaskStatus(Ce,"completed"),fe.forEach(Ue=>{var Ve;(Ve=Ue.lastVote)!=null&&Ve.newProposals&&Ue.lastVote.newProposals.forEach(je=>{he.has(je.id)||he.set(je.id,je)})});for(const Ue of fe){const Ve=(Te=Ue.lastVote)==null?void 0:Te.sharedVars;if(!(!Ve||Ve.length===0))for(const je of Ve){const De=Ue.context.localValues.getState().getVariable(je);if(De)for(const Ye of fe){if(Ye===Ue)continue;const ke=Ye.context.localValues.getState().allocateReference(De,je).id;ke!==je?Ye.chat.sendMessage({message:`[SYSTEM]: Agent ${Ue.config.name} shared variable '${je}'. However, you already have a variable with that name. It has been saved as '${ke}' instead.`}):Ye.chat.sendMessage({message:`[SYSTEM]: Agent ${Ue.config.name} shared variable '${je}' with you.`})}}}const Ae={};fe.forEach(Ue=>{var Ve;(Ve=Ue.lastVote)==null||Ve.selectedOptionIds.forEach(je=>{he.has(je)&&(Ae[je]=(Ae[je]||0)+1)})});const Me=fe.length/2+1,Ge=Object.keys(Ae).filter(Ue=>Ae[Ue]>Me);if(Ge.length>0)ge=Ge,ye=!0;else if(pe>=ae&&pe>1){const Ue=Math.max(...Object.values(Ae),0);ge=Object.keys(Ae).filter(Ve=>Ae[Ve]===Ue),ye=!0,xe=!0}pe++}ie.updateTaskStatus&&ce&&ie.updateTaskStatus(ce,"completed",ye?"Consensus Reached":"Max Rounds");const be={};if(ge.length>0)for(const Ce of ge){const Pe=fe.filter(Be=>{var Ae;return(Ae=Be.lastVote)==null?void 0:Ae.selectedOptionIds.includes(Ce)});if(Pe.length>0||xe){const Be=await Promise.all(Pe.map(async Ae=>{const Me=`[SYSTEM]: The option '${Ce}' has WON the debate. You supported it. Please write a 3-sentence summary explaining why it is the best choice to be included in the final report.`;return(await Ae.chat.sendMessage({message:Me})).text||""}));be[Ce]=Be.join(`

`)}else be[Ce]="Won by default (No explicit votes in final round)."}return JSON.stringify({status:ye?xe?"Max rounds":"Completed":"Failed",winners:ge.map(Ce=>({id:Ce,details:he.get(Ce),score:fe.filter(Pe=>{var Be;return(Be=Pe.lastVote)==null?void 0:Be.selectedOptionIds.includes(Ce)}).length,justification:be[Ce]})),all_options:Array.from(he.values()),vote_history:fe.map(Ce=>{var Pe,Be;return{agent:Ce.config.name,votes:(Pe=Ce.lastVote)==null?void 0:Pe.selectedOptionIds,reason:(Be=Ce.lastVote)==null?void 0:Be.reasoning}})},null,2)}const debateTools=[{declaration:{name:"start_debate",description:"Spawns multiple AI agents to debate a topic until consensus is reached. Manager Only.",parameters:{type:Type$2.OBJECT,properties:{topic:{type:Type$2.STRING,description:"The central question or task to debate."},context_variables:{type:Type$2.ARRAY,items:{type:Type$2.STRING},description:"List of variable IDs (e.g. 'var_123') containing data to analyze."},debate_options:{type:Type$2.ARRAY,items:{type:Type$2.OBJECT,properties:{id:{type:Type$2.STRING},description:{type:Type$2.STRING}},required:["id","description"]},description:"Initial debate options to consider."},agent_presets:{type:Type$2.ARRAY,items:{type:Type$2.OBJECT,properties:{name:{type:Type$2.STRING},model:{type:Type$2.STRING,enum:["gemini-2.5-pro","gemini-2.5-flash","gemini-2.5-flash-lite"]},system_prompt:{type:Type$2.STRING}},required:["name","model","system_prompt"]}},max_rounds:{type:Type$2.NUMBER,description:"Max turns before forcing end (default 5)."}},required:["topic","agent_presets"]}},handler:async(ee,te,ne,ae,ie)=>{te.reportTaskLog&&te.reportTaskLog("Debate",`Starting debate on: ${ee.topic}`);const se=await runDebate(ee.topic,ee.agent_presets,ee.context_variables||[],ee.max_rounds||10,te,(ee.debate_options||[]).map(oe=>({id:oe.id,description:oe.description,proposedBy:"initial"})),ae,ie);return ee.output_variable?te.localValues.getState().setVariable(se,ee.output_variable):se},category:"debate",ui:{iconName:"Brain",renderSummary:ee=>"Running debate"}}],allTools=[...analysisTools,...contextFileTools,...flowTools,...githubTools,...imageTools,...systemTools,...webTools,...debateTools],toolsDeclaration=allTools.map(ee=>ee.declaration);function getToolDefinition(ee){return allTools.find(te=>te.declaration.name===ee)}async function executeTool(ee,te,ne,ae=0,ie,se){ne.reportTaskLog&&ie&&ne.reportTaskLog(ie,`Exec: ${ee}`);const oe=getToolDefinition(ee);if(!oe)return`Error: Unknown tool '${ee}'`;try{return await oe.handler(te,ne,ae,ie,se)}catch(le){const ce=`Tool Execution Error (${ee}): ${le.message}`;return ne.reportTaskLog&&ie&&ne.reportTaskLog(ie,ce),ce}}class ResearchService{constructor(te,ne){this.ai=te,this.taskManager=ne}getSystemInstruction(te,ne){const ae=ne==="complex"&&te<3;return`You are a specialized Research Sub-Agent (Depth: ${te}, Type: ${ne}).
Your goal is to thoroughly research the assigned topic and return a comprehensive report.

GUIDELINES:
- PLAN: briefly outline your steps before executing.
- FILE SYSTEM: You share the file system with the main agent. Use 'manage_context_file' to save large data or logs if useful, but primarily return your findings in the text response.
- BATCHING: When using 'search_google_batch', you MUST assign a unique 'tag' to each query to distinguish results.
- TOOLS:
  - Use 'search_google_batch' (with tags) for efficiency.
  - Use 'fetch_url_content' to read specific pages.
${ae?"CAPABILITY UNLOCKED: You are permitted to use 'delegate_research_batch' to spawn child agents if the topic requires deep recursive investigation.":"CAPABILITY LOCKED: You do NOT have delegation capabilities. You must complete the research yourself using search tools."}
- Output the final answer as a synthesized report.`}getChatConfig(te,ne,ae){const ie=toolsDeclaration.filter(oe=>oe.name==="manage_file_system"||oe.name==="manage_file_content"?!1:oe.name==="delete_tool_calls"?!0:oe.name==="run_flow"||oe.name==="start_debate"?!1:oe.name.startsWith("delegate_research")?ae==="complex"&&te<3:!0);return{systemInstruction:this.getSystemInstruction(te,ae),temperature:1,tools:[{functionDeclarations:ie}]}}async runAgentLoop(te,ne,ae,ie,se){let oe=0;const le=15;let ce=ne,he=0;for(;oe<le;){this.taskManager.reportTaskEvent(ie,{type:"log",content:`Turn ${oe+1}/${le}: Thinking...`});let fe;try{fe=await te.sendMessage({message:ce})}catch(xe){const be=`API Error in sub-agent: ${xe.message}`;return this.taskManager.reportTaskEvent(ie,{type:"error",content:be}),`Agent crashed due to API error: ${xe.message}`}const pe=fe.text||"",ge=fe.functionCalls&&fe.functionCalls.length>0;if(!pe&&!ge){if(he++,he>3)return"Agent returned empty response multiple times. Terminating.";this.taskManager.reportTaskEvent(ie,{type:"log",content:"Empty response received. Kicking agent..."}),ce="System Notification: The previous response was empty. Please output the research report or the next step now.";continue}else he=0;if(!ge)return pe;this.taskManager.reportTaskEvent(ie,{type:"log",content:`Executing ${fe.functionCalls.length} tool(s)...`});const ye=[];for(const xe of fe.functionCalls){this.taskManager.reportTaskEvent(ie,{type:"tool_call",content:xe.name,metadata:xe.args});let be;try{se.executeTool?be=await se.executeTool(xe.name,xe.args,ae,ie,xe.id):be="Error: executeTool not available in context."}catch(ve){be=`Error executing tool ${xe.name}: ${ve.message}`,this.taskManager.reportTaskEvent(ie,{type:"error",content:ve.message})}let Se;typeof be=="string"?Se=be:be instanceof AgentVariable?be.id?Se=`The tool call returned variable $${be.id} use it in tools or read directly`:Se=`The tool call returned variable $${se.localValues.getState().allocateReference(be).id} use it in tools or read directly`:Se=JSON.stringify(be),(Se.startsWith("Error:")||Se.startsWith("Tool Execution Error:"))&&this.taskManager.reportTaskEvent(ie,{type:"error",content:Se}),this.taskManager.reportTaskEvent(ie,{type:"tool_result",content:Se,metadata:{toolName:xe.name}}),ye.push({functionResponse:{id:xe.id,name:xe.name,response:{result:Se}}})}ce=ye,oe++}return"Agent loop limit reached without final conclusion."}async runResearchTask(te,ne,ae,ie="standard",se=0,oe,le,ce){if(!ae||typeof ae!="string")return"Error: Invalid topic provided for research.";["simple","standard","complex"].includes(ie)||(ie="standard");const he=this.taskManager.registerTask(`Research: ${ae.substring(0,50)}...`,oe,se,le,{topic:ae,complexity:ie,outputSchema:ce});this.taskManager.updateTask(he,{status:"running"});try{if(se>3){const be="[SYSTEM]: Max recursion depth (3) reached.";return this.taskManager.reportTaskEvent(he,{type:"error",content:be}),this.taskManager.updateTask(he,{status:"failed"}),`Error: ${be}`}let pe=te.modelName||"gemini-2.5-flash-lite";if(te.autoConfig&&ie)switch(ie){case"simple":pe="gemini-2.5-flash-lite";break;case"standard":pe="gemini-2.5-flash";break;case"complex":pe="gemini-2.5-flash";break}this.taskManager.reportTaskEvent(he,{type:"log",content:`Spawning sub-agent (${pe}) at Depth ${se}`});const ge=this.ai.chats.create({model:pe,config:this.getChatConfig(se,ne,ie)});let ye=`Research this topic: "${ae}".
Complexity: ${ie}.
Synthesize a final report.`;ce&&(ye+=`

[CONSTRAINT] You MUST output the final answer strictly adhering to the following JSON schema:
${ce}`);const xe=await this.runAgentLoop(ge,ye,se,he,ne);return this.taskManager.updateTask(he,{status:"completed",result:xe}),xe}catch(fe){return this.taskManager.reportTaskEvent(he,{type:"error",content:fe.message}),this.taskManager.updateTask(he,{status:"failed"}),`Error: Research Agent (Depth ${se}) failed: ${fe.message}`}}async runBatchResearchTask(te,ne,ae,ie=0,se,oe){try{if(!Array.isArray(ae))return[{result:"Error: Input to batch task must be an array.",tag:"error"}];const le=ae.map(xe=>typeof xe=="string"?{topic:xe,tag:"Auto-Tag",complexity:"standard"}:{...xe,tag:xe.tag||`Task-${Math.floor(Math.random()*1e3)}`,complexity:xe.complexity||"standard"});if(le.length===0)return[{result:"No tasks provided.",tag:"warning"}];const ce=this.taskManager.registerTask(`Batch Research (${le.length} tasks)`,se,ie,oe,{taskCount:le.length});this.taskManager.updateTask(ce,{status:"running"});const he=new Array(le.length),fe=te.maxParallel||2,pe=le.map((xe,be)=>({taskDef:xe,index:be})),ge=async()=>{for(;pe.length>0;){const xe=pe.shift();if(!xe)break;const{taskDef:be,index:Se}=xe;try{const ve=await this.runResearchTask(te,ne,be.topic,be.complexity,ie,ce,oe,be.output_schema),Te=`[SUB-AGENT REPORT]
Topic: ${be.topic}
Tag: ${be.tag}

`;he[Se]={result:Te+ve,tag:be.tag}}catch(ve){he[Se]={result:`Error: Failed: ${ve.message}`,tag:be.tag}}}},ye=[];for(let xe=0;xe<Math.min(fe,le.length);xe++)ye.push(ge());return await Promise.all(ye),this.taskManager.updateTask(ce,{status:"completed"}),he}catch(le){return[{result:`Error: Batch Research Failed: ${le.message}`,tag:"error"}]}}async planResearch(te,ne){try{const ae=`Create a JSON research plan for: "${te}"
${ne?`Context: ${ne}`:""}`,se=(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:ae,config:{responseMimeType:"application/json"}})).text;return se?se+`

[SYSTEM: Research Plan generated. You may proceed to execute this plan using 'delegate_research_batch', or refine it based on user feedback. Ensure you set complexity='complex' for tasks requiring sub-delegation.]`:"Error: Model returned no plan."}catch(ae){return`Error: Plan generation failed: ${ae.message}`}}}class ImageService{constructor(te){this.ai=te}async performImageCreation(te,ne){try{const ie=(await this.ai.models.generateImages({model:"imagen-4.0-generate-001",prompt:te,config:{numberOfImages:1,includeRaiReason:!1,aspectRatio:ne}})).generatedImages;if(!ie||ie.length===0)throw new Error("No images returned. The prompt might have been blocked by safety filters.");const se=ie[0].image;if(se.imageBytes)return new AgentVariable(null,"blob",{mimeType:se.mimeType||"image/png"},se.imageBytes);throw se.gcsUri?new Error(`Image was generated but stored in GCS (${se.gcsUri}). Direct byte access failed. Check your project's storage quotas or limits.`):new Error("API returned an image object with no content.")}catch(ae){throw console.error("Image Gen Error:",ae),ae}}async performImageCreationBatch(te,ne,ae){try{const se=(await this.ai.models.generateImages({model:"imagen-4.0-generate-001",prompt:te,config:{numberOfImages:ae,includeRaiReason:!1,aspectRatio:ne}})).generatedImages;if(!se||se.length===0)throw new Error("No images returned. The prompt might have been blocked by safety filters.");let oe=[],le=!1;for(const ce of se){const he=ce.image;he.imageBytes?oe.push(new AgentVariable(null,"blob",{mimeType:he.mimeType||"image/png"},he.imageBytes)):le=!0}if(oe.length==0)throw le?new Error("Image was generated but stored in unsupported format. Direct byte access failed. Check your project's storage quotas or limits."):new Error("API returned an image object with no content.");return oe}catch(ie){throw console.error("Image Gen Error:",ie),ie}}}var define_process_env_default={};const QUOTA_EXCEEDED_MESSAGE="DAILY_QUOTA_EXCEEDED";function sanitizeArgs(ee){if(typeof ee=="string")return ee.replace(/(\\\\)|(\\n)/g,(te,ne,ae)=>ne||(ae?`
`:te));if(Array.isArray(ee))return ee.map(sanitizeArgs);if(typeof ee=="object"&&ee!==null){const te={};for(const ne in ee)te[ne]=sanitizeArgs(ee[ne]);return te}return ee}async function sendMessage(ee,te,ne,ae,ie=[],se,oe){return await(async(ce=!1)=>{var he,fe;try{const pe=[];ie.forEach(be=>pe.push({inlineData:be})),ae&&pe.push({text:ae});let ge=await ee.sendMessage({message:pe});!(ge.text||"").trim()&&(!ge.functionCalls||ge.functionCalls.length===0)&&(console.log("Empty response detected. Triggering kick."),ge=await ee.sendMessage({message:"System Notification: The previous response was empty. Please provide a brief text response or call a tool to proceed."}));let xe=0;for(;xe<100&&((he=ge.functionCalls)!=null&&he.length);){se&&ge.functionCalls.forEach(ve=>{const Te=ve.id||`tool-${Date.now()}`;se({id:Te,toolName:ve.name,args:ve.args,status:"pending"}),ve._tempId=Te});const be=await Promise.all(ge.functionCalls.map(async ve=>{ve.args=sanitizeArgs(ve.args);const Te=ve.id||ve._tempId;let Ce="",Pe="success";try{const Be=await executeTool(ve.name,ve.args,te,0,oe,Te);Be==null?Ce=`[System]: Tool '${ve.name}' executed successfully.`:typeof Be=="string"?Ce=Be:Be instanceof AgentVariable?Be.id?Ce=`The tool call returned variable $${Be.id} use it in tools or read directly`:Ce=`The tool call returned variable $${te.localValues.getState().allocateReference(Be).id} use it in tools or read directly`:Ce=JSON.stringify(Be),(Ce.startsWith("Error:")||Ce.startsWith("Tool Execution Error:"))&&(Pe="error")}catch(Be){Ce=`Error: ${Be.message}`,Pe="error"}return se&&se({id:Te,toolName:ve.name,args:ve.args,status:Pe,result:Ce}),Ce==="RESET_CONTEXT_TRIGGERED"?{reset:!0}:{functionResponse:{id:ve.id,name:ve.name,response:{result:Ce}}}}));ge=await ee.sendMessage({message:be.map(ve=>({functionResponse:ve.functionResponse}))}),!(ge.text||"").trim()&&(!ge.functionCalls||ge.functionCalls.length===0)&&(console.log("Empty response in tool loop. Triggering kick."),ge=await ee.sendMessage({message:"System Notification: The previous tool output was received. Please analyze the results and provide your response or next tool call."})),xe++}return{text:ge.text||"",sources:extractSources(ge),usedModel:ne}}catch(pe){throw(fe=pe.message)!=null&&fe.includes("429")&&!ce?new Error(QUOTA_EXCEEDED_MESSAGE):pe}})()}class GeminiService{constructor(){this.currentModelConfig={modelName:"gemini-2.5-flash",temperature:1},this.currentToolConfig={github:!0,delegate:!0,browser:!0,webApi:!1,imageGeneration:!0,researchModelName:"gemini-2.5-flash-lite",researcherAutoConfig:!0,maxParallelAgents:3},this.chatSession=null,this.automaticContextManagement=!1;const te=localStorage.getItem("gapi_key")||define_process_env_default.API_KEY||"";te||console.warn("Google API Key missing. Please provide one in Settings."),this.ai=new GoogleGenAI({apiKey:te}),this.memoryService=new MemoryService,this.taskManager=new TaskManager,this.webService=new WebService(this.ai),this.researchService=new ResearchService(this.ai,this.taskManager),this.imageService=new ImageService(this.ai),this.localValues=createAgentStore()}updateKey(te){this.ai=new GoogleGenAI({apiKey:te})}getGeminiService(){return this.ai}setContextHandler(te){this.contextHandler=te}addTaskListener(te){this.taskManager.addTaskListener(te)}async setModel(te){this.currentModelConfig=te,this.startChat(await this.getHistory())}async setAllowedTools(te){this.currentToolConfig=te,this.chatSession&&this.startChat(await this.getHistory())}resetSession(){this.taskManager.clear(),this.startChat()}storeTasks(){return this.taskManager.storeTasks()}setTasksFromUI(te){this.taskManager.loadTasks(te)}async setHistoryFromUI(te){var ae,ie;const ne=[];for(const se of te)if(!(se.role===MessageRole.SYSTEM||se.disabled)){if(se.role===MessageRole.USER){const oe=[{text:se.content}];(ae=se.attachments)==null||ae.forEach(le=>oe.push({inlineData:{mimeType:le.mimeType,data:le.data}})),ne.push({role:"user",parts:oe})}else if(se.role===MessageRole.MODEL){let oe=!1;const le=((ie=se.toolCalls)==null?void 0:ie.filter(ce=>!ce.disabled))||[];if(le.length){const ce=[],he=[];le.forEach(fe=>{ce.push({functionCall:{name:fe.toolName,args:fe.args,id:fe.id}}),he.push({functionResponse:{name:fe.toolName,id:fe.id,response:{result:fe.result||"[PRUNED]"}}})}),ce.length&&(ne.push({role:"model",parts:ce}),ne.push({role:"user",parts:he}),oe=!0)}(se.content||oe)&&ne.push({role:"model",parts:[{text:se.content||" "}]})}}this.startChat(ne)}getSystemInstruction(){return`You are a sophisticated Research Agent.
GOAL: Conduct thorough, deep research and code analysis to answer the user's request comprehensively.

CORE PROTOCOLS:
1. PLANNING ON RESEARCH IS MANDATORY: Before executing ANY tools, you must plan your approach. Use \`plan_research\` or explicitly state your plan.
1. ASK MORE: If the context is not sufficient to proceed, ask the user for more details instead of making assumptions.
3. USE WORKSPACE FILES: 
   - Use \`manage_file_content\` liberally to store findings, logs, and drafts. 
   - REFERENCE these files in your final text response.
   - Use \`add_tags\`/\`remove_tags\` in \`manage_file_system\` to organize files.
4. CONTEXT ECONOMY: 
   - Avoid redundant read/write loops. If you just generated data via a tool, use it directly from memory.
   - If the tool result is required for passing to another tool, use variables instead of accepting directly.
   - Use \`remove_context_turns\` or \`toggle_context_turn\` to manage your context window size.
5. BATCH & FLOW:
   - Use \`search_google_batch\` and \`delegate_research_batch\` with tags.
   - Use \`run_flow\` for complex multi-step tool chains.

WORKFLOW:
1. CLEAN: Clean previous unused context if needed.
2. PLAN: Analyze. Plan.
3. EXECUTE: Use batch tools/flow. Store massive data in files.
4. SYNTHESIZE: Compile final answer.
5. REPORT: Present a high-level summary and link to generated files.

OUTPUT:
- The application is able to render markdown, images, and code blocks.
- Images could be referenced via workspace files from \`manage_file_content\`.

Always be efficient, autonomous, and structured.`}getToolDeclaration(te=0){return toolsDeclaration.filter(ne=>!(ne.name.startsWith("get_github")&&!this.currentToolConfig.github||(ne.name==="fetch_url_content"||ne.name.startsWith("search_google"))&&!this.currentToolConfig.browser||ne.name.startsWith("delegate_research")&&(!this.currentToolConfig.delegate||te>0)||ne.name==="call_web_api"&&!this.currentToolConfig.webApi||ne.name.startsWith("generate_image")&&!this.currentToolConfig.imageGeneration||ne.name==="start_debate"&&te>0))}startChat(te=[]){const ne={systemInstruction:this.getSystemInstruction(),temperature:this.currentModelConfig.temperature,tools:[{functionDeclarations:this.getToolDeclaration(0)}],safetySettings:[{category:HarmCategory.HARM_CATEGORY_HATE_SPEECH,threshold:HarmBlockThreshold.BLOCK_NONE},{category:HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:HarmBlockThreshold.BLOCK_NONE},{category:HarmCategory.HARM_CATEGORY_HARASSMENT,threshold:HarmBlockThreshold.BLOCK_NONE},{category:HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:HarmBlockThreshold.BLOCK_NONE}]};this.chatSession=this.ai.chats.create({model:this.currentModelConfig.modelName,config:ne,history:te})}async getHistory(){if(!this.chatSession)return[];try{return await this.chatSession.getHistory()}catch(te){return console.warn("Failed to get history",te),[]}}async sendMessage(te,ne=[],ae){return this.chatSession||this.startChat(),sendMessage(this.chatSession,this,this.currentModelConfig.modelName,te,ne,ae)}async getContextStats(){if(!this.contextHandler)return"No Handler";const te=this.contextHandler.getAllMessages(),ne=te.map((ae,ie)=>{var se;return{index:ie,role:ae.role,status:ae.disabled?"disabled":"enabled",message:ae.content?ae.content.substring(0,30)+(ae.content.length>30?"...":""):void 0,tools:(se=ae.toolCalls)==null?void 0:se.map(oe=>({name:oe.toolName,status:oe.disabled?"disabled":"enabled",parent:oe.taskId?`taskId:${oe.taskId}`:void 0})),parent:ae.taskId?`taskId:${ae.taskId}`:void 0}});return JSON.stringify({history:ne,total:te.length},null,2)}async removeContextTurns(te){var ne;for(const ae of te.sort((ie,se)=>se-ie))await((ne=this.contextHandler)==null?void 0:ne.updateMessageState(ae,"remove"))}async toggleContextTurn(te,ne){var ae;(ae=this.contextHandler)==null||ae.updateMessageState(te,ne)}reportTaskLog(te,ne){this.taskManager.reportTaskLog(te,ne)}reportTaskEvent(te,ne){this.taskManager.reportTaskEvent(te,ne)}async performImageGeneration(te,ne){return this.imageService.performImageCreation(te,ne)}async performImageGenerationBatch(te,ne,ae){return this.imageService.performImageCreationBatch(te,ne,ae)}async runResearchTask(te,ne,ae,ie,se,oe){return this.researchService.runResearchTask({modelName:this.currentToolConfig.researchModelName,autoConfig:this.currentToolConfig.researcherAutoConfig,maxParallel:1},this,te,ne,ae,ie,se,oe)}async runBatchResearchTask(te,ne,ae,ie){return this.researchService.runBatchResearchTask({modelName:this.currentToolConfig.researchModelName,autoConfig:this.currentToolConfig.researcherAutoConfig,maxParallel:this.currentToolConfig.maxParallelAgents},this,te,ne,ae,ie)}async startTask(te,ne,ae,ie){return this.taskManager.registerTask(te,ne,ae,ie)}updateTaskStatus(te,ne,ae){this.taskManager.updateTask(te,{status:ne,result:ae})}async fetchUrlContent(te){return this.webService.fetchUrlContent(te)}async callWebApi(te,ne,ae,ie){return this.webService.callWebApi(te,ne,ae,ie)}async performGoogleSearch(te,ne){return this.webService.performGoogleSearch(te,ne)}async performBatchGoogleSearch(te,ne){return this.webService.performBatchGoogleSearch(te,ne)}async saveToMemory(te,ne){return this.memoryService.save(te,ne)}async searchMemory(te){return(await this.memoryService.search(null,te)).map(ne=>ne.content).join(`
`)}async searchMemoryItems(te){return this.memoryService.search(null,te)}async getMemoryItems(){return this.memoryService.getAll()}async updateMemoryItem(te){return this.memoryService.update(te)}async deleteMemoryItem(te){return this.memoryService.delete(te)}async executeTool(te,ne,ae=0,ie,se){return executeTool(te,ne,this,ae,ie,se)}async generateTitle(te){var se;const ne=this.ai.chats.create({model:"gemini-2.5-flash-lite"}),ae=`Generate a very short, concise title (max 5 words) for a chat that starts with: "${te}". Return only the title text, no quotes or period.`;return((se=(await ne.sendMessage({message:[{text:ae}]})).text)==null?void 0:se.trim().replace(/["'.]/g,""))||"Untitled Chat"}}const identity$2=ee=>ee;function useStore(ee,te=identity$2){const ne=React.useSyncExternalStore(ee.subscribe,React.useCallback(()=>te(ee.getState()),[ee,te]),React.useCallback(()=>te(ee.getInitialState()),[ee,te]));return React.useDebugValue(ne),ne}const createImpl=ee=>{const te=createStore(ee),ne=ae=>useStore(te,ae);return Object.assign(ne,te),ne},create$3=(ee=>createImpl);function createJSONStorage(ee,te){let ne;try{ne=ee()}catch{return}return{getItem:ie=>{var se;const oe=ce=>ce===null?null:JSON.parse(ce,te==null?void 0:te.reviver),le=(se=ne.getItem(ie))!=null?se:null;return le instanceof Promise?le.then(oe):oe(le)},setItem:(ie,se)=>ne.setItem(ie,JSON.stringify(se,te==null?void 0:te.replacer)),removeItem:ie=>ne.removeItem(ie)}}const toThenable=ee=>te=>{try{const ne=ee(te);return ne instanceof Promise?ne:{then(ae){return toThenable(ae)(ne)},catch(ae){return this}}}catch(ne){return{then(ae){return this},catch(ae){return toThenable(ae)(ne)}}}},persistImpl=(ee,te)=>(ne,ae,ie)=>{let se={storage:createJSONStorage(()=>localStorage),partialize:be=>be,version:0,merge:(be,Se)=>({...Se,...be}),...te},oe=!1;const le=new Set,ce=new Set;let he=se.storage;if(!he)return ee((...be)=>{console.warn(`[zustand persist middleware] Unable to update item '${se.name}', the given storage is currently unavailable.`),ne(...be)},ae,ie);const fe=()=>{const be=se.partialize({...ae()});return he.setItem(se.name,{state:be,version:se.version})},pe=ie.setState;ie.setState=(be,Se)=>(pe(be,Se),fe());const ge=ee((...be)=>(ne(...be),fe()),ae,ie);ie.getInitialState=()=>ge;let ye;const xe=()=>{var be,Se;if(!he)return;oe=!1,le.forEach(Te=>{var Ce;return Te((Ce=ae())!=null?Ce:ge)});const ve=((Se=se.onRehydrateStorage)==null?void 0:Se.call(se,(be=ae())!=null?be:ge))||void 0;return toThenable(he.getItem.bind(he))(se.name).then(Te=>{if(Te)if(typeof Te.version=="number"&&Te.version!==se.version){if(se.migrate){const Ce=se.migrate(Te.state,Te.version);return Ce instanceof Promise?Ce.then(Pe=>[!0,Pe]):[!0,Ce]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,Te.state];return[!1,void 0]}).then(Te=>{var Ce;const[Pe,Be]=Te;if(ye=se.merge(Be,(Ce=ae())!=null?Ce:ge),ne(ye,!0),Pe)return fe()}).then(()=>{ve==null||ve(ye,void 0),ye=ae(),oe=!0,ce.forEach(Te=>Te(ye))}).catch(Te=>{ve==null||ve(void 0,Te)})};return ie.persist={setOptions:be=>{se={...se,...be},be.storage&&(he=be.storage)},clearStorage:()=>{he==null||he.removeItem(se.name)},getOptions:()=>se,rehydrate:()=>xe(),hasHydrated:()=>oe,onHydrate:be=>(le.add(be),()=>{le.delete(be)}),onFinishHydration:be=>(ce.add(be),()=>{ce.delete(be)})},se.skipHydration||xe(),ye||ge},persist=persistImpl;class DoubleIndexedKV{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(te,ne){this.keyToValue.set(te,ne),this.valueToKey.set(ne,te)}getByKey(te){return this.keyToValue.get(te)}getByValue(te){return this.valueToKey.get(te)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class Registry{constructor(te){this.generateIdentifier=te,this.kv=new DoubleIndexedKV}register(te,ne){this.kv.getByValue(te)||(ne||(ne=this.generateIdentifier(te)),this.kv.set(ne,te))}clear(){this.kv.clear()}getIdentifier(te){return this.kv.getByValue(te)}getValue(te){return this.kv.getByKey(te)}}class ClassRegistry extends Registry{constructor(){super(te=>te.name),this.classToAllowedProps=new Map}register(te,ne){typeof ne=="object"?(ne.allowProps&&this.classToAllowedProps.set(te,ne.allowProps),super.register(te,ne.identifier)):super.register(te,ne)}getAllowedProps(te){return this.classToAllowedProps.get(te)}}function valuesOfObj(ee){if("values"in Object)return Object.values(ee);const te=[];for(const ne in ee)ee.hasOwnProperty(ne)&&te.push(ee[ne]);return te}function find$2(ee,te){const ne=valuesOfObj(ee);if("find"in ne)return ne.find(te);const ae=ne;for(let ie=0;ie<ae.length;ie++){const se=ae[ie];if(te(se))return se}}function forEach(ee,te){Object.entries(ee).forEach(([ne,ae])=>te(ae,ne))}function includes(ee,te){return ee.indexOf(te)!==-1}function findArr(ee,te){for(let ne=0;ne<ee.length;ne++){const ae=ee[ne];if(te(ae))return ae}}class CustomTransformerRegistry{constructor(){this.transfomers={}}register(te){this.transfomers[te.name]=te}findApplicable(te){return find$2(this.transfomers,ne=>ne.isApplicable(te))}findByName(te){return this.transfomers[te]}}const getType$1=ee=>Object.prototype.toString.call(ee).slice(8,-1),isUndefined=ee=>typeof ee>"u",isNull$1=ee=>ee===null,isPlainObject$3=ee=>typeof ee!="object"||ee===null||ee===Object.prototype?!1:Object.getPrototypeOf(ee)===null?!0:Object.getPrototypeOf(ee)===Object.prototype,isEmptyObject=ee=>isPlainObject$3(ee)&&Object.keys(ee).length===0,isArray$2=ee=>Array.isArray(ee),isString=ee=>typeof ee=="string",isNumber=ee=>typeof ee=="number"&&!isNaN(ee),isBoolean$1=ee=>typeof ee=="boolean",isRegExp=ee=>ee instanceof RegExp,isMap=ee=>ee instanceof Map,isSet=ee=>ee instanceof Set,isSymbol=ee=>getType$1(ee)==="Symbol",isDate=ee=>ee instanceof Date&&!isNaN(ee.valueOf()),isError=ee=>ee instanceof Error,isNaNValue=ee=>typeof ee=="number"&&isNaN(ee),isPrimitive=ee=>isBoolean$1(ee)||isNull$1(ee)||isUndefined(ee)||isNumber(ee)||isString(ee)||isSymbol(ee),isBigint=ee=>typeof ee=="bigint",isInfinite=ee=>ee===1/0||ee===-1/0,isTypedArray$1=ee=>ArrayBuffer.isView(ee)&&!(ee instanceof DataView),isURL=ee=>ee instanceof URL,escapeKey=ee=>ee.replace(/\\/g,"\\\\").replace(/\./g,"\\."),stringifyPath=ee=>ee.map(String).map(escapeKey).join("."),parsePath=(ee,te)=>{const ne=[];let ae="";for(let se=0;se<ee.length;se++){let oe=ee.charAt(se);if(!te&&oe==="\\"){const he=ee.charAt(se+1);if(he==="\\"){ae+="\\",se++;continue}else if(he!==".")throw Error("invalid path")}if(oe==="\\"&&ee.charAt(se+1)==="."){ae+=".",se++;continue}if(oe==="."){ne.push(ae),ae="";continue}ae+=oe}const ie=ae;return ne.push(ie),ne};function simpleTransformation(ee,te,ne,ae){return{isApplicable:ee,annotation:te,transform:ne,untransform:ae}}const simpleRules=[simpleTransformation(isUndefined,"undefined",()=>null,()=>{}),simpleTransformation(isBigint,"bigint",ee=>ee.toString(),ee=>typeof BigInt<"u"?BigInt(ee):(console.error("Please add a BigInt polyfill."),ee)),simpleTransformation(isDate,"Date",ee=>ee.toISOString(),ee=>new Date(ee)),simpleTransformation(isError,"Error",(ee,te)=>{const ne={name:ee.name,message:ee.message};return"cause"in ee&&(ne.cause=ee.cause),te.allowedErrorProps.forEach(ae=>{ne[ae]=ee[ae]}),ne},(ee,te)=>{const ne=new Error(ee.message,{cause:ee.cause});return ne.name=ee.name,ne.stack=ee.stack,te.allowedErrorProps.forEach(ae=>{ne[ae]=ee[ae]}),ne}),simpleTransformation(isRegExp,"regexp",ee=>""+ee,ee=>{const te=ee.slice(1,ee.lastIndexOf("/")),ne=ee.slice(ee.lastIndexOf("/")+1);return new RegExp(te,ne)}),simpleTransformation(isSet,"set",ee=>[...ee.values()],ee=>new Set(ee)),simpleTransformation(isMap,"map",ee=>[...ee.entries()],ee=>new Map(ee)),simpleTransformation(ee=>isNaNValue(ee)||isInfinite(ee),"number",ee=>isNaNValue(ee)?"NaN":ee>0?"Infinity":"-Infinity",Number),simpleTransformation(ee=>ee===0&&1/ee===-1/0,"number",()=>"-0",Number),simpleTransformation(isURL,"URL",ee=>ee.toString(),ee=>new URL(ee))];function compositeTransformation(ee,te,ne,ae){return{isApplicable:ee,annotation:te,transform:ne,untransform:ae}}const symbolRule=compositeTransformation((ee,te)=>isSymbol(ee)?!!te.symbolRegistry.getIdentifier(ee):!1,(ee,te)=>["symbol",te.symbolRegistry.getIdentifier(ee)],ee=>ee.description,(ee,te,ne)=>{const ae=ne.symbolRegistry.getValue(te[1]);if(!ae)throw new Error("Trying to deserialize unknown symbol");return ae}),constructorToName=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((ee,te)=>(ee[te.name]=te,ee),{}),typedArrayRule=compositeTransformation(isTypedArray$1,ee=>["typed-array",ee.constructor.name],ee=>[...ee],(ee,te)=>{const ne=constructorToName[te[1]];if(!ne)throw new Error("Trying to deserialize unknown typed array");return new ne(ee)});function isInstanceOfRegisteredClass(ee,te){return ee!=null&&ee.constructor?!!te.classRegistry.getIdentifier(ee.constructor):!1}const classRule=compositeTransformation(isInstanceOfRegisteredClass,(ee,te)=>["class",te.classRegistry.getIdentifier(ee.constructor)],(ee,te)=>{const ne=te.classRegistry.getAllowedProps(ee.constructor);if(!ne)return{...ee};const ae={};return ne.forEach(ie=>{ae[ie]=ee[ie]}),ae},(ee,te,ne)=>{const ae=ne.classRegistry.getValue(te[1]);if(!ae)throw new Error(`Trying to deserialize unknown class '${te[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(ae.prototype),ee)}),customRule=compositeTransformation((ee,te)=>!!te.customTransformerRegistry.findApplicable(ee),(ee,te)=>["custom",te.customTransformerRegistry.findApplicable(ee).name],(ee,te)=>te.customTransformerRegistry.findApplicable(ee).serialize(ee),(ee,te,ne)=>{const ae=ne.customTransformerRegistry.findByName(te[1]);if(!ae)throw new Error("Trying to deserialize unknown custom value");return ae.deserialize(ee)}),compositeRules=[classRule,symbolRule,customRule,typedArrayRule],transformValue=(ee,te)=>{const ne=findArr(compositeRules,ie=>ie.isApplicable(ee,te));if(ne)return{value:ne.transform(ee,te),type:ne.annotation(ee,te)};const ae=findArr(simpleRules,ie=>ie.isApplicable(ee,te));if(ae)return{value:ae.transform(ee,te),type:ae.annotation}},simpleRulesByAnnotation={};simpleRules.forEach(ee=>{simpleRulesByAnnotation[ee.annotation]=ee});const untransformValue=(ee,te,ne)=>{if(isArray$2(te))switch(te[0]){case"symbol":return symbolRule.untransform(ee,te,ne);case"class":return classRule.untransform(ee,te,ne);case"custom":return customRule.untransform(ee,te,ne);case"typed-array":return typedArrayRule.untransform(ee,te,ne);default:throw new Error("Unknown transformation: "+te)}else{const ae=simpleRulesByAnnotation[te];if(!ae)throw new Error("Unknown transformation: "+te);return ae.untransform(ee,ne)}},getNthKey=(ee,te)=>{if(te>ee.size)throw new Error("index out of bounds");const ne=ee.keys();for(;te>0;)ne.next(),te--;return ne.next().value};function validatePath(ee){if(includes(ee,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(includes(ee,"prototype"))throw new Error("prototype is not allowed as a property");if(includes(ee,"constructor"))throw new Error("constructor is not allowed as a property")}const getDeep=(ee,te)=>{validatePath(te);for(let ne=0;ne<te.length;ne++){const ae=te[ne];if(isSet(ee))ee=getNthKey(ee,+ae);else if(isMap(ee)){const ie=+ae,se=+te[++ne]==0?"key":"value",oe=getNthKey(ee,ie);switch(se){case"key":ee=oe;break;case"value":ee=ee.get(oe);break}}else ee=ee[ae]}return ee},setDeep=(ee,te,ne)=>{if(validatePath(te),te.length===0)return ne(ee);let ae=ee;for(let se=0;se<te.length-1;se++){const oe=te[se];if(isArray$2(ae)){const le=+oe;ae=ae[le]}else if(isPlainObject$3(ae))ae=ae[oe];else if(isSet(ae)){const le=+oe;ae=getNthKey(ae,le)}else if(isMap(ae)){if(se===te.length-2)break;const ce=+oe,he=+te[++se]==0?"key":"value",fe=getNthKey(ae,ce);switch(he){case"key":ae=fe;break;case"value":ae=ae.get(fe);break}}}const ie=te[te.length-1];if(isArray$2(ae)?ae[+ie]=ne(ae[+ie]):isPlainObject$3(ae)&&(ae[ie]=ne(ae[ie])),isSet(ae)){const se=getNthKey(ae,+ie),oe=ne(se);se!==oe&&(ae.delete(se),ae.add(oe))}if(isMap(ae)){const se=+te[te.length-2],oe=getNthKey(ae,se);switch(+ie==0?"key":"value"){case"key":{const ce=ne(oe);ae.set(ce,ae.get(oe)),ce!==oe&&ae.delete(oe);break}case"value":{ae.set(oe,ne(ae.get(oe)));break}}}return ee},enableLegacyPaths=ee=>ee<1;function traverse(ee,te,ne,ae=[]){if(!ee)return;const ie=enableLegacyPaths(ne);if(!isArray$2(ee)){forEach(ee,(le,ce)=>traverse(le,te,ne,[...ae,...parsePath(ce,ie)]));return}const[se,oe]=ee;oe&&forEach(oe,(le,ce)=>{traverse(le,te,ne,[...ae,...parsePath(ce,ie)])}),te(se,ae)}function applyValueAnnotations(ee,te,ne,ae){return traverse(te,(ie,se)=>{ee=setDeep(ee,se,oe=>untransformValue(oe,ie,ae))},ne),ee}function applyReferentialEqualityAnnotations(ee,te,ne){const ae=enableLegacyPaths(ne);function ie(se,oe){const le=getDeep(ee,parsePath(oe,ae));se.map(ce=>parsePath(ce,ae)).forEach(ce=>{ee=setDeep(ee,ce,()=>le)})}if(isArray$2(te)){const[se,oe]=te;se.forEach(le=>{ee=setDeep(ee,parsePath(le,ae),()=>ee)}),oe&&forEach(oe,ie)}else forEach(te,ie);return ee}const isDeep=(ee,te)=>isPlainObject$3(ee)||isArray$2(ee)||isMap(ee)||isSet(ee)||isError(ee)||isInstanceOfRegisteredClass(ee,te);function addIdentity(ee,te,ne){const ae=ne.get(ee);ae?ae.push(te):ne.set(ee,[te])}function generateReferentialEqualityAnnotations(ee,te){const ne={};let ae;return ee.forEach(ie=>{if(ie.length<=1)return;te||(ie=ie.map(le=>le.map(String)).sort((le,ce)=>le.length-ce.length));const[se,...oe]=ie;se.length===0?ae=oe.map(stringifyPath):ne[stringifyPath(se)]=oe.map(stringifyPath)}),ae?isEmptyObject(ne)?[ae]:[ae,ne]:isEmptyObject(ne)?void 0:ne}const walker=(ee,te,ne,ae,ie=[],se=[],oe=new Map)=>{const le=isPrimitive(ee);if(!le){addIdentity(ee,ie,te);const ye=oe.get(ee);if(ye)return ae?{transformedValue:null}:ye}if(!isDeep(ee,ne)){const ye=transformValue(ee,ne),xe=ye?{transformedValue:ye.value,annotations:[ye.type]}:{transformedValue:ee};return le||oe.set(ee,xe),xe}if(includes(se,ee))return{transformedValue:null};const ce=transformValue(ee,ne),he=(ce==null?void 0:ce.value)??ee,fe=isArray$2(he)?[]:{},pe={};forEach(he,(ye,xe)=>{if(xe==="__proto__"||xe==="constructor"||xe==="prototype")throw new Error(`Detected property ${xe}. This is a prototype pollution risk, please remove it from your object.`);const be=walker(ye,te,ne,ae,[...ie,xe],[...se,ee],oe);fe[xe]=be.transformedValue,isArray$2(be.annotations)?pe[escapeKey(xe)]=be.annotations:isPlainObject$3(be.annotations)&&forEach(be.annotations,(Se,ve)=>{pe[escapeKey(xe)+"."+ve]=Se})});const ge=isEmptyObject(pe)?{transformedValue:fe,annotations:ce?[ce.type]:void 0}:{transformedValue:fe,annotations:ce?[ce.type,pe]:pe};return le||oe.set(ee,ge),ge};function getType(ee){return Object.prototype.toString.call(ee).slice(8,-1)}function isArray$1(ee){return getType(ee)==="Array"}function isPlainObject$2(ee){if(getType(ee)!=="Object")return!1;const te=Object.getPrototypeOf(ee);return!!te&&te.constructor===Object&&te===Object.prototype}function assignProp(ee,te,ne,ae,ie){const se={}.propertyIsEnumerable.call(ae,te)?"enumerable":"nonenumerable";se==="enumerable"&&(ee[te]=ne),ie&&se==="nonenumerable"&&Object.defineProperty(ee,te,{value:ne,enumerable:!1,writable:!0,configurable:!0})}function copy(ee,te={}){if(isArray$1(ee))return ee.map(ie=>copy(ie,te));if(!isPlainObject$2(ee))return ee;const ne=Object.getOwnPropertyNames(ee),ae=Object.getOwnPropertySymbols(ee);return[...ne,...ae].reduce((ie,se)=>{if(se==="__proto__"||isArray$1(te.props)&&!te.props.includes(se))return ie;const oe=ee[se],le=copy(oe,te);return assignProp(ie,se,le,ee,te.nonenumerable),ie},{})}class SuperJSON{constructor({dedupe:te=!1}={}){this.classRegistry=new ClassRegistry,this.symbolRegistry=new Registry(ne=>ne.description??""),this.customTransformerRegistry=new CustomTransformerRegistry,this.allowedErrorProps=[],this.dedupe=te}serialize(te){const ne=new Map,ae=walker(te,ne,this,this.dedupe),ie={json:ae.transformedValue};ae.annotations&&(ie.meta={...ie.meta,values:ae.annotations});const se=generateReferentialEqualityAnnotations(ne,this.dedupe);return se&&(ie.meta={...ie.meta,referentialEqualities:se}),ie.meta&&(ie.meta.v=1),ie}deserialize(te,ne){const{json:ae,meta:ie}=te;let se=ne!=null&&ne.inPlace?ae:copy(ae);return ie!=null&&ie.values&&(se=applyValueAnnotations(se,ie.values,ie.v??0,this)),ie!=null&&ie.referentialEqualities&&(se=applyReferentialEqualityAnnotations(se,ie.referentialEqualities,ie.v??0)),se}stringify(te){return JSON.stringify(this.serialize(te))}parse(te){return this.deserialize(JSON.parse(te),{inPlace:!0})}registerClass(te,ne){this.classRegistry.register(te,ne)}registerSymbol(te,ne){this.symbolRegistry.register(te,ne)}registerCustom(te,ne){this.customTransformerRegistry.register({name:ne,...te})}allowErrorProps(...te){this.allowedErrorProps.push(...te)}}SuperJSON.defaultInstance=new SuperJSON;SuperJSON.serialize=SuperJSON.defaultInstance.serialize.bind(SuperJSON.defaultInstance);SuperJSON.deserialize=SuperJSON.defaultInstance.deserialize.bind(SuperJSON.defaultInstance);SuperJSON.stringify=SuperJSON.defaultInstance.stringify.bind(SuperJSON.defaultInstance);SuperJSON.parse=SuperJSON.defaultInstance.parse.bind(SuperJSON.defaultInstance);SuperJSON.registerClass=SuperJSON.defaultInstance.registerClass.bind(SuperJSON.defaultInstance);SuperJSON.registerSymbol=SuperJSON.defaultInstance.registerSymbol.bind(SuperJSON.defaultInstance);SuperJSON.registerCustom=SuperJSON.defaultInstance.registerCustom.bind(SuperJSON.defaultInstance);SuperJSON.allowErrorProps=SuperJSON.defaultInstance.allowErrorProps.bind(SuperJSON.defaultInstance);SuperJSON.serialize;SuperJSON.deserialize;SuperJSON.stringify;SuperJSON.parse;SuperJSON.registerClass;SuperJSON.registerCustom;SuperJSON.registerSymbol;SuperJSON.allowErrorProps;const useChatStore=create$3()(persist((ee,te)=>({sessions:[],activeSessionId:null,isLoading:!1,inputValue:"",attachments:[],editingMessageId:null,editContent:"",createSession:ne=>{const ae=Date.now().toString(),ie={id:ae,title:"New Chat",messages:[],tasks:new Map,variableState:{},modelConfig:ne.modelConfig,toolConfig:ne.toolConfig,createdAt:Date.now(),updatedAt:Date.now()};return ee(se=>({sessions:[ie,...se.sessions],activeSessionId:ae,inputValue:"",attachments:[],isLoading:!1})),ae},updateSession:(ne,ae)=>{ee(ie=>({sessions:ie.sessions.map(se=>se.id===ne?{...se,...ae,updatedAt:Date.now()}:se)}))},deleteSession:ne=>{ee(ae=>{const ie=ae.sessions.filter(oe=>oe.id!==ne),se=ae.activeSessionId===ne?ie.length>0?ie[0].id:null:ae.activeSessionId;return{sessions:ie,activeSessionId:se}})},setActiveSession:ne=>ee({activeSessionId:ne,editingMessageId:null,editContent:"",isLoading:!1}),setIsLoading:ne=>ee({isLoading:ne}),setInputValue:ne=>ee({inputValue:ne}),setAttachments:ne=>ee(ae=>({attachments:typeof ne=="function"?ne(ae.attachments):ne})),setEditingMessageId:ne=>ee({editingMessageId:ne}),setEditContent:ne=>ee({editContent:ne}),getActiveSession:()=>{const{sessions:ne,activeSessionId:ae}=te();return ne.find(ie=>ie.id===ae)}}),{name:"chat-persistence",storage:createJSONStorage(()=>localStorage,{reviver:(ee,te)=>SuperJSON.parse(te),replacer:(ee,te)=>SuperJSON.stringify(te)}),partialize:ee=>({sessions:ee.sessions,activeSessionId:ee.activeSessionId})})),gemini=new GeminiService,useChat=()=>{const ee=useChatStore(qe=>qe.sessions),te=useChatStore(qe=>qe.activeSessionId),ne=useChatStore(qe=>qe.createSession),ae=useChatStore(qe=>qe.updateSession),ie=useChatStore(qe=>qe.setActiveSession),se=useChatStore(qe=>qe.deleteSession),oe=useChatStore(qe=>qe.isLoading),le=useChatStore(qe=>qe.setIsLoading),ce=useChatStore(qe=>qe.inputValue),he=useChatStore(qe=>qe.setInputValue),fe=useChatStore(qe=>qe.attachments),pe=useChatStore(qe=>qe.setAttachments),ge=useChatStore(qe=>qe.editingMessageId),ye=useChatStore(qe=>qe.setEditingMessageId),xe=useChatStore(qe=>qe.editContent),be=useChatStore(qe=>qe.setEditContent),Se=reactExports.useMemo(()=>ee.find(qe=>qe.id===te),[ee,te]),ve=(Se==null?void 0:Se.messages)||[],Te=(Se==null?void 0:Se.tasks)||new Map,Ce=(Se==null?void 0:Se.modelConfig)||{modelName:"gemini-2.5-flash",temperature:1},Pe=(Se==null?void 0:Se.toolConfig)||{github:!0,delegate:!0,browser:!0,webApi:!1,imageGeneration:!0,researchModelName:"gemini-2.5-flash-lite",researcherAutoConfig:!0,maxParallelAgents:3},Be=reactExports.useRef(ve);reactExports.useEffect(()=>{Be.current=ve},[ve]);const Ae=reactExports.useRef(te);reactExports.useEffect(()=>{Ae.current=te},[te]),reactExports.useEffect(()=>{if(!te){if(ee.length>0)ie(ee[0].id);else{const qe=ne({modelConfig:{modelName:"gemini-2.5-flash",temperature:1},toolConfig:{github:!0,delegate:!0,browser:!0,webApi:!1,imageGeneration:!0,researchModelName:"gemini-2.5-flash-lite",researcherAutoConfig:!0,maxParallelAgents:3}});ie(qe)}return}Se&&(gemini.setHistoryFromUI(Se.messages),gemini.setTasksFromUI(Se.tasks),Se.variableState?gemini.localValues.getState().deserialize(Se.variableState):gemini.localValues.getState().clear(),gemini.setModel(Se.modelConfig),gemini.setAllowedTools(Se.toolConfig))},[te,Se==null?void 0:Se.id]),reactExports.useEffect(()=>{gemini.addTaskListener(qe=>{const Xe=useChatStore.getState().activeSessionId;Xe&&ae(Xe,{tasks:qe})}),gemini.setContextHandler({getAllMessages:()=>Be.current,updateMessageState:(qe,Xe)=>{const ze=Ae.current;if(!ze)return;const Ie=[...Be.current];Xe==="remove"?Ie.splice(qe,1):Ie[qe]&&(Ie[qe]={...Ie[qe],disabled:Xe==="disable"}),ae(ze,{messages:Ie}),gemini.setHistoryFromUI(Ie)}})},[ae]);const Me=reactExports.useCallback((qe,Xe)=>{const ze=Ae.current;if(!ze)return;const Fe=[...Be.current],Le=Fe[qe];if(!Le||!Le.toolCalls)return;const Ze=Le.toolCalls.findIndex(St=>St.id===Xe);if(Ze===-1)return;const Qe=[...Le.toolCalls];Qe[Ze]={...Qe[Ze],disabled:!Qe[Ze].disabled},Fe[qe]={...Le,toolCalls:Qe},ae(ze,{messages:Fe}),gemini.setHistoryFromUI(Fe)},[ae]),Ge=reactExports.useCallback(async()=>{var Ze,Qe;const qe=Ae.current;if(!qe||oe)return;const Xe=Be.current,ze=ce.trim();if(!ze&&fe.length===0)return;const Ie=Xe.length===0,Fe={id:Date.now().toString(),role:MessageRole.USER,content:ze,timestamp:Date.now(),attachments:[...fe]},Le=[...Xe,Fe];ae(qe,{messages:Le,variableState:gemini.localValues.getState().serialize()}),he(""),pe([]),le(!0),gemini.setHistoryFromUI(Le);try{const St={id:(Date.now()+1).toString(),role:MessageRole.MODEL,content:"",timestamp:Date.now(),toolCalls:[]};ae(qe,{messages:[...Le,St]});const{text:Nt,sources:Ct}=await gemini.sendMessage(Fe.content,(Ze=Fe.attachments)==null?void 0:Ze.map(At=>({mimeType:At.mimeType,data:At.data})),At=>{const Vt=useChatStore.getState().getActiveSession();if(!Vt)return;const Kt=[...Vt.messages],jt=Kt[Kt.length-1];if(jt.role!==MessageRole.MODEL)return;const Ne=jt.toolCalls?[...jt.toolCalls]:[],_t=Ne.findIndex(dt=>dt.id===At.id);_t>=0?Ne[_t]={...Ne[_t],...At}:Ne.push(At),Kt[Kt.length-1]={...jt,toolCalls:Ne},ae(qe,{messages:Kt})}),kt=useChatStore.getState().getActiveSession();if(kt){const At=[...kt.messages],Vt=At[At.length-1];At[At.length-1]={...Vt,content:Nt,sources:Ct},ae(qe,{messages:At,variableState:gemini.localValues.getState().serialize()})}Ie&&gemini.generateTitle(ze).then(At=>{ae(qe,{title:At})}).catch(At=>console.error("Title generation failed",At))}catch(St){const Nt={id:Date.now().toString(),role:MessageRole.SYSTEM,content:`Error: ${St.message}`,timestamp:Date.now()},Ct=((Qe=useChatStore.getState().getActiveSession())==null?void 0:Qe.messages)||[];ae(qe,{messages:[...Ct,Nt]})}finally{le(!1)}},[ce,fe,oe,ae,le,he,pe]),Ue=reactExports.useCallback(qe=>{const Xe=qe instanceof FileList?qe:qe.target.files;Xe&&Array.from(Xe).forEach(ze=>{const Ie=new FileReader;Ie.onloadend=()=>{const Fe=Ie.result.split(",")[1];pe(Le=>[...Le,{name:ze.name,mimeType:ze.type,data:Fe}])},Ie.readAsDataURL(ze)})},[pe]),Ve=reactExports.useCallback(()=>{const qe=Ae.current;qe&&(ae(qe,{messages:[],tasks:new Map,variableState:{}}),gemini.resetSession(),gemini.localValues.getState().clear())},[ae]),je=reactExports.useCallback(qe=>{const Xe=Ae.current;if(!Xe)return;const Ie=[...Be.current];Ie.splice(qe,1),ae(Xe,{messages:Ie}),gemini.setHistoryFromUI(Ie)},[ae]),De=reactExports.useCallback(qe=>{ye(qe.id),be(qe.content)},[ye,be]),Ye=reactExports.useCallback(qe=>{const Xe=Ae.current;if(!Xe)return;const Ie=[...Be.current];Ie[qe]&&(Ie[qe]={...Ie[qe],content:xe},ae(Xe,{messages:Ie}),gemini.setHistoryFromUI(Ie)),ye(null),be("")},[xe,ae,ye,be]),ke=reactExports.useCallback(()=>{const qe=ne({modelConfig:Ce,toolConfig:Pe});ie(qe)},[ne,Ce,Pe,ie]),$e=reactExports.useCallback(qe=>{te&&ae(te,{modelConfig:qe})},[te,ae]),Oe=reactExports.useCallback(qe=>{te&&ae(te,{toolConfig:qe})},[te,ae]),He=reactExports.useCallback(()=>{ye(null),be("")},[]);return{messages:ve,inputValue:ce,setInputValue:he,isLoading:oe,tasks:Te,modelConfig:Ce,setModelConfig:$e,toolConfig:Pe,setToolConfig:Oe,attachments:fe,setAttachments:pe,editingMessageId:ge,editContent:xe,setEditContent:be,handleSendMessage:Ge,handleFileUpload:Ue,handleClearContext:Ve,handleDeleteMessage:je,handleEditMessage:De,handleSaveEdit:Ye,cancelEdit:He,gemini,toggleToolCall:Me,sessions:ee,activeSessionId:te,setActiveSession:ie,handleNewChat:ke,deleteSession:se,setGeminiKeyConfig:qe=>gemini.updateKey(qe)}};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=ee=>ee.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=ee=>ee.replace(/^([A-Z])|[\s-_]+(\w)/g,(te,ne,ae)=>ae?ae.toUpperCase():ne.toLowerCase()),toPascalCase=ee=>{const te=toCamelCase(ee);return te.charAt(0).toUpperCase()+te.slice(1)},mergeClasses=(...ee)=>ee.filter((te,ne,ae)=>!!te&&te.trim()!==""&&ae.indexOf(te)===ne).join(" ").trim(),hasA11yProp=ee=>{for(const te in ee)if(te.startsWith("aria-")||te==="role"||te==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:ee="currentColor",size:te=24,strokeWidth:ne=2,absoluteStrokeWidth:ae,className:ie="",children:se,iconNode:oe,...le},ce)=>reactExports.createElement("svg",{ref:ce,...defaultAttributes,width:te,height:te,stroke:ee,strokeWidth:ae?Number(ne)*24/Number(te):ne,className:mergeClasses("lucide",ie),...!se&&!hasA11yProp(le)&&{"aria-hidden":"true"},...le},[...oe.map(([he,fe])=>reactExports.createElement(he,fe)),...Array.isArray(se)?se:[se]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(ee,te)=>{const ne=reactExports.forwardRef(({className:ae,...ie},se)=>reactExports.createElement(Icon,{ref:se,iconNode:te,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(ee))}`,`lucide-${ee}`,ae),...ie}));return ne.displayName=toPascalCase(ee),ne};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1b=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Activity=createLucideIcon("activity",__iconNode$1b);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1a=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Book=createLucideIcon("book",__iconNode$1a);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$19=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Bot=createLucideIcon("bot",__iconNode$19);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$18=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Box=createLucideIcon("box",__iconNode$18);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$17=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Brain=createLucideIcon("brain",__iconNode$17);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$16=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ChartColumn=createLucideIcon("chart-column",__iconNode$16);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$15=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$15);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$14=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$14);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$13=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$13);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$12=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$12);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$11=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$11);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$10=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],CircleArrowDown=createLucideIcon("circle-arrow-down",__iconNode$10);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CircleCheck=createLucideIcon("circle-check",__iconNode$$);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CircleQuestionMark=createLucideIcon("circle-question-mark",__iconNode$_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$Z);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Circle=createLucideIcon("circle",__iconNode$Y);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$X=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Clock=createLucideIcon("clock",__iconNode$X);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$W=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],CloudLightning=createLucideIcon("cloud-lightning",__iconNode$W);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$V=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Code=createLucideIcon("code",__iconNode$V);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$U=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Coffee=createLucideIcon("coffee",__iconNode$U);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$T=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],Command=createLucideIcon("command",__iconNode$T);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$S=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$S);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$R=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Cpu=createLucideIcon("cpu",__iconNode$R);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Database=createLucideIcon("database",__iconNode$Q);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Disc=createLucideIcon("disc",__iconNode$P);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$O);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("external-link",__iconNode$N);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EyeOff=createLucideIcon("eye-off",__iconNode$M);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$L);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],FileBraces=createLucideIcon("file-braces",__iconNode$K);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],FileCheck=createLucideIcon("file-check",__iconNode$J);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],FileCode=createLucideIcon("file-code",__iconNode$I);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M9 10h6",key:"9gxzsh"}],["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"M9 17h6",key:"r8uit2"}]],FileDiff=createLucideIcon("file-diff",__iconNode$H);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$G);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]],FileType=createLucideIcon("file-type",__iconNode$F);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["path",{d:"M11 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5",key:"1jo35a"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m15 17 5 5",key:"36xl1x"}],["path",{d:"m20 17-5 5",key:"vdz27y"}]],FileXCorner=createLucideIcon("file-x-corner",__iconNode$E);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["path",{d:"M12 22v-6",key:"6o8u61"}],["path",{d:"M12 8V2",key:"1wkif3"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}],["path",{d:"m15 19-3-3-3 3",key:"e37ymu"}],["path",{d:"m15 5-3 3-3-3",key:"19d6lf"}]],FoldVertical=createLucideIcon("fold-vertical",__iconNode$D);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],FolderOpen=createLucideIcon("folder-open",__iconNode$C);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Folder=createLucideIcon("folder",__iconNode$B);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],GitBranch=createLucideIcon("git-branch",__iconNode$A);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Github=createLucideIcon("github",__iconNode$z);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$y);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],HardDrive=createLucideIcon("hard-drive",__iconNode$x);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],ImagePlus=createLucideIcon("image-plus",__iconNode$w);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Image$1=createLucideIcon("image",__iconNode$v);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Key=createLucideIcon("key",__iconNode$u);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Keyboard=createLucideIcon("keyboard",__iconNode$t);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Layers=createLucideIcon("layers",__iconNode$s);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Lightbulb=createLucideIcon("lightbulb",__iconNode$r);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],ListChecks=createLucideIcon("list-checks",__iconNode$q);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$p);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LogOut=createLucideIcon("log-out",__iconNode$o);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Menu=createLucideIcon("menu",__iconNode$n);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["path",{d:"M12 19h.01",key:"1wutuc"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M16 19h.01",key:"1vcnzz"}],["path",{d:"M16 3h.01",key:"ll0zb8"}],["path",{d:"M2 13h.01",key:"1aptou"}],["path",{d:"M2 17v4.286a.71.71 0 0 0 1.212.502l2.202-2.202A2 2 0 0 1 6.828 19H8",key:"4cp7zq"}],["path",{d:"M2 5a2 2 0 0 1 2-2",key:"1iztiu"}],["path",{d:"M2 9h.01",key:"1nzd1v"}],["path",{d:"M20 3a2 2 0 0 1 2 2",key:"m48m3a"}],["path",{d:"M22 13h.01",key:"ke7esy"}],["path",{d:"M22 17a2 2 0 0 1-2 2",key:"17q5fo"}],["path",{d:"M22 9h.01",key:"npkp49"}],["path",{d:"M8 3h.01",key:"133hau"}]],MessageSquareDashed=createLucideIcon("message-square-dashed",__iconNode$m);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],MessageSquare=createLucideIcon("message-square",__iconNode$l);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Monitor=createLucideIcon("monitor",__iconNode$k);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Paperclip=createLucideIcon("paperclip",__iconNode$j);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pen=createLucideIcon("pen",__iconNode$i);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pencil=createLucideIcon("pencil",__iconNode$h);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$g);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Save=createLucideIcon("save",__iconNode$f);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon("search",__iconNode$e);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Send=createLucideIcon("send",__iconNode$d);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings=createLucideIcon("settings",__iconNode$c);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sparkles=createLucideIcon("sparkles",__iconNode$b);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"m10 9-3 3 3 3",key:"1oro0q"}],["path",{d:"m14 15 3-3-3-3",key:"bz13h7"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],SquareCode=createLucideIcon("square-code",__iconNode$a);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Table=createLucideIcon("table",__iconNode$9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Tag=createLucideIcon("tag",__iconNode$8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Terminal=createLucideIcon("terminal",__iconNode$7);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TriangleAlert=createLucideIcon("triangle-alert",__iconNode$5);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Trophy=createLucideIcon("trophy",__iconNode$4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Users=createLucideIcon("users",__iconNode$3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]],Variable=createLucideIcon("variable",__iconNode$2);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X$1=createLucideIcon("x",__iconNode$1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode);function imgGenSVG({className:ee}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("svg",{width:"0",height:"0",className:"absolute",children:jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"icon-gradient",gradientUnits:"userSpaceOnUse",x1:"0",y1:"0",x2:"24",y2:"24",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#22c55e"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#eab308"})]})})}),jsxRuntimeExports.jsx(ImagePlus,{className:ee,style:{stroke:"url(#icon-gradient)"}})]})}const SETTINGS_SECTIONS=[{id:"credentials",title:"Credentials",icon:Key,settings:[{id:"gh_token",label:"GitHub Token",type:"password",placeholder:"ghp_...",description:"Required for private repos and higher API limits."},{id:"gapi_key",label:"Gemini API Key",type:"password",placeholder:"AIza...",description:"Required for Gemini AI services."}]},{id:"capabilities",title:"Tools & Capabilities",icon:Box,gridCols:2,settings:[{id:"github",label:"GitHub API",type:"checkbox",icon:GitBranch,className:"text-purple-400"},{id:"browser",label:"Web Browser",type:"checkbox",icon:Globe,className:"text-blue-400"},{id:"delegate",label:"Research Agents",type:"checkbox",icon:Layers,className:"text-green-400"},{id:"webApi",label:"Raw Web API Access",type:"checkbox",icon:CloudLightning,className:"text-yellow-400"},{id:"imageGeneration",label:"Image Generation",type:"checkbox",icon:imgGenSVG,className:"text-blue-400"}]},{id:"mainAgent",title:"Main Agent",icon:Cpu,mode:"grouped",small:!0,settings:[{id:"modelName",label:"Model",type:"select",options:[{label:"Gemini 2.5 Flash",value:"gemini-2.5-flash"},{label:"Gemini 2.5 Pro",value:"gemini-2.5-pro"},{label:"Gemini 3.0 Flash",value:"gemini-3-flash-preview"},{label:"Gemini 3.0 Pro Preview",value:"gemini-3-pro-preview"}]},{id:"temperature",label:"Temperature",type:"range",min:0,max:2,step:.1}]},{id:"subAgent",title:"Sub Agent (Research)",icon:Zap,mode:"grouped",small:!0,settings:[{id:"researchModelName",label:"Model",labelInline:{id:"researcherAutoConfig",label:"Auto-Tune",type:"toggle"},type:"select",options:[{label:"Gemini 2.5 Flash Lite",value:"gemini-2.5-flash-lite"},{label:"Gemini 2.5 Flash",value:"gemini-2.5-flash"},{label:"Gemini 2.5 Pro",value:"gemini-2.5-pro"},{label:"Gemini 3.0 Flash",value:"gemini-3-flash-preview"},{label:"Gemini 3.0 Pro Preview",value:"gemini-3-pro-preview"}],dependency:ee=>!ee.researcherAutoConfig},{id:"maxParallelAgents",label:"Max Parallel Agents",type:"range",min:1,max:10,dependency:ee=>!ee.researcherAutoConfig}]}],SettingControl=({definition:ee,section:te,inlineSetting:ne,value:ae,onChange:ie,disabled:se})=>{var he;const oe=`p-3 transition-all relative group ${se?"opacity-50 cursor-not-allowed":"hover:border-gray-600 focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500/20"}`,le=te.mode==="grouped"?"":"bg-gray-950/50 border border-gray-800 rounded-lg",ce=fe=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:ee.id,className:fe,children:ee.label}),ne]});switch(ee.type){case"toggle":return jsxRuntimeExports.jsxs("div",{className:`${te.mode==="grouped"?"":"p-2 border border-gray-800 rounded-lg bg-gray-950/50"} flex items-center gap-3 transition-all ${se?"opacity-50":"focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500/20 focus-within:bg-blue-500/5"}`,title:ee.description,children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:ee.id,className:"block text-[10px] text-gray-500 hover:text-blue-400 transition-colors uppercase tracking-wider font-bold cursor-pointer",children:ee.label}),ne]}),jsxRuntimeExports.jsxs("label",{htmlFor:ee.id,className:`relative inline-flex items-center cursor-pointer w-8 h-4 rounded-full p-0.5 transition-colors peer-focus:ring-2 peer-focus:ring-blue-500 peer-focus:ring-offset-2 peer-focus:ring-offset-gray-900 ${ae?"bg-blue-600":"bg-gray-700"}`,children:[jsxRuntimeExports.jsx("input",{id:ee.id,type:"checkbox",checked:!!ae,disabled:se,onChange:fe=>ie(fe.target.checked),className:"sr-only peer w-0 h-0"}),jsxRuntimeExports.jsx("div",{className:`rounded-full p-0.5 transition-colors transition-transform peer-focus:ring-2 peer-focus:ring-blue-500 peer-focus:ring-offset-2 peer-focus:ring-offset-gray-900 ${ae?"bg-blue-600 translate-x-4":"bg-gray-700 translate-x-0"}`,children:jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-white rounded-full shadow"})})]})]});case"checkbox":return jsxRuntimeExports.jsxs("label",{className:`${oe} ${le} cursor-pointer flex flex-col gap-2`,title:ee.description,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[ee.icon&&jsxRuntimeExports.jsx(ee.icon,{className:`w-5 h-5 ${ee.className} transition-transform group-active:scale-95`}),jsxRuntimeExports.jsx("input",{id:ee.id,type:"checkbox",checked:!!ae,disabled:se,onChange:fe=>ie(fe.target.checked),className:"rounded border-gray-700 bg-gray-900 text-blue-500 focus:ring-offset-gray-900 cursor-pointer"})]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-white transition-colors",children:ee.label}),ee.description&&jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:ee.description}),ne]});case"password":return jsxRuntimeExports.jsxs("div",{className:`${oe} ${le} space-y-2`,children:[ce("block text-xs font-bold text-gray-400 uppercase tracking-wider cursor-pointer"),jsxRuntimeExports.jsx("input",{id:ee.id,type:"password",value:ae||"",disabled:se,onChange:fe=>ie(fe.target.value),placeholder:ee.placeholder,className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder:text-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all"}),ee.description&&jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-500",children:ee.description})]});case"select":return jsxRuntimeExports.jsxs("div",{className:`${oe} ${le} space-y-2 relative`,children:[ce("block text-xs font-bold text-gray-400 uppercase tracking-wider cursor-pointer"),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("select",{id:ee.id,value:ae,disabled:se,onChange:fe=>ie(fe.target.value),className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none appearance-none transition-all cursor-pointer font-medium",children:(he=ee.options)==null?void 0:he.map(fe=>jsxRuntimeExports.jsx("option",{value:fe.value,className:"bg-gray-900 text-gray-200",children:fe.label},fe.value))}),jsxRuntimeExports.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]});case"range":return jsxRuntimeExports.jsxs("div",{className:`${oe} ${le} space-y-2`,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:ee.id,className:"text-xs font-bold text-gray-400 uppercase tracking-wider cursor-pointer",children:ee.label}),jsxRuntimeExports.jsx("span",{className:"text-xs font-mono font-bold text-blue-400 bg-blue-500/10 px-1.5 py-0.5 rounded",children:ae}),ne]}),jsxRuntimeExports.jsx("input",{id:ee.id,type:"range",min:ee.min,max:ee.max,step:ee.step,value:ae,disabled:se,onChange:fe=>ie(parseFloat(fe.target.value)),className:"w-full h-1.5 bg-gray-800 rounded-lg appearance-none cursor-pointer accent-blue-500 outline-none focus:ring-2 focus:ring-blue-500/50 rounded"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-[9px] text-gray-600 font-mono font-bold",children:[jsxRuntimeExports.jsx("span",{children:ee.min}),jsxRuntimeExports.jsx("span",{children:ee.max})]})]});default:return null}},getEventCombo=(ee,te=!1)=>{const ne=[];ee.ctrlKey&&ne.push("Control"),ee.altKey&&ne.push("Alt"),ee.shiftKey&&ne.push("Shift"),ee.metaKey&&ne.push("Meta");let ae=ee.key;return ae===" "&&(ae="Space"),["Control","Alt","Shift","Meta"].includes(ae)?ne.length===0&&ne.push(te?ae.toLowerCase():ae):ne.push(te?ae.toLowerCase():ae),ne.join("+")},useKeyboardRegistry=(ee,te={})=>{const{enableGlobal:ne=!1,disabled:ae=!1}=te,ie=reactExports.useRef(ee);reactExports.useEffect(()=>{ie.current=ee},[ee]);const se=reactExports.useCallback(oe=>{if(ae)return;const le=ie.current[getEventCombo(oe)]||ie.current[getEventCombo(oe,!0)]||ie.current[oe.key]||ie.current[oe.key.toLowerCase()];le&&!le.disabled&&(le.preventDefault!==!1&&oe.preventDefault(),le.stopPropagation&&oe.stopPropagation(),le.action(oe))},[ae]);return reactExports.useEffect(()=>{if(!ne||ae)return;const oe=le=>{const ce=le.target,he=ce.tagName==="INPUT"||ce.tagName==="TEXTAREA"||ce.isContentEditable;getEventCombo(le);const fe=le.ctrlKey||le.metaKey||le.altKey;he&&!fe&&!["Escape","Tab","Enter"].includes(le.key)||se(le)};return window.addEventListener("keydown",oe),()=>window.removeEventListener("keydown",oe)},[ne,ae,se]),{onKeyDown:se}},ShortcutModal=({sections:ee,isOpen:te,onClose:ne})=>{if(!te)return null;const ae=reactExports.useRef(null),ie=reactExports.useRef(null);reactExports.useEffect(()=>{ee?(ie.current=document.activeElement,setTimeout(()=>{var oe;return(oe=ae.current)==null?void 0:oe.focus()},50)):ie!=null&&ie.current&&(ie.current.focus(),ie.current=null)},[te]);const se=()=>{ie.current.focus(),ie.current=null,ne()};return te?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:se,children:jsxRuntimeExports.jsxs("div",{ref:ae,tabIndex:0,className:" bg-[#161b22]/90 border border-gray-700 rounded-xl shadow-2xl w-full max-w-7xl overflow-hidden flex flex-col scale-100 animate-in zoom-in-95 outline-none",onClick:oe=>oe.stopPropagation(),onKeyDown:oe=>{oe.key==="Escape"&&se()},children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-[#0d1117]/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[jsxRuntimeExports.jsx(Keyboard,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold uppercase tracking-[0.2em] text-gray-300",children:"Command Palette"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-500 font-mono bg-gray-800 px-2 py-0.5 rounded border border-gray-700",children:"ESC TO CLOSE"})})]}),jsxRuntimeExports.jsx("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-10 overflow-y-auto max-h-[70vh] custom-scrollbar",children:ee.map((oe,le)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-gray-800"}),jsxRuntimeExports.jsx("h3",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest px-2",children:oe.title}),jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-gray-800"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:Object.entries(oe.registry).map(([ce,he])=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center group",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400 group-hover:text-gray-200 transition-colors",children:he.description}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:ce.split("+").map((fe,pe)=>jsxRuntimeExports.jsx("kbd",{className:"min-w-[24px] px-1.5 py-1 flex items-center justify-center bg-[#1c2128] border border-gray-600 border-b-[3px] rounded text-[10px] font-mono text-gray-300 shadow-inner leading-none",children:fe==="Meta"?jsxRuntimeExports.jsx(Command,{className:"w-2.5 h-2.5"}):fe},pe))})]},ce))})]},le))})]})}):null},useFormArrowNavigation=(ee,te)=>{reactExports.useEffect(()=>{if(!te||!ee.current)return;const ne=ee.current,ae=ie=>{var xe,be;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ie.key))return;const oe=document.activeElement;if(!ne.contains(oe))return;const le=oe.tagName.toLowerCase(),ce=(xe=oe.getAttribute("type"))==null?void 0:xe.toLowerCase();if(le==="input"&&ce==="range"||le==="select"&&(ie.key==="ArrowUp"||ie.key==="ArrowDown")||(le==="input"&&(ce==="text"||ce==="password")||le==="textarea")&&(ie.key==="ArrowLeft"||ie.key==="ArrowRight"))return;ie.preventDefault();const pe=Array.from(ne.querySelectorAll('button, [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(Se=>Se.offsetParent!==null),ge=pe.indexOf(oe);let ye=ge;ie.key==="ArrowRight"||ie.key==="ArrowDown"?(ye=ge+1,ye>=pe.length&&(ye=0)):(ye=ge-1,ye<0&&(ye=pe.length-1)),(be=pe[ye])==null||be.focus()};return window.addEventListener("keydown",ae),()=>{window.removeEventListener("keydown",ae)}},[te,ee])},SettingsModal=({isOpen:ee,onClose:te,toolConfig:ne,onToolConfigChange:ae,modelConfig:ie,onModelConfigChange:se,onGeminiKeyChange:oe})=>{const le=reactExports.useRef(null),[ce,he]=reactExports.useState({gh_token:localStorage.getItem("gh_token")||"",gapi_key:localStorage.getItem("gapi_key")||""}),[fe,pe]=reactExports.useState(ne),[ge,ye]=reactExports.useState(ie),[xe,be]=reactExports.useState(!1);useFormArrowNavigation(le,ee&&!xe),reactExports.useEffect(()=>{ee&&(he({gh_token:localStorage.getItem("gh_token")||"",gapi_key:localStorage.getItem("gapi_key")||""}),pe(ne),ye(ie))},[ee,ne,ie]);const Se=()=>{ce.gapi_key!==localStorage.getItem("gapi_key")&&oe(ce.gapi_key),localStorage.setItem("gh_token",ce.gh_token),localStorage.setItem("gapi_key",ce.gapi_key),ae(fe),se(ge),te()},ve=()=>{pe(ne),ye(ie)},Te=(Me,Ge,Ue)=>{Me==="credentials"?he(Ve=>({...Ve,[Ge]:Ue})):Me==="capabilities"||Me==="subAgent"?pe(Ve=>({...Ve,[Ge]:Ue})):Me==="mainAgent"&&ye(Ve=>({...Ve,[Ge]:Ue}))},Ce=(Me,Ge)=>{if(Me==="credentials")return ce[Ge];if(Me==="capabilities"||Me==="subAgent")return fe[Ge];if(Me==="mainAgent")return ge[Ge]},Pe={"Control+s":{action:Se,description:"Save changes"},"Meta+s":{action:Se,description:"Save changes"},"Alt+r":{action:ve,description:"Reset to current values"},Escape:{action:te,description:"Close settings"},"?":{action:Me=>{const Ge=Me.target;Ge.tagName==="INPUT"||Ge.tagName==="TEXTAREA"||Ge.isContentEditable||be(!0)},preventDefault:!1,description:"Show shortcuts",disabled:!ee}},{onKeyDown:Be}=useKeyboardRegistry(Pe,{enableGlobal:!0}),Ae=(Me,Ge)=>jsxRuntimeExports.jsx(SettingControl,{section:Me,inlineSetting:Ge.labelInline?Ae(Me,Ge.labelInline):null,definition:Ge,value:Ce(Me.id,Ge.id),disabled:Ge.dependency?!Ge.dependency(fe,ge):!1,onChange:Ue=>Te(Me.id,Ge.id,Ue)},Ge.id);return reactExports.useEffect(()=>{ee&&setTimeout(()=>{var Me;return(Me=le.current)==null?void 0:Me.focus()},100)},[ee]),ee?jsxRuntimeExports.jsxs("div",{ref:le,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 outline-none",onKeyDown:Be,tabIndex:-1,children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col animate-in fade-in zoom-in duration-200",onClick:Me=>Me.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex-none p-4 flex justify-between items-center border-b border-gray-700/50",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Settings"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Configure agent capabilities and credentials"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>be(!0),className:"p-2 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white outline-none transition-colors",title:"Keyboard Shortcuts (?)",children:jsxRuntimeExports.jsx(CircleQuestionMark,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:te,className:"p-2 hover:bg-red-500/10 rounded-lg text-gray-400 hover:text-red-400 outline-none transition-colors",title:"Close (Esc)",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-3 gap-y-6 content-start overflow-y-auto p-4 custom-scrollbar bg-gray-900/90",children:SETTINGS_SECTIONS.map(Me=>jsxRuntimeExports.jsxs("section",{className:`space-y-4 ${Me.small?"":"col-span-2"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 px-1",children:[jsxRuntimeExports.jsx("div",{className:"p-1.5 bg-gray-800 rounded-md text-gray-400",children:jsxRuntimeExports.jsx(Me.icon,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:Me.title}),jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-gray-800/50"})]}),jsxRuntimeExports.jsx("div",{className:`${Me.gridCols===2?"grid grid-cols-1 md:grid-cols-2 gap-4":"space-y-4"} ${Me.mode==="grouped"?"bg-gray-950/50 border border-gray-800/50 p-4 rounded-xl":""}`,children:Me.settings.map(Ge=>Ae(Me,Ge))})]},Me.id))}),jsxRuntimeExports.jsxs("div",{className:"flex-none p-4 border-t border-gray-800 flex justify-between items-center bg-[#161b22]/50 rounded-b-xl",children:[jsxRuntimeExports.jsxs("div",{className:"text-[10px] text-gray-500 font-mono hidden sm:block uppercase tracking-widest",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"TAB"})," to navigate  ",jsxRuntimeExports.jsx("span",{className:"text-gray-400 font-bold",children:"ESC"})," to cancel"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:ve,className:"px-4 py-2 text-xs font-bold text-gray-400 hover:text-white uppercase tracking-widest transition-colors flex items-center gap-2",children:"Reset"}),jsxRuntimeExports.jsxs("button",{onClick:Se,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-xs font-bold uppercase tracking-widest shadow-lg shadow-blue-500/20 flex items-center gap-2 transition-all active:scale-95",children:[jsxRuntimeExports.jsx(Save,{className:"w-3.5 h-3.5"})," Save Changes"]})]})]})]}),jsxRuntimeExports.jsx(ShortcutModal,{sections:[{title:"Settings Editor",registry:Pe}],isOpen:xe,onClose:()=>be(!1)})]}):null};function ConfirmationButton({onClick:ee,children:te,className:ne="",activeClassName:ae="",disabled:ie=!1,title:se=null}){var[oe,le]=React.Children.toArray(te);le===void 0&&(le=oe);const[ce,he]=reactExports.useState("inactive"),fe=reactExports.useRef(null),pe=()=>{he("inactive")},ge=ye=>{ye.stopPropagation(),ce==="inactive"?he("confirmation"):(ee(ye),he("inactive"))};return jsxRuntimeExports.jsx("button",{ref:fe,onClick:ge,onBlur:pe,onMouseLeave:pe,disabled:ie,className:`${ce==="inactive"?ne:ae} transition-all duration-200`,type:"button",title:se,children:ce==="inactive"?oe:le})}const ContextViewer=({isOpen:ee,onClose:te,messages:ne,onToggleMessage:ae,editingMessageId:ie,editContent:se,setEditContent:oe,onSaveEdit:le,onCancelEdit:ce,onDeleteMessage:he,onEditMessage:fe,automaticContextManagement:pe,setAutomaticContextManagement:ge})=>ee?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col animate-in fade-in zoom-in duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex-none p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950 rounded-t-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(ListChecks,{className:"w-5 h-5 text-blue-400"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-white",children:"Context Window Management"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs bg-gray-800 px-2 py-0.5 rounded text-gray-400 border border-gray-700 font-mono",children:[ne.length," turns"]}),jsxRuntimeExports.jsx("button",{onClick:()=>{ge(!pe)},className:`${pe===!0?"text-purple-400 hover:bg-fuchsia-800":"text-gray-400 hover:bg-gray-800"} p-1 rounded transition`,children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:te,className:"p-1 text-gray-400 hover:text-white rounded hover:bg-gray-800 transition",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 font-mono text-xs custom-scrollbar bg-gray-900",children:ne.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500 gap-3",children:[jsxRuntimeExports.jsx(Database,{className:"w-12 h-12 opacity-10"}),jsxRuntimeExports.jsx("p",{children:"No context history available."})]}):ne.map((ye,xe)=>jsxRuntimeExports.jsxs("div",{className:`
                                    rounded-lg border overflow-hidden shadow-sm transition-all
                                    ${ye.disabled?"bg-gray-900/40 border-gray-800 opacity-60":"bg-gray-950 border-gray-800"}
                                `,children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-950/50 px-3 py-2 border-b border-gray-800 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:`font-bold uppercase tracking-wider ${ye.role==="user"?"text-blue-400":"text-purple-400"}`,children:ye.role||"UNKNOWN"}),ye.disabled&&jsxRuntimeExports.jsx("span",{className:"text-[10px] bg-red-900/30 text-red-300 px-1.5 py-0.5 rounded uppercase font-semibold",children:"Disabled"}),jsxRuntimeExports.jsxs("span",{className:"text-gray-600 text-[10px]",children:["Index ",xe]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ye.content)},className:"p-1 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded",title:"Copy Content",children:jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3"})}),jsxRuntimeExports.jsx("button",{onClick:()=>fe(ye),className:"p-1 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded",title:"Edit Content",children:jsxRuntimeExports.jsx(Pencil,{className:"w-3 h-3"})}),jsxRuntimeExports.jsx("button",{onClick:()=>ae(xe),className:`p-1.5 rounded transition ${ye.disabled?"text-gray-500 hover:text-green-400 hover:bg-green-900/20":"text-blue-400 hover:text-gray-400 hover:bg-gray-800"}`,title:ye.disabled?"Enable Turn":"Disable Turn",children:ye.disabled?jsxRuntimeExports.jsx(EyeOff,{className:"w-3.5 h-3.5"}):jsxRuntimeExports.jsx(Eye,{className:"w-3.5 h-3.5"})}),jsxRuntimeExports.jsxs(ConfirmationButton,{onClick:()=>he(xe),className:"p-1.5 text-gray-400 hover:text-cyan-400 hover:bg-gray-800 rounded",activeClassName:"p-1.5 text-cyan-400 bg-cyan-400/200 rounded",title:"Prune the tool results",children:[jsxRuntimeExports.jsx(FoldVertical,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx(FoldVertical,{className:"w-3.5 h-3.5 transform scale-110"})]}),jsxRuntimeExports.jsxs(ConfirmationButton,{onClick:()=>he(xe),className:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-gray-800 rounded",activeClassName:"p-1.5 text-red-400 bg-red-400/20 rounded",title:"Permanently Delete Turn",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx(Trash2,{className:"w-3.5 h-3.5 transform scale-110"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 text-gray-300 whitespace-pre-wrap max-h-[300px] overflow-y-auto custom-scrollbar",children:[ie===ye.id?jsxRuntimeExports.jsxs("div",{className:"w-full min-w-[300px]",children:[jsxRuntimeExports.jsx("textarea",{value:se,onChange:be=>oe(be.target.value),className:"w-full bg-gray-950 border border-gray-700 rounded p-2 text-sm text-gray-200 focus:outline-none focus:border-blue-500 mb-2 font-mono custom-scrollbar",rows:5}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:ce,className:"px-2 py-1 text-xs text-gray-400 hover:text-white",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>le(xe),className:"px-2 py-1 bg-blue-600 hover:bg-blue-500 text-white rounded text-xs flex items-center gap-1",children:jsxRuntimeExports.jsx(Save,{className:"w-3 h-3"})})]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ye.content&&jsxRuntimeExports.jsx("div",{className:"text-gray-300 break-words leading-relaxed mb-2",children:ye.content})}),ye.toolCalls&&ye.toolCalls.length>0&&ye.toolCalls.map((be,Se)=>jsxRuntimeExports.jsxs("div",{className:`text-yellow-500 bg-yellow-900/10 p-2 rounded border mt-1 relative group/tool transition-all ${be.disabled?"opacity-50 border-gray-700 bg-gray-900":"border-yellow-900/30"}`,children:[jsxRuntimeExports.jsxs("div",{className:"font-bold flex items-center gap-2 mb-1 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:`text-[10px] px-1 rounded ${be.disabled?"bg-gray-800 text-gray-500":"bg-yellow-900/40 text-yellow-200"}`,children:be.disabled?"DISABLED":"CALL"}),jsxRuntimeExports.jsx("span",{className:be.disabled?"line-through text-gray-500":"",children:be.toolName})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:jsxRuntimeExports.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("toggle-tool-call",{detail:{msgIdx:xe,toolId:be.id}})),className:`opacity-0 group-hover/tool:opacity-100 transition p-1 rounded ${be.disabled?"text-green-400 hover:bg-green-900/20":"text-gray-400 hover:text-yellow-400 hover:bg-yellow-900/20"}`,title:be.disabled?"Enable Tool Call":"Disable Tool Call",children:be.disabled?jsxRuntimeExports.jsx(Eye,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(EyeOff,{className:"w-3 h-3"})})})]}),!be.disabled&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("pre",{className:"text-gray-400 text-[10px] whitespace-pre-wrap break-all",children:JSON.stringify(be.args,null,2)}),be.result&&jsxRuntimeExports.jsxs("div",{className:"mt-2 border-t border-yellow-900/30 pt-1 text-green-400",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-[10px] mb-1",children:"RESULT"}),jsxRuntimeExports.jsx("pre",{className:"text-gray-500 text-[10px] whitespace-pre-wrap break-all max-h-40 overflow-y-auto custom-scrollbar",children:be.result})]})]})]},Se)),ye.attachments&&ye.attachments.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-2 text-gray-500 text-[10px] flex gap-2",children:ye.attachments.map((be,Se)=>jsxRuntimeExports.jsx("span",{className:"bg-gray-800 px-1.5 py-0.5 rounded border border-gray-700",children:be.name},Se))})]})]},xe))})]})}):null,getFileIcon=ee=>{const te=ee.toLowerCase(),ne=te.split(".").pop();let ae=FileText,ie="text-gray-400";if(["package.json","package-lock.json","yarn.lock"].includes(te))return{Icon:Box,color:"text-red-400 opacity-70"};if(["tsconfig.json","jsconfig.json"].includes(te))return{Icon:Settings,color:"text-blue-400 opacity-70"};if(te.startsWith(".env"))return{Icon:Settings,color:"text-yellow-600 opacity-70"};if(te==="readme.md")return{Icon:FileText,color:"text-blue-300 opacity-70"};switch(ne){case"ts":case"tsx":return{Icon:FileCode,color:"text-blue-500 opacity-70"};case"js":case"jsx":case"cjs":case"mjs":return{Icon:FileCode,color:"text-yellow-400 opacity-70"};case"css":case"scss":case"less":return{Icon:FileType,color:"text-sky-400 opacity-70"};case"tailwind":return{Icon:FileType,color:"text-cyan-400 opacity-70"};case"json":case"json5":return{Icon:FileBraces,color:"text-yellow-200 opacity-70"};case"xml":case"yaml":case"yml":return{Icon:Settings,color:"text-purple-300 opacity-70"};case"sql":return{Icon:Table,color:"text-blue-300 opacity-70"};case"html":case"htm":return{Icon:FileCode,color:"text-orange-500 opacity-70"};case"md":case"mdx":return{Icon:FileText,color:"text-purple-400 opacity-70"};case"png":case"jpg":case"jpeg":case"gif":case"svg":case"webp":case"ico":return{Icon:Image$1,color:"text-pink-400 opacity-70"};case"gitignore":case"gitkeep":return{Icon:Disc,color:"text-orange-600 opacity-70"};case"java":case"jar":return{Icon:Coffee,color:"text-red-500 opacity-70"};default:return{Icon:ae,color:ie}}},FileIcon=({name:ee,status:te})=>{const{Icon:ne,color:ae}=getFileIcon(ee);return jsxRuntimeExports.jsx(ne,{className:`w-4 h-4 flex-none ${ae}`})},FileTreeNode=({name:ee,node:te,path:ne,selectedPaths:ae,expandedPaths:ie,onSelect:se,onToggleExpand:oe,onContextMenu:le,isMountRoot:ce=!1,level:he})=>{const fe=ie.has(ne),pe=ae.has(ne),ge=Se=>{Se.preventDefault(),Se.stopPropagation();const ve=te.kind||(te.isFile?"file":"directory");le(Se,ne,ve,ce)},ye=Se=>{Se.preventDefault(),Se.stopPropagation();const ve=Se.metaKey||Se.ctrlKey,Te=Se.shiftKey;te.isFile?se(ne,{multi:ve,range:Te,focusEditor:!0}):ve||Te?se(ne,{multi:ve,range:Te,focusEditor:!1}):oe(ne)},xe=`
        group flex items-center gap-1.5 py-1 rounded-sm cursor-pointer select-none transition-colors duration-100
        border border-transparent outline-none focus-visible:ring-1 focus-visible:ring-blue-500
        ${pe?"bg-blue-600/20 text-blue-100":"text-gray-400 hover:bg-gray-800/50 hover:text-gray-200"}
    `;if(te.isFile)return jsxRuntimeExports.jsxs("div",{id:`file-node-${ne}`,role:"treeitem","aria-selected":pe,"aria-level":he,onClick:ye,onContextMenu:ge,className:xe,children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4"}),jsxRuntimeExports.jsx(FileIcon,{name:ee,status:te.status}),jsxRuntimeExports.jsx("span",{className:`truncate text-sm flex-1 ${te.status==="deleted"?"line-through opacity-50":""}`,children:ee}),te.status&&te.status!=="original"&&jsxRuntimeExports.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${te.status==="modified"?"bg-yellow-400":te.status==="new"?"bg-green-400":"bg-red-400"}`})]});const be=te.children?Object.keys(te.children).sort((Se,ve)=>{const Te=te.children[Se],Ce=te.children[ve],Pe=Te.isFolder||!Te.isFile,Be=Ce.isFolder||!Ce.isFile;return Pe&&!Be?-1:!Pe&&Be?1:Se.localeCompare(ve)}):[];return jsxRuntimeExports.jsxs("div",{role:"none",children:[jsxRuntimeExports.jsxs("div",{id:`file-node-${ne}`,role:"treeitem","aria-selected":pe,"aria-expanded":fe,"aria-level":he,className:`${xe} ${ce?"mt-3 mb-1 font-semibold uppercase tracking-wider text-xs !text-blue-300/90 !bg-transparent hover:!bg-transparent":""}`,onClick:ye,onContextMenu:ge,children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-4 h-4 opacity-70 group-hover:opacity-100 transition-opacity ",children:be.length>0&&(fe?jsxRuntimeExports.jsx(ChevronDown,{className:"w-3.5 h-3.5"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-3.5 h-3.5"}))}),ce?jsxRuntimeExports.jsx(Box,{className:"w-3.5 h-3.5 text-blue-400"}):jsxRuntimeExports.jsx(Folder,{className:`w-3.5 h-3.5 ${be.length>0?"text-blue-300":"text-gray-600"}`}),jsxRuntimeExports.jsx("span",{className:"truncate flex-1 text-sm",children:ee})]}),fe&&be.length>0&&jsxRuntimeExports.jsx("div",{role:"group",className:"flex flex-col ml-2 border-l border-gray-800",children:be.map(Se=>jsxRuntimeExports.jsx(FileTreeNode,{name:Se,path:te.children[Se].path||`${ne}/${Se}`,node:te.children[Se],selectedPaths:ae,expandedPaths:ie,onSelect:se,onToggleExpand:oe,onContextMenu:le,isMountRoot:!1,level:he+1},Se))})]})},FileTreeSidebar=({isOpen:ee,mounts:te,fileTree:ne,selectedPaths:ae,expandedPaths:ie,onMountLocal:se,onMountGithub:oe,onCreateFile:le,onSelectFile:ce,onToggleExpand:he,onContextMenu:fe,onKeyDown:pe,innerRef:ge})=>(reactExports.useEffect(()=>{if(ae.size===1){const ye=Array.from(ae)[0],xe=document.getElementById(`file-node-${ye}`);xe&&xe.scrollIntoView({behavior:"smooth",block:"nearest"})}},[ae]),jsxRuntimeExports.jsxs("div",{ref:ge,tabIndex:0,onKeyDown:pe,role:"complementary","aria-label":"File Explorer",className:`
                sidebar-container absolute md:relative z-20 h-full bg-[#0d1117] flex flex-col focus:outline-none transition-all duration-300 ease-in-out
                ${ee?"translate-x-0 w-64 opacity-100":"-translate-x-full w-0 opacity-0 md:hidden"}
            `,children:[jsxRuntimeExports.jsxs("div",{className:"flex-none p-3 border-b border-gray-800 bg-[#0d1117] z-10 shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-2",children:jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider",children:"Explorer"})}),jsxRuntimeExports.jsxs("button",{onClick:le,"aria-label":"Create new file",className:"w-full flex items-center justify-center gap-2 bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 hover:text-blue-300 text-xs font-medium py-1.5 rounded border border-blue-500/20 transition-all mb-2 outline-none focus-visible:ring-1 focus-visible:ring-blue-500",children:[jsxRuntimeExports.jsx(Plus,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx("span",{children:"New File"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:se,"aria-label":"Mount local directory",className:"flex items-center justify-center gap-2 bg-gray-800/50 hover:bg-gray-800 text-xs py-1.5 rounded transition text-gray-400 hover:text-gray-200 border border-transparent hover:border-gray-700 outline-none focus-visible:ring-1 focus-visible:ring-gray-500",children:[jsxRuntimeExports.jsx(HardDrive,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx("span",{children:"Local"})]}),jsxRuntimeExports.jsxs("button",{onClick:oe,"aria-label":"Mount GitHub repository",className:"flex items-center justify-center gap-2 bg-gray-800/50 hover:bg-gray-800 text-xs py-1.5 rounded transition text-gray-400 hover:text-gray-200 border border-transparent hover:border-gray-700 outline-none focus-visible:ring-1 focus-visible:ring-gray-500",children:[jsxRuntimeExports.jsx(Github,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx("span",{children:"GitHub"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",role:"tree","aria-label":"File system tree",children:Object.keys(ne).length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-600 space-y-2",role:"status",children:[jsxRuntimeExports.jsx(FolderOpen,{className:"w-8 h-8 opacity-20"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"No files open"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-0.5",children:[te.map(ye=>jsxRuntimeExports.jsx(FileTreeNode,{name:ye,path:`/${ye}`,node:ne[ye]||{kind:"directory",children:{}},selectedPaths:ae,expandedPaths:ie,onSelect:ce,onToggleExpand:he,onContextMenu:fe,isMountRoot:!0,level:1},ye)),Object.keys(ne).filter(ye=>!te.includes(ye)).sort((ye,xe)=>{const be=ne[ye],Se=ne[xe],ve=be.kind==="directory"||!be.isFile,Te=Se.kind==="directory"||!Se.isFile;return ve&&!Te?-1:!ve&&Te?1:ye.localeCompare(xe)}).map(ye=>jsxRuntimeExports.jsx(FileTreeNode,{name:ye,path:`/${ye}`,node:ne[ye],selectedPaths:ae,expandedPaths:ie,onSelect:ce,onToggleExpand:he,onContextMenu:fe,isMountRoot:!1,level:1},ye))]})})]}));function ok$1(){}function unreachable(){}function parse$4(ee){const te=[],ne=String(ee||"");let ae=ne.indexOf(","),ie=0,se=!1;for(;!se;){ae===-1&&(ae=ne.length,se=!0);const oe=ne.slice(ie,ae).trim();(oe||!se)&&te.push(oe),ie=ae+1,ae=ne.indexOf(",",ie)}return te}function stringify$3(ee,te){const ne={};return(ee[ee.length-1]===""?[...ee,""]:ee).join((ne.padRight?" ":"")+","+(ne.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$3={};function name(ee,te){return(emptyOptions$3.jsx?nameReJsx:nameRe).test(ee)}const re=/[ \t\n\f\r]/g;function whitespace$1(ee){return typeof ee=="object"?ee.type==="text"?empty$2(ee.value):!1:empty$2(ee)}function empty$2(ee){return ee.replace(re,"")===""}class Schema{constructor(te,ne,ae){this.normal=ne,this.property=te,ae&&(this.space=ae)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge$2(ee,te){const ne={},ae={};for(const ie of ee)Object.assign(ne,ie.property),Object.assign(ae,ie.normal);return new Schema(ne,ae,te)}function normalize$1(ee){return ee.toLowerCase()}class Info{constructor(te,ne){this.attribute=ne,this.property=te}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(te,ne,ae,ie){let se=-1;if(super(te,ne),mark(this,"space",ie),typeof ae=="number")for(;++se<checks.length;){const oe=checks[se];mark(this,checks[se],(ae&types[oe])===types[oe])}}}DefinedInfo.prototype.defined=!0;function mark(ee,te,ne){ne&&(ee[te]=ne)}function create$2(ee){const te={},ne={};for(const[ae,ie]of Object.entries(ee.properties)){const se=new DefinedInfo(ae,ee.transform(ee.attributes||{},ae),ie,ee.space);ee.mustUseProperty&&ee.mustUseProperty.includes(ae)&&(se.mustUseProperty=!0),te[ae]=se,ne[normalize$1(ae)]=ae,ne[normalize$1(se.attribute)]=ae}return new Schema(te,ne,ee.space)}const aria=create$2({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(ee,te){return te==="role"?te:"aria-"+te.slice(4).toLowerCase()}});function caseSensitiveTransform(ee,te){return te in ee?ee[te]:te}function caseInsensitiveTransform(ee,te){return caseSensitiveTransform(ee,te.toLowerCase())}const html$6=create$2({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$3=create$2({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create$2({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(ee,te){return"xlink:"+te.slice(5).toLowerCase()}}),xmlns=create$2({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml$1=create$2({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(ee,te){return"xml:"+te.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find$1(ee,te){const ne=normalize$1(te);let ae=te,ie=Info;if(ne in ee.normal)return ee.property[ee.normal[ne]];if(ne.length>4&&ne.slice(0,4)==="data"&&valid.test(te)){if(te.charAt(4)==="-"){const se=te.slice(5).replace(dash,camelcase);ae="data"+se.charAt(0).toUpperCase()+se.slice(1)}else{const se=te.slice(4);if(!dash.test(se)){let oe=se.replace(cap$1,kebab);oe.charAt(0)!=="-"&&(oe="-"+oe),te="data"+oe}}ie=DefinedInfo}return new ie(ae,te)}function kebab(ee){return"-"+ee.toLowerCase()}function camelcase(ee){return ee.charAt(1).toUpperCase()}const html$5=merge$2([aria,html$6,xlink,xmlns,xml$1],"html"),svg$2=merge$2([aria,svg$3,xlink,xmlns,xml$1],"svg");function parse$3(ee){const te=String(ee||"").trim();return te?te.split(/[ \t\n\r\f]+/g):[]}function stringify$2(ee){return ee.join(" ").trim()}var cjs$2={},cjs$1,hasRequiredCjs$2;function requireCjs$2(){if(hasRequiredCjs$2)return cjs$1;hasRequiredCjs$2=1;var ee=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,te=/\n/g,ne=/^\s*/,ae=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ie=/^:\s*/,se=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,oe=/^[;\s]*/,le=/^\s+|\s+$/g,ce=`
`,he="/",fe="*",pe="",ge="comment",ye="declaration";function xe(Se,ve){if(typeof Se!="string")throw new TypeError("First argument must be a string");if(!Se)return[];ve=ve||{};var Te=1,Ce=1;function Pe(ke){var $e=ke.match(te);$e&&(Te+=$e.length);var Oe=ke.lastIndexOf(ce);Ce=~Oe?ke.length-Oe:Ce+ke.length}function Be(){var ke={line:Te,column:Ce};return function($e){return $e.position=new Ae(ke),Ue(),$e}}function Ae(ke){this.start=ke,this.end={line:Te,column:Ce},this.source=ve.source}Ae.prototype.content=Se;function Me(ke){var $e=new Error(ve.source+":"+Te+":"+Ce+": "+ke);if($e.reason=ke,$e.filename=ve.source,$e.line=Te,$e.column=Ce,$e.source=Se,!ve.silent)throw $e}function Ge(ke){var $e=ke.exec(Se);if($e){var Oe=$e[0];return Pe(Oe),Se=Se.slice(Oe.length),$e}}function Ue(){Ge(ne)}function Ve(ke){var $e;for(ke=ke||[];$e=je();)$e!==!1&&ke.push($e);return ke}function je(){var ke=Be();if(!(he!=Se.charAt(0)||fe!=Se.charAt(1))){for(var $e=2;pe!=Se.charAt($e)&&(fe!=Se.charAt($e)||he!=Se.charAt($e+1));)++$e;if($e+=2,pe===Se.charAt($e-1))return Me("End of comment missing");var Oe=Se.slice(2,$e-2);return Ce+=2,Pe(Oe),Se=Se.slice($e),Ce+=2,ke({type:ge,comment:Oe})}}function De(){var ke=Be(),$e=Ge(ae);if($e){if(je(),!Ge(ie))return Me("property missing ':'");var Oe=Ge(se),He=ke({type:ye,property:be($e[0].replace(ee,pe)),value:Oe?be(Oe[0].replace(ee,pe)):pe});return Ge(oe),He}}function Ye(){var ke=[];Ve(ke);for(var $e;$e=De();)$e!==!1&&(ke.push($e),Ve(ke));return ke}return Ue(),Ye()}function be(Se){return Se?Se.replace(le,pe):pe}return cjs$1=xe,cjs$1}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$2;hasRequiredCjs$1=1;var ee=cjs$2&&cjs$2.__importDefault||function(ae){return ae&&ae.__esModule?ae:{default:ae}};Object.defineProperty(cjs$2,"__esModule",{value:!0}),cjs$2.default=ne;const te=ee(requireCjs$2());function ne(ae,ie){let se=null;if(!ae||typeof ae!="string")return se;const oe=(0,te.default)(ae),le=typeof ie=="function";return oe.forEach(ce=>{if(ce.type!=="declaration")return;const{property:he,value:fe}=ce;le?ie(he,fe,ce):fe&&(se=se||{},se[he]=fe)}),se}return cjs$2}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var ee=/^--[a-zA-Z0-9_-]+$/,te=/-([a-z])/g,ne=/^[^-]+$/,ae=/^-(webkit|moz|ms|o|khtml)-/,ie=/^-(ms)-/,se=function(he){return!he||ne.test(he)||ee.test(he)},oe=function(he,fe){return fe.toUpperCase()},le=function(he,fe){return"".concat(fe,"-")},ce=function(he,fe){return fe===void 0&&(fe={}),se(he)?he:(he=he.toLowerCase(),fe.reactCompat?he=he.replace(ie,le):he=he.replace(ae,le),he.replace(te,oe))};return utilities.camelCase=ce,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var ee=cjs&&cjs.__importDefault||function(ie){return ie&&ie.__esModule?ie:{default:ie}},te=ee(requireCjs$1()),ne=requireUtilities();function ae(ie,se){var oe={};return!ie||typeof ie!="string"||(0,te.default)(ie,function(le,ce){le&&ce&&(oe[(0,ne.camelCase)(le,se)]=ce)}),oe}return ae.default=ae,cjs=ae,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$7("end"),pointStart=point$7("start");function point$7(ee){return te;function te(ne){const ae=ne&&ne.position&&ne.position[ee]||{};if(typeof ae.line=="number"&&ae.line>0&&typeof ae.column=="number"&&ae.column>0)return{line:ae.line,column:ae.column,offset:typeof ae.offset=="number"&&ae.offset>-1?ae.offset:void 0}}}function position$2(ee){const te=pointStart(ee),ne=pointEnd(ee);if(te&&ne)return{start:te,end:ne}}function stringifyPosition(ee){return!ee||typeof ee!="object"?"":"position"in ee||"type"in ee?position$1(ee.position):"start"in ee||"end"in ee?position$1(ee):"line"in ee||"column"in ee?point$6(ee):""}function point$6(ee){return index(ee&&ee.line)+":"+index(ee&&ee.column)}function position$1(ee){return point$6(ee&&ee.start)+"-"+point$6(ee&&ee.end)}function index(ee){return ee&&typeof ee=="number"?ee:1}class VFileMessage extends Error{constructor(te,ne,ae){super(),typeof ne=="string"&&(ae=ne,ne=void 0);let ie="",se={},oe=!1;if(ne&&("line"in ne&&"column"in ne?se={place:ne}:"start"in ne&&"end"in ne?se={place:ne}:"type"in ne?se={ancestors:[ne],place:ne.position}:se={...ne}),typeof te=="string"?ie=te:!se.cause&&te&&(oe=!0,ie=te.message,se.cause=te),!se.ruleId&&!se.source&&typeof ae=="string"){const ce=ae.indexOf(":");ce===-1?se.ruleId=ae:(se.source=ae.slice(0,ce),se.ruleId=ae.slice(ce+1))}if(!se.place&&se.ancestors&&se.ancestors){const ce=se.ancestors[se.ancestors.length-1];ce&&(se.place=ce.position)}const le=se.place&&"start"in se.place?se.place.start:se.place;this.ancestors=se.ancestors||void 0,this.cause=se.cause||void 0,this.column=le?le.column:void 0,this.fatal=void 0,this.file="",this.message=ie,this.line=le?le.line:void 0,this.name=stringifyPosition(se.place)||"1:1",this.place=se.place||void 0,this.reason=this.message,this.ruleId=se.ruleId||void 0,this.source=se.source||void 0,this.stack=oe&&se.cause&&typeof se.cause.stack=="string"?se.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(ee,te){if(!te||te.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const ne=te.filePath||void 0;let ae;if(te.development){if(typeof te.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");ae=developmentCreate(ne,te.jsxDEV)}else{if(typeof te.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof te.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");ae=productionCreate(ne,te.jsx,te.jsxs)}const ie={Fragment:te.Fragment,ancestors:[],components:te.components||{},create:ae,elementAttributeNameCase:te.elementAttributeNameCase||"react",evaluater:te.createEvaluater?te.createEvaluater():void 0,filePath:ne,ignoreInvalidStyle:te.ignoreInvalidStyle||!1,passKeys:te.passKeys!==!1,passNode:te.passNode||!1,schema:te.space==="svg"?svg$2:html$5,stylePropertyNameCase:te.stylePropertyNameCase||"dom",tableCellAlignToStyle:te.tableCellAlignToStyle!==!1},se=one$2(ie,ee,void 0);return se&&typeof se!="string"?se:ie.create(ee,ie.Fragment,{children:se||void 0},void 0)}function one$2(ee,te,ne){if(te.type==="element")return element$1(ee,te,ne);if(te.type==="mdxFlowExpression"||te.type==="mdxTextExpression")return mdxExpression(ee,te);if(te.type==="mdxJsxFlowElement"||te.type==="mdxJsxTextElement")return mdxJsxElement(ee,te,ne);if(te.type==="mdxjsEsm")return mdxEsm(ee,te);if(te.type==="root")return root$5(ee,te,ne);if(te.type==="text")return text$7(ee,te)}function element$1(ee,te,ne){const ae=ee.schema;let ie=ae;te.tagName.toLowerCase()==="svg"&&ae.space==="html"&&(ie=svg$2,ee.schema=ie),ee.ancestors.push(te);const se=findComponentFromName(ee,te.tagName,!1),oe=createElementProps(ee,te);let le=createChildren$1(ee,te);return tableElements.has(te.tagName)&&(le=le.filter(function(ce){return typeof ce=="string"?!whitespace$1(ce):!0})),addNode(ee,oe,se,te),addChildren(oe,le),ee.ancestors.pop(),ee.schema=ae,ee.create(te,se,oe,ne)}function mdxExpression(ee,te){if(te.data&&te.data.estree&&ee.evaluater){const ae=te.data.estree.body[0];return ae.type,ee.evaluater.evaluateExpression(ae.expression)}crashEstree(ee,te.position)}function mdxEsm(ee,te){if(te.data&&te.data.estree&&ee.evaluater)return ee.evaluater.evaluateProgram(te.data.estree);crashEstree(ee,te.position)}function mdxJsxElement(ee,te,ne){const ae=ee.schema;let ie=ae;te.name==="svg"&&ae.space==="html"&&(ie=svg$2,ee.schema=ie),ee.ancestors.push(te);const se=te.name===null?ee.Fragment:findComponentFromName(ee,te.name,!0),oe=createJsxElementProps(ee,te),le=createChildren$1(ee,te);return addNode(ee,oe,se,te),addChildren(oe,le),ee.ancestors.pop(),ee.schema=ae,ee.create(te,se,oe,ne)}function root$5(ee,te,ne){const ae={};return addChildren(ae,createChildren$1(ee,te)),ee.create(te,ee.Fragment,ae,ne)}function text$7(ee,te){return te.value}function addNode(ee,te,ne,ae){typeof ne!="string"&&ne!==ee.Fragment&&ee.passNode&&(te.node=ae)}function addChildren(ee,te){if(te.length>0){const ne=te.length>1?te:te[0];ne&&(ee.children=ne)}}function productionCreate(ee,te,ne){return ae;function ae(ie,se,oe,le){const he=Array.isArray(oe.children)?ne:te;return le?he(se,oe,le):he(se,oe)}}function developmentCreate(ee,te){return ne;function ne(ae,ie,se,oe){const le=Array.isArray(se.children),ce=pointStart(ae);return te(ie,se,oe,le,{columnNumber:ce?ce.column-1:void 0,fileName:ee,lineNumber:ce?ce.line:void 0},void 0)}}function createElementProps(ee,te){const ne={};let ae,ie;for(ie in te.properties)if(ie!=="children"&&own$3.call(te.properties,ie)){const se=createProperty(ee,ie,te.properties[ie]);if(se){const[oe,le]=se;ee.tableCellAlignToStyle&&oe==="align"&&typeof le=="string"&&tableCellElement.has(te.tagName)?ae=le:ne[oe]=le}}if(ae){const se=ne.style||(ne.style={});se[ee.stylePropertyNameCase==="css"?"text-align":"textAlign"]=ae}return ne}function createJsxElementProps(ee,te){const ne={};for(const ae of te.attributes)if(ae.type==="mdxJsxExpressionAttribute")if(ae.data&&ae.data.estree&&ee.evaluater){const se=ae.data.estree.body[0];se.type;const oe=se.expression;oe.type;const le=oe.properties[0];le.type,Object.assign(ne,ee.evaluater.evaluateExpression(le.argument))}else crashEstree(ee,te.position);else{const ie=ae.name;let se;if(ae.value&&typeof ae.value=="object")if(ae.value.data&&ae.value.data.estree&&ee.evaluater){const le=ae.value.data.estree.body[0];le.type,se=ee.evaluater.evaluateExpression(le.expression)}else crashEstree(ee,te.position);else se=ae.value===null?!0:ae.value;ne[ie]=se}return ne}function createChildren$1(ee,te){const ne=[];let ae=-1;const ie=ee.passKeys?new Map:emptyMap;for(;++ae<te.children.length;){const se=te.children[ae];let oe;if(ee.passKeys){const ce=se.type==="element"?se.tagName:se.type==="mdxJsxFlowElement"||se.type==="mdxJsxTextElement"?se.name:void 0;if(ce){const he=ie.get(ce)||0;oe=ce+"-"+he,ie.set(ce,he+1)}}const le=one$2(ee,se,oe);le!==void 0&&ne.push(le)}return ne}function createProperty(ee,te,ne){const ae=find$1(ee.schema,te);if(!(ne==null||typeof ne=="number"&&Number.isNaN(ne))){if(Array.isArray(ne)&&(ne=ae.commaSeparated?stringify$3(ne):stringify$2(ne)),ae.property==="style"){let ie=typeof ne=="object"?ne:parseStyle(ee,String(ne));return ee.stylePropertyNameCase==="css"&&(ie=transformStylesToCssCasing(ie)),["style",ie]}return[ee.elementAttributeNameCase==="react"&&ae.space?hastToReact[ae.property]||ae.property:ae.attribute,ne]}}function parseStyle(ee,te){try{return styleToJs(te,{reactCompat:!0})}catch(ne){if(ee.ignoreInvalidStyle)return{};const ae=ne,ie=new VFileMessage("Cannot parse `style` attribute",{ancestors:ee.ancestors,cause:ae,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw ie.file=ee.filePath||void 0,ie.url=docs+"#cannot-parse-style-attribute",ie}}function findComponentFromName(ee,te,ne){let ae;if(!ne)ae={type:"Literal",value:te};else if(te.includes(".")){const ie=te.split(".");let se=-1,oe;for(;++se<ie.length;){const le=name(ie[se])?{type:"Identifier",name:ie[se]}:{type:"Literal",value:ie[se]};oe=oe?{type:"MemberExpression",object:oe,property:le,computed:!!(se&&le.type==="Literal"),optional:!1}:le}ae=oe}else ae=name(te)&&!/^[a-z]/.test(te)?{type:"Identifier",name:te}:{type:"Literal",value:te};if(ae.type==="Literal"){const ie=ae.value;return own$3.call(ee.components,ie)?ee.components[ie]:ie}if(ee.evaluater)return ee.evaluater.evaluateExpression(ae);crashEstree(ee)}function crashEstree(ee,te){const ne=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:ee.ancestors,place:te,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw ne.file=ee.filePath||void 0,ne.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",ne}function transformStylesToCssCasing(ee){const te={};let ne;for(ne in ee)own$3.call(ee,ne)&&(te[transformStyleToCssCasing(ne)]=ee[ne]);return te}function transformStyleToCssCasing(ee){let te=ee.replace(cap,toDash);return te.slice(0,3)==="ms-"&&(te="-"+te),te}function toDash(ee){return"-"+ee.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$2={};function toString$1(ee,te){const ne=emptyOptions$2,ae=typeof ne.includeImageAlt=="boolean"?ne.includeImageAlt:!0,ie=typeof ne.includeHtml=="boolean"?ne.includeHtml:!0;return one$1(ee,ae,ie)}function one$1(ee,te,ne){if(node$1(ee)){if("value"in ee)return ee.type==="html"&&!ne?"":ee.value;if(te&&"alt"in ee&&ee.alt)return ee.alt;if("children"in ee)return all(ee.children,te,ne)}return Array.isArray(ee)?all(ee,te,ne):""}function all(ee,te,ne){const ae=[];let ie=-1;for(;++ie<ee.length;)ae[ie]=one$1(ee[ie],te,ne);return ae.join("")}function node$1(ee){return!!(ee&&typeof ee=="object")}const element=document.createElement("i");function decodeNamedCharacterReference(ee){const te="&"+ee+";";element.innerHTML=te;const ne=element.textContent;return ne.charCodeAt(ne.length-1)===59&&ee!=="semi"||ne===te?!1:ne}function splice$1(ee,te,ne,ae){const ie=ee.length;let se=0,oe;if(te<0?te=-te>ie?0:ie+te:te=te>ie?ie:te,ne=ne>0?ne:0,ae.length<1e4)oe=Array.from(ae),oe.unshift(te,ne),ee.splice(...oe);else for(ne&&ee.splice(te,ne);se<ae.length;)oe=ae.slice(se,se+1e4),oe.unshift(te,0),ee.splice(...oe),se+=1e4,te+=1e4}function push(ee,te){return ee.length>0?(splice$1(ee,ee.length,0,te),ee):te}const hasOwnProperty$b={}.hasOwnProperty;function combineExtensions(ee){const te={};let ne=-1;for(;++ne<ee.length;)syntaxExtension(te,ee[ne]);return te}function syntaxExtension(ee,te){let ne;for(ne in te){const ie=(hasOwnProperty$b.call(ee,ne)?ee[ne]:void 0)||(ee[ne]={}),se=te[ne];let oe;if(se)for(oe in se){hasOwnProperty$b.call(ie,oe)||(ie[oe]=[]);const le=se[oe];constructs(ie[oe],Array.isArray(le)?le:le?[le]:[])}}}function constructs(ee,te){let ne=-1;const ae=[];for(;++ne<te.length;)(te[ne].add==="after"?ee:ae).push(te[ne]);splice$1(ee,0,0,ae)}function decodeNumericCharacterReference(ee,te){const ne=Number.parseInt(ee,te);return ne<9||ne===11||ne>13&&ne<32||ne>126&&ne<160||ne>55295&&ne<57344||ne>64975&&ne<65008||(ne&65535)===65535||(ne&65535)===65534||ne>1114111?"":String.fromCodePoint(ne)}function normalizeIdentifier(ee){return ee.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(ee){return ee!==null&&(ee<32||ee===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(ee){return ee!==null&&ee<-2}function markdownLineEndingOrSpace(ee){return ee!==null&&(ee<0||ee===32)}function markdownSpace(ee){return ee===-2||ee===-1||ee===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(ee){return te;function te(ne){return ne!==null&&ne>-1&&ee.test(String.fromCharCode(ne))}}function normalizeUri(ee){const te=[];let ne=-1,ae=0,ie=0;for(;++ne<ee.length;){const se=ee.charCodeAt(ne);let oe="";if(se===37&&asciiAlphanumeric(ee.charCodeAt(ne+1))&&asciiAlphanumeric(ee.charCodeAt(ne+2)))ie=2;else if(se<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(se))||(oe=String.fromCharCode(se));else if(se>55295&&se<57344){const le=ee.charCodeAt(ne+1);se<56320&&le>56319&&le<57344?(oe=String.fromCharCode(se,le),ie=1):oe=""}else oe=String.fromCharCode(se);oe&&(te.push(ee.slice(ae,ne),encodeURIComponent(oe)),ae=ne+ie+1,oe=""),ie&&(ne+=ie,ie=0)}return te.join("")+ee.slice(ae)}function factorySpace(ee,te,ne,ae){const ie=ae?ae-1:Number.POSITIVE_INFINITY;let se=0;return oe;function oe(ce){return markdownSpace(ce)?(ee.enter(ne),le(ce)):te(ce)}function le(ce){return markdownSpace(ce)&&se++<ie?(ee.consume(ce),le):(ee.exit(ne),te(ce))}}const content$1={tokenize:initializeContent};function initializeContent(ee){const te=ee.attempt(this.parser.constructs.contentInitial,ae,ie);let ne;return te;function ae(le){if(le===null){ee.consume(le);return}return ee.enter("lineEnding"),ee.consume(le),ee.exit("lineEnding"),factorySpace(ee,te,"linePrefix")}function ie(le){return ee.enter("paragraph"),se(le)}function se(le){const ce=ee.enter("chunkText",{contentType:"text",previous:ne});return ne&&(ne.next=ce),ne=ce,oe(le)}function oe(le){if(le===null){ee.exit("chunkText"),ee.exit("paragraph"),ee.consume(le);return}return markdownLineEnding(le)?(ee.consume(le),ee.exit("chunkText"),se):(ee.consume(le),oe)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(ee){const te=this,ne=[];let ae=0,ie,se,oe;return le;function le(Ce){if(ae<ne.length){const Pe=ne[ae];return te.containerState=Pe[1],ee.attempt(Pe[0].continuation,ce,he)(Ce)}return he(Ce)}function ce(Ce){if(ae++,te.containerState._closeFlow){te.containerState._closeFlow=void 0,ie&&Te();const Pe=te.events.length;let Be=Pe,Ae;for(;Be--;)if(te.events[Be][0]==="exit"&&te.events[Be][1].type==="chunkFlow"){Ae=te.events[Be][1].end;break}ve(ae);let Me=Pe;for(;Me<te.events.length;)te.events[Me][1].end={...Ae},Me++;return splice$1(te.events,Be+1,0,te.events.slice(Pe)),te.events.length=Me,he(Ce)}return le(Ce)}function he(Ce){if(ae===ne.length){if(!ie)return ge(Ce);if(ie.currentConstruct&&ie.currentConstruct.concrete)return xe(Ce);te.interrupt=!!(ie.currentConstruct&&!ie._gfmTableDynamicInterruptHack)}return te.containerState={},ee.check(containerConstruct,fe,pe)(Ce)}function fe(Ce){return ie&&Te(),ve(ae),ge(Ce)}function pe(Ce){return te.parser.lazy[te.now().line]=ae!==ne.length,oe=te.now().offset,xe(Ce)}function ge(Ce){return te.containerState={},ee.attempt(containerConstruct,ye,xe)(Ce)}function ye(Ce){return ae++,ne.push([te.currentConstruct,te.containerState]),ge(Ce)}function xe(Ce){if(Ce===null){ie&&Te(),ve(0),ee.consume(Ce);return}return ie=ie||te.parser.flow(te.now()),ee.enter("chunkFlow",{_tokenizer:ie,contentType:"flow",previous:se}),be(Ce)}function be(Ce){if(Ce===null){Se(ee.exit("chunkFlow"),!0),ve(0),ee.consume(Ce);return}return markdownLineEnding(Ce)?(ee.consume(Ce),Se(ee.exit("chunkFlow")),ae=0,te.interrupt=void 0,le):(ee.consume(Ce),be)}function Se(Ce,Pe){const Be=te.sliceStream(Ce);if(Pe&&Be.push(null),Ce.previous=se,se&&(se.next=Ce),se=Ce,ie.defineSkip(Ce.start),ie.write(Be),te.parser.lazy[Ce.start.line]){let Ae=ie.events.length;for(;Ae--;)if(ie.events[Ae][1].start.offset<oe&&(!ie.events[Ae][1].end||ie.events[Ae][1].end.offset>oe))return;const Me=te.events.length;let Ge=Me,Ue,Ve;for(;Ge--;)if(te.events[Ge][0]==="exit"&&te.events[Ge][1].type==="chunkFlow"){if(Ue){Ve=te.events[Ge][1].end;break}Ue=!0}for(ve(ae),Ae=Me;Ae<te.events.length;)te.events[Ae][1].end={...Ve},Ae++;splice$1(te.events,Ge+1,0,te.events.slice(Me)),te.events.length=Ae}}function ve(Ce){let Pe=ne.length;for(;Pe-- >Ce;){const Be=ne[Pe];te.containerState=Be[1],Be[0].exit.call(te,ee)}ne.length=Ce}function Te(){ie.write([null]),se=void 0,ie=void 0,te.containerState._closeFlow=void 0}}function tokenizeContainer(ee,te,ne){return factorySpace(ee,ee.attempt(this.parser.constructs.document,te,ne),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(ee){if(ee===null||markdownLineEndingOrSpace(ee)||unicodeWhitespace(ee))return 1;if(unicodePunctuation(ee))return 2}function resolveAll(ee,te,ne){const ae=[];let ie=-1;for(;++ie<ee.length;){const se=ee[ie].resolveAll;se&&!ae.includes(se)&&(te=se(te,ne),ae.push(se))}return te}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(ee,te){let ne=-1,ae,ie,se,oe,le,ce,he,fe;for(;++ne<ee.length;)if(ee[ne][0]==="enter"&&ee[ne][1].type==="attentionSequence"&&ee[ne][1]._close){for(ae=ne;ae--;)if(ee[ae][0]==="exit"&&ee[ae][1].type==="attentionSequence"&&ee[ae][1]._open&&te.sliceSerialize(ee[ae][1]).charCodeAt(0)===te.sliceSerialize(ee[ne][1]).charCodeAt(0)){if((ee[ae][1]._close||ee[ne][1]._open)&&(ee[ne][1].end.offset-ee[ne][1].start.offset)%3&&!((ee[ae][1].end.offset-ee[ae][1].start.offset+ee[ne][1].end.offset-ee[ne][1].start.offset)%3))continue;ce=ee[ae][1].end.offset-ee[ae][1].start.offset>1&&ee[ne][1].end.offset-ee[ne][1].start.offset>1?2:1;const pe={...ee[ae][1].end},ge={...ee[ne][1].start};movePoint(pe,-ce),movePoint(ge,ce),oe={type:ce>1?"strongSequence":"emphasisSequence",start:pe,end:{...ee[ae][1].end}},le={type:ce>1?"strongSequence":"emphasisSequence",start:{...ee[ne][1].start},end:ge},se={type:ce>1?"strongText":"emphasisText",start:{...ee[ae][1].end},end:{...ee[ne][1].start}},ie={type:ce>1?"strong":"emphasis",start:{...oe.start},end:{...le.end}},ee[ae][1].end={...oe.start},ee[ne][1].start={...le.end},he=[],ee[ae][1].end.offset-ee[ae][1].start.offset&&(he=push(he,[["enter",ee[ae][1],te],["exit",ee[ae][1],te]])),he=push(he,[["enter",ie,te],["enter",oe,te],["exit",oe,te],["enter",se,te]]),he=push(he,resolveAll(te.parser.constructs.insideSpan.null,ee.slice(ae+1,ne),te)),he=push(he,[["exit",se,te],["enter",le,te],["exit",le,te],["exit",ie,te]]),ee[ne][1].end.offset-ee[ne][1].start.offset?(fe=2,he=push(he,[["enter",ee[ne][1],te],["exit",ee[ne][1],te]])):fe=0,splice$1(ee,ae-1,ne-ae+3,he),ne=ae+he.length-fe-2;break}}for(ne=-1;++ne<ee.length;)ee[ne][1].type==="attentionSequence"&&(ee[ne][1].type="data");return ee}function tokenizeAttention(ee,te){const ne=this.parser.constructs.attentionMarkers.null,ae=this.previous,ie=classifyCharacter(ae);let se;return oe;function oe(ce){return se=ce,ee.enter("attentionSequence"),le(ce)}function le(ce){if(ce===se)return ee.consume(ce),le;const he=ee.exit("attentionSequence"),fe=classifyCharacter(ce),pe=!fe||fe===2&&ie||ne.includes(ce),ge=!ie||ie===2&&fe||ne.includes(ae);return he._open=!!(se===42?pe:pe&&(ie||!ge)),he._close=!!(se===42?ge:ge&&(fe||!pe)),te(ce)}}function movePoint(ee,te){ee.column+=te,ee.offset+=te,ee._bufferIndex+=te}const autolink$1={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(ee,te,ne){let ae=0;return ie;function ie(ye){return ee.enter("autolink"),ee.enter("autolinkMarker"),ee.consume(ye),ee.exit("autolinkMarker"),ee.enter("autolinkProtocol"),se}function se(ye){return asciiAlpha(ye)?(ee.consume(ye),oe):ye===64?ne(ye):he(ye)}function oe(ye){return ye===43||ye===45||ye===46||asciiAlphanumeric(ye)?(ae=1,le(ye)):he(ye)}function le(ye){return ye===58?(ee.consume(ye),ae=0,ce):(ye===43||ye===45||ye===46||asciiAlphanumeric(ye))&&ae++<32?(ee.consume(ye),le):(ae=0,he(ye))}function ce(ye){return ye===62?(ee.exit("autolinkProtocol"),ee.enter("autolinkMarker"),ee.consume(ye),ee.exit("autolinkMarker"),ee.exit("autolink"),te):ye===null||ye===32||ye===60||asciiControl(ye)?ne(ye):(ee.consume(ye),ce)}function he(ye){return ye===64?(ee.consume(ye),fe):asciiAtext(ye)?(ee.consume(ye),he):ne(ye)}function fe(ye){return asciiAlphanumeric(ye)?pe(ye):ne(ye)}function pe(ye){return ye===46?(ee.consume(ye),ae=0,fe):ye===62?(ee.exit("autolinkProtocol").type="autolinkEmail",ee.enter("autolinkMarker"),ee.consume(ye),ee.exit("autolinkMarker"),ee.exit("autolink"),te):ge(ye)}function ge(ye){if((ye===45||asciiAlphanumeric(ye))&&ae++<63){const xe=ye===45?ge:pe;return ee.consume(ye),xe}return ne(ye)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(ee,te,ne){return ae;function ae(se){return markdownSpace(se)?factorySpace(ee,ie,"linePrefix")(se):ie(se)}function ie(se){return se===null||markdownLineEnding(se)?te(se):ne(se)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(ee,te,ne){const ae=this;return ie;function ie(oe){if(oe===62){const le=ae.containerState;return le.open||(ee.enter("blockQuote",{_container:!0}),le.open=!0),ee.enter("blockQuotePrefix"),ee.enter("blockQuoteMarker"),ee.consume(oe),ee.exit("blockQuoteMarker"),se}return ne(oe)}function se(oe){return markdownSpace(oe)?(ee.enter("blockQuotePrefixWhitespace"),ee.consume(oe),ee.exit("blockQuotePrefixWhitespace"),ee.exit("blockQuotePrefix"),te):(ee.exit("blockQuotePrefix"),te(oe))}}function tokenizeBlockQuoteContinuation(ee,te,ne){const ae=this;return ie;function ie(oe){return markdownSpace(oe)?factorySpace(ee,se,"linePrefix",ae.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):se(oe)}function se(oe){return ee.attempt(blockQuote,te,ne)(oe)}}function exit$1(ee){ee.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(ee,te,ne){return ae;function ae(se){return ee.enter("characterEscape"),ee.enter("escapeMarker"),ee.consume(se),ee.exit("escapeMarker"),ie}function ie(se){return asciiPunctuation(se)?(ee.enter("characterEscapeValue"),ee.consume(se),ee.exit("characterEscapeValue"),ee.exit("characterEscape"),te):ne(se)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(ee,te,ne){const ae=this;let ie=0,se,oe;return le;function le(pe){return ee.enter("characterReference"),ee.enter("characterReferenceMarker"),ee.consume(pe),ee.exit("characterReferenceMarker"),ce}function ce(pe){return pe===35?(ee.enter("characterReferenceMarkerNumeric"),ee.consume(pe),ee.exit("characterReferenceMarkerNumeric"),he):(ee.enter("characterReferenceValue"),se=31,oe=asciiAlphanumeric,fe(pe))}function he(pe){return pe===88||pe===120?(ee.enter("characterReferenceMarkerHexadecimal"),ee.consume(pe),ee.exit("characterReferenceMarkerHexadecimal"),ee.enter("characterReferenceValue"),se=6,oe=asciiHexDigit,fe):(ee.enter("characterReferenceValue"),se=7,oe=asciiDigit,fe(pe))}function fe(pe){if(pe===59&&ie){const ge=ee.exit("characterReferenceValue");return oe===asciiAlphanumeric&&!decodeNamedCharacterReference(ae.sliceSerialize(ge))?ne(pe):(ee.enter("characterReferenceMarker"),ee.consume(pe),ee.exit("characterReferenceMarker"),ee.exit("characterReference"),te)}return oe(pe)&&ie++<se?(ee.consume(pe),fe):ne(pe)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(ee,te,ne){const ae=this,ie={partial:!0,tokenize:Be};let se=0,oe=0,le;return ce;function ce(Ae){return he(Ae)}function he(Ae){const Me=ae.events[ae.events.length-1];return se=Me&&Me[1].type==="linePrefix"?Me[2].sliceSerialize(Me[1],!0).length:0,le=Ae,ee.enter("codeFenced"),ee.enter("codeFencedFence"),ee.enter("codeFencedFenceSequence"),fe(Ae)}function fe(Ae){return Ae===le?(oe++,ee.consume(Ae),fe):oe<3?ne(Ae):(ee.exit("codeFencedFenceSequence"),markdownSpace(Ae)?factorySpace(ee,pe,"whitespace")(Ae):pe(Ae))}function pe(Ae){return Ae===null||markdownLineEnding(Ae)?(ee.exit("codeFencedFence"),ae.interrupt?te(Ae):ee.check(nonLazyContinuation,be,Pe)(Ae)):(ee.enter("codeFencedFenceInfo"),ee.enter("chunkString",{contentType:"string"}),ge(Ae))}function ge(Ae){return Ae===null||markdownLineEnding(Ae)?(ee.exit("chunkString"),ee.exit("codeFencedFenceInfo"),pe(Ae)):markdownSpace(Ae)?(ee.exit("chunkString"),ee.exit("codeFencedFenceInfo"),factorySpace(ee,ye,"whitespace")(Ae)):Ae===96&&Ae===le?ne(Ae):(ee.consume(Ae),ge)}function ye(Ae){return Ae===null||markdownLineEnding(Ae)?pe(Ae):(ee.enter("codeFencedFenceMeta"),ee.enter("chunkString",{contentType:"string"}),xe(Ae))}function xe(Ae){return Ae===null||markdownLineEnding(Ae)?(ee.exit("chunkString"),ee.exit("codeFencedFenceMeta"),pe(Ae)):Ae===96&&Ae===le?ne(Ae):(ee.consume(Ae),xe)}function be(Ae){return ee.attempt(ie,Pe,Se)(Ae)}function Se(Ae){return ee.enter("lineEnding"),ee.consume(Ae),ee.exit("lineEnding"),ve}function ve(Ae){return se>0&&markdownSpace(Ae)?factorySpace(ee,Te,"linePrefix",se+1)(Ae):Te(Ae)}function Te(Ae){return Ae===null||markdownLineEnding(Ae)?ee.check(nonLazyContinuation,be,Pe)(Ae):(ee.enter("codeFlowValue"),Ce(Ae))}function Ce(Ae){return Ae===null||markdownLineEnding(Ae)?(ee.exit("codeFlowValue"),Te(Ae)):(ee.consume(Ae),Ce)}function Pe(Ae){return ee.exit("codeFenced"),te(Ae)}function Be(Ae,Me,Ge){let Ue=0;return Ve;function Ve($e){return Ae.enter("lineEnding"),Ae.consume($e),Ae.exit("lineEnding"),je}function je($e){return Ae.enter("codeFencedFence"),markdownSpace($e)?factorySpace(Ae,De,"linePrefix",ae.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($e):De($e)}function De($e){return $e===le?(Ae.enter("codeFencedFenceSequence"),Ye($e)):Ge($e)}function Ye($e){return $e===le?(Ue++,Ae.consume($e),Ye):Ue>=oe?(Ae.exit("codeFencedFenceSequence"),markdownSpace($e)?factorySpace(Ae,ke,"whitespace")($e):ke($e)):Ge($e)}function ke($e){return $e===null||markdownLineEnding($e)?(Ae.exit("codeFencedFence"),Me($e)):Ge($e)}}}function tokenizeNonLazyContinuation(ee,te,ne){const ae=this;return ie;function ie(oe){return oe===null?ne(oe):(ee.enter("lineEnding"),ee.consume(oe),ee.exit("lineEnding"),se)}function se(oe){return ae.parser.lazy[ae.now().line]?ne(oe):te(oe)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(ee,te,ne){const ae=this;return ie;function ie(he){return ee.enter("codeIndented"),factorySpace(ee,se,"linePrefix",5)(he)}function se(he){const fe=ae.events[ae.events.length-1];return fe&&fe[1].type==="linePrefix"&&fe[2].sliceSerialize(fe[1],!0).length>=4?oe(he):ne(he)}function oe(he){return he===null?ce(he):markdownLineEnding(he)?ee.attempt(furtherStart,oe,ce)(he):(ee.enter("codeFlowValue"),le(he))}function le(he){return he===null||markdownLineEnding(he)?(ee.exit("codeFlowValue"),oe(he)):(ee.consume(he),le)}function ce(he){return ee.exit("codeIndented"),te(he)}}function tokenizeFurtherStart(ee,te,ne){const ae=this;return ie;function ie(oe){return ae.parser.lazy[ae.now().line]?ne(oe):markdownLineEnding(oe)?(ee.enter("lineEnding"),ee.consume(oe),ee.exit("lineEnding"),ie):factorySpace(ee,se,"linePrefix",5)(oe)}function se(oe){const le=ae.events[ae.events.length-1];return le&&le[1].type==="linePrefix"&&le[2].sliceSerialize(le[1],!0).length>=4?te(oe):markdownLineEnding(oe)?ie(oe):ne(oe)}}const codeText={name:"codeText",previous:previous$1,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(ee){let te=ee.length-4,ne=3,ae,ie;if((ee[ne][1].type==="lineEnding"||ee[ne][1].type==="space")&&(ee[te][1].type==="lineEnding"||ee[te][1].type==="space")){for(ae=ne;++ae<te;)if(ee[ae][1].type==="codeTextData"){ee[ne][1].type="codeTextPadding",ee[te][1].type="codeTextPadding",ne+=2,te-=2;break}}for(ae=ne-1,te++;++ae<=te;)ie===void 0?ae!==te&&ee[ae][1].type!=="lineEnding"&&(ie=ae):(ae===te||ee[ae][1].type==="lineEnding")&&(ee[ie][1].type="codeTextData",ae!==ie+2&&(ee[ie][1].end=ee[ae-1][1].end,ee.splice(ie+2,ae-ie-2),te-=ae-ie-2,ae=ie+2),ie=void 0);return ee}function previous$1(ee){return ee!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(ee,te,ne){let ae=0,ie,se;return oe;function oe(pe){return ee.enter("codeText"),ee.enter("codeTextSequence"),le(pe)}function le(pe){return pe===96?(ee.consume(pe),ae++,le):(ee.exit("codeTextSequence"),ce(pe))}function ce(pe){return pe===null?ne(pe):pe===32?(ee.enter("space"),ee.consume(pe),ee.exit("space"),ce):pe===96?(se=ee.enter("codeTextSequence"),ie=0,fe(pe)):markdownLineEnding(pe)?(ee.enter("lineEnding"),ee.consume(pe),ee.exit("lineEnding"),ce):(ee.enter("codeTextData"),he(pe))}function he(pe){return pe===null||pe===32||pe===96||markdownLineEnding(pe)?(ee.exit("codeTextData"),ce(pe)):(ee.consume(pe),he)}function fe(pe){return pe===96?(ee.consume(pe),ie++,fe):ie===ae?(ee.exit("codeTextSequence"),ee.exit("codeText"),te(pe)):(se.type="codeTextData",he(pe))}}class SpliceBuffer{constructor(te){this.left=te?[...te]:[],this.right=[]}get(te){if(te<0||te>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+te+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return te<this.left.length?this.left[te]:this.right[this.right.length-te+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(te,ne){const ae=ne??Number.POSITIVE_INFINITY;return ae<this.left.length?this.left.slice(te,ae):te>this.left.length?this.right.slice(this.right.length-ae+this.left.length,this.right.length-te+this.left.length).reverse():this.left.slice(te).concat(this.right.slice(this.right.length-ae+this.left.length).reverse())}splice(te,ne,ae){const ie=ne||0;this.setCursor(Math.trunc(te));const se=this.right.splice(this.right.length-ie,Number.POSITIVE_INFINITY);return ae&&chunkedPush(this.left,ae),se.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(te){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(te)}pushMany(te){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,te)}unshift(te){this.setCursor(0),this.right.push(te)}unshiftMany(te){this.setCursor(0),chunkedPush(this.right,te.reverse())}setCursor(te){if(!(te===this.left.length||te>this.left.length&&this.right.length===0||te<0&&this.left.length===0))if(te<this.left.length){const ne=this.left.splice(te,Number.POSITIVE_INFINITY);chunkedPush(this.right,ne.reverse())}else{const ne=this.right.splice(this.left.length+this.right.length-te,Number.POSITIVE_INFINITY);chunkedPush(this.left,ne.reverse())}}}function chunkedPush(ee,te){let ne=0;if(te.length<1e4)ee.push(...te);else for(;ne<te.length;)ee.push(...te.slice(ne,ne+1e4)),ne+=1e4}function subtokenize(ee){const te={};let ne=-1,ae,ie,se,oe,le,ce,he;const fe=new SpliceBuffer(ee);for(;++ne<fe.length;){for(;ne in te;)ne=te[ne];if(ae=fe.get(ne),ne&&ae[1].type==="chunkFlow"&&fe.get(ne-1)[1].type==="listItemPrefix"&&(ce=ae[1]._tokenizer.events,se=0,se<ce.length&&ce[se][1].type==="lineEndingBlank"&&(se+=2),se<ce.length&&ce[se][1].type==="content"))for(;++se<ce.length&&ce[se][1].type!=="content";)ce[se][1].type==="chunkText"&&(ce[se][1]._isInFirstContentOfListItem=!0,se++);if(ae[0]==="enter")ae[1].contentType&&(Object.assign(te,subcontent(fe,ne)),ne=te[ne],he=!0);else if(ae[1]._container){for(se=ne,ie=void 0;se--;)if(oe=fe.get(se),oe[1].type==="lineEnding"||oe[1].type==="lineEndingBlank")oe[0]==="enter"&&(ie&&(fe.get(ie)[1].type="lineEndingBlank"),oe[1].type="lineEnding",ie=se);else if(!(oe[1].type==="linePrefix"||oe[1].type==="listItemIndent"))break;ie&&(ae[1].end={...fe.get(ie)[1].start},le=fe.slice(ie,ne),le.unshift(ae),fe.splice(ie,ne-ie+1,le))}}return splice$1(ee,0,Number.POSITIVE_INFINITY,fe.slice(0)),!he}function subcontent(ee,te){const ne=ee.get(te)[1],ae=ee.get(te)[2];let ie=te-1;const se=[];let oe=ne._tokenizer;oe||(oe=ae.parser[ne.contentType](ne.start),ne._contentTypeTextTrailing&&(oe._contentTypeTextTrailing=!0));const le=oe.events,ce=[],he={};let fe,pe,ge=-1,ye=ne,xe=0,be=0;const Se=[be];for(;ye;){for(;ee.get(++ie)[1]!==ye;);se.push(ie),ye._tokenizer||(fe=ae.sliceStream(ye),ye.next||fe.push(null),pe&&oe.defineSkip(ye.start),ye._isInFirstContentOfListItem&&(oe._gfmTasklistFirstContentOfListItem=!0),oe.write(fe),ye._isInFirstContentOfListItem&&(oe._gfmTasklistFirstContentOfListItem=void 0)),pe=ye,ye=ye.next}for(ye=ne;++ge<le.length;)le[ge][0]==="exit"&&le[ge-1][0]==="enter"&&le[ge][1].type===le[ge-1][1].type&&le[ge][1].start.line!==le[ge][1].end.line&&(be=ge+1,Se.push(be),ye._tokenizer=void 0,ye.previous=void 0,ye=ye.next);for(oe.events=[],ye?(ye._tokenizer=void 0,ye.previous=void 0):Se.pop(),ge=Se.length;ge--;){const ve=le.slice(Se[ge],Se[ge+1]),Te=se.pop();ce.push([Te,Te+ve.length-1]),ee.splice(Te,2,ve)}for(ce.reverse(),ge=-1;++ge<ce.length;)he[xe+ce[ge][0]]=xe+ce[ge][1],xe+=ce[ge][1]-ce[ge][0]-1;return he}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(ee){return subtokenize(ee),ee}function tokenizeContent(ee,te){let ne;return ae;function ae(le){return ee.enter("content"),ne=ee.enter("chunkContent",{contentType:"content"}),ie(le)}function ie(le){return le===null?se(le):markdownLineEnding(le)?ee.check(continuationConstruct,oe,se)(le):(ee.consume(le),ie)}function se(le){return ee.exit("chunkContent"),ee.exit("content"),te(le)}function oe(le){return ee.consume(le),ee.exit("chunkContent"),ne.next=ee.enter("chunkContent",{contentType:"content",previous:ne}),ne=ne.next,ie}}function tokenizeContinuation(ee,te,ne){const ae=this;return ie;function ie(oe){return ee.exit("chunkContent"),ee.enter("lineEnding"),ee.consume(oe),ee.exit("lineEnding"),factorySpace(ee,se,"linePrefix")}function se(oe){if(oe===null||markdownLineEnding(oe))return ne(oe);const le=ae.events[ae.events.length-1];return!ae.parser.constructs.disable.null.includes("codeIndented")&&le&&le[1].type==="linePrefix"&&le[2].sliceSerialize(le[1],!0).length>=4?te(oe):ee.interrupt(ae.parser.constructs.flow,ne,te)(oe)}}function factoryDestination(ee,te,ne,ae,ie,se,oe,le,ce){const he=ce||Number.POSITIVE_INFINITY;let fe=0;return pe;function pe(ve){return ve===60?(ee.enter(ae),ee.enter(ie),ee.enter(se),ee.consume(ve),ee.exit(se),ge):ve===null||ve===32||ve===41||asciiControl(ve)?ne(ve):(ee.enter(ae),ee.enter(oe),ee.enter(le),ee.enter("chunkString",{contentType:"string"}),be(ve))}function ge(ve){return ve===62?(ee.enter(se),ee.consume(ve),ee.exit(se),ee.exit(ie),ee.exit(ae),te):(ee.enter(le),ee.enter("chunkString",{contentType:"string"}),ye(ve))}function ye(ve){return ve===62?(ee.exit("chunkString"),ee.exit(le),ge(ve)):ve===null||ve===60||markdownLineEnding(ve)?ne(ve):(ee.consume(ve),ve===92?xe:ye)}function xe(ve){return ve===60||ve===62||ve===92?(ee.consume(ve),ye):ye(ve)}function be(ve){return!fe&&(ve===null||ve===41||markdownLineEndingOrSpace(ve))?(ee.exit("chunkString"),ee.exit(le),ee.exit(oe),ee.exit(ae),te(ve)):fe<he&&ve===40?(ee.consume(ve),fe++,be):ve===41?(ee.consume(ve),fe--,be):ve===null||ve===32||ve===40||asciiControl(ve)?ne(ve):(ee.consume(ve),ve===92?Se:be)}function Se(ve){return ve===40||ve===41||ve===92?(ee.consume(ve),be):be(ve)}}function factoryLabel(ee,te,ne,ae,ie,se){const oe=this;let le=0,ce;return he;function he(ye){return ee.enter(ae),ee.enter(ie),ee.consume(ye),ee.exit(ie),ee.enter(se),fe}function fe(ye){return le>999||ye===null||ye===91||ye===93&&!ce||ye===94&&!le&&"_hiddenFootnoteSupport"in oe.parser.constructs?ne(ye):ye===93?(ee.exit(se),ee.enter(ie),ee.consume(ye),ee.exit(ie),ee.exit(ae),te):markdownLineEnding(ye)?(ee.enter("lineEnding"),ee.consume(ye),ee.exit("lineEnding"),fe):(ee.enter("chunkString",{contentType:"string"}),pe(ye))}function pe(ye){return ye===null||ye===91||ye===93||markdownLineEnding(ye)||le++>999?(ee.exit("chunkString"),fe(ye)):(ee.consume(ye),ce||(ce=!markdownSpace(ye)),ye===92?ge:pe)}function ge(ye){return ye===91||ye===92||ye===93?(ee.consume(ye),le++,pe):pe(ye)}}function factoryTitle(ee,te,ne,ae,ie,se){let oe;return le;function le(ge){return ge===34||ge===39||ge===40?(ee.enter(ae),ee.enter(ie),ee.consume(ge),ee.exit(ie),oe=ge===40?41:ge,ce):ne(ge)}function ce(ge){return ge===oe?(ee.enter(ie),ee.consume(ge),ee.exit(ie),ee.exit(ae),te):(ee.enter(se),he(ge))}function he(ge){return ge===oe?(ee.exit(se),ce(oe)):ge===null?ne(ge):markdownLineEnding(ge)?(ee.enter("lineEnding"),ee.consume(ge),ee.exit("lineEnding"),factorySpace(ee,he,"linePrefix")):(ee.enter("chunkString",{contentType:"string"}),fe(ge))}function fe(ge){return ge===oe||ge===null||markdownLineEnding(ge)?(ee.exit("chunkString"),he(ge)):(ee.consume(ge),ge===92?pe:fe)}function pe(ge){return ge===oe||ge===92?(ee.consume(ge),fe):fe(ge)}}function factoryWhitespace(ee,te){let ne;return ae;function ae(ie){return markdownLineEnding(ie)?(ee.enter("lineEnding"),ee.consume(ie),ee.exit("lineEnding"),ne=!0,ae):markdownSpace(ie)?factorySpace(ee,ae,ne?"linePrefix":"lineSuffix")(ie):te(ie)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(ee,te,ne){const ae=this;let ie;return se;function se(ye){return ee.enter("definition"),oe(ye)}function oe(ye){return factoryLabel.call(ae,ee,le,ne,"definitionLabel","definitionLabelMarker","definitionLabelString")(ye)}function le(ye){return ie=normalizeIdentifier(ae.sliceSerialize(ae.events[ae.events.length-1][1]).slice(1,-1)),ye===58?(ee.enter("definitionMarker"),ee.consume(ye),ee.exit("definitionMarker"),ce):ne(ye)}function ce(ye){return markdownLineEndingOrSpace(ye)?factoryWhitespace(ee,he)(ye):he(ye)}function he(ye){return factoryDestination(ee,fe,ne,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(ye)}function fe(ye){return ee.attempt(titleBefore,pe,pe)(ye)}function pe(ye){return markdownSpace(ye)?factorySpace(ee,ge,"whitespace")(ye):ge(ye)}function ge(ye){return ye===null||markdownLineEnding(ye)?(ee.exit("definition"),ae.parser.defined.push(ie),te(ye)):ne(ye)}}function tokenizeTitleBefore(ee,te,ne){return ae;function ae(le){return markdownLineEndingOrSpace(le)?factoryWhitespace(ee,ie)(le):ne(le)}function ie(le){return factoryTitle(ee,se,ne,"definitionTitle","definitionTitleMarker","definitionTitleString")(le)}function se(le){return markdownSpace(le)?factorySpace(ee,oe,"whitespace")(le):oe(le)}function oe(le){return le===null||markdownLineEnding(le)?te(le):ne(le)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(ee,te,ne){return ae;function ae(se){return ee.enter("hardBreakEscape"),ee.consume(se),ie}function ie(se){return markdownLineEnding(se)?(ee.exit("hardBreakEscape"),te(se)):ne(se)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(ee,te){let ne=ee.length-2,ae=3,ie,se;return ee[ae][1].type==="whitespace"&&(ae+=2),ne-2>ae&&ee[ne][1].type==="whitespace"&&(ne-=2),ee[ne][1].type==="atxHeadingSequence"&&(ae===ne-1||ne-4>ae&&ee[ne-2][1].type==="whitespace")&&(ne-=ae+1===ne?2:4),ne>ae&&(ie={type:"atxHeadingText",start:ee[ae][1].start,end:ee[ne][1].end},se={type:"chunkText",start:ee[ae][1].start,end:ee[ne][1].end,contentType:"text"},splice$1(ee,ae,ne-ae+1,[["enter",ie,te],["enter",se,te],["exit",se,te],["exit",ie,te]])),ee}function tokenizeHeadingAtx(ee,te,ne){let ae=0;return ie;function ie(fe){return ee.enter("atxHeading"),se(fe)}function se(fe){return ee.enter("atxHeadingSequence"),oe(fe)}function oe(fe){return fe===35&&ae++<6?(ee.consume(fe),oe):fe===null||markdownLineEndingOrSpace(fe)?(ee.exit("atxHeadingSequence"),le(fe)):ne(fe)}function le(fe){return fe===35?(ee.enter("atxHeadingSequence"),ce(fe)):fe===null||markdownLineEnding(fe)?(ee.exit("atxHeading"),te(fe)):markdownSpace(fe)?factorySpace(ee,le,"whitespace")(fe):(ee.enter("atxHeadingText"),he(fe))}function ce(fe){return fe===35?(ee.consume(fe),ce):(ee.exit("atxHeadingSequence"),le(fe))}function he(fe){return fe===null||fe===35||markdownLineEndingOrSpace(fe)?(ee.exit("atxHeadingText"),le(fe)):(ee.consume(fe),he)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(ee){let te=ee.length;for(;te--&&!(ee[te][0]==="enter"&&ee[te][1].type==="htmlFlow"););return te>1&&ee[te-2][1].type==="linePrefix"&&(ee[te][1].start=ee[te-2][1].start,ee[te+1][1].start=ee[te-2][1].start,ee.splice(te-2,2)),ee}function tokenizeHtmlFlow(ee,te,ne){const ae=this;let ie,se,oe,le,ce;return he;function he(Le){return fe(Le)}function fe(Le){return ee.enter("htmlFlow"),ee.enter("htmlFlowData"),ee.consume(Le),pe}function pe(Le){return Le===33?(ee.consume(Le),ge):Le===47?(ee.consume(Le),se=!0,be):Le===63?(ee.consume(Le),ie=3,ae.interrupt?te:ze):asciiAlpha(Le)?(ee.consume(Le),oe=String.fromCharCode(Le),Se):ne(Le)}function ge(Le){return Le===45?(ee.consume(Le),ie=2,ye):Le===91?(ee.consume(Le),ie=5,le=0,xe):asciiAlpha(Le)?(ee.consume(Le),ie=4,ae.interrupt?te:ze):ne(Le)}function ye(Le){return Le===45?(ee.consume(Le),ae.interrupt?te:ze):ne(Le)}function xe(Le){const Ze="CDATA[";return Le===Ze.charCodeAt(le++)?(ee.consume(Le),le===Ze.length?ae.interrupt?te:De:xe):ne(Le)}function be(Le){return asciiAlpha(Le)?(ee.consume(Le),oe=String.fromCharCode(Le),Se):ne(Le)}function Se(Le){if(Le===null||Le===47||Le===62||markdownLineEndingOrSpace(Le)){const Ze=Le===47,Qe=oe.toLowerCase();return!Ze&&!se&&htmlRawNames.includes(Qe)?(ie=1,ae.interrupt?te(Le):De(Le)):htmlBlockNames.includes(oe.toLowerCase())?(ie=6,Ze?(ee.consume(Le),ve):ae.interrupt?te(Le):De(Le)):(ie=7,ae.interrupt&&!ae.parser.lazy[ae.now().line]?ne(Le):se?Te(Le):Ce(Le))}return Le===45||asciiAlphanumeric(Le)?(ee.consume(Le),oe+=String.fromCharCode(Le),Se):ne(Le)}function ve(Le){return Le===62?(ee.consume(Le),ae.interrupt?te:De):ne(Le)}function Te(Le){return markdownSpace(Le)?(ee.consume(Le),Te):Ve(Le)}function Ce(Le){return Le===47?(ee.consume(Le),Ve):Le===58||Le===95||asciiAlpha(Le)?(ee.consume(Le),Pe):markdownSpace(Le)?(ee.consume(Le),Ce):Ve(Le)}function Pe(Le){return Le===45||Le===46||Le===58||Le===95||asciiAlphanumeric(Le)?(ee.consume(Le),Pe):Be(Le)}function Be(Le){return Le===61?(ee.consume(Le),Ae):markdownSpace(Le)?(ee.consume(Le),Be):Ce(Le)}function Ae(Le){return Le===null||Le===60||Le===61||Le===62||Le===96?ne(Le):Le===34||Le===39?(ee.consume(Le),ce=Le,Me):markdownSpace(Le)?(ee.consume(Le),Ae):Ge(Le)}function Me(Le){return Le===ce?(ee.consume(Le),ce=null,Ue):Le===null||markdownLineEnding(Le)?ne(Le):(ee.consume(Le),Me)}function Ge(Le){return Le===null||Le===34||Le===39||Le===47||Le===60||Le===61||Le===62||Le===96||markdownLineEndingOrSpace(Le)?Be(Le):(ee.consume(Le),Ge)}function Ue(Le){return Le===47||Le===62||markdownSpace(Le)?Ce(Le):ne(Le)}function Ve(Le){return Le===62?(ee.consume(Le),je):ne(Le)}function je(Le){return Le===null||markdownLineEnding(Le)?De(Le):markdownSpace(Le)?(ee.consume(Le),je):ne(Le)}function De(Le){return Le===45&&ie===2?(ee.consume(Le),Oe):Le===60&&ie===1?(ee.consume(Le),He):Le===62&&ie===4?(ee.consume(Le),Ie):Le===63&&ie===3?(ee.consume(Le),ze):Le===93&&ie===5?(ee.consume(Le),Xe):markdownLineEnding(Le)&&(ie===6||ie===7)?(ee.exit("htmlFlowData"),ee.check(blankLineBefore,Fe,Ye)(Le)):Le===null||markdownLineEnding(Le)?(ee.exit("htmlFlowData"),Ye(Le)):(ee.consume(Le),De)}function Ye(Le){return ee.check(nonLazyContinuationStart,ke,Fe)(Le)}function ke(Le){return ee.enter("lineEnding"),ee.consume(Le),ee.exit("lineEnding"),$e}function $e(Le){return Le===null||markdownLineEnding(Le)?Ye(Le):(ee.enter("htmlFlowData"),De(Le))}function Oe(Le){return Le===45?(ee.consume(Le),ze):De(Le)}function He(Le){return Le===47?(ee.consume(Le),oe="",qe):De(Le)}function qe(Le){if(Le===62){const Ze=oe.toLowerCase();return htmlRawNames.includes(Ze)?(ee.consume(Le),Ie):De(Le)}return asciiAlpha(Le)&&oe.length<8?(ee.consume(Le),oe+=String.fromCharCode(Le),qe):De(Le)}function Xe(Le){return Le===93?(ee.consume(Le),ze):De(Le)}function ze(Le){return Le===62?(ee.consume(Le),Ie):Le===45&&ie===2?(ee.consume(Le),ze):De(Le)}function Ie(Le){return Le===null||markdownLineEnding(Le)?(ee.exit("htmlFlowData"),Fe(Le)):(ee.consume(Le),Ie)}function Fe(Le){return ee.exit("htmlFlow"),te(Le)}}function tokenizeNonLazyContinuationStart(ee,te,ne){const ae=this;return ie;function ie(oe){return markdownLineEnding(oe)?(ee.enter("lineEnding"),ee.consume(oe),ee.exit("lineEnding"),se):ne(oe)}function se(oe){return ae.parser.lazy[ae.now().line]?ne(oe):te(oe)}}function tokenizeBlankLineBefore(ee,te,ne){return ae;function ae(ie){return ee.enter("lineEnding"),ee.consume(ie),ee.exit("lineEnding"),ee.attempt(blankLine,te,ne)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(ee,te,ne){const ae=this;let ie,se,oe;return le;function le(ze){return ee.enter("htmlText"),ee.enter("htmlTextData"),ee.consume(ze),ce}function ce(ze){return ze===33?(ee.consume(ze),he):ze===47?(ee.consume(ze),Be):ze===63?(ee.consume(ze),Ce):asciiAlpha(ze)?(ee.consume(ze),Ge):ne(ze)}function he(ze){return ze===45?(ee.consume(ze),fe):ze===91?(ee.consume(ze),se=0,xe):asciiAlpha(ze)?(ee.consume(ze),Te):ne(ze)}function fe(ze){return ze===45?(ee.consume(ze),ye):ne(ze)}function pe(ze){return ze===null?ne(ze):ze===45?(ee.consume(ze),ge):markdownLineEnding(ze)?(oe=pe,He(ze)):(ee.consume(ze),pe)}function ge(ze){return ze===45?(ee.consume(ze),ye):pe(ze)}function ye(ze){return ze===62?Oe(ze):ze===45?ge(ze):pe(ze)}function xe(ze){const Ie="CDATA[";return ze===Ie.charCodeAt(se++)?(ee.consume(ze),se===Ie.length?be:xe):ne(ze)}function be(ze){return ze===null?ne(ze):ze===93?(ee.consume(ze),Se):markdownLineEnding(ze)?(oe=be,He(ze)):(ee.consume(ze),be)}function Se(ze){return ze===93?(ee.consume(ze),ve):be(ze)}function ve(ze){return ze===62?Oe(ze):ze===93?(ee.consume(ze),ve):be(ze)}function Te(ze){return ze===null||ze===62?Oe(ze):markdownLineEnding(ze)?(oe=Te,He(ze)):(ee.consume(ze),Te)}function Ce(ze){return ze===null?ne(ze):ze===63?(ee.consume(ze),Pe):markdownLineEnding(ze)?(oe=Ce,He(ze)):(ee.consume(ze),Ce)}function Pe(ze){return ze===62?Oe(ze):Ce(ze)}function Be(ze){return asciiAlpha(ze)?(ee.consume(ze),Ae):ne(ze)}function Ae(ze){return ze===45||asciiAlphanumeric(ze)?(ee.consume(ze),Ae):Me(ze)}function Me(ze){return markdownLineEnding(ze)?(oe=Me,He(ze)):markdownSpace(ze)?(ee.consume(ze),Me):Oe(ze)}function Ge(ze){return ze===45||asciiAlphanumeric(ze)?(ee.consume(ze),Ge):ze===47||ze===62||markdownLineEndingOrSpace(ze)?Ue(ze):ne(ze)}function Ue(ze){return ze===47?(ee.consume(ze),Oe):ze===58||ze===95||asciiAlpha(ze)?(ee.consume(ze),Ve):markdownLineEnding(ze)?(oe=Ue,He(ze)):markdownSpace(ze)?(ee.consume(ze),Ue):Oe(ze)}function Ve(ze){return ze===45||ze===46||ze===58||ze===95||asciiAlphanumeric(ze)?(ee.consume(ze),Ve):je(ze)}function je(ze){return ze===61?(ee.consume(ze),De):markdownLineEnding(ze)?(oe=je,He(ze)):markdownSpace(ze)?(ee.consume(ze),je):Ue(ze)}function De(ze){return ze===null||ze===60||ze===61||ze===62||ze===96?ne(ze):ze===34||ze===39?(ee.consume(ze),ie=ze,Ye):markdownLineEnding(ze)?(oe=De,He(ze)):markdownSpace(ze)?(ee.consume(ze),De):(ee.consume(ze),ke)}function Ye(ze){return ze===ie?(ee.consume(ze),ie=void 0,$e):ze===null?ne(ze):markdownLineEnding(ze)?(oe=Ye,He(ze)):(ee.consume(ze),Ye)}function ke(ze){return ze===null||ze===34||ze===39||ze===60||ze===61||ze===96?ne(ze):ze===47||ze===62||markdownLineEndingOrSpace(ze)?Ue(ze):(ee.consume(ze),ke)}function $e(ze){return ze===47||ze===62||markdownLineEndingOrSpace(ze)?Ue(ze):ne(ze)}function Oe(ze){return ze===62?(ee.consume(ze),ee.exit("htmlTextData"),ee.exit("htmlText"),te):ne(ze)}function He(ze){return ee.exit("htmlTextData"),ee.enter("lineEnding"),ee.consume(ze),ee.exit("lineEnding"),qe}function qe(ze){return markdownSpace(ze)?factorySpace(ee,Xe,"linePrefix",ae.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ze):Xe(ze)}function Xe(ze){return ee.enter("htmlTextData"),oe(ze)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(ee){let te=-1;const ne=[];for(;++te<ee.length;){const ae=ee[te][1];if(ne.push(ee[te]),ae.type==="labelImage"||ae.type==="labelLink"||ae.type==="labelEnd"){const ie=ae.type==="labelImage"?4:2;ae.type="data",te+=ie}}return ee.length!==ne.length&&splice$1(ee,0,ee.length,ne),ee}function resolveToLabelEnd(ee,te){let ne=ee.length,ae=0,ie,se,oe,le;for(;ne--;)if(ie=ee[ne][1],se){if(ie.type==="link"||ie.type==="labelLink"&&ie._inactive)break;ee[ne][0]==="enter"&&ie.type==="labelLink"&&(ie._inactive=!0)}else if(oe){if(ee[ne][0]==="enter"&&(ie.type==="labelImage"||ie.type==="labelLink")&&!ie._balanced&&(se=ne,ie.type!=="labelLink")){ae=2;break}}else ie.type==="labelEnd"&&(oe=ne);const ce={type:ee[se][1].type==="labelLink"?"link":"image",start:{...ee[se][1].start},end:{...ee[ee.length-1][1].end}},he={type:"label",start:{...ee[se][1].start},end:{...ee[oe][1].end}},fe={type:"labelText",start:{...ee[se+ae+2][1].end},end:{...ee[oe-2][1].start}};return le=[["enter",ce,te],["enter",he,te]],le=push(le,ee.slice(se+1,se+ae+3)),le=push(le,[["enter",fe,te]]),le=push(le,resolveAll(te.parser.constructs.insideSpan.null,ee.slice(se+ae+4,oe-3),te)),le=push(le,[["exit",fe,te],ee[oe-2],ee[oe-1],["exit",he,te]]),le=push(le,ee.slice(oe+1)),le=push(le,[["exit",ce,te]]),splice$1(ee,se,ee.length,le),ee}function tokenizeLabelEnd(ee,te,ne){const ae=this;let ie=ae.events.length,se,oe;for(;ie--;)if((ae.events[ie][1].type==="labelImage"||ae.events[ie][1].type==="labelLink")&&!ae.events[ie][1]._balanced){se=ae.events[ie][1];break}return le;function le(ge){return se?se._inactive?pe(ge):(oe=ae.parser.defined.includes(normalizeIdentifier(ae.sliceSerialize({start:se.end,end:ae.now()}))),ee.enter("labelEnd"),ee.enter("labelMarker"),ee.consume(ge),ee.exit("labelMarker"),ee.exit("labelEnd"),ce):ne(ge)}function ce(ge){return ge===40?ee.attempt(resourceConstruct,fe,oe?fe:pe)(ge):ge===91?ee.attempt(referenceFullConstruct,fe,oe?he:pe)(ge):oe?fe(ge):pe(ge)}function he(ge){return ee.attempt(referenceCollapsedConstruct,fe,pe)(ge)}function fe(ge){return te(ge)}function pe(ge){return se._balanced=!0,ne(ge)}}function tokenizeResource(ee,te,ne){return ae;function ae(pe){return ee.enter("resource"),ee.enter("resourceMarker"),ee.consume(pe),ee.exit("resourceMarker"),ie}function ie(pe){return markdownLineEndingOrSpace(pe)?factoryWhitespace(ee,se)(pe):se(pe)}function se(pe){return pe===41?fe(pe):factoryDestination(ee,oe,le,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(pe)}function oe(pe){return markdownLineEndingOrSpace(pe)?factoryWhitespace(ee,ce)(pe):fe(pe)}function le(pe){return ne(pe)}function ce(pe){return pe===34||pe===39||pe===40?factoryTitle(ee,he,ne,"resourceTitle","resourceTitleMarker","resourceTitleString")(pe):fe(pe)}function he(pe){return markdownLineEndingOrSpace(pe)?factoryWhitespace(ee,fe)(pe):fe(pe)}function fe(pe){return pe===41?(ee.enter("resourceMarker"),ee.consume(pe),ee.exit("resourceMarker"),ee.exit("resource"),te):ne(pe)}}function tokenizeReferenceFull(ee,te,ne){const ae=this;return ie;function ie(le){return factoryLabel.call(ae,ee,se,oe,"reference","referenceMarker","referenceString")(le)}function se(le){return ae.parser.defined.includes(normalizeIdentifier(ae.sliceSerialize(ae.events[ae.events.length-1][1]).slice(1,-1)))?te(le):ne(le)}function oe(le){return ne(le)}}function tokenizeReferenceCollapsed(ee,te,ne){return ae;function ae(se){return ee.enter("reference"),ee.enter("referenceMarker"),ee.consume(se),ee.exit("referenceMarker"),ie}function ie(se){return se===93?(ee.enter("referenceMarker"),ee.consume(se),ee.exit("referenceMarker"),ee.exit("reference"),te):ne(se)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(ee,te,ne){const ae=this;return ie;function ie(le){return ee.enter("labelImage"),ee.enter("labelImageMarker"),ee.consume(le),ee.exit("labelImageMarker"),se}function se(le){return le===91?(ee.enter("labelMarker"),ee.consume(le),ee.exit("labelMarker"),ee.exit("labelImage"),oe):ne(le)}function oe(le){return le===94&&"_hiddenFootnoteSupport"in ae.parser.constructs?ne(le):te(le)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(ee,te,ne){const ae=this;return ie;function ie(oe){return ee.enter("labelLink"),ee.enter("labelMarker"),ee.consume(oe),ee.exit("labelMarker"),ee.exit("labelLink"),se}function se(oe){return oe===94&&"_hiddenFootnoteSupport"in ae.parser.constructs?ne(oe):te(oe)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(ee,te){return ne;function ne(ae){return ee.enter("lineEnding"),ee.consume(ae),ee.exit("lineEnding"),factorySpace(ee,te,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(ee,te,ne){let ae=0,ie;return se;function se(he){return ee.enter("thematicBreak"),oe(he)}function oe(he){return ie=he,le(he)}function le(he){return he===ie?(ee.enter("thematicBreakSequence"),ce(he)):ae>=3&&(he===null||markdownLineEnding(he))?(ee.exit("thematicBreak"),te(he)):ne(he)}function ce(he){return he===ie?(ee.consume(he),ae++,ce):(ee.exit("thematicBreakSequence"),markdownSpace(he)?factorySpace(ee,le,"whitespace")(he):le(he))}}const list$3={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(ee,te,ne){const ae=this,ie=ae.events[ae.events.length-1];let se=ie&&ie[1].type==="linePrefix"?ie[2].sliceSerialize(ie[1],!0).length:0,oe=0;return le;function le(ye){const xe=ae.containerState.type||(ye===42||ye===43||ye===45?"listUnordered":"listOrdered");if(xe==="listUnordered"?!ae.containerState.marker||ye===ae.containerState.marker:asciiDigit(ye)){if(ae.containerState.type||(ae.containerState.type=xe,ee.enter(xe,{_container:!0})),xe==="listUnordered")return ee.enter("listItemPrefix"),ye===42||ye===45?ee.check(thematicBreak$2,ne,he)(ye):he(ye);if(!ae.interrupt||ye===49)return ee.enter("listItemPrefix"),ee.enter("listItemValue"),ce(ye)}return ne(ye)}function ce(ye){return asciiDigit(ye)&&++oe<10?(ee.consume(ye),ce):(!ae.interrupt||oe<2)&&(ae.containerState.marker?ye===ae.containerState.marker:ye===41||ye===46)?(ee.exit("listItemValue"),he(ye)):ne(ye)}function he(ye){return ee.enter("listItemMarker"),ee.consume(ye),ee.exit("listItemMarker"),ae.containerState.marker=ae.containerState.marker||ye,ee.check(blankLine,ae.interrupt?ne:fe,ee.attempt(listItemPrefixWhitespaceConstruct,ge,pe))}function fe(ye){return ae.containerState.initialBlankLine=!0,se++,ge(ye)}function pe(ye){return markdownSpace(ye)?(ee.enter("listItemPrefixWhitespace"),ee.consume(ye),ee.exit("listItemPrefixWhitespace"),ge):ne(ye)}function ge(ye){return ae.containerState.size=se+ae.sliceSerialize(ee.exit("listItemPrefix"),!0).length,te(ye)}}function tokenizeListContinuation(ee,te,ne){const ae=this;return ae.containerState._closeFlow=void 0,ee.check(blankLine,ie,se);function ie(le){return ae.containerState.furtherBlankLines=ae.containerState.furtherBlankLines||ae.containerState.initialBlankLine,factorySpace(ee,te,"listItemIndent",ae.containerState.size+1)(le)}function se(le){return ae.containerState.furtherBlankLines||!markdownSpace(le)?(ae.containerState.furtherBlankLines=void 0,ae.containerState.initialBlankLine=void 0,oe(le)):(ae.containerState.furtherBlankLines=void 0,ae.containerState.initialBlankLine=void 0,ee.attempt(indentConstruct,te,oe)(le))}function oe(le){return ae.containerState._closeFlow=!0,ae.interrupt=void 0,factorySpace(ee,ee.attempt(list$3,te,ne),"linePrefix",ae.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le)}}function tokenizeIndent$1(ee,te,ne){const ae=this;return factorySpace(ee,ie,"listItemIndent",ae.containerState.size+1);function ie(se){const oe=ae.events[ae.events.length-1];return oe&&oe[1].type==="listItemIndent"&&oe[2].sliceSerialize(oe[1],!0).length===ae.containerState.size?te(se):ne(se)}}function tokenizeListEnd(ee){ee.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(ee,te,ne){const ae=this;return factorySpace(ee,ie,"listItemPrefixWhitespace",ae.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function ie(se){const oe=ae.events[ae.events.length-1];return!markdownSpace(se)&&oe&&oe[1].type==="listItemPrefixWhitespace"?te(se):ne(se)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(ee,te){let ne=ee.length,ae,ie,se;for(;ne--;)if(ee[ne][0]==="enter"){if(ee[ne][1].type==="content"){ae=ne;break}ee[ne][1].type==="paragraph"&&(ie=ne)}else ee[ne][1].type==="content"&&ee.splice(ne,1),!se&&ee[ne][1].type==="definition"&&(se=ne);const oe={type:"setextHeading",start:{...ee[ae][1].start},end:{...ee[ee.length-1][1].end}};return ee[ie][1].type="setextHeadingText",se?(ee.splice(ie,0,["enter",oe,te]),ee.splice(se+1,0,["exit",ee[ae][1],te]),ee[ae][1].end={...ee[se][1].end}):ee[ae][1]=oe,ee.push(["exit",oe,te]),ee}function tokenizeSetextUnderline(ee,te,ne){const ae=this;let ie;return se;function se(he){let fe=ae.events.length,pe;for(;fe--;)if(ae.events[fe][1].type!=="lineEnding"&&ae.events[fe][1].type!=="linePrefix"&&ae.events[fe][1].type!=="content"){pe=ae.events[fe][1].type==="paragraph";break}return!ae.parser.lazy[ae.now().line]&&(ae.interrupt||pe)?(ee.enter("setextHeadingLine"),ie=he,oe(he)):ne(he)}function oe(he){return ee.enter("setextHeadingLineSequence"),le(he)}function le(he){return he===ie?(ee.consume(he),le):(ee.exit("setextHeadingLineSequence"),markdownSpace(he)?factorySpace(ee,ce,"lineSuffix")(he):ce(he))}function ce(he){return he===null||markdownLineEnding(he)?(ee.exit("setextHeadingLine"),te(he)):ne(he)}}const flow$1={tokenize:initializeFlow};function initializeFlow(ee){const te=this,ne=ee.attempt(blankLine,ae,ee.attempt(this.parser.constructs.flowInitial,ie,factorySpace(ee,ee.attempt(this.parser.constructs.flow,ie,ee.attempt(content,ie)),"linePrefix")));return ne;function ae(se){if(se===null){ee.consume(se);return}return ee.enter("lineEndingBlank"),ee.consume(se),ee.exit("lineEndingBlank"),te.currentConstruct=void 0,ne}function ie(se){if(se===null){ee.consume(se);return}return ee.enter("lineEnding"),ee.consume(se),ee.exit("lineEnding"),te.currentConstruct=void 0,ne}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$6=initializeFactory("text");function initializeFactory(ee){return{resolveAll:createResolver(ee==="text"?resolveAllLineSuffixes:void 0),tokenize:te};function te(ne){const ae=this,ie=this.parser.constructs[ee],se=ne.attempt(ie,oe,le);return oe;function oe(fe){return he(fe)?se(fe):le(fe)}function le(fe){if(fe===null){ne.consume(fe);return}return ne.enter("data"),ne.consume(fe),ce}function ce(fe){return he(fe)?(ne.exit("data"),se(fe)):(ne.consume(fe),ce)}function he(fe){if(fe===null)return!0;const pe=ie[fe];let ge=-1;if(pe)for(;++ge<pe.length;){const ye=pe[ge];if(!ye.previous||ye.previous.call(ae,ae.previous))return!0}return!1}}}function createResolver(ee){return te;function te(ne,ae){let ie=-1,se;for(;++ie<=ne.length;)se===void 0?ne[ie]&&ne[ie][1].type==="data"&&(se=ie,ie++):(!ne[ie]||ne[ie][1].type!=="data")&&(ie!==se+2&&(ne[se][1].end=ne[ie-1][1].end,ne.splice(se+2,ie-se-2),ie=se+2),se=void 0);return ee?ee(ne,ae):ne}}function resolveAllLineSuffixes(ee,te){let ne=0;for(;++ne<=ee.length;)if((ne===ee.length||ee[ne][1].type==="lineEnding")&&ee[ne-1][1].type==="data"){const ae=ee[ne-1][1],ie=te.sliceStream(ae);let se=ie.length,oe=-1,le=0,ce;for(;se--;){const he=ie[se];if(typeof he=="string"){for(oe=he.length;he.charCodeAt(oe-1)===32;)le++,oe--;if(oe)break;oe=-1}else if(he===-2)ce=!0,le++;else if(he!==-1){se++;break}}if(te._contentTypeTextTrailing&&ne===ee.length&&(le=0),le){const he={type:ne===ee.length||ce||le<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:se?oe:ae.start._bufferIndex+oe,_index:ae.start._index+se,line:ae.end.line,column:ae.end.column-le,offset:ae.end.offset-le},end:{...ae.end}};ae.end={...he.start},ae.start.offset===ae.end.offset?Object.assign(ae,he):(ee.splice(ne,0,["enter",he,te],["exit",he,te]),ne+=2)}ne++}return ee}const document$1={42:list$3,43:list$3,45:list$3,48:list$3,49:list$3,50:list$3,51:list$3,52:list$3,53:list$3,54:list$3,55:list$3,56:list$3,57:list$3,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$5={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink$1,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$5},Symbol.toStringTag,{value:"Module"}));function createTokenizer(ee,te,ne){let ae={_bufferIndex:-1,_index:0,line:ne&&ne.line||1,column:ne&&ne.column||1,offset:ne&&ne.offset||0};const ie={},se=[];let oe=[],le=[];const ce={attempt:Me(Be),check:Me(Ae),consume:Te,enter:Ce,exit:Pe,interrupt:Me(Ae,{interrupt:!0})},he={code:null,containerState:{},defineSkip:be,events:[],now:xe,parser:ee,previous:null,sliceSerialize:ge,sliceStream:ye,write:pe};let fe=te.tokenize.call(he,ce);return te.resolveAll&&se.push(te),he;function pe(je){return oe=push(oe,je),Se(),oe[oe.length-1]!==null?[]:(Ge(te,0),he.events=resolveAll(se,he.events,he),he.events)}function ge(je,De){return serializeChunks(ye(je),De)}function ye(je){return sliceChunks(oe,je)}function xe(){const{_bufferIndex:je,_index:De,line:Ye,column:ke,offset:$e}=ae;return{_bufferIndex:je,_index:De,line:Ye,column:ke,offset:$e}}function be(je){ie[je.line]=je.column,Ve()}function Se(){let je;for(;ae._index<oe.length;){const De=oe[ae._index];if(typeof De=="string")for(je=ae._index,ae._bufferIndex<0&&(ae._bufferIndex=0);ae._index===je&&ae._bufferIndex<De.length;)ve(De.charCodeAt(ae._bufferIndex));else ve(De)}}function ve(je){fe=fe(je)}function Te(je){markdownLineEnding(je)?(ae.line++,ae.column=1,ae.offset+=je===-3?2:1,Ve()):je!==-1&&(ae.column++,ae.offset++),ae._bufferIndex<0?ae._index++:(ae._bufferIndex++,ae._bufferIndex===oe[ae._index].length&&(ae._bufferIndex=-1,ae._index++)),he.previous=je}function Ce(je,De){const Ye=De||{};return Ye.type=je,Ye.start=xe(),he.events.push(["enter",Ye,he]),le.push(Ye),Ye}function Pe(je){const De=le.pop();return De.end=xe(),he.events.push(["exit",De,he]),De}function Be(je,De){Ge(je,De.from)}function Ae(je,De){De.restore()}function Me(je,De){return Ye;function Ye(ke,$e,Oe){let He,qe,Xe,ze;return Array.isArray(ke)?Fe(ke):"tokenize"in ke?Fe([ke]):Ie(ke);function Ie(St){return Nt;function Nt(Ct){const kt=Ct!==null&&St[Ct],At=Ct!==null&&St.null,Vt=[...Array.isArray(kt)?kt:kt?[kt]:[],...Array.isArray(At)?At:At?[At]:[]];return Fe(Vt)(Ct)}}function Fe(St){return He=St,qe=0,St.length===0?Oe:Le(St[qe])}function Le(St){return Nt;function Nt(Ct){return ze=Ue(),Xe=St,St.partial||(he.currentConstruct=St),St.name&&he.parser.constructs.disable.null.includes(St.name)?Qe():St.tokenize.call(De?Object.assign(Object.create(he),De):he,ce,Ze,Qe)(Ct)}}function Ze(St){return je(Xe,ze),$e}function Qe(St){return ze.restore(),++qe<He.length?Le(He[qe]):Oe}}}function Ge(je,De){je.resolveAll&&!se.includes(je)&&se.push(je),je.resolve&&splice$1(he.events,De,he.events.length-De,je.resolve(he.events.slice(De),he)),je.resolveTo&&(he.events=je.resolveTo(he.events,he))}function Ue(){const je=xe(),De=he.previous,Ye=he.currentConstruct,ke=he.events.length,$e=Array.from(le);return{from:ke,restore:Oe};function Oe(){ae=je,he.previous=De,he.currentConstruct=Ye,he.events.length=ke,le=$e,Ve()}}function Ve(){ae.line in ie&&ae.column<2&&(ae.column=ie[ae.line],ae.offset+=ie[ae.line]-1)}}function sliceChunks(ee,te){const ne=te.start._index,ae=te.start._bufferIndex,ie=te.end._index,se=te.end._bufferIndex;let oe;if(ne===ie)oe=[ee[ne].slice(ae,se)];else{if(oe=ee.slice(ne,ie),ae>-1){const le=oe[0];typeof le=="string"?oe[0]=le.slice(ae):oe.shift()}se>0&&oe.push(ee[ie].slice(0,se))}return oe}function serializeChunks(ee,te){let ne=-1;const ae=[];let ie;for(;++ne<ee.length;){const se=ee[ne];let oe;if(typeof se=="string")oe=se;else switch(se){case-5:{oe="\r";break}case-4:{oe=`
`;break}case-3:{oe=`\r
`;break}case-2:{oe=te?" ":"	";break}case-1:{if(!te&&ie)continue;oe=" ";break}default:oe=String.fromCharCode(se)}ie=se===-2,ae.push(oe)}return ae.join("")}function parse$2(ee){const ae={constructs:combineExtensions([defaultConstructs,...(ee||{}).extensions||[]]),content:ie(content$1),defined:[],document:ie(document$2),flow:ie(flow$1),lazy:{},string:ie(string$1),text:ie(text$6)};return ae;function ie(se){return oe;function oe(le){return createTokenizer(ae,se,le)}}}function postprocess(ee){for(;!subtokenize(ee););return ee}const search$1=/[\0\t\n\r]/g;function preprocess(){let ee=1,te="",ne=!0,ae;return ie;function ie(se,oe,le){const ce=[];let he,fe,pe,ge,ye;for(se=te+(typeof se=="string"?se.toString():new TextDecoder(oe||void 0).decode(se)),pe=0,te="",ne&&(se.charCodeAt(0)===65279&&pe++,ne=void 0);pe<se.length;){if(search$1.lastIndex=pe,he=search$1.exec(se),ge=he&&he.index!==void 0?he.index:se.length,ye=se.charCodeAt(ge),!he){te=se.slice(pe);break}if(ye===10&&pe===ge&&ae)ce.push(-3),ae=void 0;else switch(ae&&(ce.push(-5),ae=void 0),pe<ge&&(ce.push(se.slice(pe,ge)),ee+=ge-pe),ye){case 0:{ce.push(65533),ee++;break}case 9:{for(fe=Math.ceil(ee/4)*4,ce.push(-2);ee++<fe;)ce.push(-1);break}case 10:{ce.push(-4),ee=1;break}default:ae=!0,ee=1}pe=ge+1}return le&&(ae&&ce.push(-5),te&&ce.push(te),ce.push(null)),ce}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(ee){return ee.replace(characterEscapeOrReference,decode)}function decode(ee,te,ne){if(te)return te;if(ne.charCodeAt(0)===35){const ie=ne.charCodeAt(1),se=ie===120||ie===88;return decodeNumericCharacterReference(ne.slice(se?2:1),se?16:10)}return decodeNamedCharacterReference(ne)||ee}const own$2={}.hasOwnProperty;function fromMarkdown(ee,te,ne){return typeof te!="string"&&(ne=te,te=void 0),compiler(ne)(postprocess(parse$2(ne).document().write(preprocess()(ee,te,!0))))}function compiler(ee){const te={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:se(ut),autolinkProtocol:Ue,autolinkEmail:Ue,atxHeading:se(_t),blockQuote:se(At),characterEscape:Ue,characterReference:Ue,codeFenced:se(Vt),codeFencedFenceInfo:oe,codeFencedFenceMeta:oe,codeIndented:se(Vt,oe),codeText:se(Kt,oe),codeTextData:Ue,data:Ue,codeFlowValue:Ue,definition:se(jt),definitionDestinationString:oe,definitionLabelString:oe,definitionTitleString:oe,emphasis:se(Ne),hardBreakEscape:se(dt),hardBreakTrailing:se(dt),htmlFlow:se(Ke,oe),htmlFlowData:Ue,htmlText:se(Ke,oe),htmlTextData:Ue,image:se(Je),label:oe,link:se(ut),listItem:se(Et),listItemValue:ge,listOrdered:se(wt,pe),listUnordered:se(wt),paragraph:se(pt),reference:Le,referenceString:oe,resourceDestinationString:oe,resourceTitleString:oe,setextHeading:se(_t),strong:se(Rt),thematicBreak:se(Bt)},exit:{atxHeading:ce(),atxHeadingSequence:Be,autolink:ce(),autolinkEmail:kt,autolinkProtocol:Ct,blockQuote:ce(),characterEscapeValue:Ve,characterReferenceMarkerHexadecimal:Qe,characterReferenceMarkerNumeric:Qe,characterReferenceValue:St,characterReference:Nt,codeFenced:ce(Se),codeFencedFence:be,codeFencedFenceInfo:ye,codeFencedFenceMeta:xe,codeFlowValue:Ve,codeIndented:ce(ve),codeText:ce($e),codeTextData:Ve,data:Ve,definition:ce(),definitionDestinationString:Pe,definitionLabelString:Te,definitionTitleString:Ce,emphasis:ce(),hardBreakEscape:ce(De),hardBreakTrailing:ce(De),htmlFlow:ce(Ye),htmlFlowData:Ve,htmlText:ce(ke),htmlTextData:Ve,image:ce(He),label:Xe,labelText:qe,lineEnding:je,link:ce(Oe),listItem:ce(),listOrdered:ce(),listUnordered:ce(),paragraph:ce(),referenceString:Ze,resourceDestinationString:ze,resourceTitleString:Ie,resource:Fe,setextHeading:ce(Ge),setextHeadingLineSequence:Me,setextHeadingText:Ae,strong:ce(),thematicBreak:ce()}};configure(te,(ee||{}).mdastExtensions||[]);const ne={};return ae;function ae(ct){let bt={type:"root",children:[]};const Mt={stack:[bt],tokenStack:[],config:te,enter:le,exit:he,buffer:oe,resume:fe,data:ne},Ut=[];let Yt=-1;for(;++Yt<ct.length;)if(ct[Yt][1].type==="listOrdered"||ct[Yt][1].type==="listUnordered")if(ct[Yt][0]==="enter")Ut.push(Yt);else{const cn=Ut.pop();Yt=ie(ct,cn,Yt)}for(Yt=-1;++Yt<ct.length;){const cn=te[ct[Yt][0]];own$2.call(cn,ct[Yt][1].type)&&cn[ct[Yt][1].type].call(Object.assign({sliceSerialize:ct[Yt][2].sliceSerialize},Mt),ct[Yt][1])}if(Mt.tokenStack.length>0){const cn=Mt.tokenStack[Mt.tokenStack.length-1];(cn[1]||defaultOnError).call(Mt,void 0,cn[0])}for(bt.position={start:point$5(ct.length>0?ct[0][1].start:{line:1,column:1,offset:0}),end:point$5(ct.length>0?ct[ct.length-2][1].end:{line:1,column:1,offset:0})},Yt=-1;++Yt<te.transforms.length;)bt=te.transforms[Yt](bt)||bt;return bt}function ie(ct,bt,Mt){let Ut=bt-1,Yt=-1,cn=!1,In,qt,on,hn;for(;++Ut<=Mt;){const Ht=ct[Ut];switch(Ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ht[0]==="enter"?Yt++:Yt--,hn=void 0;break}case"lineEndingBlank":{Ht[0]==="enter"&&(In&&!hn&&!Yt&&!on&&(on=Ut),hn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hn=void 0}if(!Yt&&Ht[0]==="enter"&&Ht[1].type==="listItemPrefix"||Yt===-1&&Ht[0]==="exit"&&(Ht[1].type==="listUnordered"||Ht[1].type==="listOrdered")){if(In){let jn=Ut;for(qt=void 0;jn--;){const Dn=ct[jn];if(Dn[1].type==="lineEnding"||Dn[1].type==="lineEndingBlank"){if(Dn[0]==="exit")continue;qt&&(ct[qt][1].type="lineEndingBlank",cn=!0),Dn[1].type="lineEnding",qt=jn}else if(!(Dn[1].type==="linePrefix"||Dn[1].type==="blockQuotePrefix"||Dn[1].type==="blockQuotePrefixWhitespace"||Dn[1].type==="blockQuoteMarker"||Dn[1].type==="listItemIndent"))break}on&&(!qt||on<qt)&&(In._spread=!0),In.end=Object.assign({},qt?ct[qt][1].start:Ht[1].end),ct.splice(qt||Ut,0,["exit",In,Ht[2]]),Ut++,Mt++}if(Ht[1].type==="listItemPrefix"){const jn={type:"listItem",_spread:!1,start:Object.assign({},Ht[1].start),end:void 0};In=jn,ct.splice(Ut,0,["enter",jn,Ht[2]]),Ut++,Mt++,on=void 0,hn=!0}}}return ct[bt][1]._spread=cn,Mt}function se(ct,bt){return Mt;function Mt(Ut){le.call(this,ct(Ut),Ut),bt&&bt.call(this,Ut)}}function oe(){this.stack.push({type:"fragment",children:[]})}function le(ct,bt,Mt){this.stack[this.stack.length-1].children.push(ct),this.stack.push(ct),this.tokenStack.push([bt,Mt||void 0]),ct.position={start:point$5(bt.start),end:void 0}}function ce(ct){return bt;function bt(Mt){ct&&ct.call(this,Mt),he.call(this,Mt)}}function he(ct,bt){const Mt=this.stack.pop(),Ut=this.tokenStack.pop();if(Ut)Ut[0].type!==ct.type&&(bt?bt.call(this,ct,Ut[0]):(Ut[1]||defaultOnError).call(this,ct,Ut[0]));else throw new Error("Cannot close `"+ct.type+"` ("+stringifyPosition({start:ct.start,end:ct.end})+"): its not open");Mt.position.end=point$5(ct.end)}function fe(){return toString$1(this.stack.pop())}function pe(){this.data.expectingFirstListItemValue=!0}function ge(ct){if(this.data.expectingFirstListItemValue){const bt=this.stack[this.stack.length-2];bt.start=Number.parseInt(this.sliceSerialize(ct),10),this.data.expectingFirstListItemValue=void 0}}function ye(){const ct=this.resume(),bt=this.stack[this.stack.length-1];bt.lang=ct}function xe(){const ct=this.resume(),bt=this.stack[this.stack.length-1];bt.meta=ct}function be(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function Se(){const ct=this.resume(),bt=this.stack[this.stack.length-1];bt.value=ct.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function ve(){const ct=this.resume(),bt=this.stack[this.stack.length-1];bt.value=ct.replace(/(\r?\n|\r)$/g,"")}function Te(ct){const bt=this.resume(),Mt=this.stack[this.stack.length-1];Mt.label=bt,Mt.identifier=normalizeIdentifier(this.sliceSerialize(ct)).toLowerCase()}function Ce(){const ct=this.resume(),bt=this.stack[this.stack.length-1];bt.title=ct}function Pe(){const ct=this.resume(),bt=this.stack[this.stack.length-1];bt.url=ct}function Be(ct){const bt=this.stack[this.stack.length-1];if(!bt.depth){const Mt=this.sliceSerialize(ct).length;bt.depth=Mt}}function Ae(){this.data.setextHeadingSlurpLineEnding=!0}function Me(ct){const bt=this.stack[this.stack.length-1];bt.depth=this.sliceSerialize(ct).codePointAt(0)===61?1:2}function Ge(){this.data.setextHeadingSlurpLineEnding=void 0}function Ue(ct){const Mt=this.stack[this.stack.length-1].children;let Ut=Mt[Mt.length-1];(!Ut||Ut.type!=="text")&&(Ut=It(),Ut.position={start:point$5(ct.start),end:void 0},Mt.push(Ut)),this.stack.push(Ut)}function Ve(ct){const bt=this.stack.pop();bt.value+=this.sliceSerialize(ct),bt.position.end=point$5(ct.end)}function je(ct){const bt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Mt=bt.children[bt.children.length-1];Mt.position.end=point$5(ct.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&te.canContainEols.includes(bt.type)&&(Ue.call(this,ct),Ve.call(this,ct))}function De(){this.data.atHardBreak=!0}function Ye(){const ct=this.resume(),bt=this.stack[this.stack.length-1];bt.value=ct}function ke(){const ct=this.resume(),bt=this.stack[this.stack.length-1];bt.value=ct}function $e(){const ct=this.resume(),bt=this.stack[this.stack.length-1];bt.value=ct}function Oe(){const ct=this.stack[this.stack.length-1];if(this.data.inReference){const bt=this.data.referenceType||"shortcut";ct.type+="Reference",ct.referenceType=bt,delete ct.url,delete ct.title}else delete ct.identifier,delete ct.label;this.data.referenceType=void 0}function He(){const ct=this.stack[this.stack.length-1];if(this.data.inReference){const bt=this.data.referenceType||"shortcut";ct.type+="Reference",ct.referenceType=bt,delete ct.url,delete ct.title}else delete ct.identifier,delete ct.label;this.data.referenceType=void 0}function qe(ct){const bt=this.sliceSerialize(ct),Mt=this.stack[this.stack.length-2];Mt.label=decodeString(bt),Mt.identifier=normalizeIdentifier(bt).toLowerCase()}function Xe(){const ct=this.stack[this.stack.length-1],bt=this.resume(),Mt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Mt.type==="link"){const Ut=ct.children;Mt.children=Ut}else Mt.alt=bt}function ze(){const ct=this.resume(),bt=this.stack[this.stack.length-1];bt.url=ct}function Ie(){const ct=this.resume(),bt=this.stack[this.stack.length-1];bt.title=ct}function Fe(){this.data.inReference=void 0}function Le(){this.data.referenceType="collapsed"}function Ze(ct){const bt=this.resume(),Mt=this.stack[this.stack.length-1];Mt.label=bt,Mt.identifier=normalizeIdentifier(this.sliceSerialize(ct)).toLowerCase(),this.data.referenceType="full"}function Qe(ct){this.data.characterReferenceType=ct.type}function St(ct){const bt=this.sliceSerialize(ct),Mt=this.data.characterReferenceType;let Ut;Mt?(Ut=decodeNumericCharacterReference(bt,Mt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ut=decodeNamedCharacterReference(bt);const Yt=this.stack[this.stack.length-1];Yt.value+=Ut}function Nt(ct){const bt=this.stack.pop();bt.position.end=point$5(ct.end)}function Ct(ct){Ve.call(this,ct);const bt=this.stack[this.stack.length-1];bt.url=this.sliceSerialize(ct)}function kt(ct){Ve.call(this,ct);const bt=this.stack[this.stack.length-1];bt.url="mailto:"+this.sliceSerialize(ct)}function At(){return{type:"blockquote",children:[]}}function Vt(){return{type:"code",lang:null,meta:null,value:""}}function Kt(){return{type:"inlineCode",value:""}}function jt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ne(){return{type:"emphasis",children:[]}}function _t(){return{type:"heading",depth:0,children:[]}}function dt(){return{type:"break"}}function Ke(){return{type:"html",value:""}}function Je(){return{type:"image",title:null,url:"",alt:null}}function ut(){return{type:"link",title:null,url:"",children:[]}}function wt(ct){return{type:"list",ordered:ct.type==="listOrdered",start:null,spread:ct._spread,children:[]}}function Et(ct){return{type:"listItem",spread:ct._spread,checked:null,children:[]}}function pt(){return{type:"paragraph",children:[]}}function Rt(){return{type:"strong",children:[]}}function It(){return{type:"text",value:""}}function Bt(){return{type:"thematicBreak"}}}function point$5(ee){return{line:ee.line,column:ee.column,offset:ee.offset}}function configure(ee,te){let ne=-1;for(;++ne<te.length;){const ae=te[ne];Array.isArray(ae)?configure(ee,ae):extension$1(ee,ae)}}function extension$1(ee,te){let ne;for(ne in te)if(own$2.call(te,ne))switch(ne){case"canContainEols":{const ae=te[ne];ae&&ee[ne].push(...ae);break}case"transforms":{const ae=te[ne];ae&&ee[ne].push(...ae);break}case"enter":case"exit":{const ae=te[ne];ae&&Object.assign(ee[ne],ae);break}}}function defaultOnError(ee,te){throw ee?new Error("Cannot close `"+ee.type+"` ("+stringifyPosition({start:ee.start,end:ee.end})+"): a different token (`"+te.type+"`, "+stringifyPosition({start:te.start,end:te.end})+") is open"):new Error("Cannot close document, a token (`"+te.type+"`, "+stringifyPosition({start:te.start,end:te.end})+") is still open")}function remarkParse(ee){const te=this;te.parser=ne;function ne(ae){return fromMarkdown(ae,{...te.data("settings"),...ee,extensions:te.data("micromarkExtensions")||[],mdastExtensions:te.data("fromMarkdownExtensions")||[]})}}function blockquote$2(ee,te){const ne={type:"element",tagName:"blockquote",properties:{},children:ee.wrap(ee.all(te),!0)};return ee.patch(te,ne),ee.applyData(te,ne)}function hardBreak$1(ee,te){const ne={type:"element",tagName:"br",properties:{},children:[]};return ee.patch(te,ne),[ee.applyData(te,ne),{type:"text",value:`
`}]}function code$2(ee,te){const ne=te.value?te.value+`
`:"",ae={},ie=te.lang?te.lang.split(/\s+/):[];ie.length>0&&(ae.className=["language-"+ie[0]]);let se={type:"element",tagName:"code",properties:ae,children:[{type:"text",value:ne}]};return te.meta&&(se.data={meta:te.meta}),ee.patch(te,se),se=ee.applyData(te,se),se={type:"element",tagName:"pre",properties:{},children:[se]},ee.patch(te,se),se}function strikethrough(ee,te){const ne={type:"element",tagName:"del",properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}function emphasis$1(ee,te){const ne={type:"element",tagName:"em",properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}function footnoteReference$1(ee,te){const ne=typeof ee.options.clobberPrefix=="string"?ee.options.clobberPrefix:"user-content-",ae=String(te.identifier).toUpperCase(),ie=normalizeUri(ae.toLowerCase()),se=ee.footnoteOrder.indexOf(ae);let oe,le=ee.footnoteCounts.get(ae);le===void 0?(le=0,ee.footnoteOrder.push(ae),oe=ee.footnoteOrder.length):oe=se+1,le+=1,ee.footnoteCounts.set(ae,le);const ce={type:"element",tagName:"a",properties:{href:"#"+ne+"fn-"+ie,id:ne+"fnref-"+ie+(le>1?"-"+le:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(oe)}]};ee.patch(te,ce);const he={type:"element",tagName:"sup",properties:{},children:[ce]};return ee.patch(te,he),ee.applyData(te,he)}function heading$2(ee,te){const ne={type:"element",tagName:"h"+te.depth,properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}function html$4(ee,te){if(ee.options.allowDangerousHtml){const ne={type:"raw",value:te.value};return ee.patch(te,ne),ee.applyData(te,ne)}}function revert(ee,te){const ne=te.referenceType;let ae="]";if(ne==="collapsed"?ae+="[]":ne==="full"&&(ae+="["+(te.label||te.identifier)+"]"),te.type==="imageReference")return[{type:"text",value:"!["+te.alt+ae}];const ie=ee.all(te),se=ie[0];se&&se.type==="text"?se.value="["+se.value:ie.unshift({type:"text",value:"["});const oe=ie[ie.length-1];return oe&&oe.type==="text"?oe.value+=ae:ie.push({type:"text",value:ae}),ie}function imageReference$1(ee,te){const ne=String(te.identifier).toUpperCase(),ae=ee.definitionById.get(ne);if(!ae)return revert(ee,te);const ie={src:normalizeUri(ae.url||""),alt:te.alt};ae.title!==null&&ae.title!==void 0&&(ie.title=ae.title);const se={type:"element",tagName:"img",properties:ie,children:[]};return ee.patch(te,se),ee.applyData(te,se)}function image$1(ee,te){const ne={src:normalizeUri(te.url)};te.alt!==null&&te.alt!==void 0&&(ne.alt=te.alt),te.title!==null&&te.title!==void 0&&(ne.title=te.title);const ae={type:"element",tagName:"img",properties:ne,children:[]};return ee.patch(te,ae),ee.applyData(te,ae)}function inlineCode$2(ee,te){const ne={type:"text",value:te.value.replace(/\r?\n|\r/g," ")};ee.patch(te,ne);const ae={type:"element",tagName:"code",properties:{},children:[ne]};return ee.patch(te,ae),ee.applyData(te,ae)}function linkReference$1(ee,te){const ne=String(te.identifier).toUpperCase(),ae=ee.definitionById.get(ne);if(!ae)return revert(ee,te);const ie={href:normalizeUri(ae.url||"")};ae.title!==null&&ae.title!==void 0&&(ie.title=ae.title);const se={type:"element",tagName:"a",properties:ie,children:ee.all(te)};return ee.patch(te,se),ee.applyData(te,se)}function link$2(ee,te){const ne={href:normalizeUri(te.url)};te.title!==null&&te.title!==void 0&&(ne.title=te.title);const ae={type:"element",tagName:"a",properties:ne,children:ee.all(te)};return ee.patch(te,ae),ee.applyData(te,ae)}function listItem$1(ee,te,ne){const ae=ee.all(te),ie=ne?listLoose(ne):listItemLoose(te),se={},oe=[];if(typeof te.checked=="boolean"){const fe=ae[0];let pe;fe&&fe.type==="element"&&fe.tagName==="p"?pe=fe:(pe={type:"element",tagName:"p",properties:{},children:[]},ae.unshift(pe)),pe.children.length>0&&pe.children.unshift({type:"text",value:" "}),pe.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:te.checked,disabled:!0},children:[]}),se.className=["task-list-item"]}let le=-1;for(;++le<ae.length;){const fe=ae[le];(ie||le!==0||fe.type!=="element"||fe.tagName!=="p")&&oe.push({type:"text",value:`
`}),fe.type==="element"&&fe.tagName==="p"&&!ie?oe.push(...fe.children):oe.push(fe)}const ce=ae[ae.length-1];ce&&(ie||ce.type!=="element"||ce.tagName!=="p")&&oe.push({type:"text",value:`
`});const he={type:"element",tagName:"li",properties:se,children:oe};return ee.patch(te,he),ee.applyData(te,he)}function listLoose(ee){let te=!1;if(ee.type==="list"){te=ee.spread||!1;const ne=ee.children;let ae=-1;for(;!te&&++ae<ne.length;)te=listItemLoose(ne[ae])}return te}function listItemLoose(ee){const te=ee.spread;return te??ee.children.length>1}function list$2(ee,te){const ne={},ae=ee.all(te);let ie=-1;for(typeof te.start=="number"&&te.start!==1&&(ne.start=te.start);++ie<ae.length;){const oe=ae[ie];if(oe.type==="element"&&oe.tagName==="li"&&oe.properties&&Array.isArray(oe.properties.className)&&oe.properties.className.includes("task-list-item")){ne.className=["contains-task-list"];break}}const se={type:"element",tagName:te.ordered?"ol":"ul",properties:ne,children:ee.wrap(ae,!0)};return ee.patch(te,se),ee.applyData(te,se)}function paragraph$2(ee,te){const ne={type:"element",tagName:"p",properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}function root$4(ee,te){const ne={type:"root",children:ee.wrap(ee.all(te))};return ee.patch(te,ne),ee.applyData(te,ne)}function strong$1(ee,te){const ne={type:"element",tagName:"strong",properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}function table(ee,te){const ne=ee.all(te),ae=ne.shift(),ie=[];if(ae){const oe={type:"element",tagName:"thead",properties:{},children:ee.wrap([ae],!0)};ee.patch(te.children[0],oe),ie.push(oe)}if(ne.length>0){const oe={type:"element",tagName:"tbody",properties:{},children:ee.wrap(ne,!0)},le=pointStart(te.children[1]),ce=pointEnd(te.children[te.children.length-1]);le&&ce&&(oe.position={start:le,end:ce}),ie.push(oe)}const se={type:"element",tagName:"table",properties:{},children:ee.wrap(ie,!0)};return ee.patch(te,se),ee.applyData(te,se)}function tableRow(ee,te,ne){const ae=ne?ne.children:void 0,se=(ae?ae.indexOf(te):1)===0?"th":"td",oe=ne&&ne.type==="table"?ne.align:void 0,le=oe?oe.length:te.children.length;let ce=-1;const he=[];for(;++ce<le;){const pe=te.children[ce],ge={},ye=oe?oe[ce]:void 0;ye&&(ge.align=ye);let xe={type:"element",tagName:se,properties:ge,children:[]};pe&&(xe.children=ee.all(pe),ee.patch(pe,xe),xe=ee.applyData(pe,xe)),he.push(xe)}const fe={type:"element",tagName:"tr",properties:{},children:ee.wrap(he,!0)};return ee.patch(te,fe),ee.applyData(te,fe)}function tableCell(ee,te){const ne={type:"element",tagName:"td",properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}const tab=9,space=32;function trimLines(ee){const te=String(ee),ne=/\r?\n|\r/g;let ae=ne.exec(te),ie=0;const se=[];for(;ae;)se.push(trimLine(te.slice(ie,ae.index),ie>0,!0),ae[0]),ie=ae.index+ae[0].length,ae=ne.exec(te);return se.push(trimLine(te.slice(ie),ie>0,!1)),se.join("")}function trimLine(ee,te,ne){let ae=0,ie=ee.length;if(te){let se=ee.codePointAt(ae);for(;se===tab||se===space;)ae++,se=ee.codePointAt(ae)}if(ne){let se=ee.codePointAt(ie-1);for(;se===tab||se===space;)ie--,se=ee.codePointAt(ie-1)}return ie>ae?ee.slice(ae,ie):""}function text$4(ee,te){const ne={type:"text",value:trimLines(String(te.value))};return ee.patch(te,ne),ee.applyData(te,ne)}function thematicBreak$1(ee,te){const ne={type:"element",tagName:"hr",properties:{},children:[]};return ee.patch(te,ne),ee.applyData(te,ne)}const handlers={blockquote:blockquote$2,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$2,html:html$4,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$2,linkReference:linkReference$1,link:link$2,listItem:listItem$1,list:list$2,paragraph:paragraph$2,root:root$4,strong:strong$1,table,tableCell,tableRow,text:text$4,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(ee,te)=>{const ne=(ie,se)=>(ee.set(se,ie),ie),ae=ie=>{if(ee.has(ie))return ee.get(ie);const[se,oe]=te[ie];switch(se){case PRIMITIVE:case VOID:return ne(oe,ie);case ARRAY:{const le=ne([],ie);for(const ce of oe)le.push(ae(ce));return le}case OBJECT:{const le=ne({},ie);for(const[ce,he]of oe)le[ae(ce)]=ae(he);return le}case DATE:return ne(new Date(oe),ie);case REGEXP:{const{source:le,flags:ce}=oe;return ne(new RegExp(le,ce),ie)}case MAP:{const le=ne(new Map,ie);for(const[ce,he]of oe)le.set(ae(ce),ae(he));return le}case SET:{const le=ne(new Set,ie);for(const ce of oe)le.add(ae(ce));return le}case ERROR:{const{name:le,message:ce}=oe;return ne(new env[le](ce),ie)}case BIGINT:return ne(BigInt(oe),ie);case"BigInt":return ne(Object(BigInt(oe)),ie);case"ArrayBuffer":return ne(new Uint8Array(oe).buffer,oe);case"DataView":{const{buffer:le}=new Uint8Array(oe);return ne(new DataView(le),oe)}}return ne(new env[se](oe),ie)};return ae},deserialize=ee=>deserializer(new Map,ee)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=ee=>{const te=typeof ee;if(te!=="object"||!ee)return[PRIMITIVE,te];const ne=toString.call(ee).slice(8,-1);switch(ne){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,ne]}return ne.includes("Array")?[ARRAY,ne]:ne.includes("Error")?[ERROR,ne]:[OBJECT,ne]},shouldSkip=([ee,te])=>ee===PRIMITIVE&&(te==="function"||te==="symbol"),serializer=(ee,te,ne,ae)=>{const ie=(oe,le)=>{const ce=ae.push(oe)-1;return ne.set(le,ce),ce},se=oe=>{if(ne.has(oe))return ne.get(oe);let[le,ce]=typeOf(oe);switch(le){case PRIMITIVE:{let fe=oe;switch(ce){case"bigint":le=BIGINT,fe=oe.toString();break;case"function":case"symbol":if(ee)throw new TypeError("unable to serialize "+ce);fe=null;break;case"undefined":return ie([VOID],oe)}return ie([le,fe],oe)}case ARRAY:{if(ce){let ge=oe;return ce==="DataView"?ge=new Uint8Array(oe.buffer):ce==="ArrayBuffer"&&(ge=new Uint8Array(oe)),ie([ce,[...ge]],oe)}const fe=[],pe=ie([le,fe],oe);for(const ge of oe)fe.push(se(ge));return pe}case OBJECT:{if(ce)switch(ce){case"BigInt":return ie([ce,oe.toString()],oe);case"Boolean":case"Number":case"String":return ie([ce,oe.valueOf()],oe)}if(te&&"toJSON"in oe)return se(oe.toJSON());const fe=[],pe=ie([le,fe],oe);for(const ge of keys(oe))(ee||!shouldSkip(typeOf(oe[ge])))&&fe.push([se(ge),se(oe[ge])]);return pe}case DATE:return ie([le,oe.toISOString()],oe);case REGEXP:{const{source:fe,flags:pe}=oe;return ie([le,{source:fe,flags:pe}],oe)}case MAP:{const fe=[],pe=ie([le,fe],oe);for(const[ge,ye]of oe)(ee||!(shouldSkip(typeOf(ge))||shouldSkip(typeOf(ye))))&&fe.push([se(ge),se(ye)]);return pe}case SET:{const fe=[],pe=ie([le,fe],oe);for(const ge of oe)(ee||!shouldSkip(typeOf(ge)))&&fe.push(se(ge));return pe}}const{message:he}=oe;return ie([le,{name:ce,message:he}],oe)};return se},serialize$2=(ee,{json:te,lossy:ne}={})=>{const ae=[];return serializer(!(te||ne),!!te,new Map,ae)(ee),ae},structuredClone$1=typeof structuredClone=="function"?(ee,te)=>te&&("json"in te||"lossy"in te)?deserialize(serialize$2(ee,te)):structuredClone(ee):(ee,te)=>deserialize(serialize$2(ee,te));function defaultFootnoteBackContent(ee,te){const ne=[{type:"text",value:""}];return te>1&&ne.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(te)}]}),ne}function defaultFootnoteBackLabel(ee,te){return"Back to reference "+(ee+1)+(te>1?"-"+te:"")}function footer(ee){const te=typeof ee.options.clobberPrefix=="string"?ee.options.clobberPrefix:"user-content-",ne=ee.options.footnoteBackContent||defaultFootnoteBackContent,ae=ee.options.footnoteBackLabel||defaultFootnoteBackLabel,ie=ee.options.footnoteLabel||"Footnotes",se=ee.options.footnoteLabelTagName||"h2",oe=ee.options.footnoteLabelProperties||{className:["sr-only"]},le=[];let ce=-1;for(;++ce<ee.footnoteOrder.length;){const he=ee.footnoteById.get(ee.footnoteOrder[ce]);if(!he)continue;const fe=ee.all(he),pe=String(he.identifier).toUpperCase(),ge=normalizeUri(pe.toLowerCase());let ye=0;const xe=[],be=ee.footnoteCounts.get(pe);for(;be!==void 0&&++ye<=be;){xe.length>0&&xe.push({type:"text",value:" "});let Te=typeof ne=="string"?ne:ne(ce,ye);typeof Te=="string"&&(Te={type:"text",value:Te}),xe.push({type:"element",tagName:"a",properties:{href:"#"+te+"fnref-"+ge+(ye>1?"-"+ye:""),dataFootnoteBackref:"",ariaLabel:typeof ae=="string"?ae:ae(ce,ye),className:["data-footnote-backref"]},children:Array.isArray(Te)?Te:[Te]})}const Se=fe[fe.length-1];if(Se&&Se.type==="element"&&Se.tagName==="p"){const Te=Se.children[Se.children.length-1];Te&&Te.type==="text"?Te.value+=" ":Se.children.push({type:"text",value:" "}),Se.children.push(...xe)}else fe.push(...xe);const ve={type:"element",tagName:"li",properties:{id:te+"fn-"+ge},children:ee.wrap(fe,!0)};ee.patch(he,ve),le.push(ve)}if(le.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:se,properties:{...structuredClone$1(oe),id:"footnote-label"},children:[{type:"text",value:ie}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:ee.wrap(le,!0)},{type:"text",value:`
`}]}}const convert=(function(ee){if(ee==null)return ok;if(typeof ee=="function")return castFactory(ee);if(typeof ee=="object")return Array.isArray(ee)?anyFactory(ee):propertiesFactory(ee);if(typeof ee=="string")return typeFactory(ee);throw new Error("Expected function, string, or object as test")});function anyFactory(ee){const te=[];let ne=-1;for(;++ne<ee.length;)te[ne]=convert(ee[ne]);return castFactory(ae);function ae(...ie){let se=-1;for(;++se<te.length;)if(te[se].apply(this,ie))return!0;return!1}}function propertiesFactory(ee){const te=ee;return castFactory(ne);function ne(ae){const ie=ae;let se;for(se in ee)if(ie[se]!==te[se])return!1;return!0}}function typeFactory(ee){return castFactory(te);function te(ne){return ne&&ne.type===ee}}function castFactory(ee){return te;function te(ne,ae,ie){return!!(looksLikeANode(ne)&&ee.call(this,ne,typeof ae=="number"?ae:void 0,ie||void 0))}}function ok(){return!0}function looksLikeANode(ee){return ee!==null&&typeof ee=="object"&&"type"in ee}function color$1(ee){return ee}const empty$1=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(ee,te,ne,ae){let ie;typeof te=="function"&&typeof ne!="function"?(ae=ne,ne=te):ie=te;const se=convert(ie),oe=ae?-1:1;le(ee,void 0,[])();function le(ce,he,fe){const pe=ce&&typeof ce=="object"?ce:{};if(typeof pe.type=="string"){const ye=typeof pe.tagName=="string"?pe.tagName:typeof pe.name=="string"?pe.name:void 0;Object.defineProperty(ge,"name",{value:"node ("+(ce.type+(ye?"<"+ye+">":""))+")"})}return ge;function ge(){let ye=empty$1,xe,be,Se;if((!te||se(ce,he,fe[fe.length-1]||void 0))&&(ye=toResult(ne(ce,fe)),ye[0]===EXIT))return ye;if("children"in ce&&ce.children){const ve=ce;if(ve.children&&ye[0]!==SKIP)for(be=(ae?ve.children.length:-1)+oe,Se=fe.concat(ve);be>-1&&be<ve.children.length;){const Te=ve.children[be];if(xe=le(Te,be,Se)(),xe[0]===EXIT)return xe;be=typeof xe[1]=="number"?xe[1]:be+oe}}return ye}}}function toResult(ee){return Array.isArray(ee)?ee:typeof ee=="number"?[CONTINUE,ee]:ee==null?empty$1:[ee]}function visit(ee,te,ne,ae){let ie,se,oe;typeof te=="function"&&typeof ne!="function"?(se=void 0,oe=te,ie=ne):(se=te,oe=ne,ie=ae),visitParents(ee,se,le,ie);function le(ce,he){const fe=he[he.length-1],pe=fe?fe.children.indexOf(ce):void 0;return oe(ce,pe,fe)}}const own$1={}.hasOwnProperty,emptyOptions$1={};function createState(ee,te){const ne=te||emptyOptions$1,ae=new Map,ie=new Map,se=new Map,oe={...handlers,...ne.handlers},le={all:he,applyData,definitionById:ae,footnoteById:ie,footnoteCounts:se,footnoteOrder:[],handlers:oe,one:ce,options:ne,patch,wrap:wrap$1};return visit(ee,function(fe){if(fe.type==="definition"||fe.type==="footnoteDefinition"){const pe=fe.type==="definition"?ae:ie,ge=String(fe.identifier).toUpperCase();pe.has(ge)||pe.set(ge,fe)}}),le;function ce(fe,pe){const ge=fe.type,ye=le.handlers[ge];if(own$1.call(le.handlers,ge)&&ye)return ye(le,fe,pe);if(le.options.passThrough&&le.options.passThrough.includes(ge)){if("children"in fe){const{children:be,...Se}=fe,ve=structuredClone$1(Se);return ve.children=le.all(fe),ve}return structuredClone$1(fe)}return(le.options.unknownHandler||defaultUnknownHandler)(le,fe,pe)}function he(fe){const pe=[];if("children"in fe){const ge=fe.children;let ye=-1;for(;++ye<ge.length;){const xe=le.one(ge[ye],fe);if(xe){if(ye&&ge[ye-1].type==="break"&&(!Array.isArray(xe)&&xe.type==="text"&&(xe.value=trimMarkdownSpaceStart(xe.value)),!Array.isArray(xe)&&xe.type==="element")){const be=xe.children[0];be&&be.type==="text"&&(be.value=trimMarkdownSpaceStart(be.value))}Array.isArray(xe)?pe.push(...xe):pe.push(xe)}}}return pe}}function patch(ee,te){ee.position&&(te.position=position$2(ee))}function applyData(ee,te){let ne=te;if(ee&&ee.data){const ae=ee.data.hName,ie=ee.data.hChildren,se=ee.data.hProperties;if(typeof ae=="string")if(ne.type==="element")ne.tagName=ae;else{const oe="children"in ne?ne.children:[ne];ne={type:"element",tagName:ae,properties:{},children:oe}}ne.type==="element"&&se&&Object.assign(ne.properties,structuredClone$1(se)),"children"in ne&&ne.children&&ie!==null&&ie!==void 0&&(ne.children=ie)}return ne}function defaultUnknownHandler(ee,te){const ne=te.data||{},ae="value"in te&&!(own$1.call(ne,"hProperties")||own$1.call(ne,"hChildren"))?{type:"text",value:te.value}:{type:"element",tagName:"div",properties:{},children:ee.all(te)};return ee.patch(te,ae),ee.applyData(te,ae)}function wrap$1(ee,te){const ne=[];let ae=-1;for(te&&ne.push({type:"text",value:`
`});++ae<ee.length;)ae&&ne.push({type:"text",value:`
`}),ne.push(ee[ae]);return te&&ee.length>0&&ne.push({type:"text",value:`
`}),ne}function trimMarkdownSpaceStart(ee){let te=0,ne=ee.charCodeAt(te);for(;ne===9||ne===32;)te++,ne=ee.charCodeAt(te);return ee.slice(te)}function toHast(ee,te){const ne=createState(ee,te),ae=ne.one(ee,void 0),ie=footer(ne),se=Array.isArray(ae)?{type:"root",children:ae}:ae||{type:"root",children:[]};return ie&&se.children.push({type:"text",value:`
`},ie),se}function remarkRehype(ee,te){return ee&&"run"in ee?async function(ne,ae){const ie=toHast(ne,{file:ae,...te});await ee.run(ie,ae)}:function(ne,ae){return toHast(ne,{file:ae,...ee||te})}}function bail(ee){if(ee)throw ee}var extend$3,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$3;hasRequiredExtend=1;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.toString,ne=Object.defineProperty,ae=Object.getOwnPropertyDescriptor,ie=function(he){return typeof Array.isArray=="function"?Array.isArray(he):te.call(he)==="[object Array]"},se=function(he){if(!he||te.call(he)!=="[object Object]")return!1;var fe=ee.call(he,"constructor"),pe=he.constructor&&he.constructor.prototype&&ee.call(he.constructor.prototype,"isPrototypeOf");if(he.constructor&&!fe&&!pe)return!1;var ge;for(ge in he);return typeof ge>"u"||ee.call(he,ge)},oe=function(he,fe){ne&&fe.name==="__proto__"?ne(he,fe.name,{enumerable:!0,configurable:!0,value:fe.newValue,writable:!0}):he[fe.name]=fe.newValue},le=function(he,fe){if(fe==="__proto__")if(ee.call(he,fe)){if(ae)return ae(he,fe).value}else return;return he[fe]};return extend$3=function ce(){var he,fe,pe,ge,ye,xe,be=arguments[0],Se=1,ve=arguments.length,Te=!1;for(typeof be=="boolean"&&(Te=be,be=arguments[1]||{},Se=2),(be==null||typeof be!="object"&&typeof be!="function")&&(be={});Se<ve;++Se)if(he=arguments[Se],he!=null)for(fe in he)pe=le(be,fe),ge=le(he,fe),be!==ge&&(Te&&ge&&(se(ge)||(ye=ie(ge)))?(ye?(ye=!1,xe=pe&&ie(pe)?pe:[]):xe=pe&&se(pe)?pe:{},oe(be,{name:fe,newValue:ce(Te,xe,ge)})):typeof ge<"u"&&oe(be,{name:fe,newValue:ge}));return be},extend$3}var extendExports=requireExtend();const extend$2=getDefaultExportFromCjs(extendExports);function isPlainObject$1(ee){if(typeof ee!="object"||ee===null)return!1;const te=Object.getPrototypeOf(ee);return(te===null||te===Object.prototype||Object.getPrototypeOf(te)===null)&&!(Symbol.toStringTag in ee)&&!(Symbol.iterator in ee)}function trough(){const ee=[],te={run:ne,use:ae};return te;function ne(...ie){let se=-1;const oe=ie.pop();if(typeof oe!="function")throw new TypeError("Expected function as last argument, not "+oe);le(null,...ie);function le(ce,...he){const fe=ee[++se];let pe=-1;if(ce){oe(ce);return}for(;++pe<ie.length;)(he[pe]===null||he[pe]===void 0)&&(he[pe]=ie[pe]);ie=he,fe?wrap(fe,le)(...he):oe(null,...he)}}function ae(ie){if(typeof ie!="function")throw new TypeError("Expected `middelware` to be a function, not "+ie);return ee.push(ie),te}}function wrap(ee,te){let ne;return ae;function ae(...oe){const le=ee.length>oe.length;let ce;le&&oe.push(ie);try{ce=ee.apply(this,oe)}catch(he){const fe=he;if(le&&ne)throw fe;return ie(fe)}le||(ce&&ce.then&&typeof ce.then=="function"?ce.then(se,ie):ce instanceof Error?ie(ce):se(ce))}function ie(oe,...le){ne||(ne=!0,te(oe,...le))}function se(oe){ie(null,oe)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(ee,te){if(te!==void 0&&typeof te!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(ee);let ne=0,ae=-1,ie=ee.length,se;if(te===void 0||te.length===0||te.length>ee.length){for(;ie--;)if(ee.codePointAt(ie)===47){if(se){ne=ie+1;break}}else ae<0&&(se=!0,ae=ie+1);return ae<0?"":ee.slice(ne,ae)}if(te===ee)return"";let oe=-1,le=te.length-1;for(;ie--;)if(ee.codePointAt(ie)===47){if(se){ne=ie+1;break}}else oe<0&&(se=!0,oe=ie+1),le>-1&&(ee.codePointAt(ie)===te.codePointAt(le--)?le<0&&(ae=ie):(le=-1,ae=oe));return ne===ae?ae=oe:ae<0&&(ae=ee.length),ee.slice(ne,ae)}function dirname(ee){if(assertPath$1(ee),ee.length===0)return".";let te=-1,ne=ee.length,ae;for(;--ne;)if(ee.codePointAt(ne)===47){if(ae){te=ne;break}}else ae||(ae=!0);return te<0?ee.codePointAt(0)===47?"/":".":te===1&&ee.codePointAt(0)===47?"//":ee.slice(0,te)}function extname(ee){assertPath$1(ee);let te=ee.length,ne=-1,ae=0,ie=-1,se=0,oe;for(;te--;){const le=ee.codePointAt(te);if(le===47){if(oe){ae=te+1;break}continue}ne<0&&(oe=!0,ne=te+1),le===46?ie<0?ie=te:se!==1&&(se=1):ie>-1&&(se=-1)}return ie<0||ne<0||se===0||se===1&&ie===ne-1&&ie===ae+1?"":ee.slice(ie,ne)}function join(...ee){let te=-1,ne;for(;++te<ee.length;)assertPath$1(ee[te]),ee[te]&&(ne=ne===void 0?ee[te]:ne+"/"+ee[te]);return ne===void 0?".":normalize(ne)}function normalize(ee){assertPath$1(ee);const te=ee.codePointAt(0)===47;let ne=normalizeString(ee,!te);return ne.length===0&&!te&&(ne="."),ne.length>0&&ee.codePointAt(ee.length-1)===47&&(ne+="/"),te?"/"+ne:ne}function normalizeString(ee,te){let ne="",ae=0,ie=-1,se=0,oe=-1,le,ce;for(;++oe<=ee.length;){if(oe<ee.length)le=ee.codePointAt(oe);else{if(le===47)break;le=47}if(le===47){if(!(ie===oe-1||se===1))if(ie!==oe-1&&se===2){if(ne.length<2||ae!==2||ne.codePointAt(ne.length-1)!==46||ne.codePointAt(ne.length-2)!==46){if(ne.length>2){if(ce=ne.lastIndexOf("/"),ce!==ne.length-1){ce<0?(ne="",ae=0):(ne=ne.slice(0,ce),ae=ne.length-1-ne.lastIndexOf("/")),ie=oe,se=0;continue}}else if(ne.length>0){ne="",ae=0,ie=oe,se=0;continue}}te&&(ne=ne.length>0?ne+"/..":"..",ae=2)}else ne.length>0?ne+="/"+ee.slice(ie+1,oe):ne=ee.slice(ie+1,oe),ae=oe-ie-1;ie=oe,se=0}else le===46&&se>-1?se++:se=-1}return ne}function assertPath$1(ee){if(typeof ee!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(ee))}const minproc={cwd};function cwd(){return"/"}function isUrl(ee){return!!(ee!==null&&typeof ee=="object"&&"href"in ee&&ee.href&&"protocol"in ee&&ee.protocol&&ee.auth===void 0)}function urlToPath(ee){if(typeof ee=="string")ee=new URL(ee);else if(!isUrl(ee)){const te=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+ee+"`");throw te.code="ERR_INVALID_ARG_TYPE",te}if(ee.protocol!=="file:"){const te=new TypeError("The URL must be of scheme file");throw te.code="ERR_INVALID_URL_SCHEME",te}return getPathFromURLPosix(ee)}function getPathFromURLPosix(ee){if(ee.hostname!==""){const ae=new TypeError('File URL host must be "localhost" or empty on darwin');throw ae.code="ERR_INVALID_FILE_URL_HOST",ae}const te=ee.pathname;let ne=-1;for(;++ne<te.length;)if(te.codePointAt(ne)===37&&te.codePointAt(ne+1)===50){const ae=te.codePointAt(ne+2);if(ae===70||ae===102){const ie=new TypeError("File URL path must not include encoded / characters");throw ie.code="ERR_INVALID_FILE_URL_PATH",ie}}return decodeURIComponent(te)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(te){let ne;te?isUrl(te)?ne={path:te}:typeof te=="string"||isUint8Array$1(te)?ne={value:te}:ne=te:ne={},this.cwd="cwd"in ne?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let ae=-1;for(;++ae<order.length;){const se=order[ae];se in ne&&ne[se]!==void 0&&ne[se]!==null&&(this[se]=se==="history"?[...ne[se]]:ne[se])}let ie;for(ie in ne)order.includes(ie)||(this[ie]=ne[ie])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(te){assertNonEmpty(te,"basename"),assertPart(te,"basename"),this.path=minpath.join(this.dirname||"",te)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(te){assertPath(this.basename,"dirname"),this.path=minpath.join(te||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(te){if(assertPart(te,"extname"),assertPath(this.dirname,"extname"),te){if(te.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(te.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(te||""))}get path(){return this.history[this.history.length-1]}set path(te){isUrl(te)&&(te=urlToPath(te)),assertNonEmpty(te,"path"),this.path!==te&&this.history.push(te)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(te){assertNonEmpty(te,"stem"),assertPart(te,"stem"),this.path=minpath.join(this.dirname||"",te+(this.extname||""))}fail(te,ne,ae){const ie=this.message(te,ne,ae);throw ie.fatal=!0,ie}info(te,ne,ae){const ie=this.message(te,ne,ae);return ie.fatal=void 0,ie}message(te,ne,ae){const ie=new VFileMessage(te,ne,ae);return this.path&&(ie.name=this.path+":"+ie.name,ie.file=this.path),ie.fatal=!1,this.messages.push(ie),ie}toString(te){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(te||void 0).decode(this.value)}}function assertPart(ee,te){if(ee&&ee.includes(minpath.sep))throw new Error("`"+te+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(ee,te){if(!ee)throw new Error("`"+te+"` cannot be empty")}function assertPath(ee,te){if(!ee)throw new Error("Setting `"+te+"` requires `path` to be set too")}function isUint8Array$1(ee){return!!(ee&&typeof ee=="object"&&"byteLength"in ee&&"byteOffset"in ee)}const CallableInstance=(function(ee){const ae=this.constructor.prototype,ie=ae[ee],se=function(){return ie.apply(se,arguments)};return Object.setPrototypeOf(se,ae),se}),own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const te=new Processor;let ne=-1;for(;++ne<this.attachers.length;){const ae=this.attachers[ne];te.use(...ae)}return te.data(extend$2(!0,{},this.namespace)),te}data(te,ne){return typeof te=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[te]=ne,this):own.call(this.namespace,te)&&this.namespace[te]||void 0:te?(assertUnfrozen("data",this.frozen),this.namespace=te,this):this.namespace}freeze(){if(this.frozen)return this;const te=this;for(;++this.freezeIndex<this.attachers.length;){const[ne,...ae]=this.attachers[this.freezeIndex];if(ae[0]===!1)continue;ae[0]===!0&&(ae[0]=void 0);const ie=ne.call(te,...ae);typeof ie=="function"&&this.transformers.use(ie)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(te){this.freeze();const ne=vfile(te),ae=this.parser||this.Parser;return assertParser("parse",ae),ae(String(ne),ne)}process(te,ne){const ae=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),ne?ie(void 0,ne):new Promise(ie);function ie(se,oe){const le=vfile(te),ce=ae.parse(le);ae.run(ce,le,function(fe,pe,ge){if(fe||!pe||!ge)return he(fe);const ye=pe,xe=ae.stringify(ye,ge);looksLikeAValue(xe)?ge.value=xe:ge.result=xe,he(fe,ge)});function he(fe,pe){fe||!pe?oe(fe):se?se(pe):ne(void 0,pe)}}}processSync(te){let ne=!1,ae;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(te,ie),assertDone("processSync","process",ne),ae;function ie(se,oe){ne=!0,bail(se),ae=oe}}run(te,ne,ae){assertNode(te),this.freeze();const ie=this.transformers;return!ae&&typeof ne=="function"&&(ae=ne,ne=void 0),ae?se(void 0,ae):new Promise(se);function se(oe,le){const ce=vfile(ne);ie.run(te,ce,he);function he(fe,pe,ge){const ye=pe||te;fe?le(fe):oe?oe(ye):ae(void 0,ye,ge)}}}runSync(te,ne){let ae=!1,ie;return this.run(te,ne,se),assertDone("runSync","run",ae),ie;function se(oe,le){bail(oe),ie=le,ae=!0}}stringify(te,ne){this.freeze();const ae=vfile(ne),ie=this.compiler||this.Compiler;return assertCompiler("stringify",ie),assertNode(te),ie(te,ae)}use(te,...ne){const ae=this.attachers,ie=this.namespace;if(assertUnfrozen("use",this.frozen),te!=null)if(typeof te=="function")ce(te,ne);else if(typeof te=="object")Array.isArray(te)?le(te):oe(te);else throw new TypeError("Expected usable value, not `"+te+"`");return this;function se(he){if(typeof he=="function")ce(he,[]);else if(typeof he=="object")if(Array.isArray(he)){const[fe,...pe]=he;ce(fe,pe)}else oe(he);else throw new TypeError("Expected usable value, not `"+he+"`")}function oe(he){if(!("plugins"in he)&&!("settings"in he))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");le(he.plugins),he.settings&&(ie.settings=extend$2(!0,ie.settings,he.settings))}function le(he){let fe=-1;if(he!=null)if(Array.isArray(he))for(;++fe<he.length;){const pe=he[fe];se(pe)}else throw new TypeError("Expected a list of plugins, not `"+he+"`")}function ce(he,fe){let pe=-1,ge=-1;for(;++pe<ae.length;)if(ae[pe][0]===he){ge=pe;break}if(ge===-1)ae.push([he,...fe]);else if(fe.length>0){let[ye,...xe]=fe;const be=ae[ge][1];isPlainObject$1(be)&&isPlainObject$1(ye)&&(ye=extend$2(!0,be,ye)),ae[ge]=[he,ye,...xe]}}}}const unified=new Processor().freeze();function assertParser(ee,te){if(typeof te!="function")throw new TypeError("Cannot `"+ee+"` without `parser`")}function assertCompiler(ee,te){if(typeof te!="function")throw new TypeError("Cannot `"+ee+"` without `compiler`")}function assertUnfrozen(ee,te){if(te)throw new Error("Cannot call `"+ee+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(ee){if(!isPlainObject$1(ee)||typeof ee.type!="string")throw new TypeError("Expected node, got `"+ee+"`")}function assertDone(ee,te,ne){if(!ne)throw new Error("`"+ee+"` finished async. Use `"+te+"` instead")}function vfile(ee){return looksLikeAVFile(ee)?ee:new VFile(ee)}function looksLikeAVFile(ee){return!!(ee&&typeof ee=="object"&&"message"in ee&&"messages"in ee)}function looksLikeAValue(ee){return typeof ee=="string"||isUint8Array(ee)}function isUint8Array(ee){return!!(ee&&typeof ee=="object"&&"byteLength"in ee&&"byteOffset"in ee)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(ee){const te=createProcessor(ee),ne=createFile(ee);return post(te.runSync(te.parse(ne),ne),ee)}function createProcessor(ee){const te=ee.rehypePlugins||emptyPlugins,ne=ee.remarkPlugins||emptyPlugins,ae=ee.remarkRehypeOptions?{...ee.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(ne).use(remarkRehype,ae).use(te)}function createFile(ee){const te=ee.children||"",ne=new VFile;return typeof te=="string"&&(ne.value=te),ne}function post(ee,te){const ne=te.allowedElements,ae=te.allowElement,ie=te.components,se=te.disallowedElements,oe=te.skipHtml,le=te.unwrapDisallowed,ce=te.urlTransform||defaultUrlTransform;for(const fe of deprecations)Object.hasOwn(te,fe.from)&&(""+fe.from+(fe.to?"use `"+fe.to+"` instead":"remove it")+changelog+fe.id,void 0);return visit(ee,he),toJsxRuntime(ee,{Fragment:jsxRuntimeExports.Fragment,components:ie,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function he(fe,pe,ge){if(fe.type==="raw"&&ge&&typeof pe=="number")return oe?ge.children.splice(pe,1):ge.children[pe]={type:"text",value:fe.value},pe;if(fe.type==="element"){let ye;for(ye in urlAttributes)if(Object.hasOwn(urlAttributes,ye)&&Object.hasOwn(fe.properties,ye)){const xe=fe.properties[ye],be=urlAttributes[ye];(be===null||be.includes(fe.tagName))&&(fe.properties[ye]=ce(String(xe||""),ye,fe))}}if(fe.type==="element"){let ye=ne?!ne.includes(fe.tagName):se?se.includes(fe.tagName):!1;if(!ye&&ae&&typeof pe=="number"&&(ye=!ae(fe,pe,ge)),ye&&ge&&typeof pe=="number")return le&&fe.children?ge.children.splice(pe,1,...fe.children):ge.children.splice(pe,1),pe}}}function defaultUrlTransform(ee){const te=ee.indexOf(":"),ne=ee.indexOf("?"),ae=ee.indexOf("#"),ie=ee.indexOf("/");return te===-1||ie!==-1&&te>ie||ne!==-1&&te>ne||ae!==-1&&te>ae||safeProtocol.test(ee.slice(0,te))?ee:""}function ccount(ee,te){const ne=String(ee);if(typeof te!="string")throw new TypeError("Expected character");let ae=0,ie=ne.indexOf(te);for(;ie!==-1;)ae++,ie=ne.indexOf(te,ie+te.length);return ae}function escapeStringRegexp(ee){if(typeof ee!="string")throw new TypeError("Expected a string");return ee.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(ee,te,ne){const ie=convert((ne||{}).ignore||[]),se=toPairs(te);let oe=-1;for(;++oe<se.length;)visitParents(ee,"text",le);function le(he,fe){let pe=-1,ge;for(;++pe<fe.length;){const ye=fe[pe],xe=ge?ge.children:void 0;if(ie(ye,xe?xe.indexOf(ye):void 0,ge))return;ge=ye}if(ge)return ce(he,fe)}function ce(he,fe){const pe=fe[fe.length-1],ge=se[oe][0],ye=se[oe][1];let xe=0;const Se=pe.children.indexOf(he);let ve=!1,Te=[];ge.lastIndex=0;let Ce=ge.exec(he.value);for(;Ce;){const Pe=Ce.index,Be={index:Ce.index,input:Ce.input,stack:[...fe,he]};let Ae=ye(...Ce,Be);if(typeof Ae=="string"&&(Ae=Ae.length>0?{type:"text",value:Ae}:void 0),Ae===!1?ge.lastIndex=Pe+1:(xe!==Pe&&Te.push({type:"text",value:he.value.slice(xe,Pe)}),Array.isArray(Ae)?Te.push(...Ae):Ae&&Te.push(Ae),xe=Pe+Ce[0].length,ve=!0),!ge.global)break;Ce=ge.exec(he.value)}return ve?(xe<he.value.length&&Te.push({type:"text",value:he.value.slice(xe)}),pe.children.splice(Se,1,...Te)):Te=[he],Se+Te.length}}function toPairs(ee){const te=[];if(!Array.isArray(ee))throw new TypeError("Expected find and replace tuple or list of tuples");const ne=!ee[0]||Array.isArray(ee[0])?ee:[ee];let ae=-1;for(;++ae<ne.length;){const ie=ne[ae];te.push([toExpression(ie[0]),toFunction(ie[1])])}return te}function toExpression(ee){return typeof ee=="string"?new RegExp(escapeStringRegexp(ee),"g"):ee}function toFunction(ee){return typeof ee=="function"?ee:function(){return ee}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(ee){this.enter({type:"link",title:null,url:"",children:[]},ee)}function enterLiteralAutolinkValue(ee){this.config.enter.autolinkProtocol.call(this,ee)}function exitLiteralAutolinkHttp(ee){this.config.exit.autolinkProtocol.call(this,ee)}function exitLiteralAutolinkWww(ee){this.config.exit.data.call(this,ee);const te=this.stack[this.stack.length-1];te.type,te.url="http://"+this.sliceSerialize(ee)}function exitLiteralAutolinkEmail(ee){this.config.exit.autolinkEmail.call(this,ee)}function exitLiteralAutolink(ee){this.exit(ee)}function transformGfmAutolinkLiterals(ee){findAndReplace(ee,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(ee,te,ne,ae,ie){let se="";if(!previous(ie)||(/^w/i.test(te)&&(ne=te+ne,te="",se="http://"),!isCorrectDomain(ne)))return!1;const oe=splitUrl(ne+ae);if(!oe[0])return!1;const le={type:"link",title:null,url:se+te+oe[0],children:[{type:"text",value:te+oe[0]}]};return oe[1]?[le,{type:"text",value:oe[1]}]:le}function findEmail(ee,te,ne,ae){return!previous(ae,!0)||/[-\d_]$/.test(ne)?!1:{type:"link",title:null,url:"mailto:"+te+"@"+ne,children:[{type:"text",value:te+"@"+ne}]}}function isCorrectDomain(ee){const te=ee.split(".");return!(te.length<2||te[te.length-1]&&(/_/.test(te[te.length-1])||!/[a-zA-Z\d]/.test(te[te.length-1]))||te[te.length-2]&&(/_/.test(te[te.length-2])||!/[a-zA-Z\d]/.test(te[te.length-2])))}function splitUrl(ee){const te=/[!"&'),.:;<>?\]}]+$/.exec(ee);if(!te)return[ee,void 0];ee=ee.slice(0,te.index);let ne=te[0],ae=ne.indexOf(")");const ie=ccount(ee,"(");let se=ccount(ee,")");for(;ae!==-1&&ie>se;)ee+=ne.slice(0,ae+1),ne=ne.slice(ae+1),ae=ne.indexOf(")"),se++;return[ee,ne]}function previous(ee,te){const ne=ee.input.charCodeAt(ee.index-1);return(ee.index===0||unicodeWhitespace(ne)||unicodePunctuation(ne))&&(!te||ne!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(ee){this.enter({type:"footnoteReference",identifier:"",label:""},ee)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(ee){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},ee)}function exitFootnoteCallString(ee){const te=this.resume(),ne=this.stack[this.stack.length-1];ne.type,ne.identifier=normalizeIdentifier(this.sliceSerialize(ee)).toLowerCase(),ne.label=te}function exitFootnoteCall(ee){this.exit(ee)}function exitFootnoteDefinitionLabelString(ee){const te=this.resume(),ne=this.stack[this.stack.length-1];ne.type,ne.identifier=normalizeIdentifier(this.sliceSerialize(ee)).toLowerCase(),ne.label=te}function exitFootnoteDefinition(ee){this.exit(ee)}function footnoteReferencePeek(){return"["}function footnoteReference(ee,te,ne,ae){const ie=ne.createTracker(ae);let se=ie.move("[^");const oe=ne.enter("footnoteReference"),le=ne.enter("reference");return se+=ie.move(ne.safe(ne.associationId(ee),{after:"]",before:se})),le(),oe(),se+=ie.move("]"),se}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(ee){let te=!1;return ee&&ee.firstLineBlank&&(te=!0),{handlers:{footnoteDefinition:ne,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function ne(ae,ie,se,oe){const le=se.createTracker(oe);let ce=le.move("[^");const he=se.enter("footnoteDefinition"),fe=se.enter("label");return ce+=le.move(se.safe(se.associationId(ae),{before:ce,after:"]"})),fe(),ce+=le.move("]:"),ae.children&&ae.children.length>0&&(le.shift(4),ce+=le.move((te?`
`:" ")+se.indentLines(se.containerFlow(ae,le.current()),te?mapAll:mapExceptFirst))),he(),ce}}function mapExceptFirst(ee,te,ne){return te===0?ee:mapAll(ee,te,ne)}function mapAll(ee,te,ne){return(ne?"":"    ")+ee}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(ee){this.enter({type:"delete",children:[]},ee)}function exitStrikethrough(ee){this.exit(ee)}function handleDelete(ee,te,ne,ae){const ie=ne.createTracker(ae),se=ne.enter("strikethrough");let oe=ie.move("~~");return oe+=ne.containerPhrasing(ee,{...ie.current(),before:oe,after:"~"}),oe+=ie.move("~~"),se(),oe}function peekDelete(){return"~"}function defaultStringLength(ee){return ee.length}function markdownTable(ee,te){const ne=te||{},ae=(ne.align||[]).concat(),ie=ne.stringLength||defaultStringLength,se=[],oe=[],le=[],ce=[];let he=0,fe=-1;for(;++fe<ee.length;){const be=[],Se=[];let ve=-1;for(ee[fe].length>he&&(he=ee[fe].length);++ve<ee[fe].length;){const Te=serialize$1(ee[fe][ve]);if(ne.alignDelimiters!==!1){const Ce=ie(Te);Se[ve]=Ce,(ce[ve]===void 0||Ce>ce[ve])&&(ce[ve]=Ce)}be.push(Te)}oe[fe]=be,le[fe]=Se}let pe=-1;if(typeof ae=="object"&&"length"in ae)for(;++pe<he;)se[pe]=toAlignment(ae[pe]);else{const be=toAlignment(ae);for(;++pe<he;)se[pe]=be}pe=-1;const ge=[],ye=[];for(;++pe<he;){const be=se[pe];let Se="",ve="";be===99?(Se=":",ve=":"):be===108?Se=":":be===114&&(ve=":");let Te=ne.alignDelimiters===!1?1:Math.max(1,ce[pe]-Se.length-ve.length);const Ce=Se+"-".repeat(Te)+ve;ne.alignDelimiters!==!1&&(Te=Se.length+Te+ve.length,Te>ce[pe]&&(ce[pe]=Te),ye[pe]=Te),ge[pe]=Ce}oe.splice(1,0,ge),le.splice(1,0,ye),fe=-1;const xe=[];for(;++fe<oe.length;){const be=oe[fe],Se=le[fe];pe=-1;const ve=[];for(;++pe<he;){const Te=be[pe]||"";let Ce="",Pe="";if(ne.alignDelimiters!==!1){const Be=ce[pe]-(Se[pe]||0),Ae=se[pe];Ae===114?Ce=" ".repeat(Be):Ae===99?Be%2?(Ce=" ".repeat(Be/2+.5),Pe=" ".repeat(Be/2-.5)):(Ce=" ".repeat(Be/2),Pe=Ce):Pe=" ".repeat(Be)}ne.delimiterStart!==!1&&!pe&&ve.push("|"),ne.padding!==!1&&!(ne.alignDelimiters===!1&&Te==="")&&(ne.delimiterStart!==!1||pe)&&ve.push(" "),ne.alignDelimiters!==!1&&ve.push(Ce),ve.push(Te),ne.alignDelimiters!==!1&&ve.push(Pe),ne.padding!==!1&&ve.push(" "),(ne.delimiterEnd!==!1||pe!==he-1)&&ve.push("|")}xe.push(ne.delimiterEnd===!1?ve.join("").replace(/ +$/,""):ve.join(""))}return xe.join(`
`)}function serialize$1(ee){return ee==null?"":String(ee)}function toAlignment(ee){const te=typeof ee=="string"?ee.codePointAt(0):0;return te===67||te===99?99:te===76||te===108?108:te===82||te===114?114:0}function blockquote$1(ee,te,ne,ae){const ie=ne.enter("blockquote"),se=ne.createTracker(ae);se.move("> "),se.shift(2);const oe=ne.indentLines(ne.containerFlow(ee,se.current()),map$2);return ie(),oe}function map$2(ee,te,ne){return">"+(ne?"":" ")+ee}function patternInScope(ee,te){return listInScope(ee,te.inConstruct,!0)&&!listInScope(ee,te.notInConstruct,!1)}function listInScope(ee,te,ne){if(typeof te=="string"&&(te=[te]),!te||te.length===0)return ne;let ae=-1;for(;++ae<te.length;)if(ee.includes(te[ae]))return!0;return!1}function hardBreak(ee,te,ne,ae){let ie=-1;for(;++ie<ne.unsafe.length;)if(ne.unsafe[ie].character===`
`&&patternInScope(ne.stack,ne.unsafe[ie]))return/[ \t]/.test(ae.before)?"":" ";return`\\
`}function longestStreak(ee,te){const ne=String(ee);let ae=ne.indexOf(te),ie=ae,se=0,oe=0;if(typeof te!="string")throw new TypeError("Expected substring");for(;ae!==-1;)ae===ie?++se>oe&&(oe=se):se=1,ie=ae+te.length,ae=ne.indexOf(te,ie);return oe}function formatCodeAsIndented(ee,te){return!!(te.options.fences===!1&&ee.value&&!ee.lang&&/[^ \r\n]/.test(ee.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(ee.value))}function checkFence(ee){const te=ee.options.fence||"`";if(te!=="`"&&te!=="~")throw new Error("Cannot serialize code with `"+te+"` for `options.fence`, expected `` ` `` or `~`");return te}function code$1(ee,te,ne,ae){const ie=checkFence(ne),se=ee.value||"",oe=ie==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(ee,ne)){const pe=ne.enter("codeIndented"),ge=ne.indentLines(se,map$1);return pe(),ge}const le=ne.createTracker(ae),ce=ie.repeat(Math.max(longestStreak(se,ie)+1,3)),he=ne.enter("codeFenced");let fe=le.move(ce);if(ee.lang){const pe=ne.enter(`codeFencedLang${oe}`);fe+=le.move(ne.safe(ee.lang,{before:fe,after:" ",encode:["`"],...le.current()})),pe()}if(ee.lang&&ee.meta){const pe=ne.enter(`codeFencedMeta${oe}`);fe+=le.move(" "),fe+=le.move(ne.safe(ee.meta,{before:fe,after:`
`,encode:["`"],...le.current()})),pe()}return fe+=le.move(`
`),se&&(fe+=le.move(se+`
`)),fe+=le.move(ce),he(),fe}function map$1(ee,te,ne){return(ne?"":"    ")+ee}function checkQuote(ee){const te=ee.options.quote||'"';if(te!=='"'&&te!=="'")throw new Error("Cannot serialize title with `"+te+"` for `options.quote`, expected `\"`, or `'`");return te}function definition(ee,te,ne,ae){const ie=checkQuote(ne),se=ie==='"'?"Quote":"Apostrophe",oe=ne.enter("definition");let le=ne.enter("label");const ce=ne.createTracker(ae);let he=ce.move("[");return he+=ce.move(ne.safe(ne.associationId(ee),{before:he,after:"]",...ce.current()})),he+=ce.move("]: "),le(),!ee.url||/[\0- \u007F]/.test(ee.url)?(le=ne.enter("destinationLiteral"),he+=ce.move("<"),he+=ce.move(ne.safe(ee.url,{before:he,after:">",...ce.current()})),he+=ce.move(">")):(le=ne.enter("destinationRaw"),he+=ce.move(ne.safe(ee.url,{before:he,after:ee.title?" ":`
`,...ce.current()}))),le(),ee.title&&(le=ne.enter(`title${se}`),he+=ce.move(" "+ie),he+=ce.move(ne.safe(ee.title,{before:he,after:ie,...ce.current()})),he+=ce.move(ie),le()),oe(),he}function checkEmphasis(ee){const te=ee.options.emphasis||"*";if(te!=="*"&&te!=="_")throw new Error("Cannot serialize emphasis with `"+te+"` for `options.emphasis`, expected `*`, or `_`");return te}function encodeCharacterReference(ee){return"&#x"+ee.toString(16).toUpperCase()+";"}function encodeInfo(ee,te,ne){const ae=classifyCharacter(ee),ie=classifyCharacter(te);return ae===void 0?ie===void 0?ne==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:ie===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:ae===1?ie===void 0?{inside:!1,outside:!1}:ie===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:ie===void 0?{inside:!1,outside:!1}:ie===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(ee,te,ne,ae){const ie=checkEmphasis(ne),se=ne.enter("emphasis"),oe=ne.createTracker(ae),le=oe.move(ie);let ce=oe.move(ne.containerPhrasing(ee,{after:ie,before:le,...oe.current()}));const he=ce.charCodeAt(0),fe=encodeInfo(ae.before.charCodeAt(ae.before.length-1),he,ie);fe.inside&&(ce=encodeCharacterReference(he)+ce.slice(1));const pe=ce.charCodeAt(ce.length-1),ge=encodeInfo(ae.after.charCodeAt(0),pe,ie);ge.inside&&(ce=ce.slice(0,-1)+encodeCharacterReference(pe));const ye=oe.move(ie);return se(),ne.attentionEncodeSurroundingInfo={after:ge.outside,before:fe.outside},le+ce+ye}function emphasisPeek(ee,te,ne){return ne.options.emphasis||"*"}function formatHeadingAsSetext(ee,te){let ne=!1;return visit(ee,function(ae){if("value"in ae&&/\r?\n|\r/.test(ae.value)||ae.type==="break")return ne=!0,EXIT}),!!((!ee.depth||ee.depth<3)&&toString$1(ee)&&(te.options.setext||ne))}function heading$1(ee,te,ne,ae){const ie=Math.max(Math.min(6,ee.depth||1),1),se=ne.createTracker(ae);if(formatHeadingAsSetext(ee,ne)){const fe=ne.enter("headingSetext"),pe=ne.enter("phrasing"),ge=ne.containerPhrasing(ee,{...se.current(),before:`
`,after:`
`});return pe(),fe(),ge+`
`+(ie===1?"=":"-").repeat(ge.length-(Math.max(ge.lastIndexOf("\r"),ge.lastIndexOf(`
`))+1))}const oe="#".repeat(ie),le=ne.enter("headingAtx"),ce=ne.enter("phrasing");se.move(oe+" ");let he=ne.containerPhrasing(ee,{before:"# ",after:`
`,...se.current()});return/^[\t ]/.test(he)&&(he=encodeCharacterReference(he.charCodeAt(0))+he.slice(1)),he=he?oe+" "+he:oe,ne.options.closeAtx&&(he+=" "+oe),ce(),le(),he}html$3.peek=htmlPeek;function html$3(ee){return ee.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(ee,te,ne,ae){const ie=checkQuote(ne),se=ie==='"'?"Quote":"Apostrophe",oe=ne.enter("image");let le=ne.enter("label");const ce=ne.createTracker(ae);let he=ce.move("![");return he+=ce.move(ne.safe(ee.alt,{before:he,after:"]",...ce.current()})),he+=ce.move("]("),le(),!ee.url&&ee.title||/[\0- \u007F]/.test(ee.url)?(le=ne.enter("destinationLiteral"),he+=ce.move("<"),he+=ce.move(ne.safe(ee.url,{before:he,after:">",...ce.current()})),he+=ce.move(">")):(le=ne.enter("destinationRaw"),he+=ce.move(ne.safe(ee.url,{before:he,after:ee.title?" ":")",...ce.current()}))),le(),ee.title&&(le=ne.enter(`title${se}`),he+=ce.move(" "+ie),he+=ce.move(ne.safe(ee.title,{before:he,after:ie,...ce.current()})),he+=ce.move(ie),le()),he+=ce.move(")"),oe(),he}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(ee,te,ne,ae){const ie=ee.referenceType,se=ne.enter("imageReference");let oe=ne.enter("label");const le=ne.createTracker(ae);let ce=le.move("![");const he=ne.safe(ee.alt,{before:ce,after:"]",...le.current()});ce+=le.move(he+"]["),oe();const fe=ne.stack;ne.stack=[],oe=ne.enter("reference");const pe=ne.safe(ne.associationId(ee),{before:ce,after:"]",...le.current()});return oe(),ne.stack=fe,se(),ie==="full"||!he||he!==pe?ce+=le.move(pe+"]"):ie==="shortcut"?ce=ce.slice(0,-1):ce+=le.move("]"),ce}function imageReferencePeek(){return"!"}inlineCode$1.peek=inlineCodePeek;function inlineCode$1(ee,te,ne){let ae=ee.value||"",ie="`",se=-1;for(;new RegExp("(^|[^`])"+ie+"([^`]|$)").test(ae);)ie+="`";for(/[^ \r\n]/.test(ae)&&(/^[ \r\n]/.test(ae)&&/[ \r\n]$/.test(ae)||/^`|`$/.test(ae))&&(ae=" "+ae+" ");++se<ne.unsafe.length;){const oe=ne.unsafe[se],le=ne.compilePattern(oe);let ce;if(oe.atBreak)for(;ce=le.exec(ae);){let he=ce.index;ae.charCodeAt(he)===10&&ae.charCodeAt(he-1)===13&&he--,ae=ae.slice(0,he)+" "+ae.slice(ce.index+1)}}return ie+ae+ie}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(ee,te){const ne=toString$1(ee);return!!(!te.options.resourceLink&&ee.url&&!ee.title&&ee.children&&ee.children.length===1&&ee.children[0].type==="text"&&(ne===ee.url||"mailto:"+ne===ee.url)&&/^[a-z][a-z+.-]+:/i.test(ee.url)&&!/[\0- <>\u007F]/.test(ee.url))}link$1.peek=linkPeek;function link$1(ee,te,ne,ae){const ie=checkQuote(ne),se=ie==='"'?"Quote":"Apostrophe",oe=ne.createTracker(ae);let le,ce;if(formatLinkAsAutolink(ee,ne)){const fe=ne.stack;ne.stack=[],le=ne.enter("autolink");let pe=oe.move("<");return pe+=oe.move(ne.containerPhrasing(ee,{before:pe,after:">",...oe.current()})),pe+=oe.move(">"),le(),ne.stack=fe,pe}le=ne.enter("link"),ce=ne.enter("label");let he=oe.move("[");return he+=oe.move(ne.containerPhrasing(ee,{before:he,after:"](",...oe.current()})),he+=oe.move("]("),ce(),!ee.url&&ee.title||/[\0- \u007F]/.test(ee.url)?(ce=ne.enter("destinationLiteral"),he+=oe.move("<"),he+=oe.move(ne.safe(ee.url,{before:he,after:">",...oe.current()})),he+=oe.move(">")):(ce=ne.enter("destinationRaw"),he+=oe.move(ne.safe(ee.url,{before:he,after:ee.title?" ":")",...oe.current()}))),ce(),ee.title&&(ce=ne.enter(`title${se}`),he+=oe.move(" "+ie),he+=oe.move(ne.safe(ee.title,{before:he,after:ie,...oe.current()})),he+=oe.move(ie),ce()),he+=oe.move(")"),le(),he}function linkPeek(ee,te,ne){return formatLinkAsAutolink(ee,ne)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(ee,te,ne,ae){const ie=ee.referenceType,se=ne.enter("linkReference");let oe=ne.enter("label");const le=ne.createTracker(ae);let ce=le.move("[");const he=ne.containerPhrasing(ee,{before:ce,after:"]",...le.current()});ce+=le.move(he+"]["),oe();const fe=ne.stack;ne.stack=[],oe=ne.enter("reference");const pe=ne.safe(ne.associationId(ee),{before:ce,after:"]",...le.current()});return oe(),ne.stack=fe,se(),ie==="full"||!he||he!==pe?ce+=le.move(pe+"]"):ie==="shortcut"?ce=ce.slice(0,-1):ce+=le.move("]"),ce}function linkReferencePeek(){return"["}function checkBullet(ee){const te=ee.options.bullet||"*";if(te!=="*"&&te!=="+"&&te!=="-")throw new Error("Cannot serialize items with `"+te+"` for `options.bullet`, expected `*`, `+`, or `-`");return te}function checkBulletOther(ee){const te=checkBullet(ee),ne=ee.options.bulletOther;if(!ne)return te==="*"?"-":"*";if(ne!=="*"&&ne!=="+"&&ne!=="-")throw new Error("Cannot serialize items with `"+ne+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(ne===te)throw new Error("Expected `bullet` (`"+te+"`) and `bulletOther` (`"+ne+"`) to be different");return ne}function checkBulletOrdered(ee){const te=ee.options.bulletOrdered||".";if(te!=="."&&te!==")")throw new Error("Cannot serialize items with `"+te+"` for `options.bulletOrdered`, expected `.` or `)`");return te}function checkRule(ee){const te=ee.options.rule||"*";if(te!=="*"&&te!=="-"&&te!=="_")throw new Error("Cannot serialize rules with `"+te+"` for `options.rule`, expected `*`, `-`, or `_`");return te}function list$1(ee,te,ne,ae){const ie=ne.enter("list"),se=ne.bulletCurrent;let oe=ee.ordered?checkBulletOrdered(ne):checkBullet(ne);const le=ee.ordered?oe==="."?")":".":checkBulletOther(ne);let ce=te&&ne.bulletLastUsed?oe===ne.bulletLastUsed:!1;if(!ee.ordered){const fe=ee.children?ee.children[0]:void 0;if((oe==="*"||oe==="-")&&fe&&(!fe.children||!fe.children[0])&&ne.stack[ne.stack.length-1]==="list"&&ne.stack[ne.stack.length-2]==="listItem"&&ne.stack[ne.stack.length-3]==="list"&&ne.stack[ne.stack.length-4]==="listItem"&&ne.indexStack[ne.indexStack.length-1]===0&&ne.indexStack[ne.indexStack.length-2]===0&&ne.indexStack[ne.indexStack.length-3]===0&&(ce=!0),checkRule(ne)===oe&&fe){let pe=-1;for(;++pe<ee.children.length;){const ge=ee.children[pe];if(ge&&ge.type==="listItem"&&ge.children&&ge.children[0]&&ge.children[0].type==="thematicBreak"){ce=!0;break}}}}ce&&(oe=le),ne.bulletCurrent=oe;const he=ne.containerFlow(ee,ae);return ne.bulletLastUsed=oe,ne.bulletCurrent=se,ie(),he}function checkListItemIndent(ee){const te=ee.options.listItemIndent||"one";if(te!=="tab"&&te!=="one"&&te!=="mixed")throw new Error("Cannot serialize items with `"+te+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return te}function listItem(ee,te,ne,ae){const ie=checkListItemIndent(ne);let se=ne.bulletCurrent||checkBullet(ne);te&&te.type==="list"&&te.ordered&&(se=(typeof te.start=="number"&&te.start>-1?te.start:1)+(ne.options.incrementListMarker===!1?0:te.children.indexOf(ee))+se);let oe=se.length+1;(ie==="tab"||ie==="mixed"&&(te&&te.type==="list"&&te.spread||ee.spread))&&(oe=Math.ceil(oe/4)*4);const le=ne.createTracker(ae);le.move(se+" ".repeat(oe-se.length)),le.shift(oe);const ce=ne.enter("listItem"),he=ne.indentLines(ne.containerFlow(ee,le.current()),fe);return ce(),he;function fe(pe,ge,ye){return ge?(ye?"":" ".repeat(oe))+pe:(ye?se:se+" ".repeat(oe-se.length))+pe}}function paragraph$1(ee,te,ne,ae){const ie=ne.enter("paragraph"),se=ne.enter("phrasing"),oe=ne.containerPhrasing(ee,ae);return se(),ie(),oe}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root$3(ee,te,ne,ae){return(ee.children.some(function(oe){return phrasing(oe)})?ne.containerPhrasing:ne.containerFlow).call(ne,ee,ae)}function checkStrong(ee){const te=ee.options.strong||"*";if(te!=="*"&&te!=="_")throw new Error("Cannot serialize strong with `"+te+"` for `options.strong`, expected `*`, or `_`");return te}strong.peek=strongPeek;function strong(ee,te,ne,ae){const ie=checkStrong(ne),se=ne.enter("strong"),oe=ne.createTracker(ae),le=oe.move(ie+ie);let ce=oe.move(ne.containerPhrasing(ee,{after:ie,before:le,...oe.current()}));const he=ce.charCodeAt(0),fe=encodeInfo(ae.before.charCodeAt(ae.before.length-1),he,ie);fe.inside&&(ce=encodeCharacterReference(he)+ce.slice(1));const pe=ce.charCodeAt(ce.length-1),ge=encodeInfo(ae.after.charCodeAt(0),pe,ie);ge.inside&&(ce=ce.slice(0,-1)+encodeCharacterReference(pe));const ye=oe.move(ie+ie);return se(),ne.attentionEncodeSurroundingInfo={after:ge.outside,before:fe.outside},le+ce+ye}function strongPeek(ee,te,ne){return ne.options.strong||"*"}function text$3(ee,te,ne,ae){return ne.safe(ee.value,ae)}function checkRuleRepetition(ee){const te=ee.options.ruleRepetition||3;if(te<3)throw new Error("Cannot serialize rules with repetition `"+te+"` for `options.ruleRepetition`, expected `3` or more");return te}function thematicBreak(ee,te,ne){const ae=(checkRule(ne)+(ne.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(ne));return ne.options.ruleSpaces?ae.slice(0,-1):ae}const handle={blockquote:blockquote$1,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading:heading$1,html:html$3,image,imageReference,inlineCode:inlineCode$1,link:link$1,linkReference,list:list$1,listItem,paragraph:paragraph$1,root:root$3,strong,text:text$3,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(ee){const te=ee._align;this.enter({type:"table",align:te.map(function(ne){return ne==="none"?null:ne}),children:[]},ee),this.data.inTable=!0}function exitTable(ee){this.exit(ee),this.data.inTable=void 0}function enterRow(ee){this.enter({type:"tableRow",children:[]},ee)}function exit(ee){this.exit(ee)}function enterCell(ee){this.enter({type:"tableCell",children:[]},ee)}function exitCodeText(ee){let te=this.resume();this.data.inTable&&(te=te.replace(/\\([\\|])/g,replace$1));const ne=this.stack[this.stack.length-1];ne.type,ne.value=te,this.exit(ee)}function replace$1(ee,te){return te==="|"?te:ee}function gfmTableToMarkdown(ee){const te=ee||{},ne=te.tableCellPadding,ae=te.tablePipeAlign,ie=te.stringLength,se=ne?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:ge,table:oe,tableCell:ce,tableRow:le}};function oe(ye,xe,be,Se){return he(fe(ye,be,Se),ye.align)}function le(ye,xe,be,Se){const ve=pe(ye,be,Se),Te=he([ve]);return Te.slice(0,Te.indexOf(`
`))}function ce(ye,xe,be,Se){const ve=be.enter("tableCell"),Te=be.enter("phrasing"),Ce=be.containerPhrasing(ye,{...Se,before:se,after:se});return Te(),ve(),Ce}function he(ye,xe){return markdownTable(ye,{align:xe,alignDelimiters:ae,padding:ne,stringLength:ie})}function fe(ye,xe,be){const Se=ye.children;let ve=-1;const Te=[],Ce=xe.enter("table");for(;++ve<Se.length;)Te[ve]=pe(Se[ve],xe,be);return Ce(),Te}function pe(ye,xe,be){const Se=ye.children;let ve=-1;const Te=[],Ce=xe.enter("tableRow");for(;++ve<Se.length;)Te[ve]=ce(Se[ve],ye,xe,be);return Ce(),Te}function ge(ye,xe,be){let Se=handle.inlineCode(ye,xe,be);return be.stack.includes("tableCell")&&(Se=Se.replace(/\|/g,"\\$&")),Se}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(ee){const te=this.stack[this.stack.length-2];te.type,te.checked=ee.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(ee){const te=this.stack[this.stack.length-2];if(te&&te.type==="listItem"&&typeof te.checked=="boolean"){const ne=this.stack[this.stack.length-1];ne.type;const ae=ne.children[0];if(ae&&ae.type==="text"){const ie=te.children;let se=-1,oe;for(;++se<ie.length;){const le=ie[se];if(le.type==="paragraph"){oe=le;break}}oe===ne&&(ae.value=ae.value.slice(1),ae.value.length===0?ne.children.shift():ne.position&&ae.position&&typeof ae.position.start.offset=="number"&&(ae.position.start.column++,ae.position.start.offset++,ne.position.start=Object.assign({},ae.position.start)))}}this.exit(ee)}function listItemWithTaskListItem(ee,te,ne,ae){const ie=ee.children[0],se=typeof ee.checked=="boolean"&&ie&&ie.type==="paragraph",oe="["+(ee.checked?"x":" ")+"] ",le=ne.createTracker(ae);se&&le.move(oe);let ce=handle.listItem(ee,te,ne,{...ae,...le.current()});return se&&(ce=ce.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,he)),ce;function he(fe){return fe+oe}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(ee){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(ee),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(ee),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text$2={};function gfmAutolinkLiteral(){return{text:text$2}}let code=48;for(;code<123;)text$2[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text$2[43]=emailAutolink;text$2[45]=emailAutolink;text$2[46]=emailAutolink;text$2[95]=emailAutolink;text$2[72]=[emailAutolink,protocolAutolink];text$2[104]=[emailAutolink,protocolAutolink];text$2[87]=[emailAutolink,wwwAutolink];text$2[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(ee,te,ne){const ae=this;let ie,se;return oe;function oe(pe){return!gfmAtext(pe)||!previousEmail.call(ae,ae.previous)||previousUnbalanced(ae.events)?ne(pe):(ee.enter("literalAutolink"),ee.enter("literalAutolinkEmail"),le(pe))}function le(pe){return gfmAtext(pe)?(ee.consume(pe),le):pe===64?(ee.consume(pe),ce):ne(pe)}function ce(pe){return pe===46?ee.check(emailDomainDotTrail,fe,he)(pe):pe===45||pe===95||asciiAlphanumeric(pe)?(se=!0,ee.consume(pe),ce):fe(pe)}function he(pe){return ee.consume(pe),ie=!0,ce}function fe(pe){return se&&ie&&asciiAlpha(ae.previous)?(ee.exit("literalAutolinkEmail"),ee.exit("literalAutolink"),te(pe)):ne(pe)}}function tokenizeWwwAutolink(ee,te,ne){const ae=this;return ie;function ie(oe){return oe!==87&&oe!==119||!previousWww.call(ae,ae.previous)||previousUnbalanced(ae.events)?ne(oe):(ee.enter("literalAutolink"),ee.enter("literalAutolinkWww"),ee.check(wwwPrefix,ee.attempt(domain,ee.attempt(path,se),ne),ne)(oe))}function se(oe){return ee.exit("literalAutolinkWww"),ee.exit("literalAutolink"),te(oe)}}function tokenizeProtocolAutolink(ee,te,ne){const ae=this;let ie="",se=!1;return oe;function oe(pe){return(pe===72||pe===104)&&previousProtocol.call(ae,ae.previous)&&!previousUnbalanced(ae.events)?(ee.enter("literalAutolink"),ee.enter("literalAutolinkHttp"),ie+=String.fromCodePoint(pe),ee.consume(pe),le):ne(pe)}function le(pe){if(asciiAlpha(pe)&&ie.length<5)return ie+=String.fromCodePoint(pe),ee.consume(pe),le;if(pe===58){const ge=ie.toLowerCase();if(ge==="http"||ge==="https")return ee.consume(pe),ce}return ne(pe)}function ce(pe){return pe===47?(ee.consume(pe),se?he:(se=!0,ce)):ne(pe)}function he(pe){return pe===null||asciiControl(pe)||markdownLineEndingOrSpace(pe)||unicodeWhitespace(pe)||unicodePunctuation(pe)?ne(pe):ee.attempt(domain,ee.attempt(path,fe),ne)(pe)}function fe(pe){return ee.exit("literalAutolinkHttp"),ee.exit("literalAutolink"),te(pe)}}function tokenizeWwwPrefix(ee,te,ne){let ae=0;return ie;function ie(oe){return(oe===87||oe===119)&&ae<3?(ae++,ee.consume(oe),ie):oe===46&&ae===3?(ee.consume(oe),se):ne(oe)}function se(oe){return oe===null?ne(oe):te(oe)}}function tokenizeDomain(ee,te,ne){let ae,ie,se;return oe;function oe(he){return he===46||he===95?ee.check(trail,ce,le)(he):he===null||markdownLineEndingOrSpace(he)||unicodeWhitespace(he)||he!==45&&unicodePunctuation(he)?ce(he):(se=!0,ee.consume(he),oe)}function le(he){return he===95?ae=!0:(ie=ae,ae=void 0),ee.consume(he),oe}function ce(he){return ie||ae||!se?ne(he):te(he)}}function tokenizePath(ee,te){let ne=0,ae=0;return ie;function ie(oe){return oe===40?(ne++,ee.consume(oe),ie):oe===41&&ae<ne?se(oe):oe===33||oe===34||oe===38||oe===39||oe===41||oe===42||oe===44||oe===46||oe===58||oe===59||oe===60||oe===63||oe===93||oe===95||oe===126?ee.check(trail,te,se)(oe):oe===null||markdownLineEndingOrSpace(oe)||unicodeWhitespace(oe)?te(oe):(ee.consume(oe),ie)}function se(oe){return oe===41&&ae++,ee.consume(oe),ie}}function tokenizeTrail(ee,te,ne){return ae;function ae(le){return le===33||le===34||le===39||le===41||le===42||le===44||le===46||le===58||le===59||le===63||le===95||le===126?(ee.consume(le),ae):le===38?(ee.consume(le),se):le===93?(ee.consume(le),ie):le===60||le===null||markdownLineEndingOrSpace(le)||unicodeWhitespace(le)?te(le):ne(le)}function ie(le){return le===null||le===40||le===91||markdownLineEndingOrSpace(le)||unicodeWhitespace(le)?te(le):ae(le)}function se(le){return asciiAlpha(le)?oe(le):ne(le)}function oe(le){return le===59?(ee.consume(le),ae):asciiAlpha(le)?(ee.consume(le),oe):ne(le)}}function tokenizeEmailDomainDotTrail(ee,te,ne){return ae;function ae(se){return ee.consume(se),ie}function ie(se){return asciiAlphanumeric(se)?ne(se):te(se)}}function previousWww(ee){return ee===null||ee===40||ee===42||ee===95||ee===91||ee===93||ee===126||markdownLineEndingOrSpace(ee)}function previousProtocol(ee){return!asciiAlpha(ee)}function previousEmail(ee){return!(ee===47||gfmAtext(ee))}function gfmAtext(ee){return ee===43||ee===45||ee===46||ee===95||asciiAlphanumeric(ee)}function previousUnbalanced(ee){let te=ee.length,ne=!1;for(;te--;){const ae=ee[te][1];if((ae.type==="labelLink"||ae.type==="labelImage")&&!ae._balanced){ne=!0;break}if(ae._gfmAutolinkLiteralWalkedInto){ne=!1;break}}return ee.length>0&&!ne&&(ee[ee.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),ne}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(ee,te,ne){const ae=this;let ie=ae.events.length;const se=ae.parser.gfmFootnotes||(ae.parser.gfmFootnotes=[]);let oe;for(;ie--;){const ce=ae.events[ie][1];if(ce.type==="labelImage"){oe=ce;break}if(ce.type==="gfmFootnoteCall"||ce.type==="labelLink"||ce.type==="label"||ce.type==="image"||ce.type==="link")break}return le;function le(ce){if(!oe||!oe._balanced)return ne(ce);const he=normalizeIdentifier(ae.sliceSerialize({start:oe.end,end:ae.now()}));return he.codePointAt(0)!==94||!se.includes(he.slice(1))?ne(ce):(ee.enter("gfmFootnoteCallLabelMarker"),ee.consume(ce),ee.exit("gfmFootnoteCallLabelMarker"),te(ce))}}function resolveToPotentialGfmFootnoteCall(ee,te){let ne=ee.length;for(;ne--;)if(ee[ne][1].type==="labelImage"&&ee[ne][0]==="enter"){ee[ne][1];break}ee[ne+1][1].type="data",ee[ne+3][1].type="gfmFootnoteCallLabelMarker";const ae={type:"gfmFootnoteCall",start:Object.assign({},ee[ne+3][1].start),end:Object.assign({},ee[ee.length-1][1].end)},ie={type:"gfmFootnoteCallMarker",start:Object.assign({},ee[ne+3][1].end),end:Object.assign({},ee[ne+3][1].end)};ie.end.column++,ie.end.offset++,ie.end._bufferIndex++;const se={type:"gfmFootnoteCallString",start:Object.assign({},ie.end),end:Object.assign({},ee[ee.length-1][1].start)},oe={type:"chunkString",contentType:"string",start:Object.assign({},se.start),end:Object.assign({},se.end)},le=[ee[ne+1],ee[ne+2],["enter",ae,te],ee[ne+3],ee[ne+4],["enter",ie,te],["exit",ie,te],["enter",se,te],["enter",oe,te],["exit",oe,te],["exit",se,te],ee[ee.length-2],ee[ee.length-1],["exit",ae,te]];return ee.splice(ne,ee.length-ne+1,...le),ee}function tokenizeGfmFootnoteCall(ee,te,ne){const ae=this,ie=ae.parser.gfmFootnotes||(ae.parser.gfmFootnotes=[]);let se=0,oe;return le;function le(pe){return ee.enter("gfmFootnoteCall"),ee.enter("gfmFootnoteCallLabelMarker"),ee.consume(pe),ee.exit("gfmFootnoteCallLabelMarker"),ce}function ce(pe){return pe!==94?ne(pe):(ee.enter("gfmFootnoteCallMarker"),ee.consume(pe),ee.exit("gfmFootnoteCallMarker"),ee.enter("gfmFootnoteCallString"),ee.enter("chunkString").contentType="string",he)}function he(pe){if(se>999||pe===93&&!oe||pe===null||pe===91||markdownLineEndingOrSpace(pe))return ne(pe);if(pe===93){ee.exit("chunkString");const ge=ee.exit("gfmFootnoteCallString");return ie.includes(normalizeIdentifier(ae.sliceSerialize(ge)))?(ee.enter("gfmFootnoteCallLabelMarker"),ee.consume(pe),ee.exit("gfmFootnoteCallLabelMarker"),ee.exit("gfmFootnoteCall"),te):ne(pe)}return markdownLineEndingOrSpace(pe)||(oe=!0),se++,ee.consume(pe),pe===92?fe:he}function fe(pe){return pe===91||pe===92||pe===93?(ee.consume(pe),se++,he):he(pe)}}function tokenizeDefinitionStart(ee,te,ne){const ae=this,ie=ae.parser.gfmFootnotes||(ae.parser.gfmFootnotes=[]);let se,oe=0,le;return ce;function ce(xe){return ee.enter("gfmFootnoteDefinition")._container=!0,ee.enter("gfmFootnoteDefinitionLabel"),ee.enter("gfmFootnoteDefinitionLabelMarker"),ee.consume(xe),ee.exit("gfmFootnoteDefinitionLabelMarker"),he}function he(xe){return xe===94?(ee.enter("gfmFootnoteDefinitionMarker"),ee.consume(xe),ee.exit("gfmFootnoteDefinitionMarker"),ee.enter("gfmFootnoteDefinitionLabelString"),ee.enter("chunkString").contentType="string",fe):ne(xe)}function fe(xe){if(oe>999||xe===93&&!le||xe===null||xe===91||markdownLineEndingOrSpace(xe))return ne(xe);if(xe===93){ee.exit("chunkString");const be=ee.exit("gfmFootnoteDefinitionLabelString");return se=normalizeIdentifier(ae.sliceSerialize(be)),ee.enter("gfmFootnoteDefinitionLabelMarker"),ee.consume(xe),ee.exit("gfmFootnoteDefinitionLabelMarker"),ee.exit("gfmFootnoteDefinitionLabel"),ge}return markdownLineEndingOrSpace(xe)||(le=!0),oe++,ee.consume(xe),xe===92?pe:fe}function pe(xe){return xe===91||xe===92||xe===93?(ee.consume(xe),oe++,fe):fe(xe)}function ge(xe){return xe===58?(ee.enter("definitionMarker"),ee.consume(xe),ee.exit("definitionMarker"),ie.includes(se)||ie.push(se),factorySpace(ee,ye,"gfmFootnoteDefinitionWhitespace")):ne(xe)}function ye(xe){return te(xe)}}function tokenizeDefinitionContinuation(ee,te,ne){return ee.check(blankLine,te,ee.attempt(indent,te,ne))}function gfmFootnoteDefinitionEnd(ee){ee.exit("gfmFootnoteDefinition")}function tokenizeIndent(ee,te,ne){const ae=this;return factorySpace(ee,ie,"gfmFootnoteDefinitionIndent",5);function ie(se){const oe=ae.events[ae.events.length-1];return oe&&oe[1].type==="gfmFootnoteDefinitionIndent"&&oe[2].sliceSerialize(oe[1],!0).length===4?te(se):ne(se)}}function gfmStrikethrough(ee){let ne=(ee||{}).singleTilde;const ae={name:"strikethrough",tokenize:se,resolveAll:ie};return ne==null&&(ne=!0),{text:{126:ae},insideSpan:{null:[ae]},attentionMarkers:{null:[126]}};function ie(oe,le){let ce=-1;for(;++ce<oe.length;)if(oe[ce][0]==="enter"&&oe[ce][1].type==="strikethroughSequenceTemporary"&&oe[ce][1]._close){let he=ce;for(;he--;)if(oe[he][0]==="exit"&&oe[he][1].type==="strikethroughSequenceTemporary"&&oe[he][1]._open&&oe[ce][1].end.offset-oe[ce][1].start.offset===oe[he][1].end.offset-oe[he][1].start.offset){oe[ce][1].type="strikethroughSequence",oe[he][1].type="strikethroughSequence";const fe={type:"strikethrough",start:Object.assign({},oe[he][1].start),end:Object.assign({},oe[ce][1].end)},pe={type:"strikethroughText",start:Object.assign({},oe[he][1].end),end:Object.assign({},oe[ce][1].start)},ge=[["enter",fe,le],["enter",oe[he][1],le],["exit",oe[he][1],le],["enter",pe,le]],ye=le.parser.constructs.insideSpan.null;ye&&splice$1(ge,ge.length,0,resolveAll(ye,oe.slice(he+1,ce),le)),splice$1(ge,ge.length,0,[["exit",pe,le],["enter",oe[ce][1],le],["exit",oe[ce][1],le],["exit",fe,le]]),splice$1(oe,he-1,ce-he+3,ge),ce=he+ge.length-2;break}}for(ce=-1;++ce<oe.length;)oe[ce][1].type==="strikethroughSequenceTemporary"&&(oe[ce][1].type="data");return oe}function se(oe,le,ce){const he=this.previous,fe=this.events;let pe=0;return ge;function ge(xe){return he===126&&fe[fe.length-1][1].type!=="characterEscape"?ce(xe):(oe.enter("strikethroughSequenceTemporary"),ye(xe))}function ye(xe){const be=classifyCharacter(he);if(xe===126)return pe>1?ce(xe):(oe.consume(xe),pe++,ye);if(pe<2&&!ne)return ce(xe);const Se=oe.exit("strikethroughSequenceTemporary"),ve=classifyCharacter(xe);return Se._open=!ve||ve===2&&!!be,Se._close=!be||be===2&&!!ve,le(xe)}}}class EditMap{constructor(){this.map=[]}add(te,ne,ae){addImplementation(this,te,ne,ae)}consume(te){if(this.map.sort(function(se,oe){return se[0]-oe[0]}),this.map.length===0)return;let ne=this.map.length;const ae=[];for(;ne>0;)ne-=1,ae.push(te.slice(this.map[ne][0]+this.map[ne][1]),this.map[ne][2]),te.length=this.map[ne][0];ae.push(te.slice()),te.length=0;let ie=ae.pop();for(;ie;){for(const se of ie)te.push(se);ie=ae.pop()}this.map.length=0}}function addImplementation(ee,te,ne,ae){let ie=0;if(!(ne===0&&ae.length===0)){for(;ie<ee.map.length;){if(ee.map[ie][0]===te){ee.map[ie][1]+=ne,ee.map[ie][2].push(...ae);return}ie+=1}ee.map.push([te,ne,ae])}}function gfmTableAlign(ee,te){let ne=!1;const ae=[];for(;te<ee.length;){const ie=ee[te];if(ne){if(ie[0]==="enter")ie[1].type==="tableContent"&&ae.push(ee[te+1][1].type==="tableDelimiterMarker"?"left":"none");else if(ie[1].type==="tableContent"){if(ee[te-1][1].type==="tableDelimiterMarker"){const se=ae.length-1;ae[se]=ae[se]==="left"?"center":"right"}}else if(ie[1].type==="tableDelimiterRow")break}else ie[0]==="enter"&&ie[1].type==="tableDelimiterRow"&&(ne=!0);te+=1}return ae}function gfmTable$1(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(ee,te,ne){const ae=this;let ie=0,se=0,oe;return le;function le(Ve){let je=ae.events.length-1;for(;je>-1;){const ke=ae.events[je][1].type;if(ke==="lineEnding"||ke==="linePrefix")je--;else break}const De=je>-1?ae.events[je][1].type:null,Ye=De==="tableHead"||De==="tableRow"?Ae:ce;return Ye===Ae&&ae.parser.lazy[ae.now().line]?ne(Ve):Ye(Ve)}function ce(Ve){return ee.enter("tableHead"),ee.enter("tableRow"),he(Ve)}function he(Ve){return Ve===124||(oe=!0,se+=1),fe(Ve)}function fe(Ve){return Ve===null?ne(Ve):markdownLineEnding(Ve)?se>1?(se=0,ae.interrupt=!0,ee.exit("tableRow"),ee.enter("lineEnding"),ee.consume(Ve),ee.exit("lineEnding"),ye):ne(Ve):markdownSpace(Ve)?factorySpace(ee,fe,"whitespace")(Ve):(se+=1,oe&&(oe=!1,ie+=1),Ve===124?(ee.enter("tableCellDivider"),ee.consume(Ve),ee.exit("tableCellDivider"),oe=!0,fe):(ee.enter("data"),pe(Ve)))}function pe(Ve){return Ve===null||Ve===124||markdownLineEndingOrSpace(Ve)?(ee.exit("data"),fe(Ve)):(ee.consume(Ve),Ve===92?ge:pe)}function ge(Ve){return Ve===92||Ve===124?(ee.consume(Ve),pe):pe(Ve)}function ye(Ve){return ae.interrupt=!1,ae.parser.lazy[ae.now().line]?ne(Ve):(ee.enter("tableDelimiterRow"),oe=!1,markdownSpace(Ve)?factorySpace(ee,xe,"linePrefix",ae.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ve):xe(Ve))}function xe(Ve){return Ve===45||Ve===58?Se(Ve):Ve===124?(oe=!0,ee.enter("tableCellDivider"),ee.consume(Ve),ee.exit("tableCellDivider"),be):Be(Ve)}function be(Ve){return markdownSpace(Ve)?factorySpace(ee,Se,"whitespace")(Ve):Se(Ve)}function Se(Ve){return Ve===58?(se+=1,oe=!0,ee.enter("tableDelimiterMarker"),ee.consume(Ve),ee.exit("tableDelimiterMarker"),ve):Ve===45?(se+=1,ve(Ve)):Ve===null||markdownLineEnding(Ve)?Pe(Ve):Be(Ve)}function ve(Ve){return Ve===45?(ee.enter("tableDelimiterFiller"),Te(Ve)):Be(Ve)}function Te(Ve){return Ve===45?(ee.consume(Ve),Te):Ve===58?(oe=!0,ee.exit("tableDelimiterFiller"),ee.enter("tableDelimiterMarker"),ee.consume(Ve),ee.exit("tableDelimiterMarker"),Ce):(ee.exit("tableDelimiterFiller"),Ce(Ve))}function Ce(Ve){return markdownSpace(Ve)?factorySpace(ee,Pe,"whitespace")(Ve):Pe(Ve)}function Pe(Ve){return Ve===124?xe(Ve):Ve===null||markdownLineEnding(Ve)?!oe||ie!==se?Be(Ve):(ee.exit("tableDelimiterRow"),ee.exit("tableHead"),te(Ve)):Be(Ve)}function Be(Ve){return ne(Ve)}function Ae(Ve){return ee.enter("tableRow"),Me(Ve)}function Me(Ve){return Ve===124?(ee.enter("tableCellDivider"),ee.consume(Ve),ee.exit("tableCellDivider"),Me):Ve===null||markdownLineEnding(Ve)?(ee.exit("tableRow"),te(Ve)):markdownSpace(Ve)?factorySpace(ee,Me,"whitespace")(Ve):(ee.enter("data"),Ge(Ve))}function Ge(Ve){return Ve===null||Ve===124||markdownLineEndingOrSpace(Ve)?(ee.exit("data"),Me(Ve)):(ee.consume(Ve),Ve===92?Ue:Ge)}function Ue(Ve){return Ve===92||Ve===124?(ee.consume(Ve),Ge):Ge(Ve)}}function resolveTable(ee,te){let ne=-1,ae=!0,ie=0,se=[0,0,0,0],oe=[0,0,0,0],le=!1,ce=0,he,fe,pe;const ge=new EditMap;for(;++ne<ee.length;){const ye=ee[ne],xe=ye[1];ye[0]==="enter"?xe.type==="tableHead"?(le=!1,ce!==0&&(flushTableEnd(ge,te,ce,he,fe),fe=void 0,ce=0),he={type:"table",start:Object.assign({},xe.start),end:Object.assign({},xe.end)},ge.add(ne,0,[["enter",he,te]])):xe.type==="tableRow"||xe.type==="tableDelimiterRow"?(ae=!0,pe=void 0,se=[0,0,0,0],oe=[0,ne+1,0,0],le&&(le=!1,fe={type:"tableBody",start:Object.assign({},xe.start),end:Object.assign({},xe.end)},ge.add(ne,0,[["enter",fe,te]])),ie=xe.type==="tableDelimiterRow"?2:fe?3:1):ie&&(xe.type==="data"||xe.type==="tableDelimiterMarker"||xe.type==="tableDelimiterFiller")?(ae=!1,oe[2]===0&&(se[1]!==0&&(oe[0]=oe[1],pe=flushCell(ge,te,se,ie,void 0,pe),se=[0,0,0,0]),oe[2]=ne)):xe.type==="tableCellDivider"&&(ae?ae=!1:(se[1]!==0&&(oe[0]=oe[1],pe=flushCell(ge,te,se,ie,void 0,pe)),se=oe,oe=[se[1],ne,0,0])):xe.type==="tableHead"?(le=!0,ce=ne):xe.type==="tableRow"||xe.type==="tableDelimiterRow"?(ce=ne,se[1]!==0?(oe[0]=oe[1],pe=flushCell(ge,te,se,ie,ne,pe)):oe[1]!==0&&(pe=flushCell(ge,te,oe,ie,ne,pe)),ie=0):ie&&(xe.type==="data"||xe.type==="tableDelimiterMarker"||xe.type==="tableDelimiterFiller")&&(oe[3]=ne)}for(ce!==0&&flushTableEnd(ge,te,ce,he,fe),ge.consume(te.events),ne=-1;++ne<te.events.length;){const ye=te.events[ne];ye[0]==="enter"&&ye[1].type==="table"&&(ye[1]._align=gfmTableAlign(te.events,ne))}return ee}function flushCell(ee,te,ne,ae,ie,se){const oe=ae===1?"tableHeader":ae===2?"tableDelimiter":"tableData",le="tableContent";ne[0]!==0&&(se.end=Object.assign({},getPoint(te.events,ne[0])),ee.add(ne[0],0,[["exit",se,te]]));const ce=getPoint(te.events,ne[1]);if(se={type:oe,start:Object.assign({},ce),end:Object.assign({},ce)},ee.add(ne[1],0,[["enter",se,te]]),ne[2]!==0){const he=getPoint(te.events,ne[2]),fe=getPoint(te.events,ne[3]),pe={type:le,start:Object.assign({},he),end:Object.assign({},fe)};if(ee.add(ne[2],0,[["enter",pe,te]]),ae!==2){const ge=te.events[ne[2]],ye=te.events[ne[3]];if(ge[1].end=Object.assign({},ye[1].end),ge[1].type="chunkText",ge[1].contentType="text",ne[3]>ne[2]+1){const xe=ne[2]+1,be=ne[3]-ne[2]-1;ee.add(xe,be,[])}}ee.add(ne[3]+1,0,[["exit",pe,te]])}return ie!==void 0&&(se.end=Object.assign({},getPoint(te.events,ie)),ee.add(ie,0,[["exit",se,te]]),se=void 0),se}function flushTableEnd(ee,te,ne,ae,ie){const se=[],oe=getPoint(te.events,ne);ie&&(ie.end=Object.assign({},oe),se.push(["exit",ie,te])),ae.end=Object.assign({},oe),se.push(["exit",ae,te]),ee.add(ne+1,0,se)}function getPoint(ee,te){const ne=ee[te],ae=ne[0]==="enter"?"start":"end";return ne[1][ae]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(ee,te,ne){const ae=this;return ie;function ie(ce){return ae.previous!==null||!ae._gfmTasklistFirstContentOfListItem?ne(ce):(ee.enter("taskListCheck"),ee.enter("taskListCheckMarker"),ee.consume(ce),ee.exit("taskListCheckMarker"),se)}function se(ce){return markdownLineEndingOrSpace(ce)?(ee.enter("taskListCheckValueUnchecked"),ee.consume(ce),ee.exit("taskListCheckValueUnchecked"),oe):ce===88||ce===120?(ee.enter("taskListCheckValueChecked"),ee.consume(ce),ee.exit("taskListCheckValueChecked"),oe):ne(ce)}function oe(ce){return ce===93?(ee.enter("taskListCheckMarker"),ee.consume(ce),ee.exit("taskListCheckMarker"),ee.exit("taskListCheck"),le):ne(ce)}function le(ce){return markdownLineEnding(ce)?te(ce):markdownSpace(ce)?ee.check({tokenize:spaceThenNonSpace},te,ne)(ce):ne(ce)}}function spaceThenNonSpace(ee,te,ne){return factorySpace(ee,ae,"whitespace");function ae(ie){return ie===null?ne(ie):te(ie)}}function gfm(ee){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(ee),gfmTable$1(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(ee){const te=this,ne=ee||emptyOptions,ae=te.data(),ie=ae.micromarkExtensions||(ae.micromarkExtensions=[]),se=ae.fromMarkdownExtensions||(ae.fromMarkdownExtensions=[]),oe=ae.toMarkdownExtensions||(ae.toMarkdownExtensions=[]);ie.push(gfm(ne)),se.push(gfmFromMarkdown()),oe.push(gfmToMarkdown(ne))}function _objectWithoutPropertiesLoose(ee,te){if(ee==null)return{};var ne={};for(var ae in ee)if({}.hasOwnProperty.call(ee,ae)){if(te.indexOf(ae)!==-1)continue;ne[ae]=ee[ae]}return ne}function _objectWithoutProperties(ee,te){if(ee==null)return{};var ne,ae,ie=_objectWithoutPropertiesLoose(ee,te);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(ee);for(ae=0;ae<se.length;ae++)ne=se[ae],te.indexOf(ne)===-1&&{}.propertyIsEnumerable.call(ee,ne)&&(ie[ne]=ee[ne])}return ie}function _arrayLikeToArray(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,ae=Array(te);ne<te;ne++)ae[ne]=ee[ne];return ae}function _arrayWithoutHoles(ee){if(Array.isArray(ee))return _arrayLikeToArray(ee)}function _iterableToArray(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _unsupportedIterableToArray(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray(ee,te);var ne={}.toString.call(ee).slice(8,-1);return ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set"?Array.from(ee):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?_arrayLikeToArray(ee,te):void 0}}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(ee){return _arrayWithoutHoles(ee)||_iterableToArray(ee)||_unsupportedIterableToArray(ee)||_nonIterableSpread()}function _typeof(ee){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof(ee)}function toPrimitive(ee,te){if(_typeof(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var ae=ne.call(ee,te);if(_typeof(ae)!="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function toPropertyKey(ee){var te=toPrimitive(ee,"string");return _typeof(te)=="symbol"?te:te+""}function _defineProperty(ee,te,ne){return(te=toPropertyKey(te))in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _extends(){return _extends=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var ae in ne)({}).hasOwnProperty.call(ne,ae)&&(ee[ae]=ne[ae])}return ee},_extends.apply(null,arguments)}function ownKeys$1(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(ee);te&&(ae=ae.filter(function(ie){return Object.getOwnPropertyDescriptor(ee,ie).enumerable})),ne.push.apply(ne,ae)}return ne}function _objectSpread$1(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$1(Object(ne),!0).forEach(function(ae){_defineProperty(ee,ae,ne[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$1(Object(ne)).forEach(function(ae){Object.defineProperty(ee,ae,Object.getOwnPropertyDescriptor(ne,ae))})}return ee}function powerSetPermutations(ee){var te=ee.length;if(te===0||te===1)return ee;if(te===2)return[ee[0],ee[1],"".concat(ee[0],".").concat(ee[1]),"".concat(ee[1],".").concat(ee[0])];if(te===3)return[ee[0],ee[1],ee[2],"".concat(ee[0],".").concat(ee[1]),"".concat(ee[0],".").concat(ee[2]),"".concat(ee[1],".").concat(ee[0]),"".concat(ee[1],".").concat(ee[2]),"".concat(ee[2],".").concat(ee[0]),"".concat(ee[2],".").concat(ee[1]),"".concat(ee[0],".").concat(ee[1],".").concat(ee[2]),"".concat(ee[0],".").concat(ee[2],".").concat(ee[1]),"".concat(ee[1],".").concat(ee[0],".").concat(ee[2]),"".concat(ee[1],".").concat(ee[2],".").concat(ee[0]),"".concat(ee[2],".").concat(ee[0],".").concat(ee[1]),"".concat(ee[2],".").concat(ee[1],".").concat(ee[0])];if(te>=4)return[ee[0],ee[1],ee[2],ee[3],"".concat(ee[0],".").concat(ee[1]),"".concat(ee[0],".").concat(ee[2]),"".concat(ee[0],".").concat(ee[3]),"".concat(ee[1],".").concat(ee[0]),"".concat(ee[1],".").concat(ee[2]),"".concat(ee[1],".").concat(ee[3]),"".concat(ee[2],".").concat(ee[0]),"".concat(ee[2],".").concat(ee[1]),"".concat(ee[2],".").concat(ee[3]),"".concat(ee[3],".").concat(ee[0]),"".concat(ee[3],".").concat(ee[1]),"".concat(ee[3],".").concat(ee[2]),"".concat(ee[0],".").concat(ee[1],".").concat(ee[2]),"".concat(ee[0],".").concat(ee[1],".").concat(ee[3]),"".concat(ee[0],".").concat(ee[2],".").concat(ee[1]),"".concat(ee[0],".").concat(ee[2],".").concat(ee[3]),"".concat(ee[0],".").concat(ee[3],".").concat(ee[1]),"".concat(ee[0],".").concat(ee[3],".").concat(ee[2]),"".concat(ee[1],".").concat(ee[0],".").concat(ee[2]),"".concat(ee[1],".").concat(ee[0],".").concat(ee[3]),"".concat(ee[1],".").concat(ee[2],".").concat(ee[0]),"".concat(ee[1],".").concat(ee[2],".").concat(ee[3]),"".concat(ee[1],".").concat(ee[3],".").concat(ee[0]),"".concat(ee[1],".").concat(ee[3],".").concat(ee[2]),"".concat(ee[2],".").concat(ee[0],".").concat(ee[1]),"".concat(ee[2],".").concat(ee[0],".").concat(ee[3]),"".concat(ee[2],".").concat(ee[1],".").concat(ee[0]),"".concat(ee[2],".").concat(ee[1],".").concat(ee[3]),"".concat(ee[2],".").concat(ee[3],".").concat(ee[0]),"".concat(ee[2],".").concat(ee[3],".").concat(ee[1]),"".concat(ee[3],".").concat(ee[0],".").concat(ee[1]),"".concat(ee[3],".").concat(ee[0],".").concat(ee[2]),"".concat(ee[3],".").concat(ee[1],".").concat(ee[0]),"".concat(ee[3],".").concat(ee[1],".").concat(ee[2]),"".concat(ee[3],".").concat(ee[2],".").concat(ee[0]),"".concat(ee[3],".").concat(ee[2],".").concat(ee[1]),"".concat(ee[0],".").concat(ee[1],".").concat(ee[2],".").concat(ee[3]),"".concat(ee[0],".").concat(ee[1],".").concat(ee[3],".").concat(ee[2]),"".concat(ee[0],".").concat(ee[2],".").concat(ee[1],".").concat(ee[3]),"".concat(ee[0],".").concat(ee[2],".").concat(ee[3],".").concat(ee[1]),"".concat(ee[0],".").concat(ee[3],".").concat(ee[1],".").concat(ee[2]),"".concat(ee[0],".").concat(ee[3],".").concat(ee[2],".").concat(ee[1]),"".concat(ee[1],".").concat(ee[0],".").concat(ee[2],".").concat(ee[3]),"".concat(ee[1],".").concat(ee[0],".").concat(ee[3],".").concat(ee[2]),"".concat(ee[1],".").concat(ee[2],".").concat(ee[0],".").concat(ee[3]),"".concat(ee[1],".").concat(ee[2],".").concat(ee[3],".").concat(ee[0]),"".concat(ee[1],".").concat(ee[3],".").concat(ee[0],".").concat(ee[2]),"".concat(ee[1],".").concat(ee[3],".").concat(ee[2],".").concat(ee[0]),"".concat(ee[2],".").concat(ee[0],".").concat(ee[1],".").concat(ee[3]),"".concat(ee[2],".").concat(ee[0],".").concat(ee[3],".").concat(ee[1]),"".concat(ee[2],".").concat(ee[1],".").concat(ee[0],".").concat(ee[3]),"".concat(ee[2],".").concat(ee[1],".").concat(ee[3],".").concat(ee[0]),"".concat(ee[2],".").concat(ee[3],".").concat(ee[0],".").concat(ee[1]),"".concat(ee[2],".").concat(ee[3],".").concat(ee[1],".").concat(ee[0]),"".concat(ee[3],".").concat(ee[0],".").concat(ee[1],".").concat(ee[2]),"".concat(ee[3],".").concat(ee[0],".").concat(ee[2],".").concat(ee[1]),"".concat(ee[3],".").concat(ee[1],".").concat(ee[0],".").concat(ee[2]),"".concat(ee[3],".").concat(ee[1],".").concat(ee[2],".").concat(ee[0]),"".concat(ee[3],".").concat(ee[2],".").concat(ee[0],".").concat(ee[1]),"".concat(ee[3],".").concat(ee[2],".").concat(ee[1],".").concat(ee[0])]}var classNameCombinations={};function getClassNameCombinations(ee){if(ee.length===0||ee.length===1)return ee;var te=ee.join(".");return classNameCombinations[te]||(classNameCombinations[te]=powerSetPermutations(ee)),classNameCombinations[te]}function createStyleObject(ee){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=arguments.length>2?arguments[2]:void 0,ae=ee.filter(function(se){return se!=="token"}),ie=getClassNameCombinations(ae);return ie.reduce(function(se,oe){return _objectSpread$1(_objectSpread$1({},se),ne[oe])},te)}function createClassNameString(ee){return ee.join(" ")}function createChildren(ee,te){var ne=0;return function(ae){return ne+=1,ae.map(function(ie,se){return createElement({node:ie,stylesheet:ee,useInlineStyles:te,key:"code-segment-".concat(ne,"-").concat(se)})})}}function createElement(ee){var te=ee.node,ne=ee.stylesheet,ae=ee.style,ie=ae===void 0?{}:ae,se=ee.useInlineStyles,oe=ee.key,le=te.properties,ce=te.type,he=te.tagName,fe=te.value;if(ce==="text")return fe;if(he){var pe=createChildren(ne,se),ge;if(!se)ge=_objectSpread$1(_objectSpread$1({},le),{},{className:createClassNameString(le.className)});else{var ye=Object.keys(ne).reduce(function(ve,Te){return Te.split(".").forEach(function(Ce){ve.includes(Ce)||ve.push(Ce)}),ve},[]),xe=le.className&&le.className.includes("token")?["token"]:[],be=le.className&&xe.concat(le.className.filter(function(ve){return!ye.includes(ve)}));ge=_objectSpread$1(_objectSpread$1({},le),{},{className:createClassNameString(be)||void 0,style:createStyleObject(le.className,Object.assign({},le.style,ie),ne)})}var Se=pe(te.children);return React.createElement(he,_extends({key:oe},ge),Se)}}const checkForListedLanguage=(function(ee,te){var ne=ee.listLanguages();return ne.indexOf(te)!==-1});var _excluded=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function ownKeys(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(ee);te&&(ae=ae.filter(function(ie){return Object.getOwnPropertyDescriptor(ee,ie).enumerable})),ne.push.apply(ne,ae)}return ne}function _objectSpread(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys(Object(ne),!0).forEach(function(ae){_defineProperty(ee,ae,ne[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys(Object(ne)).forEach(function(ae){Object.defineProperty(ee,ae,Object.getOwnPropertyDescriptor(ne,ae))})}return ee}var newLineRegex=/\n/g;function getNewLines(ee){return ee.match(newLineRegex)}function getAllLineNumbers(ee){var te=ee.lines,ne=ee.startingLineNumber,ae=ee.style;return te.map(function(ie,se){var oe=se+ne;return React.createElement("span",{key:"line-".concat(se),className:"react-syntax-highlighter-line-number",style:typeof ae=="function"?ae(oe):ae},"".concat(oe,`
`))})}function AllLineNumbers(ee){var te=ee.codeString,ne=ee.codeStyle,ae=ee.containerStyle,ie=ae===void 0?{float:"left",paddingRight:"10px"}:ae,se=ee.numberStyle,oe=se===void 0?{}:se,le=ee.startingLineNumber;return React.createElement("code",{style:Object.assign({},ne,ie)},getAllLineNumbers({lines:te.replace(/\n$/,"").split(`
`),style:oe,startingLineNumber:le}))}function getEmWidthOfNumber(ee){return"".concat(ee.toString().length,".25em")}function getInlineLineNumber(ee,te){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(ee),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:te},children:[{type:"text",value:ee}]}}function assembleLineNumberStyles(ee,te,ne){var ae={display:"inline-block",minWidth:getEmWidthOfNumber(ne),paddingRight:"1em",textAlign:"right",userSelect:"none"},ie=typeof ee=="function"?ee(te):ee,se=_objectSpread(_objectSpread({},ae),ie);return se}function createLineElement(ee){var te=ee.children,ne=ee.lineNumber,ae=ee.lineNumberStyle,ie=ee.largestLineNumber,se=ee.showInlineLineNumbers,oe=ee.lineProps,le=oe===void 0?{}:oe,ce=ee.className,he=ce===void 0?[]:ce,fe=ee.showLineNumbers,pe=ee.wrapLongLines,ge=ee.wrapLines,ye=ge===void 0?!1:ge,xe=ye?_objectSpread({},typeof le=="function"?le(ne):le):{};if(xe.className=xe.className?[].concat(_toConsumableArray(xe.className.trim().split(/\s+/)),_toConsumableArray(he)):he,ne&&se){var be=assembleLineNumberStyles(ae,ne,ie);te.unshift(getInlineLineNumber(ne,be))}return pe&fe&&(xe.style=_objectSpread({display:"flex"},xe.style)),{type:"element",tagName:"span",properties:xe,children:te}}function flattenCodeTree(ee){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];ee.length===void 0&&(ee=[ee]);for(var ae=0;ae<ee.length;ae++){var ie=ee[ae];if(ie.type==="text")ne.push(createLineElement({children:[ie],className:_toConsumableArray(new Set(te))}));else if(ie.children){var se,oe=te.concat(((se=ie.properties)===null||se===void 0?void 0:se.className)||[]);flattenCodeTree(ie.children,oe).forEach(function(le){return ne.push(le)})}}return ne}function processLines(ee,te,ne,ae,ie,se,oe,le,ce){var he,fe=flattenCodeTree(ee.value),pe=[],ge=-1,ye=0;function xe(Be,Ae){var Me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return createLineElement({children:Be,lineNumber:Ae,lineNumberStyle:le,largestLineNumber:oe,showInlineLineNumbers:ie,lineProps:ne,className:Me,showLineNumbers:ae,wrapLongLines:ce,wrapLines:te})}function be(Be,Ae){if(ae&&Ae&&ie){var Me=assembleLineNumberStyles(le,Ae,oe);Be.unshift(getInlineLineNumber(Ae,Me))}return Be}function Se(Be,Ae){var Me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return te||Me.length>0?xe(Be,Ae,Me):be(Be,Ae)}for(var ve=function(){var Ae=fe[ye],Me=Ae.children[0].value,Ge=getNewLines(Me);if(Ge){var Ue=Me.split(`
`);Ue.forEach(function(Ve,je){var De=ae&&pe.length+se,Ye={type:"text",value:"".concat(Ve,`
`)};if(je===0){var ke=fe.slice(ge+1,ye).concat(createLineElement({children:[Ye],className:Ae.properties.className})),$e=Se(ke,De);pe.push($e)}else if(je===Ue.length-1){var Oe=fe[ye+1]&&fe[ye+1].children&&fe[ye+1].children[0],He={type:"text",value:"".concat(Ve)};if(Oe){var qe=createLineElement({children:[He],className:Ae.properties.className});fe.splice(ye+1,0,qe)}else{var Xe=[He],ze=Se(Xe,De,Ae.properties.className);pe.push(ze)}}else{var Ie=[Ye],Fe=Se(Ie,De,Ae.properties.className);pe.push(Fe)}}),ge=ye}ye++};ye<fe.length;)ve();if(ge!==fe.length-1){var Te=fe.slice(ge+1,fe.length);if(Te&&Te.length){var Ce=ae&&pe.length+se,Pe=Se(Te,Ce);pe.push(Pe)}}return te?pe:(he=[]).concat.apply(he,pe)}function defaultRenderer(ee){var te=ee.rows,ne=ee.stylesheet,ae=ee.useInlineStyles;return te.map(function(ie,se){return createElement({node:ie,stylesheet:ne,useInlineStyles:ae,key:"code-segment-".concat(se)})})}function isHighlightJs(ee){return ee&&typeof ee.highlightAuto<"u"}function getCodeTree(ee){var te=ee.astGenerator,ne=ee.language,ae=ee.code,ie=ee.defaultCodeValue;if(isHighlightJs(te)){var se=checkForListedLanguage(te,ne);return ne==="text"?{value:ie,language:"text"}:se?te.highlight(ne,ae):te.highlightAuto(ae)}try{return ne&&ne!=="text"?{value:te.highlight(ae,ne)}:{value:ie}}catch{return{value:ie}}}function highlight$1(ee,te){return function(ae){var ie,se,oe=ae.language,le=ae.children,ce=ae.style,he=ce===void 0?te:ce,fe=ae.customStyle,pe=fe===void 0?{}:fe,ge=ae.codeTagProps,ye=ge===void 0?{className:oe?"language-".concat(oe):void 0,style:_objectSpread(_objectSpread({},he['code[class*="language-"]']),he['code[class*="language-'.concat(oe,'"]')])}:ge,xe=ae.useInlineStyles,be=xe===void 0?!0:xe,Se=ae.showLineNumbers,ve=Se===void 0?!1:Se,Te=ae.showInlineLineNumbers,Ce=Te===void 0?!0:Te,Pe=ae.startingLineNumber,Be=Pe===void 0?1:Pe,Ae=ae.lineNumberContainerStyle,Me=ae.lineNumberStyle,Ge=Me===void 0?{}:Me,Ue=ae.wrapLines,Ve=ae.wrapLongLines,je=Ve===void 0?!1:Ve,De=ae.lineProps,Ye=De===void 0?{}:De,ke=ae.renderer,$e=ae.PreTag,Oe=$e===void 0?"pre":$e,He=ae.CodeTag,qe=He===void 0?"code":He,Xe=ae.code,ze=Xe===void 0?(Array.isArray(le)?le[0]:le)||"":Xe,Ie=ae.astGenerator,Fe=_objectWithoutProperties(ae,_excluded);Ie=Ie||ee;var Le=ve?React.createElement(AllLineNumbers,{containerStyle:Ae,codeStyle:ye.style||{},numberStyle:Ge,startingLineNumber:Be,codeString:ze}):null,Ze=he.hljs||he['pre[class*="language-"]']||{backgroundColor:"#fff"},Qe=isHighlightJs(Ie)?"hljs":"prismjs",St=be?Object.assign({},Fe,{style:Object.assign({},Ze,pe)}):Object.assign({},Fe,{className:Fe.className?"".concat(Qe," ").concat(Fe.className):Qe,style:Object.assign({},pe)});if(je?ye.style=_objectSpread({whiteSpace:"pre-wrap"},ye.style):ye.style=_objectSpread({whiteSpace:"pre"},ye.style),!Ie)return React.createElement(Oe,St,Le,React.createElement(qe,ye,ze));(Ue===void 0&&ke||je)&&(Ue=!0),ke=ke||defaultRenderer;var Nt=[{type:"text",value:ze}],Ct=getCodeTree({astGenerator:Ie,language:oe,code:ze,defaultCodeValue:Nt});Ct.language===null&&(Ct.value=Nt);var kt=(ie=(se=ze.match(/\n/g))===null||se===void 0?void 0:se.length)!==null&&ie!==void 0?ie:0,At=Be+kt,Vt=processLines(Ct,Ue,Ye,ve,Ce,Be,At,Ge,je);return React.createElement(Oe,St,React.createElement(qe,ye,!Ce&&Le,ke({rows:Vt,stylesheet:he,useInlineStyles:be})))}}const scriptRel="modulepreload",assetsURL=function(ee){return"/multi_agent/"+ee},seen={},__vitePreload=function ee(te,ne,ae){let ie=Promise.resolve();if(ne&&ne.length>0){let oe=function(he){return Promise.all(he.map(fe=>Promise.resolve(fe).then(pe=>({status:"fulfilled",value:pe}),pe=>({status:"rejected",reason:pe}))))};document.getElementsByTagName("link");const le=document.querySelector("meta[property=csp-nonce]"),ce=(le==null?void 0:le.nonce)||(le==null?void 0:le.getAttribute("nonce"));ie=oe(ne.map(he=>{if(he=assetsURL(he),he in seen)return;seen[he]=!0;const fe=he.endsWith(".css"),pe=fe?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${he}"]${pe}`))return;const ge=document.createElement("link");if(ge.rel=fe?"stylesheet":scriptRel,fe||(ge.as="script"),ge.crossOrigin="",ge.href=he,ce&&ge.setAttribute("nonce",ce),document.head.appendChild(ge),fe)return new Promise((ye,xe)=>{ge.addEventListener("load",ye),ge.addEventListener("error",()=>xe(new Error(`Unable to preload CSS for ${he}`)))})}))}function se(oe){const le=new Event("vite:preloadError",{cancelable:!0});if(le.payload=oe,window.dispatchEvent(le),!le.defaultPrevented)throw oe}return ie.then(oe=>{for(const le of oe||[])le.status==="rejected"&&se(le.reason);return te().catch(se)})},search=/[#.]/g;function parseSelector(ee,te){const ne=ee||"",ae={};let ie=0,se,oe;for(;ie<ne.length;){search.lastIndex=ie;const le=search.exec(ne),ce=ne.slice(ie,le?le.index:ne.length);ce&&(se?se==="#"?ae.id=ce:Array.isArray(ae.className)?ae.className.push(ce):ae.className=[ce]:oe=ce,ie+=ce.length),le&&(se=le[0],ie++)}return{type:"element",tagName:oe||te||"div",properties:ae,children:[]}}function createH(ee,te,ne){const ae=ne?createAdjustMap(ne):void 0;function ie(se,oe,...le){let ce;if(se==null){ce={type:"root",children:[]};const he=oe;le.unshift(he)}else{ce=parseSelector(se,te);const he=ce.tagName.toLowerCase(),fe=ae?ae.get(he):void 0;if(ce.tagName=fe||he,isChild(oe))le.unshift(oe);else for(const[pe,ge]of Object.entries(oe))addProperty(ee,ce.properties,pe,ge)}for(const he of le)addChild(ce.children,he);return ce.type==="element"&&ce.tagName==="template"&&(ce.content={type:"root",children:ce.children},ce.children=[]),ce}return ie}function isChild(ee){if(ee===null||typeof ee!="object"||Array.isArray(ee))return!0;if(typeof ee.type!="string")return!1;const te=ee,ne=Object.keys(ee);for(const ae of ne){const ie=te[ae];if(ie&&typeof ie=="object"){if(!Array.isArray(ie))return!0;const se=ie;for(const oe of se)if(typeof oe!="number"&&typeof oe!="string")return!0}}return!!("children"in ee&&Array.isArray(ee.children))}function addProperty(ee,te,ne,ae){const ie=find$1(ee,ne);let se;if(ae!=null){if(typeof ae=="number"){if(Number.isNaN(ae))return;se=ae}else typeof ae=="boolean"?se=ae:typeof ae=="string"?ie.spaceSeparated?se=parse$3(ae):ie.commaSeparated?se=parse$4(ae):ie.commaOrSpaceSeparated?se=parse$3(parse$4(ae).join(" ")):se=parsePrimitive(ie,ie.property,ae):Array.isArray(ae)?se=[...ae]:se=ie.property==="style"?style(ae):String(ae);if(Array.isArray(se)){const oe=[];for(const le of se)oe.push(parsePrimitive(ie,ie.property,le));se=oe}ie.property==="className"&&Array.isArray(te.className)&&(se=te.className.concat(se)),te[ie.property]=se}}function addChild(ee,te){if(te!=null)if(typeof te=="number"||typeof te=="string")ee.push({type:"text",value:String(te)});else if(Array.isArray(te))for(const ne of te)addChild(ee,ne);else if(typeof te=="object"&&"type"in te)te.type==="root"?addChild(ee,te.children):ee.push(te);else throw new Error("Expected node, nodes, or string, got `"+te+"`")}function parsePrimitive(ee,te,ne){if(typeof ne=="string"){if(ee.number&&ne&&!Number.isNaN(Number(ne)))return Number(ne);if((ee.boolean||ee.overloadedBoolean)&&(ne===""||normalize$1(ne)===normalize$1(te)))return!0}return ne}function style(ee){const te=[];for(const[ne,ae]of Object.entries(ee))te.push([ne,ae].join(": "));return te.join("; ")}function createAdjustMap(ee){const te=new Map;for(const ne of ee)te.set(ne.toLowerCase(),ne);return te}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h$1=createH(html$5,"div");createH(svg$2,"g",svgCaseSensitiveTagNames);const characterEntitiesLegacy=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],characterReferenceInvalid={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function isDecimal(ee){const te=typeof ee=="string"?ee.charCodeAt(0):ee;return te>=48&&te<=57}function isHexadecimal(ee){const te=typeof ee=="string"?ee.charCodeAt(0):ee;return te>=97&&te<=102||te>=65&&te<=70||te>=48&&te<=57}function isAlphabetical(ee){const te=typeof ee=="string"?ee.charCodeAt(0):ee;return te>=97&&te<=122||te>=65&&te<=90}function isAlphanumerical(ee){return isAlphabetical(ee)||isDecimal(ee)}const messages=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function parseEntities(ee,te){const ne={},ae=typeof ne.additional=="string"?ne.additional.charCodeAt(0):ne.additional,ie=[];let se=0,oe=-1,le="",ce,he;ne.position&&("start"in ne.position||"indent"in ne.position?(he=ne.position.indent,ce=ne.position.start):ce=ne.position);let fe=(ce?ce.line:0)||1,pe=(ce?ce.column:0)||1,ge=xe(),ye;for(se--;++se<=ee.length;)if(ye===10&&(pe=(he?he[oe]:0)||1),ye=ee.charCodeAt(se),ye===38){const ve=ee.charCodeAt(se+1);if(ve===9||ve===10||ve===12||ve===32||ve===38||ve===60||Number.isNaN(ve)||ae&&ve===ae){le+=String.fromCharCode(ye),pe++;continue}const Te=se+1;let Ce=Te,Pe=Te,Be;if(ve===35){Pe=++Ce;const Ye=ee.charCodeAt(Pe);Ye===88||Ye===120?(Be="hexadecimal",Pe=++Ce):Be="decimal"}else Be="named";let Ae="",Me="",Ge="";const Ue=Be==="named"?isAlphanumerical:Be==="decimal"?isDecimal:isHexadecimal;for(Pe--;++Pe<=ee.length;){const Ye=ee.charCodeAt(Pe);if(!Ue(Ye))break;Ge+=String.fromCharCode(Ye),Be==="named"&&characterEntitiesLegacy.includes(Ge)&&(Ae=Ge,Me=decodeNamedCharacterReference(Ge))}let Ve=ee.charCodeAt(Pe)===59;if(Ve){Pe++;const Ye=Be==="named"?decodeNamedCharacterReference(Ge):!1;Ye&&(Ae=Ge,Me=Ye)}let je=1+Pe-Te,De="";if(!(!Ve&&ne.nonTerminated===!1))if(!Ge)Be!=="named"&&be(4,je);else if(Be==="named"){if(Ve&&!Me)be(5,1);else if(Ae!==Ge&&(Pe=Ce+Ae.length,je=1+Pe-Ce,Ve=!1),!Ve){const Ye=Ae?1:3;if(ne.attribute){const ke=ee.charCodeAt(Pe);ke===61?(be(Ye,je),Me=""):isAlphanumerical(ke)?Me="":be(Ye,je)}else be(Ye,je)}De=Me}else{Ve||be(2,je);let Ye=Number.parseInt(Ge,Be==="hexadecimal"?16:10);if(prohibited(Ye))be(7,je),De="";else if(Ye in characterReferenceInvalid)be(6,je),De=characterReferenceInvalid[Ye];else{let ke="";disallowed(Ye)&&be(6,je),Ye>65535&&(Ye-=65536,ke+=String.fromCharCode(Ye>>>10|55296),Ye=56320|Ye&1023),De=ke+String.fromCharCode(Ye)}}if(De){Se(),ge=xe(),se=Pe-1,pe+=Pe-Te+1,ie.push(De);const Ye=xe();Ye.offset++,ne.reference&&ne.reference.call(ne.referenceContext||void 0,De,{start:ge,end:Ye},ee.slice(Te-1,Pe)),ge=Ye}else Ge=ee.slice(Te-1,Pe),le+=Ge,pe+=Ge.length,se=Pe-1}else ye===10&&(fe++,oe++,pe=0),Number.isNaN(ye)?Se():(le+=String.fromCharCode(ye),pe++);return ie.join("");function xe(){return{line:fe,column:pe,offset:se+((ce?ce.offset:0)||0)}}function be(ve,Te){let Ce;ne.warning&&(Ce=xe(),Ce.column+=Te,Ce.offset+=Te,ne.warning.call(ne.warningContext||void 0,messages[ve],Ce,ve))}function Se(){le&&(ie.push(le),ne.text&&ne.text.call(ne.textContext||void 0,le,{start:ge,end:xe()}),le="")}}function prohibited(ee){return ee>=55296&&ee<=57343||ee>1114111}function disallowed(ee){return ee>=1&&ee<=8||ee===11||ee>=13&&ee<=31||ee>=127&&ee<=159||ee>=64976&&ee<=65007||(ee&65535)===65535||(ee&65535)===65534}var uniqueId=0,plainTextGrammar={},_$1={util:{type:function(ee){return Object.prototype.toString.call(ee).slice(8,-1)},objId:function(ee){return ee.__id||Object.defineProperty(ee,"__id",{value:++uniqueId}),ee.__id},clone:function ee(te,ne){ne=ne||{};var ae,ie;switch(_$1.util.type(te)){case"Object":if(ie=_$1.util.objId(te),ne[ie])return ne[ie];ae={},ne[ie]=ae;for(var se in te)te.hasOwnProperty(se)&&(ae[se]=ee(te[se],ne));return ae;case"Array":return ie=_$1.util.objId(te),ne[ie]?ne[ie]:(ae=[],ne[ie]=ae,te.forEach(function(oe,le){ae[le]=ee(oe,ne)}),ae);default:return te}}},languages:{plain:plainTextGrammar,plaintext:plainTextGrammar,text:plainTextGrammar,txt:plainTextGrammar,extend:function(ee,te){var ne=_$1.util.clone(_$1.languages[ee]);for(var ae in te)ne[ae]=te[ae];return ne},insertBefore:function(ee,te,ne,ae){ae=ae||_$1.languages;var ie=ae[ee],se={};for(var oe in ie)if(ie.hasOwnProperty(oe)){if(oe==te)for(var le in ne)ne.hasOwnProperty(le)&&(se[le]=ne[le]);ne.hasOwnProperty(oe)||(se[oe]=ie[oe])}var ce=ae[ee];return ae[ee]=se,_$1.languages.DFS(_$1.languages,function(he,fe){fe===ce&&he!=ee&&(this[he]=se)}),se},DFS:function ee(te,ne,ae,ie){ie=ie||{};var se=_$1.util.objId;for(var oe in te)if(te.hasOwnProperty(oe)){ne.call(te,oe,te[oe],ae||oe);var le=te[oe],ce=_$1.util.type(le);ce==="Object"&&!ie[se(le)]?(ie[se(le)]=!0,ee(le,ne,null,ie)):ce==="Array"&&!ie[se(le)]&&(ie[se(le)]=!0,ee(le,ne,oe,ie))}}},plugins:{},highlight:function(ee,te,ne){var ae={code:ee,grammar:te,language:ne};if(_$1.hooks.run("before-tokenize",ae),!ae.grammar)throw new Error('The language "'+ae.language+'" has no grammar.');return ae.tokens=_$1.tokenize(ae.code,ae.grammar),_$1.hooks.run("after-tokenize",ae),Token.stringify(_$1.util.encode(ae.tokens),ae.language)},tokenize:function(ee,te){var ne=te.rest;if(ne){for(var ae in ne)te[ae]=ne[ae];delete te.rest}var ie=new LinkedList;return addAfter(ie,ie.head,ee),matchGrammar(ee,ie,te,ie.head,0),toArray$1(ie)},hooks:{all:{},add:function(ee,te){var ne=_$1.hooks.all;ne[ee]=ne[ee]||[],ne[ee].push(te)},run:function(ee,te){var ne=_$1.hooks.all[ee];if(!(!ne||!ne.length))for(var ae=0,ie;ie=ne[ae++];)ie(te)}},Token};function Token(ee,te,ne,ae){this.type=ee,this.content=te,this.alias=ne,this.length=(ae||"").length|0}function matchPattern(ee,te,ne,ae){ee.lastIndex=te;var ie=ee.exec(ne);if(ie&&ae&&ie[1]){var se=ie[1].length;ie.index+=se,ie[0]=ie[0].slice(se)}return ie}function matchGrammar(ee,te,ne,ae,ie,se){for(var oe in ne)if(!(!ne.hasOwnProperty(oe)||!ne[oe])){var le=ne[oe];le=Array.isArray(le)?le:[le];for(var ce=0;ce<le.length;++ce){if(se&&se.cause==oe+","+ce)return;var he=le[ce],fe=he.inside,pe=!!he.lookbehind,ge=!!he.greedy,ye=he.alias;if(ge&&!he.pattern.global){var xe=he.pattern.toString().match(/[imsuy]*$/)[0];he.pattern=RegExp(he.pattern.source,xe+"g")}for(var be=he.pattern||he,Se=ae.next,ve=ie;Se!==te.tail&&!(se&&ve>=se.reach);ve+=Se.value.length,Se=Se.next){var Te=Se.value;if(te.length>ee.length)return;if(!(Te instanceof Token)){var Ce=1,Pe;if(ge){if(Pe=matchPattern(be,ve,ee,pe),!Pe||Pe.index>=ee.length)break;var Ge=Pe.index,Be=Pe.index+Pe[0].length,Ae=ve;for(Ae+=Se.value.length;Ge>=Ae;)Se=Se.next,Ae+=Se.value.length;if(Ae-=Se.value.length,ve=Ae,Se.value instanceof Token)continue;for(var Me=Se;Me!==te.tail&&(Ae<Be||typeof Me.value=="string");Me=Me.next)Ce++,Ae+=Me.value.length;Ce--,Te=ee.slice(ve,Ae),Pe.index-=ve}else if(Pe=matchPattern(be,0,Te,pe),!Pe)continue;var Ge=Pe.index,Ue=Pe[0],Ve=Te.slice(0,Ge),je=Te.slice(Ge+Ue.length),De=ve+Te.length;se&&De>se.reach&&(se.reach=De);var Ye=Se.prev;Ve&&(Ye=addAfter(te,Ye,Ve),ve+=Ve.length),removeRange(te,Ye,Ce);var ke=new Token(oe,fe?_$1.tokenize(Ue,fe):Ue,ye,Ue);if(Se=addAfter(te,Ye,ke),je&&addAfter(te,Se,je),Ce>1){var $e={cause:oe+","+ce,reach:De};matchGrammar(ee,te,ne,Se.prev,ve,$e),se&&$e.reach>se.reach&&(se.reach=$e.reach)}}}}}}function LinkedList(){var ee={value:null,prev:null,next:null},te={value:null,prev:ee,next:null};ee.next=te,this.head=ee,this.tail=te,this.length=0}function addAfter(ee,te,ne){var ae=te.next,ie={value:ne,prev:te,next:ae};return te.next=ie,ae.prev=ie,ee.length++,ie}function removeRange(ee,te,ne){for(var ae=te.next,ie=0;ie<ne&&ae!==ee.tail;ie++)ae=ae.next;te.next=ae,ae.prev=te,ee.length-=ie}function toArray$1(ee){for(var te=[],ne=ee.head.next;ne!==ee.tail;)te.push(ne.value),ne=ne.next;return te}const Prism=_$1;function Refractor(){}Refractor.prototype=Prism;const refractor=new Refractor;refractor.highlight=highlight;refractor.register=register;refractor.alias=alias;refractor.registered=registered;refractor.listLanguages=listLanguages;refractor.util.encode=encode;refractor.Token.stringify=stringify$1;function highlight(ee,te){if(typeof ee!="string")throw new TypeError("Expected `string` for `value`, got `"+ee+"`");let ne,ae;if(te&&typeof te=="object")ne=te;else{if(ae=te,typeof ae!="string")throw new TypeError("Expected `string` for `name`, got `"+ae+"`");if(Object.hasOwn(refractor.languages,ae))ne=refractor.languages[ae];else throw new Error("Unknown language: `"+ae+"` is not registered")}return{type:"root",children:Prism.highlight.call(refractor,ee,ne,ae)}}function register(ee){if(typeof ee!="function"||!ee.displayName)throw new Error("Expected `function` for `syntax`, got `"+ee+"`");Object.hasOwn(refractor.languages,ee.displayName)||ee(refractor)}function alias(ee,te){const ne=refractor.languages;let ae={};typeof ee=="string"?te&&(ae[ee]=te):ae=ee;let ie;for(ie in ae)if(Object.hasOwn(ae,ie)){const se=ae[ie],oe=typeof se=="string"?[se]:se;let le=-1;for(;++le<oe.length;)ne[oe[le]]=ne[ie]}}function registered(ee){if(typeof ee!="string")throw new TypeError("Expected `string` for `aliasOrLanguage`, got `"+ee+"`");return Object.hasOwn(refractor.languages,ee)}function listLanguages(){const ee=refractor.languages,te=[];let ne;for(ne in ee)Object.hasOwn(ee,ne)&&typeof ee[ne]=="object"&&te.push(ne);return te}function stringify$1(ee,te){if(typeof ee=="string")return{type:"text",value:ee};if(Array.isArray(ee)){const ae=[];let ie=-1;for(;++ie<ee.length;)ee[ie]!==null&&ee[ie]!==void 0&&ee[ie]!==""&&ae.push(stringify$1(ee[ie],te));return ae}const ne={attributes:{},classes:["token",ee.type],content:stringify$1(ee.content,te),language:te,tag:"span",type:ee.type};return ee.alias&&ne.classes.push(...typeof ee.alias=="string"?[ee.alias]:ee.alias),refractor.hooks.run("wrap",ne),h$1(ne.tag+"."+ne.classes.join("."),attributes(ne.attributes),ne.content)}function encode(ee){return ee}function attributes(ee){let te;for(te in ee)Object.hasOwn(ee,te)&&(ee[te]=parseEntities(ee[te]));return ee}var SyntaxHighlighter=highlight$1(refractor,{});SyntaxHighlighter.registerLanguage=function(ee,te){return refractor.register(te)};SyntaxHighlighter.alias=function(ee,te){return refractor.alias(ee,te)};markup.displayName="markup";markup.aliases=["atom","html","mathml","rss","ssml","svg","xml"];function markup(ee){ee.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},ee.languages.markup.tag.inside["attr-value"].inside.entity=ee.languages.markup.entity,ee.languages.markup.doctype.inside["internal-subset"].inside=ee.languages.markup,ee.hooks.add("wrap",function(te){te.type==="entity"&&(te.attributes.title=te.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(ee.languages.markup.tag,"addInlined",{value:function(ne,ae){var ie={};ie["language-"+ae]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:ee.languages[ae]},ie.cdata=/^<!\[CDATA\[|\]\]>$/i;var se={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:ie}};se["language-"+ae]={pattern:/[\s\S]+/,inside:ee.languages[ae]};var oe={};oe[ne]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return ne}),"i"),lookbehind:!0,greedy:!0,inside:se},ee.languages.insertBefore("markup","cdata",oe)}}),Object.defineProperty(ee.languages.markup.tag,"addAttribute",{value:function(te,ne){ee.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+te+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[ne,"language-"+ne],inside:ee.languages[ne]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),ee.languages.html=ee.languages.markup,ee.languages.mathml=ee.languages.markup,ee.languages.svg=ee.languages.markup,ee.languages.xml=ee.languages.extend("markup",{}),ee.languages.ssml=ee.languages.xml,ee.languages.atom=ee.languages.xml,ee.languages.rss=ee.languages.xml}css.displayName="css";css.aliases=[];function css(ee){(function(te){var ne=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;te.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+ne.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+ne.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+ne.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+ne.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:ne,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},te.languages.css.atrule.inside.rest=te.languages.css;var ae=te.languages.markup;ae&&(ae.tag.addInlined("style","css"),ae.tag.addAttribute("style","css"))})(ee)}clike.displayName="clike";clike.aliases=[];function clike(ee){ee.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}javascript.displayName="javascript";javascript.aliases=["js"];function javascript(ee){ee.register(clike),ee.languages.javascript=ee.languages.extend("clike",{"class-name":[ee.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),ee.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,ee.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:ee.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:ee.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:ee.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:ee.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:ee.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),ee.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:ee.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),ee.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),ee.languages.markup&&(ee.languages.markup.tag.addInlined("script","javascript"),ee.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),ee.languages.js=ee.languages.javascript}bash.displayName="bash";bash.aliases=["sh","shell"];function bash(ee){(function(te){var ne="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",ae={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},ie={bash:ae,environment:{pattern:RegExp("\\$"+ne),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+ne),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};te.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+ne),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:ie},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:ae}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:ie},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:ie.entity}}],environment:{pattern:RegExp("\\$?"+ne),alias:"constant"},variable:ie.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},ae.inside=te.languages.bash;for(var se=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],oe=ie.variable[1].inside,le=0;le<se.length;le++)oe[se[le]]=te.languages.bash[se[le]];te.languages.sh=te.languages.bash,te.languages.shell=te.languages.bash})(ee)}markdown.displayName="markdown";markdown.aliases=["md"];function markdown(ee){ee.register(markup),(function(te){var ne=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function ae(le){return le=le.replace(/<inner>/g,function(){return ne}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+le+")")}var ie=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,se=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return ie}),oe=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;te.languages.markdown=te.languages.extend("markup",{}),te.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:te.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+se+oe+"(?:"+se+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+se+oe+")(?:"+se+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(ie),inside:te.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+se+")"+oe+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+se+"$"),inside:{"table-header":{pattern:RegExp(ie),alias:"important",inside:te.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:ae(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:ae(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:ae(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:ae(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(le){["url","bold","italic","strike","code-snippet"].forEach(function(ce){le!==ce&&(te.languages.markdown[le].inside.content.inside[ce]=te.languages.markdown[ce])})}),te.hooks.add("after-tokenize",function(le){if(le.language!=="markdown"&&le.language!=="md")return;function ce(he){if(!(!he||typeof he=="string"))for(var fe=0,pe=he.length;fe<pe;fe++){var ge=he[fe];if(ge.type!=="code"){ce(ge.content);continue}var ye=ge.content[1],xe=ge.content[3];if(ye&&xe&&ye.type==="code-language"&&xe.type==="code-block"&&typeof ye.content=="string"){var be=ye.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");be=(/[a-z][\w-]*/i.exec(be)||[""])[0].toLowerCase();var Se="language-"+be;xe.alias?typeof xe.alias=="string"?xe.alias=[xe.alias,Se]:xe.alias.push(Se):xe.alias=[Se]}}}ce(le.tokens)}),te.hooks.add("wrap",function(le){if(le.type==="code-block"){for(var ce="",he=0,fe=le.classes.length;he<fe;he++){var pe=le.classes[he],ge=/language-(.+)/.exec(pe);if(ge){ce=ge[1];break}}var ye=te.languages[ce];if(ye)le.content=te.highlight(le.content.value,ye,ce);else if(ce&&ce!=="none"&&te.plugins.autoloader){var xe="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);le.attributes.id=xe,te.plugins.autoloader.loadLanguages(ce,function(){var be=document.getElementById(xe);be&&(be.innerHTML=te.highlight(be.textContent,te.languages[ce],ce))})}}}),RegExp(te.languages.markup.tag.pattern.source,"gi"),te.languages.md=te.languages.markdown})(ee)}json$1.displayName="json";json$1.aliases=["webmanifest"];function json$1(ee){ee.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},ee.languages.webmanifest=ee.languages.json}typescript.displayName="typescript";typescript.aliases=["ts"];function typescript(ee){ee.register(javascript),(function(te){te.languages.typescript=te.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),te.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete te.languages.typescript.parameter,delete te.languages.typescript["literal-property"];var ne=te.languages.extend("typescript",{});delete ne["class-name"],te.languages.typescript["class-name"].inside=ne,te.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:ne}}}}),te.languages.ts=te.languages.typescript})(ee)}python.displayName="python";python.aliases=["py"];function python(ee){ee.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},ee.languages.python["string-interpolation"].inside.interpolation.inside.rest=ee.languages.python,ee.languages.py=ee.languages.python}const vscDarkPlus={'pre[class*="language-"]':{color:"#d4d4d4",fontSize:"13px",textShadow:"none",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto",background:"#1e1e1e"},'code[class*="language-"]':{color:"#d4d4d4",fontSize:"13px",textShadow:"none",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#264F78"},'code[class*="language-"]::selection':{textShadow:"none",background:"#264F78"},'pre[class*="language-"] *::selection':{textShadow:"none",background:"#264F78"},'code[class*="language-"] *::selection':{textShadow:"none",background:"#264F78"},':not(pre) > code[class*="language-"]':{padding:".1em .3em",borderRadius:".3em",color:"#db4c69",background:"#1e1e1e"},".namespace":{Opacity:".7"},"doctype.doctype-tag":{color:"#569CD6"},"doctype.name":{color:"#9cdcfe"},comment:{color:"#6a9955"},prolog:{color:"#6a9955"},punctuation:{color:"#d4d4d4"},".language-html .language-css .token.punctuation":{color:"#d4d4d4"},".language-html .language-javascript .token.punctuation":{color:"#d4d4d4"},property:{color:"#9cdcfe"},tag:{color:"#569cd6"},boolean:{color:"#569cd6"},number:{color:"#b5cea8"},constant:{color:"#9cdcfe"},symbol:{color:"#b5cea8"},inserted:{color:"#b5cea8"},unit:{color:"#b5cea8"},selector:{color:"#d7ba7d"},"attr-name":{color:"#9cdcfe"},string:{color:"#ce9178"},char:{color:"#ce9178"},builtin:{color:"#ce9178"},deleted:{color:"#ce9178"},".language-css .token.string.url":{textDecoration:"underline"},operator:{color:"#d4d4d4"},entity:{color:"#569cd6"},"operator.arrow":{color:"#569CD6"},atrule:{color:"#ce9178"},"atrule.rule":{color:"#c586c0"},"atrule.url":{color:"#9cdcfe"},"atrule.url.function":{color:"#dcdcaa"},"atrule.url.punctuation":{color:"#d4d4d4"},keyword:{color:"#569CD6"},"keyword.module":{color:"#c586c0"},"keyword.control-flow":{color:"#c586c0"},function:{color:"#dcdcaa"},"function.maybe-class-name":{color:"#dcdcaa"},regex:{color:"#d16969"},important:{color:"#569cd6"},italic:{fontStyle:"italic"},"class-name":{color:"#4ec9b0"},"maybe-class-name":{color:"#4ec9b0"},console:{color:"#9cdcfe"},parameter:{color:"#9cdcfe"},interpolation:{color:"#9cdcfe"},"punctuation.interpolation-punctuation":{color:"#569cd6"},variable:{color:"#9cdcfe"},"imports.maybe-class-name":{color:"#9cdcfe"},"exports.maybe-class-name":{color:"#9cdcfe"},escape:{color:"#d7ba7d"},"tag.punctuation":{color:"#808080"},cdata:{color:"#808080"},"attr-value":{color:"#ce9178"},"attr-value.punctuation":{color:"#ce9178"},"attr-value.punctuation.attr-equals":{color:"#d4d4d4"},namespace:{color:"#4ec9b0"},'pre[class*="language-javascript"]':{color:"#9cdcfe"},'code[class*="language-javascript"]':{color:"#9cdcfe"},'pre[class*="language-jsx"]':{color:"#9cdcfe"},'code[class*="language-jsx"]':{color:"#9cdcfe"},'pre[class*="language-typescript"]':{color:"#9cdcfe"},'code[class*="language-typescript"]':{color:"#9cdcfe"},'pre[class*="language-tsx"]':{color:"#9cdcfe"},'code[class*="language-tsx"]':{color:"#9cdcfe"},'pre[class*="language-css"]':{color:"#ce9178"},'code[class*="language-css"]':{color:"#ce9178"},'pre[class*="language-html"]':{color:"#d4d4d4"},'code[class*="language-html"]':{color:"#d4d4d4"},".language-regex .token.anchor":{color:"#dcdcaa"},".language-html .token.punctuation":{color:"#808080"},'pre[class*="language-"] > code[class*="language-"]':{position:"relative",zIndex:"1"},".line-highlight.line-highlight":{background:"#f7ebc6",boxShadow:"inset 5px 0 0 #f7d87c",zIndex:"0"}};var dayjs_min$1={exports:{}},dayjs_min=dayjs_min$1.exports,hasRequiredDayjs_min;function requireDayjs_min(){return hasRequiredDayjs_min||(hasRequiredDayjs_min=1,(function(ee,te){(function(ne,ae){ee.exports=ae()})(dayjs_min,(function(){var ne=1e3,ae=6e4,ie=36e5,se="millisecond",oe="second",le="minute",ce="hour",he="day",fe="week",pe="month",ge="quarter",ye="year",xe="date",be="Invalid Date",Se=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ve=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Te={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ke){var $e=["th","st","nd","rd"],Oe=ke%100;return"["+ke+($e[(Oe-20)%10]||$e[Oe]||$e[0])+"]"}},Ce=function(ke,$e,Oe){var He=String(ke);return!He||He.length>=$e?ke:""+Array($e+1-He.length).join(Oe)+ke},Pe={s:Ce,z:function(ke){var $e=-ke.utcOffset(),Oe=Math.abs($e),He=Math.floor(Oe/60),qe=Oe%60;return($e<=0?"+":"-")+Ce(He,2,"0")+":"+Ce(qe,2,"0")},m:function ke($e,Oe){if($e.date()<Oe.date())return-ke(Oe,$e);var He=12*(Oe.year()-$e.year())+(Oe.month()-$e.month()),qe=$e.clone().add(He,pe),Xe=Oe-qe<0,ze=$e.clone().add(He+(Xe?-1:1),pe);return+(-(He+(Oe-qe)/(Xe?qe-ze:ze-qe))||0)},a:function(ke){return ke<0?Math.ceil(ke)||0:Math.floor(ke)},p:function(ke){return{M:pe,y:ye,w:fe,d:he,D:xe,h:ce,m:le,s:oe,ms:se,Q:ge}[ke]||String(ke||"").toLowerCase().replace(/s$/,"")},u:function(ke){return ke===void 0}},Be="en",Ae={};Ae[Be]=Te;var Me="$isDayjsObject",Ge=function(ke){return ke instanceof De||!(!ke||!ke[Me])},Ue=function ke($e,Oe,He){var qe;if(!$e)return Be;if(typeof $e=="string"){var Xe=$e.toLowerCase();Ae[Xe]&&(qe=Xe),Oe&&(Ae[Xe]=Oe,qe=Xe);var ze=$e.split("-");if(!qe&&ze.length>1)return ke(ze[0])}else{var Ie=$e.name;Ae[Ie]=$e,qe=Ie}return!He&&qe&&(Be=qe),qe||!He&&Be},Ve=function(ke,$e){if(Ge(ke))return ke.clone();var Oe=typeof $e=="object"?$e:{};return Oe.date=ke,Oe.args=arguments,new De(Oe)},je=Pe;je.l=Ue,je.i=Ge,je.w=function(ke,$e){return Ve(ke,{locale:$e.$L,utc:$e.$u,x:$e.$x,$offset:$e.$offset})};var De=(function(){function ke(Oe){this.$L=Ue(Oe.locale,null,!0),this.parse(Oe),this.$x=this.$x||Oe.x||{},this[Me]=!0}var $e=ke.prototype;return $e.parse=function(Oe){this.$d=(function(He){var qe=He.date,Xe=He.utc;if(qe===null)return new Date(NaN);if(je.u(qe))return new Date;if(qe instanceof Date)return new Date(qe);if(typeof qe=="string"&&!/Z$/i.test(qe)){var ze=qe.match(Se);if(ze){var Ie=ze[2]-1||0,Fe=(ze[7]||"0").substring(0,3);return Xe?new Date(Date.UTC(ze[1],Ie,ze[3]||1,ze[4]||0,ze[5]||0,ze[6]||0,Fe)):new Date(ze[1],Ie,ze[3]||1,ze[4]||0,ze[5]||0,ze[6]||0,Fe)}}return new Date(qe)})(Oe),this.init()},$e.init=function(){var Oe=this.$d;this.$y=Oe.getFullYear(),this.$M=Oe.getMonth(),this.$D=Oe.getDate(),this.$W=Oe.getDay(),this.$H=Oe.getHours(),this.$m=Oe.getMinutes(),this.$s=Oe.getSeconds(),this.$ms=Oe.getMilliseconds()},$e.$utils=function(){return je},$e.isValid=function(){return this.$d.toString()!==be},$e.isSame=function(Oe,He){var qe=Ve(Oe);return this.startOf(He)<=qe&&qe<=this.endOf(He)},$e.isAfter=function(Oe,He){return Ve(Oe)<this.startOf(He)},$e.isBefore=function(Oe,He){return this.endOf(He)<Ve(Oe)},$e.$g=function(Oe,He,qe){return je.u(Oe)?this[He]:this.set(qe,Oe)},$e.unix=function(){return Math.floor(this.valueOf()/1e3)},$e.valueOf=function(){return this.$d.getTime()},$e.startOf=function(Oe,He){var qe=this,Xe=!!je.u(He)||He,ze=je.p(Oe),Ie=function(kt,At){var Vt=je.w(qe.$u?Date.UTC(qe.$y,At,kt):new Date(qe.$y,At,kt),qe);return Xe?Vt:Vt.endOf(he)},Fe=function(kt,At){return je.w(qe.toDate()[kt].apply(qe.toDate("s"),(Xe?[0,0,0,0]:[23,59,59,999]).slice(At)),qe)},Le=this.$W,Ze=this.$M,Qe=this.$D,St="set"+(this.$u?"UTC":"");switch(ze){case ye:return Xe?Ie(1,0):Ie(31,11);case pe:return Xe?Ie(1,Ze):Ie(0,Ze+1);case fe:var Nt=this.$locale().weekStart||0,Ct=(Le<Nt?Le+7:Le)-Nt;return Ie(Xe?Qe-Ct:Qe+(6-Ct),Ze);case he:case xe:return Fe(St+"Hours",0);case ce:return Fe(St+"Minutes",1);case le:return Fe(St+"Seconds",2);case oe:return Fe(St+"Milliseconds",3);default:return this.clone()}},$e.endOf=function(Oe){return this.startOf(Oe,!1)},$e.$set=function(Oe,He){var qe,Xe=je.p(Oe),ze="set"+(this.$u?"UTC":""),Ie=(qe={},qe[he]=ze+"Date",qe[xe]=ze+"Date",qe[pe]=ze+"Month",qe[ye]=ze+"FullYear",qe[ce]=ze+"Hours",qe[le]=ze+"Minutes",qe[oe]=ze+"Seconds",qe[se]=ze+"Milliseconds",qe)[Xe],Fe=Xe===he?this.$D+(He-this.$W):He;if(Xe===pe||Xe===ye){var Le=this.clone().set(xe,1);Le.$d[Ie](Fe),Le.init(),this.$d=Le.set(xe,Math.min(this.$D,Le.daysInMonth())).$d}else Ie&&this.$d[Ie](Fe);return this.init(),this},$e.set=function(Oe,He){return this.clone().$set(Oe,He)},$e.get=function(Oe){return this[je.p(Oe)]()},$e.add=function(Oe,He){var qe,Xe=this;Oe=Number(Oe);var ze=je.p(He),Ie=function(Ze){var Qe=Ve(Xe);return je.w(Qe.date(Qe.date()+Math.round(Ze*Oe)),Xe)};if(ze===pe)return this.set(pe,this.$M+Oe);if(ze===ye)return this.set(ye,this.$y+Oe);if(ze===he)return Ie(1);if(ze===fe)return Ie(7);var Fe=(qe={},qe[le]=ae,qe[ce]=ie,qe[oe]=ne,qe)[ze]||1,Le=this.$d.getTime()+Oe*Fe;return je.w(Le,this)},$e.subtract=function(Oe,He){return this.add(-1*Oe,He)},$e.format=function(Oe){var He=this,qe=this.$locale();if(!this.isValid())return qe.invalidDate||be;var Xe=Oe||"YYYY-MM-DDTHH:mm:ssZ",ze=je.z(this),Ie=this.$H,Fe=this.$m,Le=this.$M,Ze=qe.weekdays,Qe=qe.months,St=qe.meridiem,Nt=function(At,Vt,Kt,jt){return At&&(At[Vt]||At(He,Xe))||Kt[Vt].slice(0,jt)},Ct=function(At){return je.s(Ie%12||12,At,"0")},kt=St||function(At,Vt,Kt){var jt=At<12?"AM":"PM";return Kt?jt.toLowerCase():jt};return Xe.replace(ve,(function(At,Vt){return Vt||(function(Kt){switch(Kt){case"YY":return String(He.$y).slice(-2);case"YYYY":return je.s(He.$y,4,"0");case"M":return Le+1;case"MM":return je.s(Le+1,2,"0");case"MMM":return Nt(qe.monthsShort,Le,Qe,3);case"MMMM":return Nt(Qe,Le);case"D":return He.$D;case"DD":return je.s(He.$D,2,"0");case"d":return String(He.$W);case"dd":return Nt(qe.weekdaysMin,He.$W,Ze,2);case"ddd":return Nt(qe.weekdaysShort,He.$W,Ze,3);case"dddd":return Ze[He.$W];case"H":return String(Ie);case"HH":return je.s(Ie,2,"0");case"h":return Ct(1);case"hh":return Ct(2);case"a":return kt(Ie,Fe,!0);case"A":return kt(Ie,Fe,!1);case"m":return String(Fe);case"mm":return je.s(Fe,2,"0");case"s":return String(He.$s);case"ss":return je.s(He.$s,2,"0");case"SSS":return je.s(He.$ms,3,"0");case"Z":return ze}return null})(At)||ze.replace(":","")}))},$e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$e.diff=function(Oe,He,qe){var Xe,ze=this,Ie=je.p(He),Fe=Ve(Oe),Le=(Fe.utcOffset()-this.utcOffset())*ae,Ze=this-Fe,Qe=function(){return je.m(ze,Fe)};switch(Ie){case ye:Xe=Qe()/12;break;case pe:Xe=Qe();break;case ge:Xe=Qe()/3;break;case fe:Xe=(Ze-Le)/6048e5;break;case he:Xe=(Ze-Le)/864e5;break;case ce:Xe=Ze/ie;break;case le:Xe=Ze/ae;break;case oe:Xe=Ze/ne;break;default:Xe=Ze}return qe?Xe:je.a(Xe)},$e.daysInMonth=function(){return this.endOf(pe).$D},$e.$locale=function(){return Ae[this.$L]},$e.locale=function(Oe,He){if(!Oe)return this.$L;var qe=this.clone(),Xe=Ue(Oe,He,!0);return Xe&&(qe.$L=Xe),qe},$e.clone=function(){return je.w(this.$d,this)},$e.toDate=function(){return new Date(this.valueOf())},$e.toJSON=function(){return this.isValid()?this.toISOString():null},$e.toISOString=function(){return this.$d.toISOString()},$e.toString=function(){return this.$d.toUTCString()},ke})(),Ye=De.prototype;return Ve.prototype=Ye,[["$ms",se],["$s",oe],["$m",le],["$H",ce],["$W",he],["$M",pe],["$y",ye],["$D",xe]].forEach((function(ke){Ye[ke[1]]=function($e){return this.$g($e,ke[0],ke[1])}})),Ve.extend=function(ke,$e){return ke.$i||(ke($e,De,Ve),ke.$i=!0),Ve},Ve.locale=Ue,Ve.isDayjs=Ge,Ve.unix=function(ke){return Ve(1e3*ke)},Ve.en=Ae[Be],Ve.Ls=Ae,Ve.p={},Ve}))})(dayjs_min$1)),dayjs_min$1.exports}var dayjs_minExports=requireDayjs_min();const dayjs2=getDefaultExportFromCjs(dayjs_minExports),Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:ee=>ee>=255?255:ee<0?0:ee,g:ee=>ee>=255?255:ee<0?0:ee,b:ee=>ee>=255?255:ee<0?0:ee,h:ee=>ee%360,s:ee=>ee>=100?100:ee<0?0:ee,l:ee=>ee>=100?100:ee<0?0:ee,a:ee=>ee>=1?1:ee<0?0:ee},toLinear:ee=>{const te=ee/255;return ee>.03928?Math.pow((te+.055)/1.055,2.4):te/12.92},hue2rgb:(ee,te,ne)=>(ne<0&&(ne+=1),ne>1&&(ne-=1),ne<1/6?ee+(te-ee)*6*ne:ne<1/2?te:ne<2/3?ee+(te-ee)*(2/3-ne)*6:ee),hsl2rgb:({h:ee,s:te,l:ne},ae)=>{if(!te)return ne*2.55;ee/=360,te/=100,ne/=100;const ie=ne<.5?ne*(1+te):ne+te-ne*te,se=2*ne-ie;switch(ae){case"r":return Channel.hue2rgb(se,ie,ee+1/3)*255;case"g":return Channel.hue2rgb(se,ie,ee)*255;case"b":return Channel.hue2rgb(se,ie,ee-1/3)*255}},rgb2hsl:({r:ee,g:te,b:ne},ae)=>{ee/=255,te/=255,ne/=255;const ie=Math.max(ee,te,ne),se=Math.min(ee,te,ne),oe=(ie+se)/2;if(ae==="l")return oe*100;if(ie===se)return 0;const le=ie-se,ce=oe>.5?le/(2-ie-se):le/(ie+se);if(ae==="s")return ce*100;switch(ie){case ee:return((te-ne)/le+(te<ne?6:0))*60;case te:return((ne-ee)/le+2)*60;case ne:return((ee-te)/le+4)*60;default:return-1}}},Lang={clamp:(ee,te,ne)=>te>ne?Math.min(te,Math.max(ne,ee)):Math.min(ne,Math.max(te,ee)),round:ee=>Math.round(ee*1e10)/1e10},Unit={dec2hex:ee=>{const te=Math.round(ee).toString(16);return te.length>1?te:`0${te}`}},Utils={channel:Channel,lang:Lang,unit:Unit},DEC2HEX={};for(let ee=0;ee<=255;ee++)DEC2HEX[ee]=Utils.unit.dec2hex(ee);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(te){if(this.type&&this.type!==te)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=te}reset(){this.type=TYPE.ALL}is(te){return this.type===te}}class Channels{constructor(te,ne){this.color=ne,this.changed=!1,this.data=te,this.type=new Type}set(te,ne){return this.color=ne,this.changed=!1,this.data=te,this.type.type=TYPE.ALL,this}_ensureHSL(){const te=this.data,{h:ne,s:ae,l:ie}=te;ne===void 0&&(te.h=Utils.channel.rgb2hsl(te,"h")),ae===void 0&&(te.s=Utils.channel.rgb2hsl(te,"s")),ie===void 0&&(te.l=Utils.channel.rgb2hsl(te,"l"))}_ensureRGB(){const te=this.data,{r:ne,g:ae,b:ie}=te;ne===void 0&&(te.r=Utils.channel.hsl2rgb(te,"r")),ae===void 0&&(te.g=Utils.channel.hsl2rgb(te,"g")),ie===void 0&&(te.b=Utils.channel.hsl2rgb(te,"b"))}get r(){const te=this.data,ne=te.r;return!this.type.is(TYPE.HSL)&&ne!==void 0?ne:(this._ensureHSL(),Utils.channel.hsl2rgb(te,"r"))}get g(){const te=this.data,ne=te.g;return!this.type.is(TYPE.HSL)&&ne!==void 0?ne:(this._ensureHSL(),Utils.channel.hsl2rgb(te,"g"))}get b(){const te=this.data,ne=te.b;return!this.type.is(TYPE.HSL)&&ne!==void 0?ne:(this._ensureHSL(),Utils.channel.hsl2rgb(te,"b"))}get h(){const te=this.data,ne=te.h;return!this.type.is(TYPE.RGB)&&ne!==void 0?ne:(this._ensureRGB(),Utils.channel.rgb2hsl(te,"h"))}get s(){const te=this.data,ne=te.s;return!this.type.is(TYPE.RGB)&&ne!==void 0?ne:(this._ensureRGB(),Utils.channel.rgb2hsl(te,"s"))}get l(){const te=this.data,ne=te.l;return!this.type.is(TYPE.RGB)&&ne!==void 0?ne:(this._ensureRGB(),Utils.channel.rgb2hsl(te,"l"))}get a(){return this.data.a}set r(te){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=te}set g(te){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=te}set b(te){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=te}set h(te){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=te}set s(te){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=te}set l(te){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=te}set a(te){this.changed=!0,this.data.a=te}}const channels=new Channels({r:0,g:0,b:0,a:0},"transparent"),Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:ee=>{if(ee.charCodeAt(0)!==35)return;const te=ee.match(Hex.re);if(!te)return;const ne=te[1],ae=parseInt(ne,16),ie=ne.length,se=ie%4===0,oe=ie>4,le=oe?1:17,ce=oe?8:4,he=se?0:-1,fe=oe?255:15;return channels.set({r:(ae>>ce*(he+3)&fe)*le,g:(ae>>ce*(he+2)&fe)*le,b:(ae>>ce*(he+1)&fe)*le,a:se?(ae&fe)*le/255:1},ee)},stringify:ee=>{const{r:te,g:ne,b:ae,a:ie}=ee;return ie<1?`#${DEC2HEX[Math.round(te)]}${DEC2HEX[Math.round(ne)]}${DEC2HEX[Math.round(ae)]}${DEC2HEX[Math.round(ie*255)]}`:`#${DEC2HEX[Math.round(te)]}${DEC2HEX[Math.round(ne)]}${DEC2HEX[Math.round(ae)]}`}},HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:ee=>{const te=ee.match(HSL.hueRe);if(te){const[,ne,ae]=te;switch(ae){case"grad":return Utils.channel.clamp.h(parseFloat(ne)*.9);case"rad":return Utils.channel.clamp.h(parseFloat(ne)*180/Math.PI);case"turn":return Utils.channel.clamp.h(parseFloat(ne)*360)}}return Utils.channel.clamp.h(parseFloat(ee))},parse:ee=>{const te=ee.charCodeAt(0);if(te!==104&&te!==72)return;const ne=ee.match(HSL.re);if(!ne)return;const[,ae,ie,se,oe,le]=ne;return channels.set({h:HSL._hue2deg(ae),s:Utils.channel.clamp.s(parseFloat(ie)),l:Utils.channel.clamp.l(parseFloat(se)),a:oe?Utils.channel.clamp.a(le?parseFloat(oe)/100:parseFloat(oe)):1},ee)},stringify:ee=>{const{h:te,s:ne,l:ae,a:ie}=ee;return ie<1?`hsla(${Utils.lang.round(te)}, ${Utils.lang.round(ne)}%, ${Utils.lang.round(ae)}%, ${ie})`:`hsl(${Utils.lang.round(te)}, ${Utils.lang.round(ne)}%, ${Utils.lang.round(ae)}%)`}},Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:ee=>{ee=ee.toLowerCase();const te=Keyword.colors[ee];if(te)return Hex.parse(te)},stringify:ee=>{const te=Hex.stringify(ee);for(const ne in Keyword.colors)if(Keyword.colors[ne]===te)return ne}},RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:ee=>{const te=ee.charCodeAt(0);if(te!==114&&te!==82)return;const ne=ee.match(RGB.re);if(!ne)return;const[,ae,ie,se,oe,le,ce,he,fe]=ne;return channels.set({r:Utils.channel.clamp.r(ie?parseFloat(ae)*2.55:parseFloat(ae)),g:Utils.channel.clamp.g(oe?parseFloat(se)*2.55:parseFloat(se)),b:Utils.channel.clamp.b(ce?parseFloat(le)*2.55:parseFloat(le)),a:he?Utils.channel.clamp.a(fe?parseFloat(he)/100:parseFloat(he)):1},ee)},stringify:ee=>{const{r:te,g:ne,b:ae,a:ie}=ee;return ie<1?`rgba(${Utils.lang.round(te)}, ${Utils.lang.round(ne)}, ${Utils.lang.round(ae)}, ${Utils.lang.round(ie)})`:`rgb(${Utils.lang.round(te)}, ${Utils.lang.round(ne)}, ${Utils.lang.round(ae)})`}},Color$1={format:{keyword:Keyword,hex:Hex,rgb:RGB,rgba:RGB,hsl:HSL,hsla:HSL},parse:ee=>{if(typeof ee!="string")return ee;const te=Hex.parse(ee)||RGB.parse(ee)||HSL.parse(ee)||Keyword.parse(ee);if(te)return te;throw new Error(`Unsupported color format: "${ee}"`)},stringify:ee=>!ee.changed&&ee.color?ee.color:ee.type.is(TYPE.HSL)||ee.data.r===void 0?HSL.stringify(ee):ee.a<1||!Number.isInteger(ee.r)||!Number.isInteger(ee.g)||!Number.isInteger(ee.b)?RGB.stringify(ee):Hex.stringify(ee)},change=(ee,te)=>{const ne=Color$1.parse(ee);for(const ae in te)ne[ae]=Utils.channel.clamp[ae](te[ae]);return Color$1.stringify(ne)},rgba$1=(ee,te,ne=0,ae=1)=>{if(typeof ee!="number")return change(ee,{a:te});const ie=channels.set({r:Utils.channel.clamp.r(ee),g:Utils.channel.clamp.g(te),b:Utils.channel.clamp.b(ne),a:Utils.channel.clamp.a(ae)});return Color$1.stringify(ie)},luminance=ee=>{const{r:te,g:ne,b:ae}=Color$1.parse(ee),ie=.2126*Utils.channel.toLinear(te)+.7152*Utils.channel.toLinear(ne)+.0722*Utils.channel.toLinear(ae);return Utils.lang.round(ie)},isLight=ee=>luminance(ee)>=.5,isDark=ee=>!isLight(ee),adjustChannel=(ee,te,ne)=>{const ae=Color$1.parse(ee),ie=ae[te],se=Utils.channel.clamp[te](ie+ne);return ie!==se&&(ae[te]=se),Color$1.stringify(ae)},lighten=(ee,te)=>adjustChannel(ee,"l",te),darken=(ee,te)=>adjustChannel(ee,"l",-te),adjust=(ee,te)=>{const ne=Color$1.parse(ee),ae={};for(const ie in te)te[ie]&&(ae[ie]=ne[ie]+te[ie]);return change(ee,ae)},mix=(ee,te,ne=50)=>{const{r:ae,g:ie,b:se,a:oe}=Color$1.parse(ee),{r:le,g:ce,b:he,a:fe}=Color$1.parse(te),pe=ne/100,ge=pe*2-1,ye=oe-fe,be=((ge*ye===-1?ge:(ge+ye)/(1+ge*ye))+1)/2,Se=1-be,ve=ae*be+le*Se,Te=ie*be+ce*Se,Ce=se*be+he*Se,Pe=oe*pe+fe*(1-pe);return rgba$1(ve,Te,Ce,Pe)},invert=(ee,te=100)=>{const ne=Color$1.parse(ee);return ne.r=255-ne.r,ne.g=255-ne.g,ne.b=255-ne.b,mix(ne,ee,te)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create:create$1}=Object,{apply:apply$1,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(te){return te});seal||(seal=function(te){return te});apply$1||(apply$1=function(te,ne){for(var ae=arguments.length,ie=new Array(ae>2?ae-2:0),se=2;se<ae;se++)ie[se-2]=arguments[se];return te.apply(ne,ie)});construct||(construct=function(te){for(var ne=arguments.length,ae=new Array(ne>1?ne-1:0),ie=1;ie<ne;ie++)ae[ie-1]=arguments[ie];return new te(...ae)});const arrayForEach=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(ee){return function(te){te instanceof RegExp&&(te.lastIndex=0);for(var ne=arguments.length,ae=new Array(ne>1?ne-1:0),ie=1;ie<ne;ie++)ae[ie-1]=arguments[ie];return apply$1(ee,te,ae)}}function unconstruct(ee){return function(){for(var te=arguments.length,ne=new Array(te),ae=0;ae<te;ae++)ne[ae]=arguments[ae];return construct(ee,ne)}}function addToSet(ee,te){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(ee,null);let ae=te.length;for(;ae--;){let ie=te[ae];if(typeof ie=="string"){const se=ne(ie);se!==ie&&(isFrozen(te)||(te[ae]=se),ie=se)}ee[ie]=!0}return ee}function cleanArray(ee){for(let te=0;te<ee.length;te++)objectHasOwnProperty(ee,te)||(ee[te]=null);return ee}function clone(ee){const te=create$1(null);for(const[ne,ae]of entries(ee))objectHasOwnProperty(ee,ne)&&(Array.isArray(ae)?te[ne]=cleanArray(ae):ae&&typeof ae=="object"&&ae.constructor===Object?te[ne]=clone(ae):te[ne]=ae);return te}function lookupGetter(ee,te){for(;ee!==null;){const ae=getOwnPropertyDescriptor(ee,te);if(ae){if(ae.get)return unapply(ae.get);if(typeof ae.value=="function")return unapply(ae.value)}ee=getPrototypeOf(ee)}function ne(){return null}return ne}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text$1=freeze(["#text"]),html$2=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE={element:1,text:3,progressingInstruction:7,comment:8,document:9},getGlobal=function ee(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function ee(te,ne){if(typeof te!="object"||typeof te.createPolicy!="function")return null;let ae=null;const ie="data-tt-policy-suffix";ne&&ne.hasAttribute(ie)&&(ae=ne.getAttribute(ie));const se="dompurify"+(ae?"#"+ae:"");try{return te.createPolicy(se,{createHTML(oe){return oe},createScriptURL(oe){return oe}})}catch{return console.warn("TrustedTypes policy "+se+" could not be created."),null}},_createHooksMap=function ee(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const te=Ot=>createDOMPurify(Ot);if(te.version="3.3.1",te.removed=[],!ee||!ee.document||ee.document.nodeType!==NODE_TYPE.document||!ee.Element)return te.isSupported=!1,te;let{document:ne}=ee;const ae=ne,ie=ae.currentScript,{DocumentFragment:se,HTMLTemplateElement:oe,Node:le,Element:ce,NodeFilter:he,NamedNodeMap:fe=ee.NamedNodeMap||ee.MozNamedAttrMap,HTMLFormElement:pe,DOMParser:ge,trustedTypes:ye}=ee,xe=ce.prototype,be=lookupGetter(xe,"cloneNode"),Se=lookupGetter(xe,"remove"),ve=lookupGetter(xe,"nextSibling"),Te=lookupGetter(xe,"childNodes"),Ce=lookupGetter(xe,"parentNode");if(typeof oe=="function"){const Ot=ne.createElement("template");Ot.content&&Ot.content.ownerDocument&&(ne=Ot.content.ownerDocument)}let Pe,Be="";const{implementation:Ae,createNodeIterator:Me,createDocumentFragment:Ge,getElementsByTagName:Ue}=ne,{importNode:Ve}=ae;let je=_createHooksMap();te.isSupported=typeof entries=="function"&&typeof Ce=="function"&&Ae&&Ae.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:De,ERB_EXPR:Ye,TMPLIT_EXPR:ke,DATA_ATTR:$e,ARIA_ATTR:Oe,IS_SCRIPT_OR_DATA:He,ATTR_WHITESPACE:qe,CUSTOM_ELEMENT:Xe}=EXPRESSIONS;let{IS_ALLOWED_URI:ze}=EXPRESSIONS,Ie=null;const Fe=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text$1]);let Le=null;const Ze=addToSet({},[...html$2,...svg,...mathMl,...xml]);let Qe=Object.seal(create$1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),St=null,Nt=null;const Ct=Object.seal(create$1(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let kt=!0,At=!0,Vt=!1,Kt=!0,jt=!1,Ne=!0,_t=!1,dt=!1,Ke=!1,Je=!1,ut=!1,wt=!1,Et=!0,pt=!1;const Rt="user-content-";let It=!0,Bt=!1,ct={},bt=null;const Mt=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ut=null;const Yt=addToSet({},["audio","video","img","source","image","track"]);let cn=null;const In=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qt="http://www.w3.org/1998/Math/MathML",on="http://www.w3.org/2000/svg",hn="http://www.w3.org/1999/xhtml";let Ht=hn,jn=!1,Dn=null;const Ri=addToSet({},[qt,on,hn],stringToString);let Sr=addToSet({},["mi","mo","mn","ms","mtext"]),sr=addToSet({},["annotation-xml"]);const or=addToSet({},["title","style","font","a","script"]);let Vn=null;const Ua=["application/xhtml+xml","text/html"],wa="text/html";let Tn=null,Mr=null;const Mi=ne.createElement("form"),Qr=function(it){return it instanceof RegExp||it instanceof Function},Ni=function(){let it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Mr&&Mr===it)){if((!it||typeof it!="object")&&(it={}),it=clone(it),Vn=Ua.indexOf(it.PARSER_MEDIA_TYPE)===-1?wa:it.PARSER_MEDIA_TYPE,Tn=Vn==="application/xhtml+xml"?stringToString:stringToLowerCase,Ie=objectHasOwnProperty(it,"ALLOWED_TAGS")?addToSet({},it.ALLOWED_TAGS,Tn):Fe,Le=objectHasOwnProperty(it,"ALLOWED_ATTR")?addToSet({},it.ALLOWED_ATTR,Tn):Ze,Dn=objectHasOwnProperty(it,"ALLOWED_NAMESPACES")?addToSet({},it.ALLOWED_NAMESPACES,stringToString):Ri,cn=objectHasOwnProperty(it,"ADD_URI_SAFE_ATTR")?addToSet(clone(In),it.ADD_URI_SAFE_ATTR,Tn):In,Ut=objectHasOwnProperty(it,"ADD_DATA_URI_TAGS")?addToSet(clone(Yt),it.ADD_DATA_URI_TAGS,Tn):Yt,bt=objectHasOwnProperty(it,"FORBID_CONTENTS")?addToSet({},it.FORBID_CONTENTS,Tn):Mt,St=objectHasOwnProperty(it,"FORBID_TAGS")?addToSet({},it.FORBID_TAGS,Tn):clone({}),Nt=objectHasOwnProperty(it,"FORBID_ATTR")?addToSet({},it.FORBID_ATTR,Tn):clone({}),ct=objectHasOwnProperty(it,"USE_PROFILES")?it.USE_PROFILES:!1,kt=it.ALLOW_ARIA_ATTR!==!1,At=it.ALLOW_DATA_ATTR!==!1,Vt=it.ALLOW_UNKNOWN_PROTOCOLS||!1,Kt=it.ALLOW_SELF_CLOSE_IN_ATTR!==!1,jt=it.SAFE_FOR_TEMPLATES||!1,Ne=it.SAFE_FOR_XML!==!1,_t=it.WHOLE_DOCUMENT||!1,Je=it.RETURN_DOM||!1,ut=it.RETURN_DOM_FRAGMENT||!1,wt=it.RETURN_TRUSTED_TYPE||!1,Ke=it.FORCE_BODY||!1,Et=it.SANITIZE_DOM!==!1,pt=it.SANITIZE_NAMED_PROPS||!1,It=it.KEEP_CONTENT!==!1,Bt=it.IN_PLACE||!1,ze=it.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,Ht=it.NAMESPACE||hn,Sr=it.MATHML_TEXT_INTEGRATION_POINTS||Sr,sr=it.HTML_INTEGRATION_POINTS||sr,Qe=it.CUSTOM_ELEMENT_HANDLING||{},it.CUSTOM_ELEMENT_HANDLING&&Qr(it.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Qe.tagNameCheck=it.CUSTOM_ELEMENT_HANDLING.tagNameCheck),it.CUSTOM_ELEMENT_HANDLING&&Qr(it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Qe.attributeNameCheck=it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),it.CUSTOM_ELEMENT_HANDLING&&typeof it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Qe.allowCustomizedBuiltInElements=it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),jt&&(At=!1),ut&&(Je=!0),ct&&(Ie=addToSet({},text$1),Le=[],ct.html===!0&&(addToSet(Ie,html$1),addToSet(Le,html$2)),ct.svg===!0&&(addToSet(Ie,svg$1),addToSet(Le,svg),addToSet(Le,xml)),ct.svgFilters===!0&&(addToSet(Ie,svgFilters),addToSet(Le,svg),addToSet(Le,xml)),ct.mathMl===!0&&(addToSet(Ie,mathMl$1),addToSet(Le,mathMl),addToSet(Le,xml))),it.ADD_TAGS&&(typeof it.ADD_TAGS=="function"?Ct.tagCheck=it.ADD_TAGS:(Ie===Fe&&(Ie=clone(Ie)),addToSet(Ie,it.ADD_TAGS,Tn))),it.ADD_ATTR&&(typeof it.ADD_ATTR=="function"?Ct.attributeCheck=it.ADD_ATTR:(Le===Ze&&(Le=clone(Le)),addToSet(Le,it.ADD_ATTR,Tn))),it.ADD_URI_SAFE_ATTR&&addToSet(cn,it.ADD_URI_SAFE_ATTR,Tn),it.FORBID_CONTENTS&&(bt===Mt&&(bt=clone(bt)),addToSet(bt,it.FORBID_CONTENTS,Tn)),it.ADD_FORBID_CONTENTS&&(bt===Mt&&(bt=clone(bt)),addToSet(bt,it.ADD_FORBID_CONTENTS,Tn)),It&&(Ie["#text"]=!0),_t&&addToSet(Ie,["html","head","body"]),Ie.table&&(addToSet(Ie,["tbody"]),delete St.tbody),it.TRUSTED_TYPES_POLICY){if(typeof it.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof it.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Pe=it.TRUSTED_TYPES_POLICY,Be=Pe.createHTML("")}else Pe===void 0&&(Pe=_createTrustedTypesPolicy(ye,ie)),Pe!==null&&typeof Be=="string"&&(Be=Pe.createHTML(""));freeze&&freeze(it),Mr=it}},Ii=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),Vi=addToSet({},[...mathMl$1,...mathMlDisallowed]),As=function(it){let Pt=Ce(it);(!Pt||!Pt.tagName)&&(Pt={namespaceURI:Ht,tagName:"template"});const Lt=stringToLowerCase(it.tagName),sn=stringToLowerCase(Pt.tagName);return Dn[it.namespaceURI]?it.namespaceURI===on?Pt.namespaceURI===hn?Lt==="svg":Pt.namespaceURI===qt?Lt==="svg"&&(sn==="annotation-xml"||Sr[sn]):!!Ii[Lt]:it.namespaceURI===qt?Pt.namespaceURI===hn?Lt==="math":Pt.namespaceURI===on?Lt==="math"&&sr[sn]:!!Vi[Lt]:it.namespaceURI===hn?Pt.namespaceURI===on&&!sr[sn]||Pt.namespaceURI===qt&&!Sr[sn]?!1:!Vi[Lt]&&(or[Lt]||!Ii[Lt]):!!(Vn==="application/xhtml+xml"&&Dn[it.namespaceURI]):!1},qn=function(it){arrayPush(te.removed,{element:it});try{Ce(it).removeChild(it)}catch{Se(it)}},wr=function(it,Pt){try{arrayPush(te.removed,{attribute:Pt.getAttributeNode(it),from:Pt})}catch{arrayPush(te.removed,{attribute:null,from:Pt})}if(Pt.removeAttribute(it),it==="is")if(Je||ut)try{qn(Pt)}catch{}else try{Pt.setAttribute(it,"")}catch{}},Li=function(it){let Pt=null,Lt=null;if(Ke)it="<remove></remove>"+it;else{const Jt=stringMatch(it,/^[\r\n\t ]+/);Lt=Jt&&Jt[0]}Vn==="application/xhtml+xml"&&Ht===hn&&(it='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+it+"</body></html>");const sn=Pe?Pe.createHTML(it):it;if(Ht===hn)try{Pt=new ge().parseFromString(sn,Vn)}catch{}if(!Pt||!Pt.documentElement){Pt=Ae.createDocument(Ht,"template",null);try{Pt.documentElement.innerHTML=jn?Be:sn}catch{}}const vn=Pt.body||Pt.documentElement;return it&&Lt&&vn.insertBefore(ne.createTextNode(Lt),vn.childNodes[0]||null),Ht===hn?Ue.call(Pt,_t?"html":"body")[0]:_t?Pt.documentElement:vn},Di=function(it){return Me.call(it.ownerDocument||it,it,he.SHOW_ELEMENT|he.SHOW_COMMENT|he.SHOW_TEXT|he.SHOW_PROCESSING_INSTRUCTION|he.SHOW_CDATA_SECTION,null)},lr=function(it){return it instanceof pe&&(typeof it.nodeName!="string"||typeof it.textContent!="string"||typeof it.removeChild!="function"||!(it.attributes instanceof fe)||typeof it.removeAttribute!="function"||typeof it.setAttribute!="function"||typeof it.namespaceURI!="string"||typeof it.insertBefore!="function"||typeof it.hasChildNodes!="function")},kn=function(it){return typeof le=="function"&&it instanceof le};function xn(Ot,it,Pt){arrayForEach(Ot,Lt=>{Lt.call(te,it,Pt,Mr)})}const Nr=function(it){let Pt=null;if(xn(je.beforeSanitizeElements,it,null),lr(it))return qn(it),!0;const Lt=Tn(it.nodeName);if(xn(je.uponSanitizeElement,it,{tagName:Lt,allowedTags:Ie}),Ne&&it.hasChildNodes()&&!kn(it.firstElementChild)&&regExpTest(/<[/\w!]/g,it.innerHTML)&&regExpTest(/<[/\w!]/g,it.textContent)||it.nodeType===NODE_TYPE.progressingInstruction||Ne&&it.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,it.data))return qn(it),!0;if(!(Ct.tagCheck instanceof Function&&Ct.tagCheck(Lt))&&(!Ie[Lt]||St[Lt])){if(!St[Lt]&&Bs(Lt)&&(Qe.tagNameCheck instanceof RegExp&&regExpTest(Qe.tagNameCheck,Lt)||Qe.tagNameCheck instanceof Function&&Qe.tagNameCheck(Lt)))return!1;if(It&&!bt[Lt]){const sn=Ce(it)||it.parentNode,vn=Te(it)||it.childNodes;if(vn&&sn){const Jt=vn.length;for(let On=Jt-1;On>=0;--On){const ur=be(vn[On],!0);ur.__removalCount=(it.__removalCount||0)+1,sn.insertBefore(ur,ve(it))}}}return qn(it),!0}return it instanceof ce&&!As(it)||(Lt==="noscript"||Lt==="noembed"||Lt==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,it.innerHTML)?(qn(it),!0):(jt&&it.nodeType===NODE_TYPE.text&&(Pt=it.textContent,arrayForEach([De,Ye,ke],sn=>{Pt=stringReplace(Pt,sn," ")}),it.textContent!==Pt&&(arrayPush(te.removed,{element:it.cloneNode()}),it.textContent=Pt)),xn(je.afterSanitizeElements,it,null),!1)},za=function(it,Pt,Lt){if(Et&&(Pt==="id"||Pt==="name")&&(Lt in ne||Lt in Mi))return!1;if(!(At&&!Nt[Pt]&&regExpTest($e,Pt))){if(!(kt&&regExpTest(Oe,Pt))){if(!(Ct.attributeCheck instanceof Function&&Ct.attributeCheck(Pt,it))){if(!Le[Pt]||Nt[Pt]){if(!(Bs(it)&&(Qe.tagNameCheck instanceof RegExp&&regExpTest(Qe.tagNameCheck,it)||Qe.tagNameCheck instanceof Function&&Qe.tagNameCheck(it))&&(Qe.attributeNameCheck instanceof RegExp&&regExpTest(Qe.attributeNameCheck,Pt)||Qe.attributeNameCheck instanceof Function&&Qe.attributeNameCheck(Pt,it))||Pt==="is"&&Qe.allowCustomizedBuiltInElements&&(Qe.tagNameCheck instanceof RegExp&&regExpTest(Qe.tagNameCheck,Lt)||Qe.tagNameCheck instanceof Function&&Qe.tagNameCheck(Lt))))return!1}else if(!cn[Pt]){if(!regExpTest(ze,stringReplace(Lt,qe,""))){if(!((Pt==="src"||Pt==="xlink:href"||Pt==="href")&&it!=="script"&&stringIndexOf(Lt,"data:")===0&&Ut[it])){if(!(Vt&&!regExpTest(He,stringReplace(Lt,qe,"")))){if(Lt)return!1}}}}}}}return!0},Bs=function(it){return it!=="annotation-xml"&&stringMatch(it,Xe)},Rs=function(it){xn(je.beforeSanitizeAttributes,it,null);const{attributes:Pt}=it;if(!Pt||lr(it))return;const Lt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Le,forceKeepAttr:void 0};let sn=Pt.length;for(;sn--;){const vn=Pt[sn],{name:Jt,namespaceURI:On,value:ur}=vn,Gn=Tn(Jt),kr=ur;let Mn=Jt==="value"?kr:stringTrim(kr);if(Lt.attrName=Gn,Lt.attrValue=Mn,Lt.keepAttr=!0,Lt.forceKeepAttr=void 0,xn(je.uponSanitizeAttribute,it,Lt),Mn=Lt.attrValue,pt&&(Gn==="id"||Gn==="name")&&(wr(Jt,it),Mn=Rt+Mn),Ne&&regExpTest(/((--!?|])>)|<\/(style|title|textarea)/i,Mn)){wr(Jt,it);continue}if(Gn==="attributename"&&stringMatch(Mn,"href")){wr(Jt,it);continue}if(Lt.forceKeepAttr)continue;if(!Lt.keepAttr){wr(Jt,it);continue}if(!Kt&&regExpTest(/\/>/i,Mn)){wr(Jt,it);continue}jt&&arrayForEach([De,Ye,ke],Fi=>{Mn=stringReplace(Mn,Fi," ")});const Oi=Tn(it.nodeName);if(!za(Oi,Gn,Mn)){wr(Jt,it);continue}if(Pe&&typeof ye=="object"&&typeof ye.getAttributeType=="function"&&!On)switch(ye.getAttributeType(Oi,Gn)){case"TrustedHTML":{Mn=Pe.createHTML(Mn);break}case"TrustedScriptURL":{Mn=Pe.createScriptURL(Mn);break}}if(Mn!==kr)try{On?it.setAttributeNS(On,Jt,Mn):it.setAttribute(Jt,Mn),lr(it)?qn(it):arrayPop(te.removed)}catch{wr(Jt,it)}}xn(je.afterSanitizeAttributes,it,null)},Ms=function Ot(it){let Pt=null;const Lt=Di(it);for(xn(je.beforeSanitizeShadowDOM,it,null);Pt=Lt.nextNode();)xn(je.uponSanitizeShadowNode,Pt,null),Nr(Pt),Rs(Pt),Pt.content instanceof se&&Ot(Pt.content);xn(je.afterSanitizeShadowDOM,it,null)};return te.sanitize=function(Ot){let it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Pt=null,Lt=null,sn=null,vn=null;if(jn=!Ot,jn&&(Ot="<!-->"),typeof Ot!="string"&&!kn(Ot))if(typeof Ot.toString=="function"){if(Ot=Ot.toString(),typeof Ot!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!te.isSupported)return Ot;if(dt||Ni(it),te.removed=[],typeof Ot=="string"&&(Bt=!1),Bt){if(Ot.nodeName){const ur=Tn(Ot.nodeName);if(!Ie[ur]||St[ur])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Ot instanceof le)Pt=Li("<!---->"),Lt=Pt.ownerDocument.importNode(Ot,!0),Lt.nodeType===NODE_TYPE.element&&Lt.nodeName==="BODY"||Lt.nodeName==="HTML"?Pt=Lt:Pt.appendChild(Lt);else{if(!Je&&!jt&&!_t&&Ot.indexOf("<")===-1)return Pe&&wt?Pe.createHTML(Ot):Ot;if(Pt=Li(Ot),!Pt)return Je?null:wt?Be:""}Pt&&Ke&&qn(Pt.firstChild);const Jt=Di(Bt?Ot:Pt);for(;sn=Jt.nextNode();)Nr(sn),Rs(sn),sn.content instanceof se&&Ms(sn.content);if(Bt)return Ot;if(Je){if(ut)for(vn=Ge.call(Pt.ownerDocument);Pt.firstChild;)vn.appendChild(Pt.firstChild);else vn=Pt;return(Le.shadowroot||Le.shadowrootmode)&&(vn=Ve.call(ae,vn,!0)),vn}let On=_t?Pt.outerHTML:Pt.innerHTML;return _t&&Ie["!doctype"]&&Pt.ownerDocument&&Pt.ownerDocument.doctype&&Pt.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Pt.ownerDocument.doctype.name)&&(On="<!DOCTYPE "+Pt.ownerDocument.doctype.name+`>
`+On),jt&&arrayForEach([De,Ye,ke],ur=>{On=stringReplace(On,ur," ")}),Pe&&wt?Pe.createHTML(On):On},te.setConfig=function(){let Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ni(Ot),dt=!0},te.clearConfig=function(){Mr=null,dt=!1},te.isValidAttribute=function(Ot,it,Pt){Mr||Ni({});const Lt=Tn(Ot),sn=Tn(it);return za(Lt,sn,Pt)},te.addHook=function(Ot,it){typeof it=="function"&&arrayPush(je[Ot],it)},te.removeHook=function(Ot,it){if(it!==void 0){const Pt=arrayLastIndexOf(je[Ot],it);return Pt===-1?void 0:arraySplice(je[Ot],Pt,1)[0]}return arrayPop(je[Ot])},te.removeHooks=function(Ot){je[Ot]=[]},te.removeAllHooks=function(){je=_createHooksMap()},te}var purify=createDOMPurify(),__defProp=Object.defineProperty,__name=(ee,te)=>__defProp(ee,"name",{value:te,configurable:!0}),__export=(ee,te)=>{for(var ne in te)__defProp(ee,ne,{get:te[ne],enumerable:!0})},LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log={trace:__name((...ee)=>{},"trace"),debug:__name((...ee)=>{},"debug"),info:__name((...ee)=>{},"info"),warn:__name((...ee)=>{},"warn"),error:__name((...ee)=>{},"error"),fatal:__name((...ee)=>{},"fatal")},setLogLevel=__name(function(ee="fatal"){let te=LEVELS.fatal;typeof ee=="string"?ee.toLowerCase()in LEVELS&&(te=LEVELS[ee]):typeof ee=="number"&&(te=ee),log.trace=()=>{},log.debug=()=>{},log.info=()=>{},log.warn=()=>{},log.error=()=>{},log.fatal=()=>{},te<=LEVELS.fatal&&(log.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),te<=LEVELS.error&&(log.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),te<=LEVELS.warn&&(log.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),te<=LEVELS.info&&(log.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),te<=LEVELS.debug&&(log.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),te<=LEVELS.trace&&(log.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},"setLogLevel"),format=__name(ee=>`%c${dayjs2().format("ss.SSS")} : ${ee} : `,"format"),frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm,wi,UnknownDiagramError=(wi=class extends Error{constructor(te){super(te),this.name="UnknownDiagramError"}},__name(wi,"UnknownDiagramError"),wi),detectors={},detectType$1=__name(function(ee,te){ee=ee.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,`
`);for(const[ne,{detector:ae}]of Object.entries(detectors))if(ae(ee,te))return ne;throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${ee}`)},"detectType"),registerLazyLoadedDiagrams=__name((...ee)=>{for(const{id:te,detector:ne,loader:ae}of ee)addDetector(te,ne,ae)},"registerLazyLoadedDiagrams"),addDetector=__name((ee,te,ne)=>{detectors[ee]&&log.warn(`Detector with key ${ee} already exists. Overwriting.`),detectors[ee]={detector:te,loader:ne},log.debug(`Detector with key ${ee} added${ne?" with loader":""}`)},"addDetector"),getDiagramLoader=__name(ee=>detectors[ee].loader,"getDiagramLoader"),assignWithDepth=__name((ee,te,{depth:ne=2,clobber:ae=!1}={})=>{const ie={depth:ne,clobber:ae};return Array.isArray(te)&&!Array.isArray(ee)?(te.forEach(se=>assignWithDepth(ee,se,ie)),ee):Array.isArray(te)&&Array.isArray(ee)?(te.forEach(se=>{ee.includes(se)||ee.push(se)}),ee):ee===void 0||ne<=0?ee!=null&&typeof ee=="object"&&typeof te=="object"?Object.assign(ee,te):te:(te!==void 0&&typeof ee=="object"&&typeof te=="object"&&Object.keys(te).forEach(se=>{typeof te[se]=="object"&&(ee[se]===void 0||typeof ee[se]=="object")?(ee[se]===void 0&&(ee[se]=Array.isArray(te[se])?[]:{}),ee[se]=assignWithDepth(ee[se],te[se],{depth:ne-1,clobber:ae})):(ae||typeof ee[se]!="object"&&typeof te[se]!="object")&&(ee[se]=te[se])}),ee)},"assignWithDepth"),assignWithDepth_default=assignWithDepth,oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2",mkBorder=__name((ee,te)=>te?adjust(ee,{s:-40,l:10}):adjust(ee,{s:-40,l:-10}),"mkBorder"),Ti,Theme=(Ti=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var ne,ae,ie,se,oe,le,ce,he,fe,pe,ge;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert(this.tertiaryColor),this.lineColor=this.lineColor||invert(this.background),this.arrowheadColor=this.arrowheadColor||invert(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.darkMode)for(let ye=0;ye<this.THEME_COLOR_LIMIT;ye++)this["cScale"+ye]=darken(this["cScale"+ye],75);else for(let ye=0;ye<this.THEME_COLOR_LIMIT;ye++)this["cScale"+ye]=darken(this["cScale"+ye],25);for(let ye=0;ye<this.THEME_COLOR_LIMIT;ye++)this["cScaleInv"+ye]=this["cScaleInv"+ye]||invert(this["cScale"+ye]);for(let ye=0;ye<this.THEME_COLOR_LIMIT;ye++)this.darkMode?this["cScalePeer"+ye]=this["cScalePeer"+ye]||lighten(this["cScale"+ye],10):this["cScalePeer"+ye]=this["cScalePeer"+ye]||darken(this["cScale"+ye],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let ye=0;ye<this.THEME_COLOR_LIMIT;ye++)this["cScaleLabel"+ye]=this["cScaleLabel"+ye]||this.scaleLabelColor;const te=this.darkMode?-4:-1;for(let ye=0;ye<5;ye++)this["surface"+ye]=this["surface"+ye]||adjust(this.mainBkg,{h:180,s:-15,l:te*(5+ye*3)}),this["surfacePeer"+ye]=this["surfacePeer"+ye]||adjust(this.mainBkg,{h:180,s:-15,l:te*(8+ye*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((ne=this.xyChart)==null?void 0:ne.backgroundColor)||this.background,titleColor:((ae=this.xyChart)==null?void 0:ae.titleColor)||this.primaryTextColor,xAxisTitleColor:((ie=this.xyChart)==null?void 0:ie.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((se=this.xyChart)==null?void 0:se.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((oe=this.xyChart)==null?void 0:oe.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((le=this.xyChart)==null?void 0:le.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ce=this.xyChart)==null?void 0:ce.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((he=this.xyChart)==null?void 0:he.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((fe=this.xyChart)==null?void 0:fe.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((pe=this.xyChart)==null?void 0:pe.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((ge=this.xyChart)==null?void 0:ge.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(te){if(typeof te!="object"){this.updateColors();return}const ne=Object.keys(te);ne.forEach(ae=>{this[ae]=te[ae]}),this.updateColors(),ne.forEach(ae=>{this[ae]=te[ae]})}},__name(Ti,"Theme"),Ti),getThemeVariables=__name(ee=>{const te=new Theme;return te.calculate(ee),te},"getThemeVariables"),Ei,Theme2=(Ei=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten(this.primaryColor,16),this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=invert(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten(invert("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=rgba$1(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken(this.sectionBkgColor,10),this.taskBorderColor=rgba$1(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba$1(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var te,ne,ae,ie,se,oe,le,ce,he,fe,pe;this.secondBkg=lighten(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330});for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["cScaleInv"+ge]=this["cScaleInv"+ge]||invert(this["cScale"+ge]);for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["cScalePeer"+ge]=this["cScalePeer"+ge]||lighten(this["cScale"+ge],10);for(let ge=0;ge<5;ge++)this["surface"+ge]=this["surface"+ge]||adjust(this.mainBkg,{h:30,s:-30,l:-(-10+ge*4)}),this["surfacePeer"+ge]=this["surfacePeer"+ge]||adjust(this.mainBkg,{h:30,s:-30,l:-(-7+ge*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["cScaleLabel"+ge]=this["cScaleLabel"+ge]||this.scaleLabelColor;for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["pie"+ge]=this["cScale"+ge];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((te=this.xyChart)==null?void 0:te.backgroundColor)||this.background,titleColor:((ne=this.xyChart)==null?void 0:ne.titleColor)||this.primaryTextColor,xAxisTitleColor:((ae=this.xyChart)==null?void 0:ae.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((ie=this.xyChart)==null?void 0:ie.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((se=this.xyChart)==null?void 0:se.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((oe=this.xyChart)==null?void 0:oe.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((le=this.xyChart)==null?void 0:le.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((ce=this.xyChart)==null?void 0:ce.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((he=this.xyChart)==null?void 0:he.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((fe=this.xyChart)==null?void 0:fe.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((pe=this.xyChart)==null?void 0:pe.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten(this.secondaryColor,20),this.git1=lighten(this.pie2||this.secondaryColor,20),this.git2=lighten(this.pie3||this.tertiaryColor,20),this.git3=lighten(this.pie4||adjust(this.primaryColor,{h:-30}),20),this.git4=lighten(this.pie5||adjust(this.primaryColor,{h:-60}),20),this.git5=lighten(this.pie6||adjust(this.primaryColor,{h:-90}),10),this.git6=lighten(this.pie7||adjust(this.primaryColor,{h:60}),10),this.git7=lighten(this.pie8||adjust(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(te){if(typeof te!="object"){this.updateColors();return}const ne=Object.keys(te);ne.forEach(ae=>{this[ae]=te[ae]}),this.updateColors(),ne.forEach(ae=>{this[ae]=te[ae]})}},__name(Ei,"Theme"),Ei),getThemeVariables2=__name(ee=>{const te=new Theme2;return te.calculate(ee),te},"getThemeVariables"),Ci,Theme3=(Ci=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba$1(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var te,ne,ae,ie,se,oe,le,ce,he,fe,pe;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["cScale"+ge]=darken(this["cScale"+ge],10),this["cScalePeer"+ge]=this["cScalePeer"+ge]||darken(this["cScale"+ge],25);for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["cScaleInv"+ge]=this["cScaleInv"+ge]||adjust(this["cScale"+ge],{h:180});for(let ge=0;ge<5;ge++)this["surface"+ge]=this["surface"+ge]||adjust(this.mainBkg,{h:30,l:-(5+ge*5)}),this["surfacePeer"+ge]=this["surfacePeer"+ge]||adjust(this.mainBkg,{h:30,l:-(7+ge*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert(this.labelTextColor);for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["cScaleLabel"+ge]=this["cScaleLabel"+ge]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((te=this.xyChart)==null?void 0:te.backgroundColor)||this.background,titleColor:((ne=this.xyChart)==null?void 0:ne.titleColor)||this.primaryTextColor,xAxisTitleColor:((ae=this.xyChart)==null?void 0:ae.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((ie=this.xyChart)==null?void 0:ie.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((se=this.xyChart)==null?void 0:se.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((oe=this.xyChart)==null?void 0:oe.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((le=this.xyChart)==null?void 0:le.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((ce=this.xyChart)==null?void 0:ce.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((he=this.xyChart)==null?void 0:he.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((fe=this.xyChart)==null?void 0:fe.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((pe=this.xyChart)==null?void 0:pe.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||darken(invert(this.git0),25),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(te){if(typeof te!="object"){this.updateColors();return}const ne=Object.keys(te);ne.forEach(ae=>{this[ae]=te[ae]}),this.updateColors(),ne.forEach(ae=>{this[ae]=te[ae]})}},__name(Ci,"Theme"),Ci),getThemeVariables3=__name(ee=>{const te=new Theme3;return te.calculate(ee),te},"getThemeVariables"),ki,Theme4=(ki=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.primaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var te,ne,ae,ie,se,oe,le,ce,he,fe,pe;this.actorBorder=darken(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["cScale"+ge]=darken(this["cScale"+ge],10),this["cScalePeer"+ge]=this["cScalePeer"+ge]||darken(this["cScale"+ge],25);for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["cScaleInv"+ge]=this["cScaleInv"+ge]||adjust(this["cScale"+ge],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["cScaleLabel"+ge]=this["cScaleLabel"+ge]||this.scaleLabelColor;for(let ge=0;ge<5;ge++)this["surface"+ge]=this["surface"+ge]||adjust(this.mainBkg,{h:30,s:-30,l:-(5+ge*5)}),this["surfacePeer"+ge]=this["surfacePeer"+ge]||adjust(this.mainBkg,{h:30,s:-30,l:-(8+ge*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:((te=this.xyChart)==null?void 0:te.backgroundColor)||this.background,titleColor:((ne=this.xyChart)==null?void 0:ne.titleColor)||this.primaryTextColor,xAxisTitleColor:((ae=this.xyChart)==null?void 0:ae.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((ie=this.xyChart)==null?void 0:ie.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((se=this.xyChart)==null?void 0:se.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((oe=this.xyChart)==null?void 0:oe.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((le=this.xyChart)==null?void 0:le.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((ce=this.xyChart)==null?void 0:ce.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((he=this.xyChart)==null?void 0:he.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((fe=this.xyChart)==null?void 0:fe.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((pe=this.xyChart)==null?void 0:pe.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(te){if(typeof te!="object"){this.updateColors();return}const ne=Object.keys(te);ne.forEach(ae=>{this[ae]=te[ae]}),this.updateColors(),ne.forEach(ae=>{this[ae]=te[ae]})}},__name(ki,"Theme"),ki),getThemeVariables4=__name(ee=>{const te=new Theme4;return te.calculate(ee),te},"getThemeVariables"),Pi,Theme5=(Pi=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var te,ne,ae,ie,se,oe,le,ce,he,fe,pe;this.secondBkg=lighten(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["cScaleInv"+ge]=this["cScaleInv"+ge]||invert(this["cScale"+ge]);for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this.darkMode?this["cScalePeer"+ge]=this["cScalePeer"+ge]||lighten(this["cScale"+ge],10):this["cScalePeer"+ge]=this["cScalePeer"+ge]||darken(this["cScale"+ge],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["cScaleLabel"+ge]=this["cScaleLabel"+ge]||this.scaleLabelColor;for(let ge=0;ge<5;ge++)this["surface"+ge]=this["surface"+ge]||adjust(this.mainBkg,{l:-(5+ge*5)}),this["surfacePeer"+ge]=this["surfacePeer"+ge]||adjust(this.mainBkg,{l:-(8+ge*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten(this.contrast,30),this.sectionBkgColor2=lighten(this.contrast,30),this.taskBorderColor=darken(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128});for(let ge=0;ge<this.THEME_COLOR_LIMIT;ge++)this["pie"+ge]=this["cScale"+ge];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((te=this.xyChart)==null?void 0:te.backgroundColor)||this.background,titleColor:((ne=this.xyChart)==null?void 0:ne.titleColor)||this.primaryTextColor,xAxisTitleColor:((ae=this.xyChart)==null?void 0:ae.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((ie=this.xyChart)==null?void 0:ie.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((se=this.xyChart)==null?void 0:se.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((oe=this.xyChart)==null?void 0:oe.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((le=this.xyChart)==null?void 0:le.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((ce=this.xyChart)==null?void 0:ce.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((he=this.xyChart)==null?void 0:he.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((fe=this.xyChart)==null?void 0:fe.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((pe=this.xyChart)==null?void 0:pe.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust(this.primaryColor,{h:60}),this.git7=this.pie8||adjust(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(te){if(typeof te!="object"){this.updateColors();return}const ne=Object.keys(te);ne.forEach(ae=>{this[ae]=te[ae]}),this.updateColors(),ne.forEach(ae=>{this[ae]=te[ae]})}},__name(Pi,"Theme"),Pi),getThemeVariables5=__name(ee=>{const te=new Theme5;return te.calculate(ee),te},"getThemeVariables"),themes_default={base:{getThemeVariables},dark:{getThemeVariables:getThemeVariables2},default:{getThemeVariables:getThemeVariables3},forest:{getThemeVariables:getThemeVariables4},neutral:{getThemeVariables:getThemeVariables5}},config_schema_default={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},config={...config_schema_default,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:themes_default.default.getThemeVariables(),sequence:{...config_schema_default.sequence,messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:__name(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:__name(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...config_schema_default.gantt,tickInterval:void 0,useWidth:void 0},c4:{...config_schema_default.c4,useWidth:void 0,personFont:__name(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:__name(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:__name(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:__name(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:__name(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:__name(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:__name(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:__name(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:__name(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:__name(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:__name(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:__name(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:__name(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:__name(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:__name(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:__name(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:__name(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:__name(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:__name(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:__name(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:__name(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...config_schema_default.pie,useWidth:984},xyChart:{...config_schema_default.xyChart,useWidth:void 0},requirement:{...config_schema_default.requirement,useWidth:void 0},packet:{...config_schema_default.packet}},keyify=__name((ee,te="")=>Object.keys(ee).reduce((ne,ae)=>Array.isArray(ee[ae])?ne:typeof ee[ae]=="object"&&ee[ae]!==null?[...ne,te+ae,...keyify(ee[ae],"")]:[...ne,te+ae],[]),"keyify"),configKeys=new Set(keyify(config,"")),defaultConfig_default=config,sanitizeDirective=__name(ee=>{if(log.debug("sanitizeDirective called with",ee),!(typeof ee!="object"||ee==null)){if(Array.isArray(ee)){ee.forEach(te=>sanitizeDirective(te));return}for(const te of Object.keys(ee)){if(log.debug("Checking key",te),te.startsWith("__")||te.includes("proto")||te.includes("constr")||!configKeys.has(te)||ee[te]==null){log.debug("sanitize deleting key: ",te),delete ee[te];continue}if(typeof ee[te]=="object"){log.debug("sanitizing object",te),sanitizeDirective(ee[te]);continue}const ne=["themeCSS","fontFamily","altFontFamily"];for(const ae of ne)te.includes(ae)&&(log.debug("sanitizing css option",te),ee[te]=sanitizeCss(ee[te]))}if(ee.themeVariables)for(const te of Object.keys(ee.themeVariables)){const ne=ee.themeVariables[te];ne!=null&&ne.match&&!ne.match(/^[\d "#%(),.;A-Za-z]+$/)&&(ee.themeVariables[te]="")}log.debug("After sanitization",ee)}},"sanitizeDirective"),sanitizeCss=__name(ee=>{let te=0,ne=0;for(const ae of ee){if(te<ne)return"{ /* ERROR: Unbalanced CSS */ }";ae==="{"?te++:ae==="}"&&ne++}return te!==ne?"{ /* ERROR: Unbalanced CSS */ }":ee},"sanitizeCss"),defaultConfig=Object.freeze(defaultConfig_default),siteConfig=assignWithDepth_default({},defaultConfig),configFromInitialize,directives=[],currentConfig=assignWithDepth_default({},defaultConfig),updateCurrentConfig=__name((ee,te)=>{let ne=assignWithDepth_default({},ee),ae={};for(const ie of te)sanitize(ie),ae=assignWithDepth_default(ae,ie);if(ne=assignWithDepth_default(ne,ae),ae.theme&&ae.theme in themes_default){const ie=assignWithDepth_default({},configFromInitialize),se=assignWithDepth_default(ie.themeVariables||{},ae.themeVariables);ne.theme&&ne.theme in themes_default&&(ne.themeVariables=themes_default[ne.theme].getThemeVariables(se))}return currentConfig=ne,checkConfig(currentConfig),currentConfig},"updateCurrentConfig"),setSiteConfig=__name(ee=>(siteConfig=assignWithDepth_default({},defaultConfig),siteConfig=assignWithDepth_default(siteConfig,ee),ee.theme&&themes_default[ee.theme]&&(siteConfig.themeVariables=themes_default[ee.theme].getThemeVariables(ee.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),"setSiteConfig"),saveConfigFromInitialize=__name(ee=>{configFromInitialize=assignWithDepth_default({},ee)},"saveConfigFromInitialize"),updateSiteConfig=__name(ee=>(siteConfig=assignWithDepth_default(siteConfig,ee),updateCurrentConfig(siteConfig,directives),siteConfig),"updateSiteConfig"),getSiteConfig=__name(()=>assignWithDepth_default({},siteConfig),"getSiteConfig"),setConfig=__name(ee=>(checkConfig(ee),assignWithDepth_default(currentConfig,ee),getConfig()),"setConfig"),getConfig=__name(()=>assignWithDepth_default({},currentConfig),"getConfig"),sanitize=__name(ee=>{ee&&(["secure",...siteConfig.secure??[]].forEach(te=>{Object.hasOwn(ee,te)&&(log.debug(`Denied attempt to modify a secure key ${te}`,ee[te]),delete ee[te])}),Object.keys(ee).forEach(te=>{te.startsWith("__")&&delete ee[te]}),Object.keys(ee).forEach(te=>{typeof ee[te]=="string"&&(ee[te].includes("<")||ee[te].includes(">")||ee[te].includes("url(data:"))&&delete ee[te],typeof ee[te]=="object"&&sanitize(ee[te])}))},"sanitize"),addDirective=__name(ee=>{var te;sanitizeDirective(ee),ee.fontFamily&&!((te=ee.themeVariables)!=null&&te.fontFamily)&&(ee.themeVariables={...ee.themeVariables,fontFamily:ee.fontFamily}),directives.push(ee),updateCurrentConfig(siteConfig,directives)},"addDirective"),reset=__name((ee=siteConfig)=>{directives=[],updateCurrentConfig(ee,directives)},"reset"),ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=__name(ee=>{issuedWarnings[ee]||(log.warn(ConfigWarning[ee]),issuedWarnings[ee]=!0)},"issueWarning"),checkConfig=__name(ee=>{ee&&(ee.lazyLoadedDiagrams||ee.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},"checkConfig"),lineBreakRegex=/<br\s*\/?>/gi,getRows=__name(ee=>ee?breakToPlaceholder(ee).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),setupDompurifyHooksIfNotSetup=(()=>{let ee=!1;return()=>{ee||(setupDompurifyHooks(),ee=!0)}})();function setupDompurifyHooks(){const ee="data-temp-href-target";purify.addHook("beforeSanitizeAttributes",te=>{te instanceof Element&&te.tagName==="A"&&te.hasAttribute("target")&&te.setAttribute(ee,te.getAttribute("target")??"")}),purify.addHook("afterSanitizeAttributes",te=>{te instanceof Element&&te.tagName==="A"&&te.hasAttribute(ee)&&(te.setAttribute("target",te.getAttribute(ee)??""),te.removeAttribute(ee),te.getAttribute("target")==="_blank"&&te.setAttribute("rel","noopener"))})}__name(setupDompurifyHooks,"setupDompurifyHooks");var removeScript=__name(ee=>(setupDompurifyHooksIfNotSetup(),purify.sanitize(ee)),"removeScript"),sanitizeMore=__name((ee,te)=>{var ne;if(((ne=te.flowchart)==null?void 0:ne.htmlLabels)!==!1){const ae=te.securityLevel;ae==="antiscript"||ae==="strict"?ee=removeScript(ee):ae!=="loose"&&(ee=breakToPlaceholder(ee),ee=ee.replace(/</g,"&lt;").replace(/>/g,"&gt;"),ee=ee.replace(/=/g,"&equals;"),ee=placeholderToBreak(ee))}return ee},"sanitizeMore"),sanitizeText=__name((ee,te)=>ee&&(te.dompurifyConfig?ee=purify.sanitize(sanitizeMore(ee,te),te.dompurifyConfig).toString():ee=purify.sanitize(sanitizeMore(ee,te),{FORBID_TAGS:["style"]}).toString(),ee),"sanitizeText"),sanitizeTextOrArray=__name((ee,te)=>typeof ee=="string"?sanitizeText(ee,te):ee.flat().map(ne=>sanitizeText(ne,te)),"sanitizeTextOrArray"),hasBreaks=__name(ee=>lineBreakRegex.test(ee),"hasBreaks"),splitBreaks=__name(ee=>ee.split(lineBreakRegex),"splitBreaks"),placeholderToBreak=__name(ee=>ee.replace(/#br#/g,"<br/>"),"placeholderToBreak"),breakToPlaceholder=__name(ee=>ee.replace(lineBreakRegex,"#br#"),"breakToPlaceholder"),getUrl=__name(ee=>{let te="";return ee&&(te=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,te=te.replaceAll(/\(/g,"\\("),te=te.replaceAll(/\)/g,"\\)")),te},"getUrl"),evaluate=__name(ee=>!(ee===!1||["false","null","0"].includes(String(ee).trim().toLowerCase())),"evaluate"),getMax=__name(function(...ee){const te=ee.filter(ne=>!isNaN(ne));return Math.max(...te)},"getMax"),getMin=__name(function(...ee){const te=ee.filter(ne=>!isNaN(ne));return Math.min(...te)},"getMin"),parseGenericTypes=__name(function(ee){const te=ee.split(/(,)/),ne=[];for(let ae=0;ae<te.length;ae++){let ie=te[ae];if(ie===","&&ae>0&&ae+1<te.length){const se=te[ae-1],oe=te[ae+1];shouldCombineSets(se,oe)&&(ie=se+","+oe,ae++,ne.pop())}ne.push(processSet(ie))}return ne.join("")},"parseGenericTypes"),countOccurrence=__name((ee,te)=>Math.max(0,ee.split(te).length-1),"countOccurrence"),shouldCombineSets=__name((ee,te)=>{const ne=countOccurrence(ee,"~"),ae=countOccurrence(te,"~");return ne===1&&ae===1},"shouldCombineSets"),processSet=__name(ee=>{const te=countOccurrence(ee,"~");let ne=!1;if(te<=1)return ee;te%2!==0&&ee.startsWith("~")&&(ee=ee.substring(1),ne=!0);const ae=[...ee];let ie=ae.indexOf("~"),se=ae.lastIndexOf("~");for(;ie!==-1&&se!==-1&&ie!==se;)ae[ie]="<",ae[se]=">",ie=ae.indexOf("~"),se=ae.lastIndexOf("~");return ne&&ae.unshift("~"),ae.join("")},"processSet"),isMathMLSupported=__name(()=>window.MathMLElement!==void 0,"isMathMLSupported"),katexRegex=/\$\$(.*)\$\$/g,hasKatex=__name(ee=>{var te;return(((te=ee.match(katexRegex))==null?void 0:te.length)??0)>0},"hasKatex"),calculateMathMLDimensions=__name(async(ee,te)=>{ee=await renderKatex(ee,te);const ne=document.createElement("div");ne.innerHTML=ee,ne.id="katex-temp",ne.style.visibility="hidden",ne.style.position="absolute",ne.style.top="0";const ae=document.querySelector("body");ae==null||ae.insertAdjacentElement("beforeend",ne);const ie={width:ne.clientWidth,height:ne.clientHeight};return ne.remove(),ie},"calculateMathMLDimensions"),renderKatex=__name(async(ee,te)=>{if(!hasKatex(ee))return ee;if(!(isMathMLSupported()||te.legacyMathML||te.forceLegacyMathML))return ee.replace(katexRegex,"MathML is unsupported in this environment.");const{default:ne}=await __vitePreload(async()=>{const{default:ie}=await import("./katex-Cu_Erd72.js");return{default:ie}},[]),ae=te.forceLegacyMathML||!isMathMLSupported()&&te.legacyMathML?"htmlAndMathml":"mathml";return ee.split(lineBreakRegex).map(ie=>hasKatex(ie)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${ie}</div>`:`<div>${ie}</div>`).join("").replace(katexRegex,(ie,se)=>ne.renderToString(se,{throwOnError:!0,displayMode:!0,output:ae}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),common_default={getRows,sanitizeText,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate,getMax,getMin},d3Attrs=__name(function(ee,te){for(let ne of te)ee.attr(ne[0],ne[1])},"d3Attrs"),calculateSvgSizeAttrs=__name(function(ee,te,ne){let ae=new Map;return ne?(ae.set("width","100%"),ae.set("style",`max-width: ${te}px;`)):(ae.set("height",ee),ae.set("width",te)),ae},"calculateSvgSizeAttrs"),configureSvgSize=__name(function(ee,te,ne,ae){const ie=calculateSvgSizeAttrs(te,ne,ae);d3Attrs(ee,ie)},"configureSvgSize"),setupGraphViewbox=__name(function(ee,te,ne,ae){const ie=te.node().getBBox(),se=ie.width,oe=ie.height;log.info(`SVG bounds: ${se}x${oe}`,ie);let le=0,ce=0;log.info(`Graph bounds: ${le}x${ce}`,ee),le=se+ne*2,ce=oe+ne*2,log.info(`Calculated bounds: ${le}x${ce}`),configureSvgSize(te,ce,le,ae);const he=`${ie.x-ne} ${ie.y-ne} ${ie.width+2*ne} ${ie.height+2*ne}`;te.attr("viewBox",he)},"setupGraphViewbox"),themes={},getStyles=__name((ee,te,ne)=>{let ae="";return ee in themes&&themes[ee]?ae=themes[ee](ne):log.warn(`No theme found for ${ee}`),` & {
    font-family: ${ne.fontFamily};
    font-size: ${ne.fontSize};
    fill: ${ne.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${ne.errorBkgColor};
  }
  & .error-text {
    fill: ${ne.errorTextColor};
    stroke: ${ne.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${ne.lineColor};
    stroke: ${ne.lineColor};
  }
  & .marker.cross {
    stroke: ${ne.lineColor};
  }

  & svg {
    font-family: ${ne.fontFamily};
    font-size: ${ne.fontSize};
  }
   & p {
    margin: 0
   }

  ${ae}

  ${te}
`},"getStyles"),addStylesForDiagram=__name((ee,te)=>{te!==void 0&&(themes[ee]=te)},"addStylesForDiagram"),styles_default=getStyles,commonDb_exports={};__export(commonDb_exports,{clear:()=>clear$2,getAccDescription:()=>getAccDescription,getAccTitle:()=>getAccTitle,getDiagramTitle:()=>getDiagramTitle,setAccDescription:()=>setAccDescription,setAccTitle:()=>setAccTitle,setDiagramTitle:()=>setDiagramTitle});var accTitle="",diagramTitle="",accDescription="",sanitizeText2=__name(ee=>sanitizeText(ee,getConfig()),"sanitizeText"),clear$2=__name(()=>{accTitle="",accDescription="",diagramTitle=""},"clear"),setAccTitle=__name(ee=>{accTitle=sanitizeText2(ee).replace(/^\s+/g,"")},"setAccTitle"),getAccTitle=__name(()=>accTitle,"getAccTitle"),setAccDescription=__name(ee=>{accDescription=sanitizeText2(ee).replace(/\n\s+/g,`
`)},"setAccDescription"),getAccDescription=__name(()=>accDescription,"getAccDescription"),setDiagramTitle=__name(ee=>{diagramTitle=sanitizeText2(ee)},"setDiagramTitle"),getDiagramTitle=__name(()=>diagramTitle,"getDiagramTitle"),log2=log,setLogLevel2=setLogLevel,getConfig2=getConfig,setConfig2=setConfig,defaultConfig2=defaultConfig,sanitizeText3=__name(ee=>sanitizeText(ee,getConfig2()),"sanitizeText"),setupGraphViewbox2=setupGraphViewbox,getCommonDb=__name(()=>commonDb_exports,"getCommonDb"),diagrams={},registerDiagram=__name((ee,te,ne)=>{var ae;diagrams[ee]&&log2.warn(`Diagram with id ${ee} already registered. Overwriting.`),diagrams[ee]=te,ne&&addDetector(ee,ne),addStylesForDiagram(ee,te.styles),(ae=te.injectUtils)==null||ae.call(te,log2,setLogLevel2,getConfig2,sanitizeText3,setupGraphViewbox2,getCommonDb(),()=>{})},"registerDiagram"),getDiagram=__name(ee=>{if(ee in diagrams)return diagrams[ee];throw new DiagramNotFoundError(ee)},"getDiagram"),Ai,DiagramNotFoundError=(Ai=class extends Error{constructor(te){super(`Diagram ${te} not found.`)}},__name(Ai,"DiagramNotFoundError"),Ai);function isNothing(ee){return typeof ee>"u"||ee===null}__name(isNothing,"isNothing");function isObject$1(ee){return typeof ee=="object"&&ee!==null}__name(isObject$1,"isObject");function toArray(ee){return Array.isArray(ee)?ee:isNothing(ee)?[]:[ee]}__name(toArray,"toArray");function extend$1(ee,te){var ne,ae,ie,se;if(te)for(se=Object.keys(te),ne=0,ae=se.length;ne<ae;ne+=1)ie=se[ne],ee[ie]=te[ie];return ee}__name(extend$1,"extend");function repeat(ee,te){var ne="",ae;for(ae=0;ae<te;ae+=1)ne+=ee;return ne}__name(repeat,"repeat");function isNegativeZero(ee){return ee===0&&Number.NEGATIVE_INFINITY===1/ee}__name(isNegativeZero,"isNegativeZero");var isNothing_1=isNothing,isObject_1=isObject$1,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend$1,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(ee,te){var ne="",ae=ee.reason||"(unknown reason)";return ee.mark?(ee.mark.name&&(ne+='in "'+ee.mark.name+'" '),ne+="("+(ee.mark.line+1)+":"+(ee.mark.column+1)+")",!te&&ee.mark.snippet&&(ne+=`

`+ee.mark.snippet),ae+" "+ne):ae}__name(formatError,"formatError");function YAMLException$1(ee,te){Error.call(this),this.name="YAMLException",this.reason=ee,this.mark=te,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}__name(YAMLException$1,"YAMLException$1");YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=__name(function ee(te){return this.name+": "+formatError(this,te)},"toString");var exception=YAMLException$1;function getLine(ee,te,ne,ae,ie){var se="",oe="",le=Math.floor(ie/2)-1;return ae-te>le&&(se=" ... ",te=ae-le+se.length),ne-ae>le&&(oe=" ...",ne=ae+le-oe.length),{str:se+ee.slice(te,ne).replace(/\t/g,"")+oe,pos:ae-te+se.length}}__name(getLine,"getLine");function padStart(ee,te){return common.repeat(" ",te-ee.length)+ee}__name(padStart,"padStart");function makeSnippet(ee,te){if(te=Object.create(te||null),!ee.buffer)return null;te.maxLength||(te.maxLength=79),typeof te.indent!="number"&&(te.indent=1),typeof te.linesBefore!="number"&&(te.linesBefore=3),typeof te.linesAfter!="number"&&(te.linesAfter=2);for(var ne=/\r?\n|\r|\0/g,ae=[0],ie=[],se,oe=-1;se=ne.exec(ee.buffer);)ie.push(se.index),ae.push(se.index+se[0].length),ee.position<=se.index&&oe<0&&(oe=ae.length-2);oe<0&&(oe=ae.length-1);var le="",ce,he,fe=Math.min(ee.line+te.linesAfter,ie.length).toString().length,pe=te.maxLength-(te.indent+fe+3);for(ce=1;ce<=te.linesBefore&&!(oe-ce<0);ce++)he=getLine(ee.buffer,ae[oe-ce],ie[oe-ce],ee.position-(ae[oe]-ae[oe-ce]),pe),le=common.repeat(" ",te.indent)+padStart((ee.line-ce+1).toString(),fe)+" | "+he.str+`
`+le;for(he=getLine(ee.buffer,ae[oe],ie[oe],ee.position,pe),le+=common.repeat(" ",te.indent)+padStart((ee.line+1).toString(),fe)+" | "+he.str+`
`,le+=common.repeat("-",te.indent+fe+3+he.pos)+`^
`,ce=1;ce<=te.linesAfter&&!(oe+ce>=ie.length);ce++)he=getLine(ee.buffer,ae[oe+ce],ie[oe+ce],ee.position-(ae[oe]-ae[oe+ce]),pe),le+=common.repeat(" ",te.indent)+padStart((ee.line+ce+1).toString(),fe)+" | "+he.str+`
`;return le.replace(/\n$/,"")}__name(makeSnippet,"makeSnippet");var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(ee){var te={};return ee!==null&&Object.keys(ee).forEach(function(ne){ee[ne].forEach(function(ae){te[String(ae)]=ne})}),te}__name(compileStyleAliases,"compileStyleAliases");function Type$1(ee,te){if(te=te||{},Object.keys(te).forEach(function(ne){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(ne)===-1)throw new exception('Unknown option "'+ne+'" is met in definition of "'+ee+'" YAML type.')}),this.options=te,this.tag=ee,this.kind=te.kind||null,this.resolve=te.resolve||function(){return!0},this.construct=te.construct||function(ne){return ne},this.instanceOf=te.instanceOf||null,this.predicate=te.predicate||null,this.represent=te.represent||null,this.representName=te.representName||null,this.defaultStyle=te.defaultStyle||null,this.multi=te.multi||!1,this.styleAliases=compileStyleAliases(te.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+ee+'" YAML type.')}__name(Type$1,"Type$1");var type=Type$1;function compileList(ee,te){var ne=[];return ee[te].forEach(function(ae){var ie=ne.length;ne.forEach(function(se,oe){se.tag===ae.tag&&se.kind===ae.kind&&se.multi===ae.multi&&(ie=oe)}),ne[ie]=ae}),ne}__name(compileList,"compileList");function compileMap(){var ee={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},te,ne;function ae(ie){ie.multi?(ee.multi[ie.kind].push(ie),ee.multi.fallback.push(ie)):ee[ie.kind][ie.tag]=ee.fallback[ie.tag]=ie}for(__name(ae,"collectType"),te=0,ne=arguments.length;te<ne;te+=1)arguments[te].forEach(ae);return ee}__name(compileMap,"compileMap");function Schema$1(ee){return this.extend(ee)}__name(Schema$1,"Schema$1");Schema$1.prototype.extend=__name(function ee(te){var ne=[],ae=[];if(te instanceof type)ae.push(te);else if(Array.isArray(te))ae=ae.concat(te);else if(te&&(Array.isArray(te.implicit)||Array.isArray(te.explicit)))te.implicit&&(ne=ne.concat(te.implicit)),te.explicit&&(ae=ae.concat(te.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");ne.forEach(function(se){if(!(se instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(se.loadKind&&se.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(se.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),ae.forEach(function(se){if(!(se instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var ie=Object.create(Schema$1.prototype);return ie.implicit=(this.implicit||[]).concat(ne),ie.explicit=(this.explicit||[]).concat(ae),ie.compiledImplicit=compileList(ie,"implicit"),ie.compiledExplicit=compileList(ie,"explicit"),ie.compiledTypeMap=compileMap(ie.compiledImplicit,ie.compiledExplicit),ie},"extend");var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:__name(function(ee){return ee!==null?ee:""},"construct")}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:__name(function(ee){return ee!==null?ee:[]},"construct")}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:__name(function(ee){return ee!==null?ee:{}},"construct")}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(ee){if(ee===null)return!0;var te=ee.length;return te===1&&ee==="~"||te===4&&(ee==="null"||ee==="Null"||ee==="NULL")}__name(resolveYamlNull,"resolveYamlNull");function constructYamlNull(){return null}__name(constructYamlNull,"constructYamlNull");function isNull(ee){return ee===null}__name(isNull,"isNull");var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:__name(function(){return"~"},"canonical"),lowercase:__name(function(){return"null"},"lowercase"),uppercase:__name(function(){return"NULL"},"uppercase"),camelcase:__name(function(){return"Null"},"camelcase"),empty:__name(function(){return""},"empty")},defaultStyle:"lowercase"});function resolveYamlBoolean(ee){if(ee===null)return!1;var te=ee.length;return te===4&&(ee==="true"||ee==="True"||ee==="TRUE")||te===5&&(ee==="false"||ee==="False"||ee==="FALSE")}__name(resolveYamlBoolean,"resolveYamlBoolean");function constructYamlBoolean(ee){return ee==="true"||ee==="True"||ee==="TRUE"}__name(constructYamlBoolean,"constructYamlBoolean");function isBoolean(ee){return Object.prototype.toString.call(ee)==="[object Boolean]"}__name(isBoolean,"isBoolean");var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:__name(function(ee){return ee?"true":"false"},"lowercase"),uppercase:__name(function(ee){return ee?"TRUE":"FALSE"},"uppercase"),camelcase:__name(function(ee){return ee?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function isHexCode(ee){return 48<=ee&&ee<=57||65<=ee&&ee<=70||97<=ee&&ee<=102}__name(isHexCode,"isHexCode");function isOctCode(ee){return 48<=ee&&ee<=55}__name(isOctCode,"isOctCode");function isDecCode(ee){return 48<=ee&&ee<=57}__name(isDecCode,"isDecCode");function resolveYamlInteger(ee){if(ee===null)return!1;var te=ee.length,ne=0,ae=!1,ie;if(!te)return!1;if(ie=ee[ne],(ie==="-"||ie==="+")&&(ie=ee[++ne]),ie==="0"){if(ne+1===te)return!0;if(ie=ee[++ne],ie==="b"){for(ne++;ne<te;ne++)if(ie=ee[ne],ie!=="_"){if(ie!=="0"&&ie!=="1")return!1;ae=!0}return ae&&ie!=="_"}if(ie==="x"){for(ne++;ne<te;ne++)if(ie=ee[ne],ie!=="_"){if(!isHexCode(ee.charCodeAt(ne)))return!1;ae=!0}return ae&&ie!=="_"}if(ie==="o"){for(ne++;ne<te;ne++)if(ie=ee[ne],ie!=="_"){if(!isOctCode(ee.charCodeAt(ne)))return!1;ae=!0}return ae&&ie!=="_"}}if(ie==="_")return!1;for(;ne<te;ne++)if(ie=ee[ne],ie!=="_"){if(!isDecCode(ee.charCodeAt(ne)))return!1;ae=!0}return!(!ae||ie==="_")}__name(resolveYamlInteger,"resolveYamlInteger");function constructYamlInteger(ee){var te=ee,ne=1,ae;if(te.indexOf("_")!==-1&&(te=te.replace(/_/g,"")),ae=te[0],(ae==="-"||ae==="+")&&(ae==="-"&&(ne=-1),te=te.slice(1),ae=te[0]),te==="0")return 0;if(ae==="0"){if(te[1]==="b")return ne*parseInt(te.slice(2),2);if(te[1]==="x")return ne*parseInt(te.slice(2),16);if(te[1]==="o")return ne*parseInt(te.slice(2),8)}return ne*parseInt(te,10)}__name(constructYamlInteger,"constructYamlInteger");function isInteger(ee){return Object.prototype.toString.call(ee)==="[object Number]"&&ee%1===0&&!common.isNegativeZero(ee)}__name(isInteger,"isInteger");var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:__name(function(ee){return ee>=0?"0b"+ee.toString(2):"-0b"+ee.toString(2).slice(1)},"binary"),octal:__name(function(ee){return ee>=0?"0o"+ee.toString(8):"-0o"+ee.toString(8).slice(1)},"octal"),decimal:__name(function(ee){return ee.toString(10)},"decimal"),hexadecimal:__name(function(ee){return ee>=0?"0x"+ee.toString(16).toUpperCase():"-0x"+ee.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(ee){return!(ee===null||!YAML_FLOAT_PATTERN.test(ee)||ee[ee.length-1]==="_")}__name(resolveYamlFloat,"resolveYamlFloat");function constructYamlFloat(ee){var te,ne;return te=ee.replace(/_/g,"").toLowerCase(),ne=te[0]==="-"?-1:1,"+-".indexOf(te[0])>=0&&(te=te.slice(1)),te===".inf"?ne===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:te===".nan"?NaN:ne*parseFloat(te,10)}__name(constructYamlFloat,"constructYamlFloat");var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(ee,te){var ne;if(isNaN(ee))switch(te){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===ee)switch(te){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===ee)switch(te){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(ee))return"-0.0";return ne=ee.toString(10),SCIENTIFIC_WITHOUT_DOT.test(ne)?ne.replace("e",".e"):ne}__name(representYamlFloat,"representYamlFloat");function isFloat(ee){return Object.prototype.toString.call(ee)==="[object Number]"&&(ee%1!==0||common.isNegativeZero(ee))}__name(isFloat,"isFloat");var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(ee){return ee===null?!1:YAML_DATE_REGEXP.exec(ee)!==null||YAML_TIMESTAMP_REGEXP.exec(ee)!==null}__name(resolveYamlTimestamp,"resolveYamlTimestamp");function constructYamlTimestamp(ee){var te,ne,ae,ie,se,oe,le,ce=0,he=null,fe,pe,ge;if(te=YAML_DATE_REGEXP.exec(ee),te===null&&(te=YAML_TIMESTAMP_REGEXP.exec(ee)),te===null)throw new Error("Date resolve error");if(ne=+te[1],ae=+te[2]-1,ie=+te[3],!te[4])return new Date(Date.UTC(ne,ae,ie));if(se=+te[4],oe=+te[5],le=+te[6],te[7]){for(ce=te[7].slice(0,3);ce.length<3;)ce+="0";ce=+ce}return te[9]&&(fe=+te[10],pe=+(te[11]||0),he=(fe*60+pe)*6e4,te[9]==="-"&&(he=-he)),ge=new Date(Date.UTC(ne,ae,ie,se,oe,le,ce)),he&&ge.setTime(ge.getTime()-he),ge}__name(constructYamlTimestamp,"constructYamlTimestamp");function representYamlTimestamp(ee){return ee.toISOString()}__name(representYamlTimestamp,"representYamlTimestamp");var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(ee){return ee==="<<"||ee===null}__name(resolveYamlMerge,"resolveYamlMerge");var merge$1=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(ee){if(ee===null)return!1;var te,ne,ae=0,ie=ee.length,se=BASE64_MAP;for(ne=0;ne<ie;ne++)if(te=se.indexOf(ee.charAt(ne)),!(te>64)){if(te<0)return!1;ae+=6}return ae%8===0}__name(resolveYamlBinary,"resolveYamlBinary");function constructYamlBinary(ee){var te,ne,ae=ee.replace(/[\r\n=]/g,""),ie=ae.length,se=BASE64_MAP,oe=0,le=[];for(te=0;te<ie;te++)te%4===0&&te&&(le.push(oe>>16&255),le.push(oe>>8&255),le.push(oe&255)),oe=oe<<6|se.indexOf(ae.charAt(te));return ne=ie%4*6,ne===0?(le.push(oe>>16&255),le.push(oe>>8&255),le.push(oe&255)):ne===18?(le.push(oe>>10&255),le.push(oe>>2&255)):ne===12&&le.push(oe>>4&255),new Uint8Array(le)}__name(constructYamlBinary,"constructYamlBinary");function representYamlBinary(ee){var te="",ne=0,ae,ie,se=ee.length,oe=BASE64_MAP;for(ae=0;ae<se;ae++)ae%3===0&&ae&&(te+=oe[ne>>18&63],te+=oe[ne>>12&63],te+=oe[ne>>6&63],te+=oe[ne&63]),ne=(ne<<8)+ee[ae];return ie=se%3,ie===0?(te+=oe[ne>>18&63],te+=oe[ne>>12&63],te+=oe[ne>>6&63],te+=oe[ne&63]):ie===2?(te+=oe[ne>>10&63],te+=oe[ne>>4&63],te+=oe[ne<<2&63],te+=oe[64]):ie===1&&(te+=oe[ne>>2&63],te+=oe[ne<<4&63],te+=oe[64],te+=oe[64]),te}__name(representYamlBinary,"representYamlBinary");function isBinary(ee){return Object.prototype.toString.call(ee)==="[object Uint8Array]"}__name(isBinary,"isBinary");var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(ee){if(ee===null)return!0;var te=[],ne,ae,ie,se,oe,le=ee;for(ne=0,ae=le.length;ne<ae;ne+=1){if(ie=le[ne],oe=!1,_toString$2.call(ie)!=="[object Object]")return!1;for(se in ie)if(_hasOwnProperty$3.call(ie,se))if(!oe)oe=!0;else return!1;if(!oe)return!1;if(te.indexOf(se)===-1)te.push(se);else return!1}return!0}__name(resolveYamlOmap,"resolveYamlOmap");function constructYamlOmap(ee){return ee!==null?ee:[]}__name(constructYamlOmap,"constructYamlOmap");var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(ee){if(ee===null)return!0;var te,ne,ae,ie,se,oe=ee;for(se=new Array(oe.length),te=0,ne=oe.length;te<ne;te+=1){if(ae=oe[te],_toString$1.call(ae)!=="[object Object]"||(ie=Object.keys(ae),ie.length!==1))return!1;se[te]=[ie[0],ae[ie[0]]]}return!0}__name(resolveYamlPairs,"resolveYamlPairs");function constructYamlPairs(ee){if(ee===null)return[];var te,ne,ae,ie,se,oe=ee;for(se=new Array(oe.length),te=0,ne=oe.length;te<ne;te+=1)ae=oe[te],ie=Object.keys(ae),se[te]=[ie[0],ae[ie[0]]];return se}__name(constructYamlPairs,"constructYamlPairs");var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(ee){if(ee===null)return!0;var te,ne=ee;for(te in ne)if(_hasOwnProperty$2.call(ne,te)&&ne[te]!==null)return!1;return!0}__name(resolveYamlSet,"resolveYamlSet");function constructYamlSet(ee){return ee!==null?ee:{}}__name(constructYamlSet,"constructYamlSet");var set$2=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge$1],explicit:[binary,omap,pairs,set$2]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(ee){return Object.prototype.toString.call(ee)}__name(_class,"_class");function is_EOL(ee){return ee===10||ee===13}__name(is_EOL,"is_EOL");function is_WHITE_SPACE(ee){return ee===9||ee===32}__name(is_WHITE_SPACE,"is_WHITE_SPACE");function is_WS_OR_EOL(ee){return ee===9||ee===32||ee===10||ee===13}__name(is_WS_OR_EOL,"is_WS_OR_EOL");function is_FLOW_INDICATOR(ee){return ee===44||ee===91||ee===93||ee===123||ee===125}__name(is_FLOW_INDICATOR,"is_FLOW_INDICATOR");function fromHexCode(ee){var te;return 48<=ee&&ee<=57?ee-48:(te=ee|32,97<=te&&te<=102?te-97+10:-1)}__name(fromHexCode,"fromHexCode");function escapedHexLen(ee){return ee===120?2:ee===117?4:ee===85?8:0}__name(escapedHexLen,"escapedHexLen");function fromDecimalCode(ee){return 48<=ee&&ee<=57?ee-48:-1}__name(fromDecimalCode,"fromDecimalCode");function simpleEscapeSequence(ee){return ee===48?"\0":ee===97?"\x07":ee===98?"\b":ee===116||ee===9?"	":ee===110?`
`:ee===118?"\v":ee===102?"\f":ee===114?"\r":ee===101?"\x1B":ee===32?" ":ee===34?'"':ee===47?"/":ee===92?"\\":ee===78?"":ee===95?"":ee===76?"\u2028":ee===80?"\u2029":""}__name(simpleEscapeSequence,"simpleEscapeSequence");function charFromCodepoint(ee){return ee<=65535?String.fromCharCode(ee):String.fromCharCode((ee-65536>>10)+55296,(ee-65536&1023)+56320)}__name(charFromCodepoint,"charFromCodepoint");var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(i$1=0;i$1<256;i$1++)simpleEscapeCheck[i$1]=simpleEscapeSequence(i$1)?1:0,simpleEscapeMap[i$1]=simpleEscapeSequence(i$1);var i$1;function State$1(ee,te){this.input=ee,this.filename=te.filename||null,this.schema=te.schema||_default,this.onWarning=te.onWarning||null,this.legacy=te.legacy||!1,this.json=te.json||!1,this.listener=te.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=ee.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}__name(State$1,"State$1");function generateError(ee,te){var ne={name:ee.filename,buffer:ee.input.slice(0,-1),position:ee.position,line:ee.line,column:ee.position-ee.lineStart};return ne.snippet=snippet(ne),new exception(te,ne)}__name(generateError,"generateError");function throwError(ee,te){throw generateError(ee,te)}__name(throwError,"throwError");function throwWarning(ee,te){ee.onWarning&&ee.onWarning.call(null,generateError(ee,te))}__name(throwWarning,"throwWarning");var directiveHandlers={YAML:__name(function ee(te,ne,ae){var ie,se,oe;te.version!==null&&throwError(te,"duplication of %YAML directive"),ae.length!==1&&throwError(te,"YAML directive accepts exactly one argument"),ie=/^([0-9]+)\.([0-9]+)$/.exec(ae[0]),ie===null&&throwError(te,"ill-formed argument of the YAML directive"),se=parseInt(ie[1],10),oe=parseInt(ie[2],10),se!==1&&throwError(te,"unacceptable YAML version of the document"),te.version=ae[0],te.checkLineBreaks=oe<2,oe!==1&&oe!==2&&throwWarning(te,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:__name(function ee(te,ne,ae){var ie,se;ae.length!==2&&throwError(te,"TAG directive accepts exactly two arguments"),ie=ae[0],se=ae[1],PATTERN_TAG_HANDLE.test(ie)||throwError(te,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(te.tagMap,ie)&&throwError(te,'there is a previously declared suffix for "'+ie+'" tag handle'),PATTERN_TAG_URI.test(se)||throwError(te,"ill-formed tag prefix (second argument) of the TAG directive");try{se=decodeURIComponent(se)}catch{throwError(te,"tag prefix is malformed: "+se)}te.tagMap[ie]=se},"handleTagDirective")};function captureSegment(ee,te,ne,ae){var ie,se,oe,le;if(te<ne){if(le=ee.input.slice(te,ne),ae)for(ie=0,se=le.length;ie<se;ie+=1)oe=le.charCodeAt(ie),oe===9||32<=oe&&oe<=1114111||throwError(ee,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(le)&&throwError(ee,"the stream contains non-printable characters");ee.result+=le}}__name(captureSegment,"captureSegment");function mergeMappings(ee,te,ne,ae){var ie,se,oe,le;for(common.isObject(ne)||throwError(ee,"cannot merge mappings; the provided source object is unacceptable"),ie=Object.keys(ne),oe=0,le=ie.length;oe<le;oe+=1)se=ie[oe],_hasOwnProperty$1.call(te,se)||(te[se]=ne[se],ae[se]=!0)}__name(mergeMappings,"mergeMappings");function storeMappingPair(ee,te,ne,ae,ie,se,oe,le,ce){var he,fe;if(Array.isArray(ie))for(ie=Array.prototype.slice.call(ie),he=0,fe=ie.length;he<fe;he+=1)Array.isArray(ie[he])&&throwError(ee,"nested arrays are not supported inside keys"),typeof ie=="object"&&_class(ie[he])==="[object Object]"&&(ie[he]="[object Object]");if(typeof ie=="object"&&_class(ie)==="[object Object]"&&(ie="[object Object]"),ie=String(ie),te===null&&(te={}),ae==="tag:yaml.org,2002:merge")if(Array.isArray(se))for(he=0,fe=se.length;he<fe;he+=1)mergeMappings(ee,te,se[he],ne);else mergeMappings(ee,te,se,ne);else!ee.json&&!_hasOwnProperty$1.call(ne,ie)&&_hasOwnProperty$1.call(te,ie)&&(ee.line=oe||ee.line,ee.lineStart=le||ee.lineStart,ee.position=ce||ee.position,throwError(ee,"duplicated mapping key")),ie==="__proto__"?Object.defineProperty(te,ie,{configurable:!0,enumerable:!0,writable:!0,value:se}):te[ie]=se,delete ne[ie];return te}__name(storeMappingPair,"storeMappingPair");function readLineBreak(ee){var te;te=ee.input.charCodeAt(ee.position),te===10?ee.position++:te===13?(ee.position++,ee.input.charCodeAt(ee.position)===10&&ee.position++):throwError(ee,"a line break is expected"),ee.line+=1,ee.lineStart=ee.position,ee.firstTabInLine=-1}__name(readLineBreak,"readLineBreak");function skipSeparationSpace(ee,te,ne){for(var ae=0,ie=ee.input.charCodeAt(ee.position);ie!==0;){for(;is_WHITE_SPACE(ie);)ie===9&&ee.firstTabInLine===-1&&(ee.firstTabInLine=ee.position),ie=ee.input.charCodeAt(++ee.position);if(te&&ie===35)do ie=ee.input.charCodeAt(++ee.position);while(ie!==10&&ie!==13&&ie!==0);if(is_EOL(ie))for(readLineBreak(ee),ie=ee.input.charCodeAt(ee.position),ae++,ee.lineIndent=0;ie===32;)ee.lineIndent++,ie=ee.input.charCodeAt(++ee.position);else break}return ne!==-1&&ae!==0&&ee.lineIndent<ne&&throwWarning(ee,"deficient indentation"),ae}__name(skipSeparationSpace,"skipSeparationSpace");function testDocumentSeparator(ee){var te=ee.position,ne;return ne=ee.input.charCodeAt(te),!!((ne===45||ne===46)&&ne===ee.input.charCodeAt(te+1)&&ne===ee.input.charCodeAt(te+2)&&(te+=3,ne=ee.input.charCodeAt(te),ne===0||is_WS_OR_EOL(ne)))}__name(testDocumentSeparator,"testDocumentSeparator");function writeFoldedLines(ee,te){te===1?ee.result+=" ":te>1&&(ee.result+=common.repeat(`
`,te-1))}__name(writeFoldedLines,"writeFoldedLines");function readPlainScalar(ee,te,ne){var ae,ie,se,oe,le,ce,he,fe,pe=ee.kind,ge=ee.result,ye;if(ye=ee.input.charCodeAt(ee.position),is_WS_OR_EOL(ye)||is_FLOW_INDICATOR(ye)||ye===35||ye===38||ye===42||ye===33||ye===124||ye===62||ye===39||ye===34||ye===37||ye===64||ye===96||(ye===63||ye===45)&&(ie=ee.input.charCodeAt(ee.position+1),is_WS_OR_EOL(ie)||ne&&is_FLOW_INDICATOR(ie)))return!1;for(ee.kind="scalar",ee.result="",se=oe=ee.position,le=!1;ye!==0;){if(ye===58){if(ie=ee.input.charCodeAt(ee.position+1),is_WS_OR_EOL(ie)||ne&&is_FLOW_INDICATOR(ie))break}else if(ye===35){if(ae=ee.input.charCodeAt(ee.position-1),is_WS_OR_EOL(ae))break}else{if(ee.position===ee.lineStart&&testDocumentSeparator(ee)||ne&&is_FLOW_INDICATOR(ye))break;if(is_EOL(ye))if(ce=ee.line,he=ee.lineStart,fe=ee.lineIndent,skipSeparationSpace(ee,!1,-1),ee.lineIndent>=te){le=!0,ye=ee.input.charCodeAt(ee.position);continue}else{ee.position=oe,ee.line=ce,ee.lineStart=he,ee.lineIndent=fe;break}}le&&(captureSegment(ee,se,oe,!1),writeFoldedLines(ee,ee.line-ce),se=oe=ee.position,le=!1),is_WHITE_SPACE(ye)||(oe=ee.position+1),ye=ee.input.charCodeAt(++ee.position)}return captureSegment(ee,se,oe,!1),ee.result?!0:(ee.kind=pe,ee.result=ge,!1)}__name(readPlainScalar,"readPlainScalar");function readSingleQuotedScalar(ee,te){var ne,ae,ie;if(ne=ee.input.charCodeAt(ee.position),ne!==39)return!1;for(ee.kind="scalar",ee.result="",ee.position++,ae=ie=ee.position;(ne=ee.input.charCodeAt(ee.position))!==0;)if(ne===39)if(captureSegment(ee,ae,ee.position,!0),ne=ee.input.charCodeAt(++ee.position),ne===39)ae=ee.position,ee.position++,ie=ee.position;else return!0;else is_EOL(ne)?(captureSegment(ee,ae,ie,!0),writeFoldedLines(ee,skipSeparationSpace(ee,!1,te)),ae=ie=ee.position):ee.position===ee.lineStart&&testDocumentSeparator(ee)?throwError(ee,"unexpected end of the document within a single quoted scalar"):(ee.position++,ie=ee.position);throwError(ee,"unexpected end of the stream within a single quoted scalar")}__name(readSingleQuotedScalar,"readSingleQuotedScalar");function readDoubleQuotedScalar(ee,te){var ne,ae,ie,se,oe,le;if(le=ee.input.charCodeAt(ee.position),le!==34)return!1;for(ee.kind="scalar",ee.result="",ee.position++,ne=ae=ee.position;(le=ee.input.charCodeAt(ee.position))!==0;){if(le===34)return captureSegment(ee,ne,ee.position,!0),ee.position++,!0;if(le===92){if(captureSegment(ee,ne,ee.position,!0),le=ee.input.charCodeAt(++ee.position),is_EOL(le))skipSeparationSpace(ee,!1,te);else if(le<256&&simpleEscapeCheck[le])ee.result+=simpleEscapeMap[le],ee.position++;else if((oe=escapedHexLen(le))>0){for(ie=oe,se=0;ie>0;ie--)le=ee.input.charCodeAt(++ee.position),(oe=fromHexCode(le))>=0?se=(se<<4)+oe:throwError(ee,"expected hexadecimal character");ee.result+=charFromCodepoint(se),ee.position++}else throwError(ee,"unknown escape sequence");ne=ae=ee.position}else is_EOL(le)?(captureSegment(ee,ne,ae,!0),writeFoldedLines(ee,skipSeparationSpace(ee,!1,te)),ne=ae=ee.position):ee.position===ee.lineStart&&testDocumentSeparator(ee)?throwError(ee,"unexpected end of the document within a double quoted scalar"):(ee.position++,ae=ee.position)}throwError(ee,"unexpected end of the stream within a double quoted scalar")}__name(readDoubleQuotedScalar,"readDoubleQuotedScalar");function readFlowCollection(ee,te){var ne=!0,ae,ie,se,oe=ee.tag,le,ce=ee.anchor,he,fe,pe,ge,ye,xe=Object.create(null),be,Se,ve,Te;if(Te=ee.input.charCodeAt(ee.position),Te===91)fe=93,ye=!1,le=[];else if(Te===123)fe=125,ye=!0,le={};else return!1;for(ee.anchor!==null&&(ee.anchorMap[ee.anchor]=le),Te=ee.input.charCodeAt(++ee.position);Te!==0;){if(skipSeparationSpace(ee,!0,te),Te=ee.input.charCodeAt(ee.position),Te===fe)return ee.position++,ee.tag=oe,ee.anchor=ce,ee.kind=ye?"mapping":"sequence",ee.result=le,!0;ne?Te===44&&throwError(ee,"expected the node content, but found ','"):throwError(ee,"missed comma between flow collection entries"),Se=be=ve=null,pe=ge=!1,Te===63&&(he=ee.input.charCodeAt(ee.position+1),is_WS_OR_EOL(he)&&(pe=ge=!0,ee.position++,skipSeparationSpace(ee,!0,te))),ae=ee.line,ie=ee.lineStart,se=ee.position,composeNode(ee,te,CONTEXT_FLOW_IN,!1,!0),Se=ee.tag,be=ee.result,skipSeparationSpace(ee,!0,te),Te=ee.input.charCodeAt(ee.position),(ge||ee.line===ae)&&Te===58&&(pe=!0,Te=ee.input.charCodeAt(++ee.position),skipSeparationSpace(ee,!0,te),composeNode(ee,te,CONTEXT_FLOW_IN,!1,!0),ve=ee.result),ye?storeMappingPair(ee,le,xe,Se,be,ve,ae,ie,se):pe?le.push(storeMappingPair(ee,null,xe,Se,be,ve,ae,ie,se)):le.push(be),skipSeparationSpace(ee,!0,te),Te=ee.input.charCodeAt(ee.position),Te===44?(ne=!0,Te=ee.input.charCodeAt(++ee.position)):ne=!1}throwError(ee,"unexpected end of the stream within a flow collection")}__name(readFlowCollection,"readFlowCollection");function readBlockScalar(ee,te){var ne,ae,ie=CHOMPING_CLIP,se=!1,oe=!1,le=te,ce=0,he=!1,fe,pe;if(pe=ee.input.charCodeAt(ee.position),pe===124)ae=!1;else if(pe===62)ae=!0;else return!1;for(ee.kind="scalar",ee.result="";pe!==0;)if(pe=ee.input.charCodeAt(++ee.position),pe===43||pe===45)CHOMPING_CLIP===ie?ie=pe===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(ee,"repeat of a chomping mode identifier");else if((fe=fromDecimalCode(pe))>=0)fe===0?throwError(ee,"bad explicit indentation width of a block scalar; it cannot be less than one"):oe?throwError(ee,"repeat of an indentation width identifier"):(le=te+fe-1,oe=!0);else break;if(is_WHITE_SPACE(pe)){do pe=ee.input.charCodeAt(++ee.position);while(is_WHITE_SPACE(pe));if(pe===35)do pe=ee.input.charCodeAt(++ee.position);while(!is_EOL(pe)&&pe!==0)}for(;pe!==0;){for(readLineBreak(ee),ee.lineIndent=0,pe=ee.input.charCodeAt(ee.position);(!oe||ee.lineIndent<le)&&pe===32;)ee.lineIndent++,pe=ee.input.charCodeAt(++ee.position);if(!oe&&ee.lineIndent>le&&(le=ee.lineIndent),is_EOL(pe)){ce++;continue}if(ee.lineIndent<le){ie===CHOMPING_KEEP?ee.result+=common.repeat(`
`,se?1+ce:ce):ie===CHOMPING_CLIP&&se&&(ee.result+=`
`);break}for(ae?is_WHITE_SPACE(pe)?(he=!0,ee.result+=common.repeat(`
`,se?1+ce:ce)):he?(he=!1,ee.result+=common.repeat(`
`,ce+1)):ce===0?se&&(ee.result+=" "):ee.result+=common.repeat(`
`,ce):ee.result+=common.repeat(`
`,se?1+ce:ce),se=!0,oe=!0,ce=0,ne=ee.position;!is_EOL(pe)&&pe!==0;)pe=ee.input.charCodeAt(++ee.position);captureSegment(ee,ne,ee.position,!1)}return!0}__name(readBlockScalar,"readBlockScalar");function readBlockSequence(ee,te){var ne,ae=ee.tag,ie=ee.anchor,se=[],oe,le=!1,ce;if(ee.firstTabInLine!==-1)return!1;for(ee.anchor!==null&&(ee.anchorMap[ee.anchor]=se),ce=ee.input.charCodeAt(ee.position);ce!==0&&(ee.firstTabInLine!==-1&&(ee.position=ee.firstTabInLine,throwError(ee,"tab characters must not be used in indentation")),!(ce!==45||(oe=ee.input.charCodeAt(ee.position+1),!is_WS_OR_EOL(oe))));){if(le=!0,ee.position++,skipSeparationSpace(ee,!0,-1)&&ee.lineIndent<=te){se.push(null),ce=ee.input.charCodeAt(ee.position);continue}if(ne=ee.line,composeNode(ee,te,CONTEXT_BLOCK_IN,!1,!0),se.push(ee.result),skipSeparationSpace(ee,!0,-1),ce=ee.input.charCodeAt(ee.position),(ee.line===ne||ee.lineIndent>te)&&ce!==0)throwError(ee,"bad indentation of a sequence entry");else if(ee.lineIndent<te)break}return le?(ee.tag=ae,ee.anchor=ie,ee.kind="sequence",ee.result=se,!0):!1}__name(readBlockSequence,"readBlockSequence");function readBlockMapping(ee,te,ne){var ae,ie,se,oe,le,ce,he=ee.tag,fe=ee.anchor,pe={},ge=Object.create(null),ye=null,xe=null,be=null,Se=!1,ve=!1,Te;if(ee.firstTabInLine!==-1)return!1;for(ee.anchor!==null&&(ee.anchorMap[ee.anchor]=pe),Te=ee.input.charCodeAt(ee.position);Te!==0;){if(!Se&&ee.firstTabInLine!==-1&&(ee.position=ee.firstTabInLine,throwError(ee,"tab characters must not be used in indentation")),ae=ee.input.charCodeAt(ee.position+1),se=ee.line,(Te===63||Te===58)&&is_WS_OR_EOL(ae))Te===63?(Se&&(storeMappingPair(ee,pe,ge,ye,xe,null,oe,le,ce),ye=xe=be=null),ve=!0,Se=!0,ie=!0):Se?(Se=!1,ie=!0):throwError(ee,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),ee.position+=1,Te=ae;else{if(oe=ee.line,le=ee.lineStart,ce=ee.position,!composeNode(ee,ne,CONTEXT_FLOW_OUT,!1,!0))break;if(ee.line===se){for(Te=ee.input.charCodeAt(ee.position);is_WHITE_SPACE(Te);)Te=ee.input.charCodeAt(++ee.position);if(Te===58)Te=ee.input.charCodeAt(++ee.position),is_WS_OR_EOL(Te)||throwError(ee,"a whitespace character is expected after the key-value separator within a block mapping"),Se&&(storeMappingPair(ee,pe,ge,ye,xe,null,oe,le,ce),ye=xe=be=null),ve=!0,Se=!1,ie=!1,ye=ee.tag,xe=ee.result;else if(ve)throwError(ee,"can not read an implicit mapping pair; a colon is missed");else return ee.tag=he,ee.anchor=fe,!0}else if(ve)throwError(ee,"can not read a block mapping entry; a multiline key may not be an implicit key");else return ee.tag=he,ee.anchor=fe,!0}if((ee.line===se||ee.lineIndent>te)&&(Se&&(oe=ee.line,le=ee.lineStart,ce=ee.position),composeNode(ee,te,CONTEXT_BLOCK_OUT,!0,ie)&&(Se?xe=ee.result:be=ee.result),Se||(storeMappingPair(ee,pe,ge,ye,xe,be,oe,le,ce),ye=xe=be=null),skipSeparationSpace(ee,!0,-1),Te=ee.input.charCodeAt(ee.position)),(ee.line===se||ee.lineIndent>te)&&Te!==0)throwError(ee,"bad indentation of a mapping entry");else if(ee.lineIndent<te)break}return Se&&storeMappingPair(ee,pe,ge,ye,xe,null,oe,le,ce),ve&&(ee.tag=he,ee.anchor=fe,ee.kind="mapping",ee.result=pe),ve}__name(readBlockMapping,"readBlockMapping");function readTagProperty(ee){var te,ne=!1,ae=!1,ie,se,oe;if(oe=ee.input.charCodeAt(ee.position),oe!==33)return!1;if(ee.tag!==null&&throwError(ee,"duplication of a tag property"),oe=ee.input.charCodeAt(++ee.position),oe===60?(ne=!0,oe=ee.input.charCodeAt(++ee.position)):oe===33?(ae=!0,ie="!!",oe=ee.input.charCodeAt(++ee.position)):ie="!",te=ee.position,ne){do oe=ee.input.charCodeAt(++ee.position);while(oe!==0&&oe!==62);ee.position<ee.length?(se=ee.input.slice(te,ee.position),oe=ee.input.charCodeAt(++ee.position)):throwError(ee,"unexpected end of the stream within a verbatim tag")}else{for(;oe!==0&&!is_WS_OR_EOL(oe);)oe===33&&(ae?throwError(ee,"tag suffix cannot contain exclamation marks"):(ie=ee.input.slice(te-1,ee.position+1),PATTERN_TAG_HANDLE.test(ie)||throwError(ee,"named tag handle cannot contain such characters"),ae=!0,te=ee.position+1)),oe=ee.input.charCodeAt(++ee.position);se=ee.input.slice(te,ee.position),PATTERN_FLOW_INDICATORS.test(se)&&throwError(ee,"tag suffix cannot contain flow indicator characters")}se&&!PATTERN_TAG_URI.test(se)&&throwError(ee,"tag name cannot contain such characters: "+se);try{se=decodeURIComponent(se)}catch{throwError(ee,"tag name is malformed: "+se)}return ne?ee.tag=se:_hasOwnProperty$1.call(ee.tagMap,ie)?ee.tag=ee.tagMap[ie]+se:ie==="!"?ee.tag="!"+se:ie==="!!"?ee.tag="tag:yaml.org,2002:"+se:throwError(ee,'undeclared tag handle "'+ie+'"'),!0}__name(readTagProperty,"readTagProperty");function readAnchorProperty(ee){var te,ne;if(ne=ee.input.charCodeAt(ee.position),ne!==38)return!1;for(ee.anchor!==null&&throwError(ee,"duplication of an anchor property"),ne=ee.input.charCodeAt(++ee.position),te=ee.position;ne!==0&&!is_WS_OR_EOL(ne)&&!is_FLOW_INDICATOR(ne);)ne=ee.input.charCodeAt(++ee.position);return ee.position===te&&throwError(ee,"name of an anchor node must contain at least one character"),ee.anchor=ee.input.slice(te,ee.position),!0}__name(readAnchorProperty,"readAnchorProperty");function readAlias(ee){var te,ne,ae;if(ae=ee.input.charCodeAt(ee.position),ae!==42)return!1;for(ae=ee.input.charCodeAt(++ee.position),te=ee.position;ae!==0&&!is_WS_OR_EOL(ae)&&!is_FLOW_INDICATOR(ae);)ae=ee.input.charCodeAt(++ee.position);return ee.position===te&&throwError(ee,"name of an alias node must contain at least one character"),ne=ee.input.slice(te,ee.position),_hasOwnProperty$1.call(ee.anchorMap,ne)||throwError(ee,'unidentified alias "'+ne+'"'),ee.result=ee.anchorMap[ne],skipSeparationSpace(ee,!0,-1),!0}__name(readAlias,"readAlias");function composeNode(ee,te,ne,ae,ie){var se,oe,le,ce=1,he=!1,fe=!1,pe,ge,ye,xe,be,Se;if(ee.listener!==null&&ee.listener("open",ee),ee.tag=null,ee.anchor=null,ee.kind=null,ee.result=null,se=oe=le=CONTEXT_BLOCK_OUT===ne||CONTEXT_BLOCK_IN===ne,ae&&skipSeparationSpace(ee,!0,-1)&&(he=!0,ee.lineIndent>te?ce=1:ee.lineIndent===te?ce=0:ee.lineIndent<te&&(ce=-1)),ce===1)for(;readTagProperty(ee)||readAnchorProperty(ee);)skipSeparationSpace(ee,!0,-1)?(he=!0,le=se,ee.lineIndent>te?ce=1:ee.lineIndent===te?ce=0:ee.lineIndent<te&&(ce=-1)):le=!1;if(le&&(le=he||ie),(ce===1||CONTEXT_BLOCK_OUT===ne)&&(CONTEXT_FLOW_IN===ne||CONTEXT_FLOW_OUT===ne?be=te:be=te+1,Se=ee.position-ee.lineStart,ce===1?le&&(readBlockSequence(ee,Se)||readBlockMapping(ee,Se,be))||readFlowCollection(ee,be)?fe=!0:(oe&&readBlockScalar(ee,be)||readSingleQuotedScalar(ee,be)||readDoubleQuotedScalar(ee,be)?fe=!0:readAlias(ee)?(fe=!0,(ee.tag!==null||ee.anchor!==null)&&throwError(ee,"alias node should not have any properties")):readPlainScalar(ee,be,CONTEXT_FLOW_IN===ne)&&(fe=!0,ee.tag===null&&(ee.tag="?")),ee.anchor!==null&&(ee.anchorMap[ee.anchor]=ee.result)):ce===0&&(fe=le&&readBlockSequence(ee,Se))),ee.tag===null)ee.anchor!==null&&(ee.anchorMap[ee.anchor]=ee.result);else if(ee.tag==="?"){for(ee.result!==null&&ee.kind!=="scalar"&&throwError(ee,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+ee.kind+'"'),pe=0,ge=ee.implicitTypes.length;pe<ge;pe+=1)if(xe=ee.implicitTypes[pe],xe.resolve(ee.result)){ee.result=xe.construct(ee.result),ee.tag=xe.tag,ee.anchor!==null&&(ee.anchorMap[ee.anchor]=ee.result);break}}else if(ee.tag!=="!"){if(_hasOwnProperty$1.call(ee.typeMap[ee.kind||"fallback"],ee.tag))xe=ee.typeMap[ee.kind||"fallback"][ee.tag];else for(xe=null,ye=ee.typeMap.multi[ee.kind||"fallback"],pe=0,ge=ye.length;pe<ge;pe+=1)if(ee.tag.slice(0,ye[pe].tag.length)===ye[pe].tag){xe=ye[pe];break}xe||throwError(ee,"unknown tag !<"+ee.tag+">"),ee.result!==null&&xe.kind!==ee.kind&&throwError(ee,"unacceptable node kind for !<"+ee.tag+'> tag; it should be "'+xe.kind+'", not "'+ee.kind+'"'),xe.resolve(ee.result,ee.tag)?(ee.result=xe.construct(ee.result,ee.tag),ee.anchor!==null&&(ee.anchorMap[ee.anchor]=ee.result)):throwError(ee,"cannot resolve a node with !<"+ee.tag+"> explicit tag")}return ee.listener!==null&&ee.listener("close",ee),ee.tag!==null||ee.anchor!==null||fe}__name(composeNode,"composeNode");function readDocument(ee){var te=ee.position,ne,ae,ie,se=!1,oe;for(ee.version=null,ee.checkLineBreaks=ee.legacy,ee.tagMap=Object.create(null),ee.anchorMap=Object.create(null);(oe=ee.input.charCodeAt(ee.position))!==0&&(skipSeparationSpace(ee,!0,-1),oe=ee.input.charCodeAt(ee.position),!(ee.lineIndent>0||oe!==37));){for(se=!0,oe=ee.input.charCodeAt(++ee.position),ne=ee.position;oe!==0&&!is_WS_OR_EOL(oe);)oe=ee.input.charCodeAt(++ee.position);for(ae=ee.input.slice(ne,ee.position),ie=[],ae.length<1&&throwError(ee,"directive name must not be less than one character in length");oe!==0;){for(;is_WHITE_SPACE(oe);)oe=ee.input.charCodeAt(++ee.position);if(oe===35){do oe=ee.input.charCodeAt(++ee.position);while(oe!==0&&!is_EOL(oe));break}if(is_EOL(oe))break;for(ne=ee.position;oe!==0&&!is_WS_OR_EOL(oe);)oe=ee.input.charCodeAt(++ee.position);ie.push(ee.input.slice(ne,ee.position))}oe!==0&&readLineBreak(ee),_hasOwnProperty$1.call(directiveHandlers,ae)?directiveHandlers[ae](ee,ae,ie):throwWarning(ee,'unknown document directive "'+ae+'"')}if(skipSeparationSpace(ee,!0,-1),ee.lineIndent===0&&ee.input.charCodeAt(ee.position)===45&&ee.input.charCodeAt(ee.position+1)===45&&ee.input.charCodeAt(ee.position+2)===45?(ee.position+=3,skipSeparationSpace(ee,!0,-1)):se&&throwError(ee,"directives end mark is expected"),composeNode(ee,ee.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(ee,!0,-1),ee.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(ee.input.slice(te,ee.position))&&throwWarning(ee,"non-ASCII line breaks are interpreted as content"),ee.documents.push(ee.result),ee.position===ee.lineStart&&testDocumentSeparator(ee)){ee.input.charCodeAt(ee.position)===46&&(ee.position+=3,skipSeparationSpace(ee,!0,-1));return}if(ee.position<ee.length-1)throwError(ee,"end of the stream or a document separator is expected");else return}__name(readDocument,"readDocument");function loadDocuments(ee,te){ee=String(ee),te=te||{},ee.length!==0&&(ee.charCodeAt(ee.length-1)!==10&&ee.charCodeAt(ee.length-1)!==13&&(ee+=`
`),ee.charCodeAt(0)===65279&&(ee=ee.slice(1)));var ne=new State$1(ee,te),ae=ee.indexOf("\0");for(ae!==-1&&(ne.position=ae,throwError(ne,"null byte is not allowed in input")),ne.input+="\0";ne.input.charCodeAt(ne.position)===32;)ne.lineIndent+=1,ne.position+=1;for(;ne.position<ne.length-1;)readDocument(ne);return ne.documents}__name(loadDocuments,"loadDocuments");function loadAll$1(ee,te,ne){te!==null&&typeof te=="object"&&typeof ne>"u"&&(ne=te,te=null);var ae=loadDocuments(ee,ne);if(typeof te!="function")return ae;for(var ie=0,se=ae.length;ie<se;ie+=1)te(ae[ie])}__name(loadAll$1,"loadAll$1");function load$1(ee,te){var ne=loadDocuments(ee,te);if(ne.length!==0){if(ne.length===1)return ne[0];throw new exception("expected a single document in the stream, but found more")}}__name(load$1,"load$1");var load_1=load$1,loader$1={load:load_1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(ee,te){var ne,ae,ie,se,oe,le,ce;if(te===null)return{};for(ne={},ae=Object.keys(te),ie=0,se=ae.length;ie<se;ie+=1)oe=ae[ie],le=String(te[oe]),oe.slice(0,2)==="!!"&&(oe="tag:yaml.org,2002:"+oe.slice(2)),ce=ee.compiledTypeMap.fallback[oe],ce&&_hasOwnProperty.call(ce.styleAliases,le)&&(le=ce.styleAliases[le]),ne[oe]=le;return ne}__name(compileStyleMap,"compileStyleMap");function encodeHex(ee){var te,ne,ae;if(te=ee.toString(16).toUpperCase(),ee<=255)ne="x",ae=2;else if(ee<=65535)ne="u",ae=4;else if(ee<=4294967295)ne="U",ae=8;else throw new exception("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+ne+common.repeat("0",ae-te.length)+te}__name(encodeHex,"encodeHex");var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(ee){this.schema=ee.schema||_default,this.indent=Math.max(1,ee.indent||2),this.noArrayIndent=ee.noArrayIndent||!1,this.skipInvalid=ee.skipInvalid||!1,this.flowLevel=common.isNothing(ee.flowLevel)?-1:ee.flowLevel,this.styleMap=compileStyleMap(this.schema,ee.styles||null),this.sortKeys=ee.sortKeys||!1,this.lineWidth=ee.lineWidth||80,this.noRefs=ee.noRefs||!1,this.noCompatMode=ee.noCompatMode||!1,this.condenseFlow=ee.condenseFlow||!1,this.quotingType=ee.quotingType==='"'?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=ee.forceQuotes||!1,this.replacer=typeof ee.replacer=="function"?ee.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}__name(State,"State");function indentString(ee,te){for(var ne=common.repeat(" ",te),ae=0,ie=-1,se="",oe,le=ee.length;ae<le;)ie=ee.indexOf(`
`,ae),ie===-1?(oe=ee.slice(ae),ae=le):(oe=ee.slice(ae,ie+1),ae=ie+1),oe.length&&oe!==`
`&&(se+=ne),se+=oe;return se}__name(indentString,"indentString");function generateNextLine(ee,te){return`
`+common.repeat(" ",ee.indent*te)}__name(generateNextLine,"generateNextLine");function testImplicitResolving(ee,te){var ne,ae,ie;for(ne=0,ae=ee.implicitTypes.length;ne<ae;ne+=1)if(ie=ee.implicitTypes[ne],ie.resolve(te))return!0;return!1}__name(testImplicitResolving,"testImplicitResolving");function isWhitespace(ee){return ee===CHAR_SPACE||ee===CHAR_TAB}__name(isWhitespace,"isWhitespace");function isPrintable(ee){return 32<=ee&&ee<=126||161<=ee&&ee<=55295&&ee!==8232&&ee!==8233||57344<=ee&&ee<=65533&&ee!==CHAR_BOM||65536<=ee&&ee<=1114111}__name(isPrintable,"isPrintable");function isNsCharOrWhitespace(ee){return isPrintable(ee)&&ee!==CHAR_BOM&&ee!==CHAR_CARRIAGE_RETURN&&ee!==CHAR_LINE_FEED}__name(isNsCharOrWhitespace,"isNsCharOrWhitespace");function isPlainSafe(ee,te,ne){var ae=isNsCharOrWhitespace(ee),ie=ae&&!isWhitespace(ee);return(ne?ae:ae&&ee!==CHAR_COMMA&&ee!==CHAR_LEFT_SQUARE_BRACKET&&ee!==CHAR_RIGHT_SQUARE_BRACKET&&ee!==CHAR_LEFT_CURLY_BRACKET&&ee!==CHAR_RIGHT_CURLY_BRACKET)&&ee!==CHAR_SHARP&&!(te===CHAR_COLON&&!ie)||isNsCharOrWhitespace(te)&&!isWhitespace(te)&&ee===CHAR_SHARP||te===CHAR_COLON&&ie}__name(isPlainSafe,"isPlainSafe");function isPlainSafeFirst(ee){return isPrintable(ee)&&ee!==CHAR_BOM&&!isWhitespace(ee)&&ee!==CHAR_MINUS&&ee!==CHAR_QUESTION&&ee!==CHAR_COLON&&ee!==CHAR_COMMA&&ee!==CHAR_LEFT_SQUARE_BRACKET&&ee!==CHAR_RIGHT_SQUARE_BRACKET&&ee!==CHAR_LEFT_CURLY_BRACKET&&ee!==CHAR_RIGHT_CURLY_BRACKET&&ee!==CHAR_SHARP&&ee!==CHAR_AMPERSAND&&ee!==CHAR_ASTERISK&&ee!==CHAR_EXCLAMATION&&ee!==CHAR_VERTICAL_LINE&&ee!==CHAR_EQUALS&&ee!==CHAR_GREATER_THAN&&ee!==CHAR_SINGLE_QUOTE&&ee!==CHAR_DOUBLE_QUOTE&&ee!==CHAR_PERCENT&&ee!==CHAR_COMMERCIAL_AT&&ee!==CHAR_GRAVE_ACCENT}__name(isPlainSafeFirst,"isPlainSafeFirst");function isPlainSafeLast(ee){return!isWhitespace(ee)&&ee!==CHAR_COLON}__name(isPlainSafeLast,"isPlainSafeLast");function codePointAt(ee,te){var ne=ee.charCodeAt(te),ae;return ne>=55296&&ne<=56319&&te+1<ee.length&&(ae=ee.charCodeAt(te+1),ae>=56320&&ae<=57343)?(ne-55296)*1024+ae-56320+65536:ne}__name(codePointAt,"codePointAt");function needIndentIndicator(ee){var te=/^\n* /;return te.test(ee)}__name(needIndentIndicator,"needIndentIndicator");var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(ee,te,ne,ae,ie,se,oe,le){var ce,he=0,fe=null,pe=!1,ge=!1,ye=ae!==-1,xe=-1,be=isPlainSafeFirst(codePointAt(ee,0))&&isPlainSafeLast(codePointAt(ee,ee.length-1));if(te||oe)for(ce=0;ce<ee.length;he>=65536?ce+=2:ce++){if(he=codePointAt(ee,ce),!isPrintable(he))return STYLE_DOUBLE;be=be&&isPlainSafe(he,fe,le),fe=he}else{for(ce=0;ce<ee.length;he>=65536?ce+=2:ce++){if(he=codePointAt(ee,ce),he===CHAR_LINE_FEED)pe=!0,ye&&(ge=ge||ce-xe-1>ae&&ee[xe+1]!==" ",xe=ce);else if(!isPrintable(he))return STYLE_DOUBLE;be=be&&isPlainSafe(he,fe,le),fe=he}ge=ge||ye&&ce-xe-1>ae&&ee[xe+1]!==" "}return!pe&&!ge?be&&!oe&&!ie(ee)?STYLE_PLAIN:se===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:ne>9&&needIndentIndicator(ee)?STYLE_DOUBLE:oe?se===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:ge?STYLE_FOLDED:STYLE_LITERAL}__name(chooseScalarStyle,"chooseScalarStyle");function writeScalar(ee,te,ne,ae,ie){ee.dump=(function(){if(te.length===0)return ee.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!ee.noCompatMode&&(DEPRECATED_BOOLEANS_SYNTAX.indexOf(te)!==-1||DEPRECATED_BASE60_SYNTAX.test(te)))return ee.quotingType===QUOTING_TYPE_DOUBLE?'"'+te+'"':"'"+te+"'";var se=ee.indent*Math.max(1,ne),oe=ee.lineWidth===-1?-1:Math.max(Math.min(ee.lineWidth,40),ee.lineWidth-se),le=ae||ee.flowLevel>-1&&ne>=ee.flowLevel;function ce(he){return testImplicitResolving(ee,he)}switch(__name(ce,"testAmbiguity"),chooseScalarStyle(te,le,ee.indent,oe,ce,ee.quotingType,ee.forceQuotes&&!ae,ie)){case STYLE_PLAIN:return te;case STYLE_SINGLE:return"'"+te.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(te,ee.indent)+dropEndingNewline(indentString(te,se));case STYLE_FOLDED:return">"+blockHeader(te,ee.indent)+dropEndingNewline(indentString(foldString(te,oe),se));case STYLE_DOUBLE:return'"'+escapeString(te)+'"';default:throw new exception("impossible error: invalid scalar style")}})()}__name(writeScalar,"writeScalar");function blockHeader(ee,te){var ne=needIndentIndicator(ee)?String(te):"",ae=ee[ee.length-1]===`
`,ie=ae&&(ee[ee.length-2]===`
`||ee===`
`),se=ie?"+":ae?"":"-";return ne+se+`
`}__name(blockHeader,"blockHeader");function dropEndingNewline(ee){return ee[ee.length-1]===`
`?ee.slice(0,-1):ee}__name(dropEndingNewline,"dropEndingNewline");function foldString(ee,te){for(var ne=/(\n+)([^\n]*)/g,ae=(function(){var he=ee.indexOf(`
`);return he=he!==-1?he:ee.length,ne.lastIndex=he,foldLine(ee.slice(0,he),te)})(),ie=ee[0]===`
`||ee[0]===" ",se,oe;oe=ne.exec(ee);){var le=oe[1],ce=oe[2];se=ce[0]===" ",ae+=le+(!ie&&!se&&ce!==""?`
`:"")+foldLine(ce,te),ie=se}return ae}__name(foldString,"foldString");function foldLine(ee,te){if(ee===""||ee[0]===" ")return ee;for(var ne=/ [^ ]/g,ae,ie=0,se,oe=0,le=0,ce="";ae=ne.exec(ee);)le=ae.index,le-ie>te&&(se=oe>ie?oe:le,ce+=`
`+ee.slice(ie,se),ie=se+1),oe=le;return ce+=`
`,ee.length-ie>te&&oe>ie?ce+=ee.slice(ie,oe)+`
`+ee.slice(oe+1):ce+=ee.slice(ie),ce.slice(1)}__name(foldLine,"foldLine");function escapeString(ee){for(var te="",ne=0,ae,ie=0;ie<ee.length;ne>=65536?ie+=2:ie++)ne=codePointAt(ee,ie),ae=ESCAPE_SEQUENCES[ne],!ae&&isPrintable(ne)?(te+=ee[ie],ne>=65536&&(te+=ee[ie+1])):te+=ae||encodeHex(ne);return te}__name(escapeString,"escapeString");function writeFlowSequence(ee,te,ne){var ae="",ie=ee.tag,se,oe,le;for(se=0,oe=ne.length;se<oe;se+=1)le=ne[se],ee.replacer&&(le=ee.replacer.call(ne,String(se),le)),(writeNode(ee,te,le,!1,!1)||typeof le>"u"&&writeNode(ee,te,null,!1,!1))&&(ae!==""&&(ae+=","+(ee.condenseFlow?"":" ")),ae+=ee.dump);ee.tag=ie,ee.dump="["+ae+"]"}__name(writeFlowSequence,"writeFlowSequence");function writeBlockSequence(ee,te,ne,ae){var ie="",se=ee.tag,oe,le,ce;for(oe=0,le=ne.length;oe<le;oe+=1)ce=ne[oe],ee.replacer&&(ce=ee.replacer.call(ne,String(oe),ce)),(writeNode(ee,te+1,ce,!0,!0,!1,!0)||typeof ce>"u"&&writeNode(ee,te+1,null,!0,!0,!1,!0))&&((!ae||ie!=="")&&(ie+=generateNextLine(ee,te)),ee.dump&&CHAR_LINE_FEED===ee.dump.charCodeAt(0)?ie+="-":ie+="- ",ie+=ee.dump);ee.tag=se,ee.dump=ie||"[]"}__name(writeBlockSequence,"writeBlockSequence");function writeFlowMapping(ee,te,ne){var ae="",ie=ee.tag,se=Object.keys(ne),oe,le,ce,he,fe;for(oe=0,le=se.length;oe<le;oe+=1)fe="",ae!==""&&(fe+=", "),ee.condenseFlow&&(fe+='"'),ce=se[oe],he=ne[ce],ee.replacer&&(he=ee.replacer.call(ne,ce,he)),writeNode(ee,te,ce,!1,!1)&&(ee.dump.length>1024&&(fe+="? "),fe+=ee.dump+(ee.condenseFlow?'"':"")+":"+(ee.condenseFlow?"":" "),writeNode(ee,te,he,!1,!1)&&(fe+=ee.dump,ae+=fe));ee.tag=ie,ee.dump="{"+ae+"}"}__name(writeFlowMapping,"writeFlowMapping");function writeBlockMapping(ee,te,ne,ae){var ie="",se=ee.tag,oe=Object.keys(ne),le,ce,he,fe,pe,ge;if(ee.sortKeys===!0)oe.sort();else if(typeof ee.sortKeys=="function")oe.sort(ee.sortKeys);else if(ee.sortKeys)throw new exception("sortKeys must be a boolean or a function");for(le=0,ce=oe.length;le<ce;le+=1)ge="",(!ae||ie!=="")&&(ge+=generateNextLine(ee,te)),he=oe[le],fe=ne[he],ee.replacer&&(fe=ee.replacer.call(ne,he,fe)),writeNode(ee,te+1,he,!0,!0,!0)&&(pe=ee.tag!==null&&ee.tag!=="?"||ee.dump&&ee.dump.length>1024,pe&&(ee.dump&&CHAR_LINE_FEED===ee.dump.charCodeAt(0)?ge+="?":ge+="? "),ge+=ee.dump,pe&&(ge+=generateNextLine(ee,te)),writeNode(ee,te+1,fe,!0,pe)&&(ee.dump&&CHAR_LINE_FEED===ee.dump.charCodeAt(0)?ge+=":":ge+=": ",ge+=ee.dump,ie+=ge));ee.tag=se,ee.dump=ie||"{}"}__name(writeBlockMapping,"writeBlockMapping");function detectType(ee,te,ne){var ae,ie,se,oe,le,ce;for(ie=ne?ee.explicitTypes:ee.implicitTypes,se=0,oe=ie.length;se<oe;se+=1)if(le=ie[se],(le.instanceOf||le.predicate)&&(!le.instanceOf||typeof te=="object"&&te instanceof le.instanceOf)&&(!le.predicate||le.predicate(te))){if(ne?le.multi&&le.representName?ee.tag=le.representName(te):ee.tag=le.tag:ee.tag="?",le.represent){if(ce=ee.styleMap[le.tag]||le.defaultStyle,_toString.call(le.represent)==="[object Function]")ae=le.represent(te,ce);else if(_hasOwnProperty.call(le.represent,ce))ae=le.represent[ce](te,ce);else throw new exception("!<"+le.tag+'> tag resolver accepts not "'+ce+'" style');ee.dump=ae}return!0}return!1}__name(detectType,"detectType");function writeNode(ee,te,ne,ae,ie,se,oe){ee.tag=null,ee.dump=ne,detectType(ee,ne,!1)||detectType(ee,ne,!0);var le=_toString.call(ee.dump),ce=ae,he;ae&&(ae=ee.flowLevel<0||ee.flowLevel>te);var fe=le==="[object Object]"||le==="[object Array]",pe,ge;if(fe&&(pe=ee.duplicates.indexOf(ne),ge=pe!==-1),(ee.tag!==null&&ee.tag!=="?"||ge||ee.indent!==2&&te>0)&&(ie=!1),ge&&ee.usedDuplicates[pe])ee.dump="*ref_"+pe;else{if(fe&&ge&&!ee.usedDuplicates[pe]&&(ee.usedDuplicates[pe]=!0),le==="[object Object]")ae&&Object.keys(ee.dump).length!==0?(writeBlockMapping(ee,te,ee.dump,ie),ge&&(ee.dump="&ref_"+pe+ee.dump)):(writeFlowMapping(ee,te,ee.dump),ge&&(ee.dump="&ref_"+pe+" "+ee.dump));else if(le==="[object Array]")ae&&ee.dump.length!==0?(ee.noArrayIndent&&!oe&&te>0?writeBlockSequence(ee,te-1,ee.dump,ie):writeBlockSequence(ee,te,ee.dump,ie),ge&&(ee.dump="&ref_"+pe+ee.dump)):(writeFlowSequence(ee,te,ee.dump),ge&&(ee.dump="&ref_"+pe+" "+ee.dump));else if(le==="[object String]")ee.tag!=="?"&&writeScalar(ee,ee.dump,te,se,ce);else{if(le==="[object Undefined]")return!1;if(ee.skipInvalid)return!1;throw new exception("unacceptable kind of an object to dump "+le)}ee.tag!==null&&ee.tag!=="?"&&(he=encodeURI(ee.tag[0]==="!"?ee.tag.slice(1):ee.tag).replace(/!/g,"%21"),ee.tag[0]==="!"?he="!"+he:he.slice(0,18)==="tag:yaml.org,2002:"?he="!!"+he.slice(18):he="!<"+he+">",ee.dump=he+" "+ee.dump)}return!0}__name(writeNode,"writeNode");function getDuplicateReferences(ee,te){var ne=[],ae=[],ie,se;for(inspectNode(ee,ne,ae),ie=0,se=ae.length;ie<se;ie+=1)te.duplicates.push(ne[ae[ie]]);te.usedDuplicates=new Array(se)}__name(getDuplicateReferences,"getDuplicateReferences");function inspectNode(ee,te,ne){var ae,ie,se;if(ee!==null&&typeof ee=="object")if(ie=te.indexOf(ee),ie!==-1)ne.indexOf(ie)===-1&&ne.push(ie);else if(te.push(ee),Array.isArray(ee))for(ie=0,se=ee.length;ie<se;ie+=1)inspectNode(ee[ie],te,ne);else for(ae=Object.keys(ee),ie=0,se=ae.length;ie<se;ie+=1)inspectNode(ee[ae[ie]],te,ne)}__name(inspectNode,"inspectNode");function dump$1(ee,te){te=te||{};var ne=new State(te);ne.noRefs||getDuplicateReferences(ee,ne);var ae=ee;return ne.replacer&&(ae=ne.replacer.call({"":ae},"",ae)),writeNode(ne,0,ae,!0,!0)?ne.dump+`
`:""}__name(dump$1,"dump$1");function renamed(ee,te){return function(){throw new Error("Function yaml."+ee+" is removed in js-yaml 4. Use yaml."+te+" instead, which is now safe by default.")}}__name(renamed,"renamed");var JSON_SCHEMA=json,load=loader$1.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/const defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations}),defaultExtendedIconProps=Object.freeze({...defaultIconProps,body:"",hidden:!1}),defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations}),stringToIcon=(ee,te,ne,ae="")=>{const ie=ee.split(":");if(ee.slice(0,1)==="@"){if(ie.length<2||ie.length>3)return null;ae=ie.shift().slice(1)}if(ie.length>3||!ie.length)return null;if(ie.length>1){const le=ie.pop(),ce=ie.pop(),he={provider:ie.length>0?ie[0]:ae,prefix:ce,name:le};return validateIconName(he)?he:null}const se=ie[0],oe=se.split("-");if(oe.length>1){const le={provider:ae,prefix:oe.shift(),name:oe.join("-")};return validateIconName(le)?le:null}if(ne&&ae===""){const le={provider:ae,prefix:"",name:se};return validateIconName(le,ne)?le:null}return null},validateIconName=(ee,te)=>ee?!!((te&&ee.prefix===""||ee.prefix)&&ee.name):!1;function mergeIconTransformations(ee,te){const ne={};!ee.hFlip!=!te.hFlip&&(ne.hFlip=!0),!ee.vFlip!=!te.vFlip&&(ne.vFlip=!0);const ae=((ee.rotate||0)+(te.rotate||0))%4;return ae&&(ne.rotate=ae),ne}function mergeIconData(ee,te){const ne=mergeIconTransformations(ee,te);for(const ae in defaultExtendedIconProps)ae in defaultIconTransformations?ae in ee&&!(ae in ne)&&(ne[ae]=defaultIconTransformations[ae]):ae in te?ne[ae]=te[ae]:ae in ee&&(ne[ae]=ee[ae]);return ne}function getIconsTree(ee,te){const ne=ee.icons,ae=ee.aliases||Object.create(null),ie=Object.create(null);function se(oe){if(ne[oe])return ie[oe]=[];if(!(oe in ie)){ie[oe]=null;const le=ae[oe]&&ae[oe].parent,ce=le&&se(le);ce&&(ie[oe]=[le].concat(ce))}return ie[oe]}return(te||Object.keys(ne).concat(Object.keys(ae))).forEach(se),ie}function internalGetIconData(ee,te,ne){const ae=ee.icons,ie=ee.aliases||Object.create(null);let se={};function oe(le){se=mergeIconData(ae[le]||ie[le],se)}return oe(te),ne.forEach(oe),mergeIconData(ee,se)}function getIconData(ee,te){if(ee.icons[te])return internalGetIconData(ee,te,[]);const ne=getIconsTree(ee,[te])[te];return ne?internalGetIconData(ee,te,ne):null}const unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(ee,te,ne){if(te===1)return ee;if(ne=ne||100,typeof ee=="number")return Math.ceil(ee*te*ne)/ne;if(typeof ee!="string")return ee;const ae=ee.split(unitsSplit);if(ae===null||!ae.length)return ee;const ie=[];let se=ae.shift(),oe=unitsTest.test(se);for(;;){if(oe){const le=parseFloat(se);isNaN(le)?ie.push(se):ie.push(Math.ceil(le*te*ne)/ne)}else ie.push(se);if(se=ae.shift(),se===void 0)return ie.join("");oe=!oe}}function splitSVGDefs(ee,te="defs"){let ne="";const ae=ee.indexOf("<"+te);for(;ae>=0;){const ie=ee.indexOf(">",ae),se=ee.indexOf("</"+te);if(ie===-1||se===-1)break;const oe=ee.indexOf(">",se);if(oe===-1)break;ne+=ee.slice(ie+1,se).trim(),ee=ee.slice(0,ae).trim()+ee.slice(oe+1)}return{defs:ne,content:ee}}function mergeDefsAndContent(ee,te){return ee?"<defs>"+ee+"</defs>"+te:te}function wrapSVGContent(ee,te,ne){const ae=splitSVGDefs(ee);return mergeDefsAndContent(ae.defs,te+ae.content+ne)}const isUnsetKeyword=ee=>ee==="unset"||ee==="undefined"||ee==="none";function iconToSVG(ee,te){const ne={...defaultIconProps,...ee},ae={...defaultIconCustomisations,...te},ie={left:ne.left,top:ne.top,width:ne.width,height:ne.height};let se=ne.body;[ne,ae].forEach(be=>{const Se=[],ve=be.hFlip,Te=be.vFlip;let Ce=be.rotate;ve?Te?Ce+=2:(Se.push("translate("+(ie.width+ie.left).toString()+" "+(0-ie.top).toString()+")"),Se.push("scale(-1 1)"),ie.top=ie.left=0):Te&&(Se.push("translate("+(0-ie.left).toString()+" "+(ie.height+ie.top).toString()+")"),Se.push("scale(1 -1)"),ie.top=ie.left=0);let Pe;switch(Ce<0&&(Ce-=Math.floor(Ce/4)*4),Ce=Ce%4,Ce){case 1:Pe=ie.height/2+ie.top,Se.unshift("rotate(90 "+Pe.toString()+" "+Pe.toString()+")");break;case 2:Se.unshift("rotate(180 "+(ie.width/2+ie.left).toString()+" "+(ie.height/2+ie.top).toString()+")");break;case 3:Pe=ie.width/2+ie.left,Se.unshift("rotate(-90 "+Pe.toString()+" "+Pe.toString()+")");break}Ce%2===1&&(ie.left!==ie.top&&(Pe=ie.left,ie.left=ie.top,ie.top=Pe),ie.width!==ie.height&&(Pe=ie.width,ie.width=ie.height,ie.height=Pe)),Se.length&&(se=wrapSVGContent(se,'<g transform="'+Se.join(" ")+'">',"</g>"))});const oe=ae.width,le=ae.height,ce=ie.width,he=ie.height;let fe,pe;oe===null?(pe=le===null?"1em":le==="auto"?he:le,fe=calculateSize(pe,ce/he)):(fe=oe==="auto"?ce:oe,pe=le===null?calculateSize(fe,he/ce):le==="auto"?he:le);const ge={},ye=(be,Se)=>{isUnsetKeyword(Se)||(ge[be]=Se.toString())};ye("width",fe),ye("height",pe);const xe=[ie.left,ie.top,ce,he];return ge.viewBox=xe.join(" "),{attributes:ge,viewBox:xe,body:se}}const regex=/\sid="(\S+)"/g,randomPrefix="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let counter=0;function replaceIDs(ee,te=randomPrefix){const ne=[];let ae;for(;ae=regex.exec(ee);)ne.push(ae[1]);if(!ne.length)return ee;const ie="suffix"+(Math.random()*16777216|Date.now()).toString(16);return ne.forEach(se=>{const oe=typeof te=="function"?te(se):te+(counter++).toString(),le=se.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");ee=ee.replace(new RegExp('([#;"])('+le+')([")]|\\.[a-z])',"g"),"$1"+oe+ie+"$3")}),ee=ee.replace(new RegExp(ie,"g"),""),ee}function iconToHTML(ee,te){let ne=ee.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const ae in te)ne+=" "+ae+'="'+te[ae]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+ne+">"+ee+"</svg>"}var unknownIcon={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},iconsStore=new Map,loaderStore=new Map,registerIconPacks=__name(ee=>{for(const te of ee){if(!te.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(log.debug("Registering icon pack:",te.name),"loader"in te)loaderStore.set(te.name,te.loader);else if("icons"in te)iconsStore.set(te.name,te.icons);else throw log.error("Invalid icon loader:",te),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),getRegisteredIconData=__name(async(ee,te)=>{const ne=stringToIcon(ee,!0,te!==void 0);if(!ne)throw new Error(`Invalid icon name: ${ee}`);const ae=ne.prefix||te;if(!ae)throw new Error(`Icon name must contain a prefix: ${ee}`);let ie=iconsStore.get(ae);if(!ie){const oe=loaderStore.get(ae);if(!oe)throw new Error(`Icon set not found: ${ne.prefix}`);try{ie={...await oe(),prefix:ae},iconsStore.set(ae,ie)}catch(le){throw log.error(le),new Error(`Failed to load icon set: ${ne.prefix}`)}}const se=getIconData(ie,ne.name);if(!se)throw new Error(`Icon not found: ${ee}`);return se},"getRegisteredIconData"),getIconSVG=__name(async(ee,te)=>{let ne;try{ne=await getRegisteredIconData(ee,te==null?void 0:te.fallbackPrefix)}catch(se){log.error(se),ne=unknownIcon}const ae=iconToSVG(ne,te);return iconToHTML(replaceIDs(ae.body),ae.attributes)},"getIconSVG"),getSubGraphTitleMargins=__name(({flowchart:ee})=>{var ie,se;const te=((ie=ee==null?void 0:ee.subGraphTitleMargin)==null?void 0:ie.top)??0,ne=((se=ee==null?void 0:ee.subGraphTitleMargin)==null?void 0:se.bottom)??0,ae=te+ne;return{subGraphTitleTopMargin:te,subGraphTitleBottomMargin:ne,subGraphTitleTotalMargin:ae}},"getSubGraphTitleMargins"),dist={},constants={},hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.BLANK_URL=constants.relativeFirstCharacters=constants.whitespaceEscapeCharsRegex=constants.urlSchemeRegex=constants.ctrlCharactersRegex=constants.htmlCtrlEntityRegex=constants.htmlEntitiesRegex=constants.invalidProtocolRegex=void 0,constants.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,constants.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,constants.htmlCtrlEntityRegex=/&(newline|tab);/gi,constants.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,constants.urlSchemeRegex=/^.+(:|&colon;)/gim,constants.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,constants.relativeFirstCharacters=[".","/"],constants.BLANK_URL="about:blank"),constants}var hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.sanitizeUrl=void 0;var ee=requireConstants();function te(oe){return ee.relativeFirstCharacters.indexOf(oe[0])>-1}function ne(oe){var le=oe.replace(ee.ctrlCharactersRegex,"");return le.replace(ee.htmlEntitiesRegex,function(ce,he){return String.fromCharCode(he)})}function ae(oe){return URL.canParse(oe)}function ie(oe){try{return decodeURIComponent(oe)}catch{return oe}}function se(oe){if(!oe)return ee.BLANK_URL;var le,ce=ie(oe.trim());do ce=ne(ce).replace(ee.htmlCtrlEntityRegex,"").replace(ee.ctrlCharactersRegex,"").replace(ee.whitespaceEscapeCharsRegex,"").trim(),ce=ie(ce),le=ce.match(ee.ctrlCharactersRegex)||ce.match(ee.htmlEntitiesRegex)||ce.match(ee.htmlCtrlEntityRegex)||ce.match(ee.whitespaceEscapeCharsRegex);while(le&&le.length>0);var he=ce;if(!he)return ee.BLANK_URL;if(te(he))return he;var fe=he.trimStart(),pe=fe.match(ee.urlSchemeRegex);if(!pe)return he;var ge=pe[0].toLowerCase().trim();if(ee.invalidProtocolRegex.test(ge))return ee.BLANK_URL;var ye=fe.replace(/\\/g,"/");if(ge==="mailto:"||ge.includes("://"))return ye;if(ge==="http:"||ge==="https:"){if(!ae(ye))return ee.BLANK_URL;var xe=new URL(ye);return xe.protocol=xe.protocol.toLowerCase(),xe.hostname=xe.hostname.toLowerCase(),xe.toString()}return ye}return dist.sanitizeUrl=se,dist}var distExports=requireDist(),noop$1={value:()=>{}};function dispatch(){for(var ee=0,te=arguments.length,ne={},ae;ee<te;++ee){if(!(ae=arguments[ee]+"")||ae in ne||/[\s.]/.test(ae))throw new Error("illegal type: "+ae);ne[ae]=[]}return new Dispatch(ne)}function Dispatch(ee){this._=ee}function parseTypenames$1(ee,te){return ee.trim().split(/^|\s+/).map(function(ne){var ae="",ie=ne.indexOf(".");if(ie>=0&&(ae=ne.slice(ie+1),ne=ne.slice(0,ie)),ne&&!te.hasOwnProperty(ne))throw new Error("unknown type: "+ne);return{type:ne,name:ae}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(ee,te){var ne=this._,ae=parseTypenames$1(ee+"",ne),ie,se=-1,oe=ae.length;if(arguments.length<2){for(;++se<oe;)if((ie=(ee=ae[se]).type)&&(ie=get$1(ne[ie],ee.name)))return ie;return}if(te!=null&&typeof te!="function")throw new Error("invalid callback: "+te);for(;++se<oe;)if(ie=(ee=ae[se]).type)ne[ie]=set$1(ne[ie],ee.name,te);else if(te==null)for(ie in ne)ne[ie]=set$1(ne[ie],ee.name,null);return this},copy:function(){var ee={},te=this._;for(var ne in te)ee[ne]=te[ne].slice();return new Dispatch(ee)},call:function(ee,te){if((ie=arguments.length-2)>0)for(var ne=new Array(ie),ae=0,ie,se;ae<ie;++ae)ne[ae]=arguments[ae+2];if(!this._.hasOwnProperty(ee))throw new Error("unknown type: "+ee);for(se=this._[ee],ae=0,ie=se.length;ae<ie;++ae)se[ae].value.apply(te,ne)},apply:function(ee,te,ne){if(!this._.hasOwnProperty(ee))throw new Error("unknown type: "+ee);for(var ae=this._[ee],ie=0,se=ae.length;ie<se;++ie)ae[ie].value.apply(te,ne)}};function get$1(ee,te){for(var ne=0,ae=ee.length,ie;ne<ae;++ne)if((ie=ee[ne]).name===te)return ie.value}function set$1(ee,te,ne){for(var ae=0,ie=ee.length;ae<ie;++ae)if(ee[ae].name===te){ee[ae]=noop$1,ee=ee.slice(0,ae).concat(ee.slice(ae+1));break}return ne!=null&&ee.push({name:te,value:ne}),ee}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(ee){var te=ee+="",ne=te.indexOf(":");return ne>=0&&(te=ee.slice(0,ne))!=="xmlns"&&(ee=ee.slice(ne+1)),namespaces.hasOwnProperty(te)?{space:namespaces[te],local:ee}:ee}function creatorInherit(ee){return function(){var te=this.ownerDocument,ne=this.namespaceURI;return ne===xhtml&&te.documentElement.namespaceURI===xhtml?te.createElement(ee):te.createElementNS(ne,ee)}}function creatorFixed(ee){return function(){return this.ownerDocument.createElementNS(ee.space,ee.local)}}function creator(ee){var te=namespace(ee);return(te.local?creatorFixed:creatorInherit)(te)}function none(){}function selector(ee){return ee==null?none:function(){return this.querySelector(ee)}}function selection_select(ee){typeof ee!="function"&&(ee=selector(ee));for(var te=this._groups,ne=te.length,ae=new Array(ne),ie=0;ie<ne;++ie)for(var se=te[ie],oe=se.length,le=ae[ie]=new Array(oe),ce,he,fe=0;fe<oe;++fe)(ce=se[fe])&&(he=ee.call(ce,ce.__data__,fe,se))&&("__data__"in ce&&(he.__data__=ce.__data__),le[fe]=he);return new Selection$1(ae,this._parents)}function array$1(ee){return ee==null?[]:Array.isArray(ee)?ee:Array.from(ee)}function empty(){return[]}function selectorAll(ee){return ee==null?empty:function(){return this.querySelectorAll(ee)}}function arrayAll(ee){return function(){return array$1(ee.apply(this,arguments))}}function selection_selectAll(ee){typeof ee=="function"?ee=arrayAll(ee):ee=selectorAll(ee);for(var te=this._groups,ne=te.length,ae=[],ie=[],se=0;se<ne;++se)for(var oe=te[se],le=oe.length,ce,he=0;he<le;++he)(ce=oe[he])&&(ae.push(ee.call(ce,ce.__data__,he,oe)),ie.push(ce));return new Selection$1(ae,ie)}function matcher(ee){return function(){return this.matches(ee)}}function childMatcher(ee){return function(te){return te.matches(ee)}}var find=Array.prototype.find;function childFind(ee){return function(){return find.call(this.children,ee)}}function childFirst(){return this.firstElementChild}function selection_selectChild(ee){return this.select(ee==null?childFirst:childFind(typeof ee=="function"?ee:childMatcher(ee)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(ee){return function(){return filter.call(this.children,ee)}}function selection_selectChildren(ee){return this.selectAll(ee==null?children:childrenFilter(typeof ee=="function"?ee:childMatcher(ee)))}function selection_filter(ee){typeof ee!="function"&&(ee=matcher(ee));for(var te=this._groups,ne=te.length,ae=new Array(ne),ie=0;ie<ne;++ie)for(var se=te[ie],oe=se.length,le=ae[ie]=[],ce,he=0;he<oe;++he)(ce=se[he])&&ee.call(ce,ce.__data__,he,se)&&le.push(ce);return new Selection$1(ae,this._parents)}function sparse(ee){return new Array(ee.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(ee,te){this.ownerDocument=ee.ownerDocument,this.namespaceURI=ee.namespaceURI,this._next=null,this._parent=ee,this.__data__=te}EnterNode.prototype={constructor:EnterNode,appendChild:function(ee){return this._parent.insertBefore(ee,this._next)},insertBefore:function(ee,te){return this._parent.insertBefore(ee,te)},querySelector:function(ee){return this._parent.querySelector(ee)},querySelectorAll:function(ee){return this._parent.querySelectorAll(ee)}};function constant$3(ee){return function(){return ee}}function bindIndex(ee,te,ne,ae,ie,se){for(var oe=0,le,ce=te.length,he=se.length;oe<he;++oe)(le=te[oe])?(le.__data__=se[oe],ae[oe]=le):ne[oe]=new EnterNode(ee,se[oe]);for(;oe<ce;++oe)(le=te[oe])&&(ie[oe]=le)}function bindKey(ee,te,ne,ae,ie,se,oe){var le,ce,he=new Map,fe=te.length,pe=se.length,ge=new Array(fe),ye;for(le=0;le<fe;++le)(ce=te[le])&&(ge[le]=ye=oe.call(ce,ce.__data__,le,te)+"",he.has(ye)?ie[le]=ce:he.set(ye,ce));for(le=0;le<pe;++le)ye=oe.call(ee,se[le],le,se)+"",(ce=he.get(ye))?(ae[le]=ce,ce.__data__=se[le],he.delete(ye)):ne[le]=new EnterNode(ee,se[le]);for(le=0;le<fe;++le)(ce=te[le])&&he.get(ge[le])===ce&&(ie[le]=ce)}function datum(ee){return ee.__data__}function selection_data(ee,te){if(!arguments.length)return Array.from(this,datum);var ne=te?bindKey:bindIndex,ae=this._parents,ie=this._groups;typeof ee!="function"&&(ee=constant$3(ee));for(var se=ie.length,oe=new Array(se),le=new Array(se),ce=new Array(se),he=0;he<se;++he){var fe=ae[he],pe=ie[he],ge=pe.length,ye=arraylike(ee.call(fe,fe&&fe.__data__,he,ae)),xe=ye.length,be=le[he]=new Array(xe),Se=oe[he]=new Array(xe),ve=ce[he]=new Array(ge);ne(fe,pe,be,Se,ve,ye,te);for(var Te=0,Ce=0,Pe,Be;Te<xe;++Te)if(Pe=be[Te]){for(Te>=Ce&&(Ce=Te+1);!(Be=Se[Ce])&&++Ce<xe;);Pe._next=Be||null}}return oe=new Selection$1(oe,ae),oe._enter=le,oe._exit=ce,oe}function arraylike(ee){return typeof ee=="object"&&"length"in ee?ee:Array.from(ee)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(ee,te,ne){var ae=this.enter(),ie=this,se=this.exit();return typeof ee=="function"?(ae=ee(ae),ae&&(ae=ae.selection())):ae=ae.append(ee+""),te!=null&&(ie=te(ie),ie&&(ie=ie.selection())),ne==null?se.remove():ne(se),ae&&ie?ae.merge(ie).order():ie}function selection_merge(ee){for(var te=ee.selection?ee.selection():ee,ne=this._groups,ae=te._groups,ie=ne.length,se=ae.length,oe=Math.min(ie,se),le=new Array(ie),ce=0;ce<oe;++ce)for(var he=ne[ce],fe=ae[ce],pe=he.length,ge=le[ce]=new Array(pe),ye,xe=0;xe<pe;++xe)(ye=he[xe]||fe[xe])&&(ge[xe]=ye);for(;ce<ie;++ce)le[ce]=ne[ce];return new Selection$1(le,this._parents)}function selection_order(){for(var ee=this._groups,te=-1,ne=ee.length;++te<ne;)for(var ae=ee[te],ie=ae.length-1,se=ae[ie],oe;--ie>=0;)(oe=ae[ie])&&(se&&oe.compareDocumentPosition(se)^4&&se.parentNode.insertBefore(oe,se),se=oe);return this}function selection_sort(ee){ee||(ee=ascending);function te(pe,ge){return pe&&ge?ee(pe.__data__,ge.__data__):!pe-!ge}for(var ne=this._groups,ae=ne.length,ie=new Array(ae),se=0;se<ae;++se){for(var oe=ne[se],le=oe.length,ce=ie[se]=new Array(le),he,fe=0;fe<le;++fe)(he=oe[fe])&&(ce[fe]=he);ce.sort(te)}return new Selection$1(ie,this._parents).order()}function ascending(ee,te){return ee<te?-1:ee>te?1:ee>=te?0:NaN}function selection_call(){var ee=arguments[0];return arguments[0]=this,ee.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var ee=this._groups,te=0,ne=ee.length;te<ne;++te)for(var ae=ee[te],ie=0,se=ae.length;ie<se;++ie){var oe=ae[ie];if(oe)return oe}return null}function selection_size(){let ee=0;for(const te of this)++ee;return ee}function selection_empty(){return!this.node()}function selection_each(ee){for(var te=this._groups,ne=0,ae=te.length;ne<ae;++ne)for(var ie=te[ne],se=0,oe=ie.length,le;se<oe;++se)(le=ie[se])&&ee.call(le,le.__data__,se,ie);return this}function attrRemove$1(ee){return function(){this.removeAttribute(ee)}}function attrRemoveNS$1(ee){return function(){this.removeAttributeNS(ee.space,ee.local)}}function attrConstant$1(ee,te){return function(){this.setAttribute(ee,te)}}function attrConstantNS$1(ee,te){return function(){this.setAttributeNS(ee.space,ee.local,te)}}function attrFunction$1(ee,te){return function(){var ne=te.apply(this,arguments);ne==null?this.removeAttribute(ee):this.setAttribute(ee,ne)}}function attrFunctionNS$1(ee,te){return function(){var ne=te.apply(this,arguments);ne==null?this.removeAttributeNS(ee.space,ee.local):this.setAttributeNS(ee.space,ee.local,ne)}}function selection_attr(ee,te){var ne=namespace(ee);if(arguments.length<2){var ae=this.node();return ne.local?ae.getAttributeNS(ne.space,ne.local):ae.getAttribute(ne)}return this.each((te==null?ne.local?attrRemoveNS$1:attrRemove$1:typeof te=="function"?ne.local?attrFunctionNS$1:attrFunction$1:ne.local?attrConstantNS$1:attrConstant$1)(ne,te))}function defaultView(ee){return ee.ownerDocument&&ee.ownerDocument.defaultView||ee.document&&ee||ee.defaultView}function styleRemove$1(ee){return function(){this.style.removeProperty(ee)}}function styleConstant$1(ee,te,ne){return function(){this.style.setProperty(ee,te,ne)}}function styleFunction$1(ee,te,ne){return function(){var ae=te.apply(this,arguments);ae==null?this.style.removeProperty(ee):this.style.setProperty(ee,ae,ne)}}function selection_style(ee,te,ne){return arguments.length>1?this.each((te==null?styleRemove$1:typeof te=="function"?styleFunction$1:styleConstant$1)(ee,te,ne??"")):styleValue(this.node(),ee)}function styleValue(ee,te){return ee.style.getPropertyValue(te)||defaultView(ee).getComputedStyle(ee,null).getPropertyValue(te)}function propertyRemove(ee){return function(){delete this[ee]}}function propertyConstant(ee,te){return function(){this[ee]=te}}function propertyFunction(ee,te){return function(){var ne=te.apply(this,arguments);ne==null?delete this[ee]:this[ee]=ne}}function selection_property(ee,te){return arguments.length>1?this.each((te==null?propertyRemove:typeof te=="function"?propertyFunction:propertyConstant)(ee,te)):this.node()[ee]}function classArray(ee){return ee.trim().split(/^|\s+/)}function classList(ee){return ee.classList||new ClassList(ee)}function ClassList(ee){this._node=ee,this._names=classArray(ee.getAttribute("class")||"")}ClassList.prototype={add:function(ee){var te=this._names.indexOf(ee);te<0&&(this._names.push(ee),this._node.setAttribute("class",this._names.join(" ")))},remove:function(ee){var te=this._names.indexOf(ee);te>=0&&(this._names.splice(te,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(ee){return this._names.indexOf(ee)>=0}};function classedAdd(ee,te){for(var ne=classList(ee),ae=-1,ie=te.length;++ae<ie;)ne.add(te[ae])}function classedRemove(ee,te){for(var ne=classList(ee),ae=-1,ie=te.length;++ae<ie;)ne.remove(te[ae])}function classedTrue(ee){return function(){classedAdd(this,ee)}}function classedFalse(ee){return function(){classedRemove(this,ee)}}function classedFunction(ee,te){return function(){(te.apply(this,arguments)?classedAdd:classedRemove)(this,ee)}}function selection_classed(ee,te){var ne=classArray(ee+"");if(arguments.length<2){for(var ae=classList(this.node()),ie=-1,se=ne.length;++ie<se;)if(!ae.contains(ne[ie]))return!1;return!0}return this.each((typeof te=="function"?classedFunction:te?classedTrue:classedFalse)(ne,te))}function textRemove(){this.textContent=""}function textConstant$1(ee){return function(){this.textContent=ee}}function textFunction$1(ee){return function(){var te=ee.apply(this,arguments);this.textContent=te??""}}function selection_text(ee){return arguments.length?this.each(ee==null?textRemove:(typeof ee=="function"?textFunction$1:textConstant$1)(ee)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(ee){return function(){this.innerHTML=ee}}function htmlFunction(ee){return function(){var te=ee.apply(this,arguments);this.innerHTML=te??""}}function selection_html(ee){return arguments.length?this.each(ee==null?htmlRemove:(typeof ee=="function"?htmlFunction:htmlConstant)(ee)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(ee){var te=typeof ee=="function"?ee:creator(ee);return this.select(function(){return this.appendChild(te.apply(this,arguments))})}function constantNull(){return null}function selection_insert(ee,te){var ne=typeof ee=="function"?ee:creator(ee),ae=te==null?constantNull:typeof te=="function"?te:selector(te);return this.select(function(){return this.insertBefore(ne.apply(this,arguments),ae.apply(this,arguments)||null)})}function remove(){var ee=this.parentNode;ee&&ee.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var ee=this.cloneNode(!1),te=this.parentNode;return te?te.insertBefore(ee,this.nextSibling):ee}function selection_cloneDeep(){var ee=this.cloneNode(!0),te=this.parentNode;return te?te.insertBefore(ee,this.nextSibling):ee}function selection_clone(ee){return this.select(ee?selection_cloneDeep:selection_cloneShallow)}function selection_datum(ee){return arguments.length?this.property("__data__",ee):this.node().__data__}function contextListener(ee){return function(te){ee.call(this,te,this.__data__)}}function parseTypenames(ee){return ee.trim().split(/^|\s+/).map(function(te){var ne="",ae=te.indexOf(".");return ae>=0&&(ne=te.slice(ae+1),te=te.slice(0,ae)),{type:te,name:ne}})}function onRemove(ee){return function(){var te=this.__on;if(te){for(var ne=0,ae=-1,ie=te.length,se;ne<ie;++ne)se=te[ne],(!ee.type||se.type===ee.type)&&se.name===ee.name?this.removeEventListener(se.type,se.listener,se.options):te[++ae]=se;++ae?te.length=ae:delete this.__on}}}function onAdd(ee,te,ne){return function(){var ae=this.__on,ie,se=contextListener(te);if(ae){for(var oe=0,le=ae.length;oe<le;++oe)if((ie=ae[oe]).type===ee.type&&ie.name===ee.name){this.removeEventListener(ie.type,ie.listener,ie.options),this.addEventListener(ie.type,ie.listener=se,ie.options=ne),ie.value=te;return}}this.addEventListener(ee.type,se,ne),ie={type:ee.type,name:ee.name,value:te,listener:se,options:ne},ae?ae.push(ie):this.__on=[ie]}}function selection_on(ee,te,ne){var ae=parseTypenames(ee+""),ie,se=ae.length,oe;if(arguments.length<2){var le=this.node().__on;if(le){for(var ce=0,he=le.length,fe;ce<he;++ce)for(ie=0,fe=le[ce];ie<se;++ie)if((oe=ae[ie]).type===fe.type&&oe.name===fe.name)return fe.value}return}for(le=te?onAdd:onRemove,ie=0;ie<se;++ie)this.each(le(ae[ie],te,ne));return this}function dispatchEvent(ee,te,ne){var ae=defaultView(ee),ie=ae.CustomEvent;typeof ie=="function"?ie=new ie(te,ne):(ie=ae.document.createEvent("Event"),ne?(ie.initEvent(te,ne.bubbles,ne.cancelable),ie.detail=ne.detail):ie.initEvent(te,!1,!1)),ee.dispatchEvent(ie)}function dispatchConstant(ee,te){return function(){return dispatchEvent(this,ee,te)}}function dispatchFunction(ee,te){return function(){return dispatchEvent(this,ee,te.apply(this,arguments))}}function selection_dispatch(ee,te){return this.each((typeof te=="function"?dispatchFunction:dispatchConstant)(ee,te))}function*selection_iterator(){for(var ee=this._groups,te=0,ne=ee.length;te<ne;++te)for(var ae=ee[te],ie=0,se=ae.length,oe;ie<se;++ie)(oe=ae[ie])&&(yield oe)}var root$2=[null];function Selection$1(ee,te){this._groups=ee,this._parents=te}function selection(){return new Selection$1([[document.documentElement]],root$2)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(ee){return typeof ee=="string"?new Selection$1([[document.querySelector(ee)]],[document.documentElement]):new Selection$1([[ee]],root$2)}function define(ee,te,ne){ee.prototype=te.prototype=ne,ne.constructor=ee}function extend(ee,te){var ne=Object.create(ee.prototype);for(var ae in te)ne[ae]=te[ae];return ne}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(ee){return Object.assign(new this.constructor,this,ee)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(ee){var te,ne;return ee=(ee+"").trim().toLowerCase(),(te=reHex.exec(ee))?(ne=te[1].length,te=parseInt(te[1],16),ne===6?rgbn(te):ne===3?new Rgb(te>>8&15|te>>4&240,te>>4&15|te&240,(te&15)<<4|te&15,1):ne===8?rgba(te>>24&255,te>>16&255,te>>8&255,(te&255)/255):ne===4?rgba(te>>12&15|te>>8&240,te>>8&15|te>>4&240,te>>4&15|te&240,((te&15)<<4|te&15)/255):null):(te=reRgbInteger.exec(ee))?new Rgb(te[1],te[2],te[3],1):(te=reRgbPercent.exec(ee))?new Rgb(te[1]*255/100,te[2]*255/100,te[3]*255/100,1):(te=reRgbaInteger.exec(ee))?rgba(te[1],te[2],te[3],te[4]):(te=reRgbaPercent.exec(ee))?rgba(te[1]*255/100,te[2]*255/100,te[3]*255/100,te[4]):(te=reHslPercent.exec(ee))?hsla(te[1],te[2]/100,te[3]/100,1):(te=reHslaPercent.exec(ee))?hsla(te[1],te[2]/100,te[3]/100,te[4]):named.hasOwnProperty(ee)?rgbn(named[ee]):ee==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(ee){return new Rgb(ee>>16&255,ee>>8&255,ee&255,1)}function rgba(ee,te,ne,ae){return ae<=0&&(ee=te=ne=NaN),new Rgb(ee,te,ne,ae)}function rgbConvert(ee){return ee instanceof Color||(ee=color(ee)),ee?(ee=ee.rgb(),new Rgb(ee.r,ee.g,ee.b,ee.opacity)):new Rgb}function rgb(ee,te,ne,ae){return arguments.length===1?rgbConvert(ee):new Rgb(ee,te,ne,ae??1)}function Rgb(ee,te,ne,ae){this.r=+ee,this.g=+te,this.b=+ne,this.opacity=+ae}define(Rgb,rgb,extend(Color,{brighter(ee){return ee=ee==null?brighter:Math.pow(brighter,ee),new Rgb(this.r*ee,this.g*ee,this.b*ee,this.opacity)},darker(ee){return ee=ee==null?darker:Math.pow(darker,ee),new Rgb(this.r*ee,this.g*ee,this.b*ee,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const ee=clampa(this.opacity);return`${ee===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${ee===1?")":`, ${ee})`}`}function clampa(ee){return isNaN(ee)?1:Math.max(0,Math.min(1,ee))}function clampi(ee){return Math.max(0,Math.min(255,Math.round(ee)||0))}function hex(ee){return ee=clampi(ee),(ee<16?"0":"")+ee.toString(16)}function hsla(ee,te,ne,ae){return ae<=0?ee=te=ne=NaN:ne<=0||ne>=1?ee=te=NaN:te<=0&&(ee=NaN),new Hsl(ee,te,ne,ae)}function hslConvert(ee){if(ee instanceof Hsl)return new Hsl(ee.h,ee.s,ee.l,ee.opacity);if(ee instanceof Color||(ee=color(ee)),!ee)return new Hsl;if(ee instanceof Hsl)return ee;ee=ee.rgb();var te=ee.r/255,ne=ee.g/255,ae=ee.b/255,ie=Math.min(te,ne,ae),se=Math.max(te,ne,ae),oe=NaN,le=se-ie,ce=(se+ie)/2;return le?(te===se?oe=(ne-ae)/le+(ne<ae)*6:ne===se?oe=(ae-te)/le+2:oe=(te-ne)/le+4,le/=ce<.5?se+ie:2-se-ie,oe*=60):le=ce>0&&ce<1?0:oe,new Hsl(oe,le,ce,ee.opacity)}function hsl(ee,te,ne,ae){return arguments.length===1?hslConvert(ee):new Hsl(ee,te,ne,ae??1)}function Hsl(ee,te,ne,ae){this.h=+ee,this.s=+te,this.l=+ne,this.opacity=+ae}define(Hsl,hsl,extend(Color,{brighter(ee){return ee=ee==null?brighter:Math.pow(brighter,ee),new Hsl(this.h,this.s,this.l*ee,this.opacity)},darker(ee){return ee=ee==null?darker:Math.pow(darker,ee),new Hsl(this.h,this.s,this.l*ee,this.opacity)},rgb(){var ee=this.h%360+(this.h<0)*360,te=isNaN(ee)||isNaN(this.s)?0:this.s,ne=this.l,ae=ne+(ne<.5?ne:1-ne)*te,ie=2*ne-ae;return new Rgb(hsl2rgb(ee>=240?ee-240:ee+120,ie,ae),hsl2rgb(ee,ie,ae),hsl2rgb(ee<120?ee+240:ee-120,ie,ae),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const ee=clampa(this.opacity);return`${ee===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${ee===1?")":`, ${ee})`}`}}));function clamph(ee){return ee=(ee||0)%360,ee<0?ee+360:ee}function clampt(ee){return Math.max(0,Math.min(1,ee||0))}function hsl2rgb(ee,te,ne){return(ee<60?te+(ne-te)*ee/60:ee<180?ne:ee<240?te+(ne-te)*(240-ee)/60:te)*255}const constant$2=ee=>()=>ee;function linear(ee,te){return function(ne){return ee+ne*te}}function exponential(ee,te,ne){return ee=Math.pow(ee,ne),te=Math.pow(te,ne)-ee,ne=1/ne,function(ae){return Math.pow(ee+ae*te,ne)}}function hue(ee,te){var ne=te-ee;return ne?linear(ee,ne>180||ne<-180?ne-360*Math.round(ne/360):ne):constant$2(isNaN(ee)?te:ee)}function gamma(ee){return(ee=+ee)==1?nogamma:function(te,ne){return ne-te?exponential(te,ne,ee):constant$2(isNaN(te)?ne:te)}}function nogamma(ee,te){var ne=te-ee;return ne?linear(ee,ne):constant$2(isNaN(ee)?te:ee)}const interpolateRgb=(function ee(te){var ne=gamma(te);function ae(ie,se){var oe=ne((ie=rgb(ie)).r,(se=rgb(se)).r),le=ne(ie.g,se.g),ce=ne(ie.b,se.b),he=nogamma(ie.opacity,se.opacity);return function(fe){return ie.r=oe(fe),ie.g=le(fe),ie.b=ce(fe),ie.opacity=he(fe),ie+""}}return ae.gamma=ee,ae})(1);function interpolateNumber(ee,te){return ee=+ee,te=+te,function(ne){return ee*(1-ne)+te*ne}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(ee){return function(){return ee}}function one(ee){return function(te){return ee(te)+""}}function interpolateString(ee,te){var ne=reA.lastIndex=reB.lastIndex=0,ae,ie,se,oe=-1,le=[],ce=[];for(ee=ee+"",te=te+"";(ae=reA.exec(ee))&&(ie=reB.exec(te));)(se=ie.index)>ne&&(se=te.slice(ne,se),le[oe]?le[oe]+=se:le[++oe]=se),(ae=ae[0])===(ie=ie[0])?le[oe]?le[oe]+=ie:le[++oe]=ie:(le[++oe]=null,ce.push({i:oe,x:interpolateNumber(ae,ie)})),ne=reB.lastIndex;return ne<te.length&&(se=te.slice(ne),le[oe]?le[oe]+=se:le[++oe]=se),le.length<2?ce[0]?one(ce[0].x):zero(te):(te=ce.length,function(he){for(var fe=0,pe;fe<te;++fe)le[(pe=ce[fe]).i]=pe.x(he);return le.join("")})}var degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(ee,te,ne,ae,ie,se){var oe,le,ce;return(oe=Math.sqrt(ee*ee+te*te))&&(ee/=oe,te/=oe),(ce=ee*ne+te*ae)&&(ne-=ee*ce,ae-=te*ce),(le=Math.sqrt(ne*ne+ae*ae))&&(ne/=le,ae/=le,ce/=le),ee*ae<te*ne&&(ee=-ee,te=-te,ce=-ce,oe=-oe),{translateX:ie,translateY:se,rotate:Math.atan2(te,ee)*degrees,skewX:Math.atan(ce)*degrees,scaleX:oe,scaleY:le}}var svgNode;function parseCss(ee){const te=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(ee+"");return te.isIdentity?identity$1:decompose(te.a,te.b,te.c,te.d,te.e,te.f)}function parseSvg(ee){return ee==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",ee),!(ee=svgNode.transform.baseVal.consolidate()))?identity$1:(ee=ee.matrix,decompose(ee.a,ee.b,ee.c,ee.d,ee.e,ee.f))}function interpolateTransform(ee,te,ne,ae){function ie(he){return he.length?he.pop()+" ":""}function se(he,fe,pe,ge,ye,xe){if(he!==pe||fe!==ge){var be=ye.push("translate(",null,te,null,ne);xe.push({i:be-4,x:interpolateNumber(he,pe)},{i:be-2,x:interpolateNumber(fe,ge)})}else(pe||ge)&&ye.push("translate("+pe+te+ge+ne)}function oe(he,fe,pe,ge){he!==fe?(he-fe>180?fe+=360:fe-he>180&&(he+=360),ge.push({i:pe.push(ie(pe)+"rotate(",null,ae)-2,x:interpolateNumber(he,fe)})):fe&&pe.push(ie(pe)+"rotate("+fe+ae)}function le(he,fe,pe,ge){he!==fe?ge.push({i:pe.push(ie(pe)+"skewX(",null,ae)-2,x:interpolateNumber(he,fe)}):fe&&pe.push(ie(pe)+"skewX("+fe+ae)}function ce(he,fe,pe,ge,ye,xe){if(he!==pe||fe!==ge){var be=ye.push(ie(ye)+"scale(",null,",",null,")");xe.push({i:be-4,x:interpolateNumber(he,pe)},{i:be-2,x:interpolateNumber(fe,ge)})}else(pe!==1||ge!==1)&&ye.push(ie(ye)+"scale("+pe+","+ge+")")}return function(he,fe){var pe=[],ge=[];return he=ee(he),fe=ee(fe),se(he.translateX,he.translateY,fe.translateX,fe.translateY,pe,ge),oe(he.rotate,fe.rotate,pe,ge),le(he.skewX,fe.skewX,pe,ge),ce(he.scaleX,he.scaleY,fe.scaleX,fe.scaleY,pe,ge),he=fe=null,function(ye){for(var xe=-1,be=ge.length,Se;++xe<be;)pe[(Se=ge[xe]).i]=Se.x(ye);return pe.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ee){setTimeout(ee,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(ee,te,ne){if(typeof ee!="function")throw new TypeError("callback is not a function");ne=(ne==null?now():+ne)+(te==null?0:+te),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=ee,this._time=ne,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(ee,te,ne){var ae=new Timer;return ae.restart(ee,te,ne),ae}function timerFlush(){now(),++frame;for(var ee=taskHead,te;ee;)(te=clockNow-ee._time)>=0&&ee._call.call(void 0,te),ee=ee._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var ee=clock.now(),te=ee-clockLast;te>pokeDelay&&(clockSkew-=te,clockLast=ee)}function nap(){for(var ee,te=taskHead,ne,ae=1/0;te;)te._call?(ae>te._time&&(ae=te._time),ee=te,te=te._next):(ne=te._next,te._next=null,te=ee?ee._next=ne:taskHead=ne);taskTail=ee,sleep(ae)}function sleep(ee){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var te=ee-clockNow;te>24?(ee<1/0&&(timeout$1=setTimeout(wake,ee-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(ee,te,ne){var ae=new Timer;return te=te==null?0:+te,ae.restart(ie=>{ae.stop(),ee(ie+te)},te,ne),ae}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(ee,te,ne,ae,ie,se){var oe=ee.__transition;if(!oe)ee.__transition={};else if(ne in oe)return;create(ee,ne,{name:te,index:ae,group:ie,on:emptyOn,tween:emptyTween,time:se.time,delay:se.delay,duration:se.duration,ease:se.ease,timer:null,state:CREATED})}function init$1(ee,te){var ne=get(ee,te);if(ne.state>CREATED)throw new Error("too late; already scheduled");return ne}function set(ee,te){var ne=get(ee,te);if(ne.state>STARTED)throw new Error("too late; already running");return ne}function get(ee,te){var ne=ee.__transition;if(!ne||!(ne=ne[te]))throw new Error("transition not found");return ne}function create(ee,te,ne){var ae=ee.__transition,ie;ae[te]=ne,ne.timer=timer(se,0,ne.time);function se(he){ne.state=SCHEDULED,ne.timer.restart(oe,ne.delay,ne.time),ne.delay<=he&&oe(he-ne.delay)}function oe(he){var fe,pe,ge,ye;if(ne.state!==SCHEDULED)return ce();for(fe in ae)if(ye=ae[fe],ye.name===ne.name){if(ye.state===STARTED)return timeout(oe);ye.state===RUNNING?(ye.state=ENDED,ye.timer.stop(),ye.on.call("interrupt",ee,ee.__data__,ye.index,ye.group),delete ae[fe]):+fe<te&&(ye.state=ENDED,ye.timer.stop(),ye.on.call("cancel",ee,ee.__data__,ye.index,ye.group),delete ae[fe])}if(timeout(function(){ne.state===STARTED&&(ne.state=RUNNING,ne.timer.restart(le,ne.delay,ne.time),le(he))}),ne.state=STARTING,ne.on.call("start",ee,ee.__data__,ne.index,ne.group),ne.state===STARTING){for(ne.state=STARTED,ie=new Array(ge=ne.tween.length),fe=0,pe=-1;fe<ge;++fe)(ye=ne.tween[fe].value.call(ee,ee.__data__,ne.index,ne.group))&&(ie[++pe]=ye);ie.length=pe+1}}function le(he){for(var fe=he<ne.duration?ne.ease.call(null,he/ne.duration):(ne.timer.restart(ce),ne.state=ENDING,1),pe=-1,ge=ie.length;++pe<ge;)ie[pe].call(ee,fe);ne.state===ENDING&&(ne.on.call("end",ee,ee.__data__,ne.index,ne.group),ce())}function ce(){ne.state=ENDED,ne.timer.stop(),delete ae[te];for(var he in ae)return;delete ee.__transition}}function interrupt(ee,te){var ne=ee.__transition,ae,ie,se=!0,oe;if(ne){te=te==null?null:te+"";for(oe in ne){if((ae=ne[oe]).name!==te){se=!1;continue}ie=ae.state>STARTING&&ae.state<ENDING,ae.state=ENDED,ae.timer.stop(),ae.on.call(ie?"interrupt":"cancel",ee,ee.__data__,ae.index,ae.group),delete ne[oe]}se&&delete ee.__transition}}function selection_interrupt(ee){return this.each(function(){interrupt(this,ee)})}function tweenRemove(ee,te){var ne,ae;return function(){var ie=set(this,ee),se=ie.tween;if(se!==ne){ae=ne=se;for(var oe=0,le=ae.length;oe<le;++oe)if(ae[oe].name===te){ae=ae.slice(),ae.splice(oe,1);break}}ie.tween=ae}}function tweenFunction(ee,te,ne){var ae,ie;if(typeof ne!="function")throw new Error;return function(){var se=set(this,ee),oe=se.tween;if(oe!==ae){ie=(ae=oe).slice();for(var le={name:te,value:ne},ce=0,he=ie.length;ce<he;++ce)if(ie[ce].name===te){ie[ce]=le;break}ce===he&&ie.push(le)}se.tween=ie}}function transition_tween(ee,te){var ne=this._id;if(ee+="",arguments.length<2){for(var ae=get(this.node(),ne).tween,ie=0,se=ae.length,oe;ie<se;++ie)if((oe=ae[ie]).name===ee)return oe.value;return null}return this.each((te==null?tweenRemove:tweenFunction)(ne,ee,te))}function tweenValue(ee,te,ne){var ae=ee._id;return ee.each(function(){var ie=set(this,ae);(ie.value||(ie.value={}))[te]=ne.apply(this,arguments)}),function(ie){return get(ie,ae).value[te]}}function interpolate(ee,te){var ne;return(typeof te=="number"?interpolateNumber:te instanceof color?interpolateRgb:(ne=color(te))?(te=ne,interpolateRgb):interpolateString)(ee,te)}function attrRemove(ee){return function(){this.removeAttribute(ee)}}function attrRemoveNS(ee){return function(){this.removeAttributeNS(ee.space,ee.local)}}function attrConstant(ee,te,ne){var ae,ie=ne+"",se;return function(){var oe=this.getAttribute(ee);return oe===ie?null:oe===ae?se:se=te(ae=oe,ne)}}function attrConstantNS(ee,te,ne){var ae,ie=ne+"",se;return function(){var oe=this.getAttributeNS(ee.space,ee.local);return oe===ie?null:oe===ae?se:se=te(ae=oe,ne)}}function attrFunction(ee,te,ne){var ae,ie,se;return function(){var oe,le=ne(this),ce;return le==null?void this.removeAttribute(ee):(oe=this.getAttribute(ee),ce=le+"",oe===ce?null:oe===ae&&ce===ie?se:(ie=ce,se=te(ae=oe,le)))}}function attrFunctionNS(ee,te,ne){var ae,ie,se;return function(){var oe,le=ne(this),ce;return le==null?void this.removeAttributeNS(ee.space,ee.local):(oe=this.getAttributeNS(ee.space,ee.local),ce=le+"",oe===ce?null:oe===ae&&ce===ie?se:(ie=ce,se=te(ae=oe,le)))}}function transition_attr(ee,te){var ne=namespace(ee),ae=ne==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(ee,typeof te=="function"?(ne.local?attrFunctionNS:attrFunction)(ne,ae,tweenValue(this,"attr."+ee,te)):te==null?(ne.local?attrRemoveNS:attrRemove)(ne):(ne.local?attrConstantNS:attrConstant)(ne,ae,te))}function attrInterpolate(ee,te){return function(ne){this.setAttribute(ee,te.call(this,ne))}}function attrInterpolateNS(ee,te){return function(ne){this.setAttributeNS(ee.space,ee.local,te.call(this,ne))}}function attrTweenNS(ee,te){var ne,ae;function ie(){var se=te.apply(this,arguments);return se!==ae&&(ne=(ae=se)&&attrInterpolateNS(ee,se)),ne}return ie._value=te,ie}function attrTween(ee,te){var ne,ae;function ie(){var se=te.apply(this,arguments);return se!==ae&&(ne=(ae=se)&&attrInterpolate(ee,se)),ne}return ie._value=te,ie}function transition_attrTween(ee,te){var ne="attr."+ee;if(arguments.length<2)return(ne=this.tween(ne))&&ne._value;if(te==null)return this.tween(ne,null);if(typeof te!="function")throw new Error;var ae=namespace(ee);return this.tween(ne,(ae.local?attrTweenNS:attrTween)(ae,te))}function delayFunction(ee,te){return function(){init$1(this,ee).delay=+te.apply(this,arguments)}}function delayConstant(ee,te){return te=+te,function(){init$1(this,ee).delay=te}}function transition_delay(ee){var te=this._id;return arguments.length?this.each((typeof ee=="function"?delayFunction:delayConstant)(te,ee)):get(this.node(),te).delay}function durationFunction(ee,te){return function(){set(this,ee).duration=+te.apply(this,arguments)}}function durationConstant(ee,te){return te=+te,function(){set(this,ee).duration=te}}function transition_duration(ee){var te=this._id;return arguments.length?this.each((typeof ee=="function"?durationFunction:durationConstant)(te,ee)):get(this.node(),te).duration}function easeConstant(ee,te){if(typeof te!="function")throw new Error;return function(){set(this,ee).ease=te}}function transition_ease(ee){var te=this._id;return arguments.length?this.each(easeConstant(te,ee)):get(this.node(),te).ease}function easeVarying(ee,te){return function(){var ne=te.apply(this,arguments);if(typeof ne!="function")throw new Error;set(this,ee).ease=ne}}function transition_easeVarying(ee){if(typeof ee!="function")throw new Error;return this.each(easeVarying(this._id,ee))}function transition_filter(ee){typeof ee!="function"&&(ee=matcher(ee));for(var te=this._groups,ne=te.length,ae=new Array(ne),ie=0;ie<ne;++ie)for(var se=te[ie],oe=se.length,le=ae[ie]=[],ce,he=0;he<oe;++he)(ce=se[he])&&ee.call(ce,ce.__data__,he,se)&&le.push(ce);return new Transition(ae,this._parents,this._name,this._id)}function transition_merge(ee){if(ee._id!==this._id)throw new Error;for(var te=this._groups,ne=ee._groups,ae=te.length,ie=ne.length,se=Math.min(ae,ie),oe=new Array(ae),le=0;le<se;++le)for(var ce=te[le],he=ne[le],fe=ce.length,pe=oe[le]=new Array(fe),ge,ye=0;ye<fe;++ye)(ge=ce[ye]||he[ye])&&(pe[ye]=ge);for(;le<ae;++le)oe[le]=te[le];return new Transition(oe,this._parents,this._name,this._id)}function start(ee){return(ee+"").trim().split(/^|\s+/).every(function(te){var ne=te.indexOf(".");return ne>=0&&(te=te.slice(0,ne)),!te||te==="start"})}function onFunction(ee,te,ne){var ae,ie,se=start(te)?init$1:set;return function(){var oe=se(this,ee),le=oe.on;le!==ae&&(ie=(ae=le).copy()).on(te,ne),oe.on=ie}}function transition_on(ee,te){var ne=this._id;return arguments.length<2?get(this.node(),ne).on.on(ee):this.each(onFunction(ne,ee,te))}function removeFunction(ee){return function(){var te=this.parentNode;for(var ne in this.__transition)if(+ne!==ee)return;te&&te.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(ee){var te=this._name,ne=this._id;typeof ee!="function"&&(ee=selector(ee));for(var ae=this._groups,ie=ae.length,se=new Array(ie),oe=0;oe<ie;++oe)for(var le=ae[oe],ce=le.length,he=se[oe]=new Array(ce),fe,pe,ge=0;ge<ce;++ge)(fe=le[ge])&&(pe=ee.call(fe,fe.__data__,ge,le))&&("__data__"in fe&&(pe.__data__=fe.__data__),he[ge]=pe,schedule(he[ge],te,ne,ge,he,get(fe,ne)));return new Transition(se,this._parents,te,ne)}function transition_selectAll(ee){var te=this._name,ne=this._id;typeof ee!="function"&&(ee=selectorAll(ee));for(var ae=this._groups,ie=ae.length,se=[],oe=[],le=0;le<ie;++le)for(var ce=ae[le],he=ce.length,fe,pe=0;pe<he;++pe)if(fe=ce[pe]){for(var ge=ee.call(fe,fe.__data__,pe,ce),ye,xe=get(fe,ne),be=0,Se=ge.length;be<Se;++be)(ye=ge[be])&&schedule(ye,te,ne,be,ge,xe);se.push(ge),oe.push(fe)}return new Transition(se,oe,te,ne)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(ee,te){var ne,ae,ie;return function(){var se=styleValue(this,ee),oe=(this.style.removeProperty(ee),styleValue(this,ee));return se===oe?null:se===ne&&oe===ae?ie:ie=te(ne=se,ae=oe)}}function styleRemove(ee){return function(){this.style.removeProperty(ee)}}function styleConstant(ee,te,ne){var ae,ie=ne+"",se;return function(){var oe=styleValue(this,ee);return oe===ie?null:oe===ae?se:se=te(ae=oe,ne)}}function styleFunction(ee,te,ne){var ae,ie,se;return function(){var oe=styleValue(this,ee),le=ne(this),ce=le+"";return le==null&&(ce=le=(this.style.removeProperty(ee),styleValue(this,ee))),oe===ce?null:oe===ae&&ce===ie?se:(ie=ce,se=te(ae=oe,le))}}function styleMaybeRemove(ee,te){var ne,ae,ie,se="style."+te,oe="end."+se,le;return function(){var ce=set(this,ee),he=ce.on,fe=ce.value[se]==null?le||(le=styleRemove(te)):void 0;(he!==ne||ie!==fe)&&(ae=(ne=he).copy()).on(oe,ie=fe),ce.on=ae}}function transition_style(ee,te,ne){var ae=(ee+="")=="transform"?interpolateTransformCss:interpolate;return te==null?this.styleTween(ee,styleNull(ee,ae)).on("end.style."+ee,styleRemove(ee)):typeof te=="function"?this.styleTween(ee,styleFunction(ee,ae,tweenValue(this,"style."+ee,te))).each(styleMaybeRemove(this._id,ee)):this.styleTween(ee,styleConstant(ee,ae,te),ne).on("end.style."+ee,null)}function styleInterpolate(ee,te,ne){return function(ae){this.style.setProperty(ee,te.call(this,ae),ne)}}function styleTween(ee,te,ne){var ae,ie;function se(){var oe=te.apply(this,arguments);return oe!==ie&&(ae=(ie=oe)&&styleInterpolate(ee,oe,ne)),ae}return se._value=te,se}function transition_styleTween(ee,te,ne){var ae="style."+(ee+="");if(arguments.length<2)return(ae=this.tween(ae))&&ae._value;if(te==null)return this.tween(ae,null);if(typeof te!="function")throw new Error;return this.tween(ae,styleTween(ee,te,ne??""))}function textConstant(ee){return function(){this.textContent=ee}}function textFunction(ee){return function(){var te=ee(this);this.textContent=te??""}}function transition_text(ee){return this.tween("text",typeof ee=="function"?textFunction(tweenValue(this,"text",ee)):textConstant(ee==null?"":ee+""))}function textInterpolate(ee){return function(te){this.textContent=ee.call(this,te)}}function textTween(ee){var te,ne;function ae(){var ie=ee.apply(this,arguments);return ie!==ne&&(te=(ne=ie)&&textInterpolate(ie)),te}return ae._value=ee,ae}function transition_textTween(ee){var te="text";if(arguments.length<1)return(te=this.tween(te))&&te._value;if(ee==null)return this.tween(te,null);if(typeof ee!="function")throw new Error;return this.tween(te,textTween(ee))}function transition_transition(){for(var ee=this._name,te=this._id,ne=newId(),ae=this._groups,ie=ae.length,se=0;se<ie;++se)for(var oe=ae[se],le=oe.length,ce,he=0;he<le;++he)if(ce=oe[he]){var fe=get(ce,te);schedule(ce,ee,ne,he,oe,{time:fe.time+fe.delay+fe.duration,delay:0,duration:fe.duration,ease:fe.ease})}return new Transition(ae,this._parents,ee,ne)}function transition_end(){var ee,te,ne=this,ae=ne._id,ie=ne.size();return new Promise(function(se,oe){var le={value:oe},ce={value:function(){--ie===0&&se()}};ne.each(function(){var he=set(this,ae),fe=he.on;fe!==ee&&(te=(ee=fe).copy(),te._.cancel.push(le),te._.interrupt.push(le),te._.end.push(ce)),he.on=te}),ie===0&&se()})}var id$1=0;function Transition(ee,te,ne,ae){this._groups=ee,this._parents=te,this._name=ne,this._id=ae}function newId(){return++id$1}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(ee){return((ee*=2)<=1?ee*ee*ee:(ee-=2)*ee*ee+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(ee,te){for(var ne;!(ne=ee.__transition)||!(ne=ne[te]);)if(!(ee=ee.parentNode))throw new Error(`transition ${te} not found`);return ne}function selection_transition(ee){var te,ne;ee instanceof Transition?(te=ee._id,ee=ee._name):(te=newId(),(ne=defaultTiming).time=now(),ee=ee==null?null:ee+"");for(var ae=this._groups,ie=ae.length,se=0;se<ie;++se)for(var oe=ae[se],le=oe.length,ce,he=0;he<le;++he)(ce=oe[he])&&schedule(ce,ee,te,he,oe,ne||inherit(ce,te));return new Transition(ae,this._parents,ee,te)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi$1=Math.PI,tau$1=2*pi$1,epsilon$1=1e-6,tauEpsilon=tau$1-epsilon$1;function append$1(ee){this._+=ee[0];for(let te=1,ne=ee.length;te<ne;++te)this._+=arguments[te]+ee[te]}function appendRound(ee){let te=Math.floor(ee);if(!(te>=0))throw new Error(`invalid digits: ${ee}`);if(te>15)return append$1;const ne=10**te;return function(ae){this._+=ae[0];for(let ie=1,se=ae.length;ie<se;++ie)this._+=Math.round(arguments[ie]*ne)/ne+ae[ie]}}class Path{constructor(te){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=te==null?append$1:appendRound(te)}moveTo(te,ne){this._append`M${this._x0=this._x1=+te},${this._y0=this._y1=+ne}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(te,ne){this._append`L${this._x1=+te},${this._y1=+ne}`}quadraticCurveTo(te,ne,ae,ie){this._append`Q${+te},${+ne},${this._x1=+ae},${this._y1=+ie}`}bezierCurveTo(te,ne,ae,ie,se,oe){this._append`C${+te},${+ne},${+ae},${+ie},${this._x1=+se},${this._y1=+oe}`}arcTo(te,ne,ae,ie,se){if(te=+te,ne=+ne,ae=+ae,ie=+ie,se=+se,se<0)throw new Error(`negative radius: ${se}`);let oe=this._x1,le=this._y1,ce=ae-te,he=ie-ne,fe=oe-te,pe=le-ne,ge=fe*fe+pe*pe;if(this._x1===null)this._append`M${this._x1=te},${this._y1=ne}`;else if(ge>epsilon$1)if(!(Math.abs(pe*ce-he*fe)>epsilon$1)||!se)this._append`L${this._x1=te},${this._y1=ne}`;else{let ye=ae-oe,xe=ie-le,be=ce*ce+he*he,Se=ye*ye+xe*xe,ve=Math.sqrt(be),Te=Math.sqrt(ge),Ce=se*Math.tan((pi$1-Math.acos((be+ge-Se)/(2*ve*Te)))/2),Pe=Ce/Te,Be=Ce/ve;Math.abs(Pe-1)>epsilon$1&&this._append`L${te+Pe*fe},${ne+Pe*pe}`,this._append`A${se},${se},0,0,${+(pe*ye>fe*xe)},${this._x1=te+Be*ce},${this._y1=ne+Be*he}`}}arc(te,ne,ae,ie,se,oe){if(te=+te,ne=+ne,ae=+ae,oe=!!oe,ae<0)throw new Error(`negative radius: ${ae}`);let le=ae*Math.cos(ie),ce=ae*Math.sin(ie),he=te+le,fe=ne+ce,pe=1^oe,ge=oe?ie-se:se-ie;this._x1===null?this._append`M${he},${fe}`:(Math.abs(this._x1-he)>epsilon$1||Math.abs(this._y1-fe)>epsilon$1)&&this._append`L${he},${fe}`,ae&&(ge<0&&(ge=ge%tau$1+tau$1),ge>tauEpsilon?this._append`A${ae},${ae},0,1,${pe},${te-le},${ne-ce}A${ae},${ae},0,1,${pe},${this._x1=he},${this._y1=fe}`:ge>epsilon$1&&this._append`A${ae},${ae},0,${+(ge>=pi$1)},${pe},${this._x1=te+ae*Math.cos(se)},${this._y1=ne+ae*Math.sin(se)}`)}rect(te,ne,ae,ie){this._append`M${this._x0=this._x1=+te},${this._y0=this._y1=+ne}h${ae=+ae}v${+ie}h${-ae}Z`}toString(){return this._}}function constant$1(ee){return function(){return ee}}const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(ee){return ee>1?0:ee<-1?pi:Math.acos(ee)}function asin(ee){return ee>=1?halfPi:ee<=-1?-halfPi:Math.asin(ee)}function withPath(ee){let te=3;return ee.digits=function(ne){if(!arguments.length)return te;if(ne==null)te=null;else{const ae=Math.floor(ne);if(!(ae>=0))throw new RangeError(`invalid digits: ${ne}`);te=ae}return ee},()=>new Path(te)}function array(ee){return typeof ee=="object"&&"length"in ee?ee:Array.from(ee)}function Linear(ee){this._context=ee}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2;default:this._context.lineTo(ee,te);break}}};function curveLinear(ee){return new Linear(ee)}function x$1(ee){return ee[0]}function y$1(ee){return ee[1]}function line$1(ee,te){var ne=constant$1(!0),ae=null,ie=curveLinear,se=null,oe=withPath(le);ee=typeof ee=="function"?ee:ee===void 0?x$1:constant$1(ee),te=typeof te=="function"?te:te===void 0?y$1:constant$1(te);function le(ce){var he,fe=(ce=array(ce)).length,pe,ge=!1,ye;for(ae==null&&(se=ie(ye=oe())),he=0;he<=fe;++he)!(he<fe&&ne(pe=ce[he],he,ce))===ge&&((ge=!ge)?se.lineStart():se.lineEnd()),ge&&se.point(+ee(pe,he,ce),+te(pe,he,ce));if(ye)return se=null,ye+""||null}return le.x=function(ce){return arguments.length?(ee=typeof ce=="function"?ce:constant$1(+ce),le):ee},le.y=function(ce){return arguments.length?(te=typeof ce=="function"?ce:constant$1(+ce),le):te},le.defined=function(ce){return arguments.length?(ne=typeof ce=="function"?ce:constant$1(!!ce),le):ne},le.curve=function(ce){return arguments.length?(ie=ce,ae!=null&&(se=ie(ae)),le):ie},le.context=function(ce){return arguments.length?(ce==null?ae=se=null:se=ie(ae=ce),le):ae},le}class Bump{constructor(te,ne){this._context=te,this._x=ne}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(te,ne){switch(te=+te,ne=+ne,this._point){case 0:{this._point=1,this._line?this._context.lineTo(te,ne):this._context.moveTo(te,ne);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+te)/2,this._y0,this._x0,ne,te,ne):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+ne)/2,te,this._y0,te,ne);break}}this._x0=te,this._y0=ne}}function bumpX(ee){return new Bump(ee,!0)}function bumpY(ee){return new Bump(ee,!1)}function noop(){}function point$4(ee,te,ne){ee._context.bezierCurveTo((2*ee._x0+ee._x1)/3,(2*ee._y0+ee._y1)/3,(ee._x0+2*ee._x1)/3,(ee._y0+2*ee._y1)/3,(ee._x0+4*ee._x1+te)/6,(ee._y0+4*ee._y1+ne)/6)}function Basis(ee){this._context=ee}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$4(this,ee,te);break}this._x0=this._x1,this._x1=ee,this._y0=this._y1,this._y1=te}};function curveBasis(ee){return new Basis(ee)}function BasisClosed(ee){this._context=ee}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._x2=ee,this._y2=te;break;case 1:this._point=2,this._x3=ee,this._y3=te;break;case 2:this._point=3,this._x4=ee,this._y4=te,this._context.moveTo((this._x0+4*this._x1+ee)/6,(this._y0+4*this._y1+te)/6);break;default:point$4(this,ee,te);break}this._x0=this._x1,this._x1=ee,this._y0=this._y1,this._y1=te}};function curveBasisClosed(ee){return new BasisClosed(ee)}function BasisOpen(ee){this._context=ee}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var ne=(this._x0+4*this._x1+ee)/6,ae=(this._y0+4*this._y1+te)/6;this._line?this._context.lineTo(ne,ae):this._context.moveTo(ne,ae);break;case 3:this._point=4;default:point$4(this,ee,te);break}this._x0=this._x1,this._x1=ee,this._y0=this._y1,this._y1=te}};function curveBasisOpen(ee){return new BasisOpen(ee)}function Bundle(ee,te){this._basis=new Basis(ee),this._beta=te}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var ee=this._x,te=this._y,ne=ee.length-1;if(ne>0)for(var ae=ee[0],ie=te[0],se=ee[ne]-ae,oe=te[ne]-ie,le=-1,ce;++le<=ne;)ce=le/ne,this._basis.point(this._beta*ee[le]+(1-this._beta)*(ae+ce*se),this._beta*te[le]+(1-this._beta)*(ie+ce*oe));this._x=this._y=null,this._basis.lineEnd()},point:function(ee,te){this._x.push(+ee),this._y.push(+te)}};const curveBundle=(function ee(te){function ne(ae){return te===1?new Basis(ae):new Bundle(ae,te)}return ne.beta=function(ae){return ee(+ae)},ne})(.85);function point$3(ee,te,ne){ee._context.bezierCurveTo(ee._x1+ee._k*(ee._x2-ee._x0),ee._y1+ee._k*(ee._y2-ee._y0),ee._x2+ee._k*(ee._x1-te),ee._y2+ee._k*(ee._y1-ne),ee._x2,ee._y2)}function Cardinal(ee,te){this._context=ee,this._k=(1-te)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$3(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2,this._x1=ee,this._y1=te;break;case 2:this._point=3;default:point$3(this,ee,te);break}this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCardinal=(function ee(te){function ne(ae){return new Cardinal(ae,te)}return ne.tension=function(ae){return ee(+ae)},ne})(0);function CardinalClosed(ee,te){this._context=ee,this._k=(1-te)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._x3=ee,this._y3=te;break;case 1:this._point=2,this._context.moveTo(this._x4=ee,this._y4=te);break;case 2:this._point=3,this._x5=ee,this._y5=te;break;default:point$3(this,ee,te);break}this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCardinalClosed=(function ee(te){function ne(ae){return new CardinalClosed(ae,te)}return ne.tension=function(ae){return ee(+ae)},ne})(0);function CardinalOpen(ee,te){this._context=ee,this._k=(1-te)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,ee,te);break}this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCardinalOpen=(function ee(te){function ne(ae){return new CardinalOpen(ae,te)}return ne.tension=function(ae){return ee(+ae)},ne})(0);function point$2(ee,te,ne){var ae=ee._x1,ie=ee._y1,se=ee._x2,oe=ee._y2;if(ee._l01_a>epsilon){var le=2*ee._l01_2a+3*ee._l01_a*ee._l12_a+ee._l12_2a,ce=3*ee._l01_a*(ee._l01_a+ee._l12_a);ae=(ae*le-ee._x0*ee._l12_2a+ee._x2*ee._l01_2a)/ce,ie=(ie*le-ee._y0*ee._l12_2a+ee._y2*ee._l01_2a)/ce}if(ee._l23_a>epsilon){var he=2*ee._l23_2a+3*ee._l23_a*ee._l12_a+ee._l12_2a,fe=3*ee._l23_a*(ee._l23_a+ee._l12_a);se=(se*he+ee._x1*ee._l23_2a-te*ee._l12_2a)/fe,oe=(oe*he+ee._y1*ee._l23_2a-ne*ee._l12_2a)/fe}ee._context.bezierCurveTo(ae,ie,se,oe,ee._x2,ee._y2)}function CatmullRom(ee,te){this._context=ee,this._alpha=te}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){if(ee=+ee,te=+te,this._point){var ne=this._x2-ee,ae=this._y2-te;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ne*ne+ae*ae,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2;break;case 2:this._point=3;default:point$2(this,ee,te);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCatmullRom=(function ee(te){function ne(ae){return te?new CatmullRom(ae,te):new Cardinal(ae,0)}return ne.alpha=function(ae){return ee(+ae)},ne})(.5);function CatmullRomClosed(ee,te){this._context=ee,this._alpha=te}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(ee,te){if(ee=+ee,te=+te,this._point){var ne=this._x2-ee,ae=this._y2-te;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ne*ne+ae*ae,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=ee,this._y3=te;break;case 1:this._point=2,this._context.moveTo(this._x4=ee,this._y4=te);break;case 2:this._point=3,this._x5=ee,this._y5=te;break;default:point$2(this,ee,te);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCatmullRomClosed=(function ee(te){function ne(ae){return te?new CatmullRomClosed(ae,te):new CardinalClosed(ae,0)}return ne.alpha=function(ae){return ee(+ae)},ne})(.5);function CatmullRomOpen(ee,te){this._context=ee,this._alpha=te}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){if(ee=+ee,te=+te,this._point){var ne=this._x2-ee,ae=this._y2-te;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ne*ne+ae*ae,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,ee,te);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCatmullRomOpen=(function ee(te){function ne(ae){return te?new CatmullRomOpen(ae,te):new CardinalOpen(ae,0)}return ne.alpha=function(ae){return ee(+ae)},ne})(.5);function LinearClosed(ee){this._context=ee}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(ee,te){ee=+ee,te=+te,this._point?this._context.lineTo(ee,te):(this._point=1,this._context.moveTo(ee,te))}};function curveLinearClosed(ee){return new LinearClosed(ee)}function sign(ee){return ee<0?-1:1}function slope3(ee,te,ne){var ae=ee._x1-ee._x0,ie=te-ee._x1,se=(ee._y1-ee._y0)/(ae||ie<0&&-0),oe=(ne-ee._y1)/(ie||ae<0&&-0),le=(se*ie+oe*ae)/(ae+ie);return(sign(se)+sign(oe))*Math.min(Math.abs(se),Math.abs(oe),.5*Math.abs(le))||0}function slope2(ee,te){var ne=ee._x1-ee._x0;return ne?(3*(ee._y1-ee._y0)/ne-te)/2:te}function point$1(ee,te,ne){var ae=ee._x0,ie=ee._y0,se=ee._x1,oe=ee._y1,le=(se-ae)/3;ee._context.bezierCurveTo(ae+le,ie+le*te,se-le,oe-le*ne,se,oe)}function MonotoneX(ee){this._context=ee}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){var ne=NaN;if(ee=+ee,te=+te,!(ee===this._x1&&te===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,ne=slope3(this,ee,te)),ne);break;default:point$1(this,this._t0,ne=slope3(this,ee,te));break}this._x0=this._x1,this._x1=ee,this._y0=this._y1,this._y1=te,this._t0=ne}}};function MonotoneY(ee){this._context=new ReflectContext(ee)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(ee,te){MonotoneX.prototype.point.call(this,te,ee)};function ReflectContext(ee){this._context=ee}ReflectContext.prototype={moveTo:function(ee,te){this._context.moveTo(te,ee)},closePath:function(){this._context.closePath()},lineTo:function(ee,te){this._context.lineTo(te,ee)},bezierCurveTo:function(ee,te,ne,ae,ie,se){this._context.bezierCurveTo(te,ee,ae,ne,se,ie)}};function monotoneX(ee){return new MonotoneX(ee)}function monotoneY(ee){return new MonotoneY(ee)}function Natural(ee){this._context=ee}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var ee=this._x,te=this._y,ne=ee.length;if(ne)if(this._line?this._context.lineTo(ee[0],te[0]):this._context.moveTo(ee[0],te[0]),ne===2)this._context.lineTo(ee[1],te[1]);else for(var ae=controlPoints(ee),ie=controlPoints(te),se=0,oe=1;oe<ne;++se,++oe)this._context.bezierCurveTo(ae[0][se],ie[0][se],ae[1][se],ie[1][se],ee[oe],te[oe]);(this._line||this._line!==0&&ne===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(ee,te){this._x.push(+ee),this._y.push(+te)}};function controlPoints(ee){var te,ne=ee.length-1,ae,ie=new Array(ne),se=new Array(ne),oe=new Array(ne);for(ie[0]=0,se[0]=2,oe[0]=ee[0]+2*ee[1],te=1;te<ne-1;++te)ie[te]=1,se[te]=4,oe[te]=4*ee[te]+2*ee[te+1];for(ie[ne-1]=2,se[ne-1]=7,oe[ne-1]=8*ee[ne-1]+ee[ne],te=1;te<ne;++te)ae=ie[te]/se[te-1],se[te]-=ae,oe[te]-=ae*oe[te-1];for(ie[ne-1]=oe[ne-1]/se[ne-1],te=ne-2;te>=0;--te)ie[te]=(oe[te]-ie[te+1])/se[te];for(se[ne-1]=(ee[ne]+ie[ne-1])/2,te=0;te<ne-1;++te)se[te]=2*ee[te+1]-ie[te+1];return[ie,se]}function curveNatural(ee){return new Natural(ee)}function Step(ee,te){this._context=ee,this._t=te}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,te),this._context.lineTo(ee,te);else{var ne=this._x*(1-this._t)+ee*this._t;this._context.lineTo(ne,this._y),this._context.lineTo(ne,te)}break}}this._x=ee,this._y=te}};function curveStep(ee){return new Step(ee,.5)}function stepBefore(ee){return new Step(ee,0)}function stepAfter(ee){return new Step(ee,1)}function Transform(ee,te,ne){this.k=ee,this.x=te,this.y=ne}Transform.prototype={constructor:Transform,scale:function(ee){return ee===1?this:new Transform(this.k*ee,this.x,this.y)},translate:function(ee,te){return ee===0&te===0?this:new Transform(this.k,this.x+this.k*ee,this.y+this.k*te)},apply:function(ee){return[ee[0]*this.k+this.x,ee[1]*this.k+this.y]},applyX:function(ee){return ee*this.k+this.x},applyY:function(ee){return ee*this.k+this.y},invert:function(ee){return[(ee[0]-this.x)/this.k,(ee[1]-this.y)/this.k]},invertX:function(ee){return(ee-this.x)/this.k},invertY:function(ee){return(ee-this.y)/this.k},rescaleX:function(ee){return ee.copy().domain(ee.range().map(this.invertX,this).map(ee.invert,ee))},rescaleY:function(ee){return ee.copy().domain(ee.range().map(this.invertY,this).map(ee.invert,ee))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root$1.Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(ee){var te=hasOwnProperty$a.call(ee,symToStringTag$1),ne=ee[symToStringTag$1];try{ee[symToStringTag$1]=void 0;var ae=!0}catch{}var ie=nativeObjectToString$1.call(ee);return ae&&(te?ee[symToStringTag$1]=ne:delete ee[symToStringTag$1]),ie}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString(ee){return nativeObjectToString.call(ee)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(ee){return ee==null?ee===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(ee)?getRawTag(ee):objectToString(ee)}function isObject(ee){var te=typeof ee;return ee!=null&&(te=="object"||te=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(ee){if(!isObject(ee))return!1;var te=baseGetTag(ee);return te==funcTag$1||te==genTag||te==asyncTag||te==proxyTag}var coreJsData=root$1["__core-js_shared__"],maskSrcKey=(function(){var ee=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""})();function isMasked(ee){return!!maskSrcKey&&maskSrcKey in ee}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(ee){if(ee!=null){try{return funcToString$2.call(ee)}catch{}try{return ee+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(ee){if(!isObject(ee)||isMasked(ee))return!1;var te=isFunction(ee)?reIsNative:reIsHostCtor;return te.test(toSource(ee))}function getValue(ee,te){return ee==null?void 0:ee[te]}function getNative(ee,te){var ne=getValue(ee,te);return baseIsNative(ne)?ne:void 0}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(ee){var te=this.has(ee)&&delete this.__data__[ee];return this.size-=te?1:0,te}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet(ee){var te=this.__data__;if(nativeCreate){var ne=te[ee];return ne===HASH_UNDEFINED$1?void 0:ne}return hasOwnProperty$8.call(te,ee)?te[ee]:void 0}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas(ee){var te=this.__data__;return nativeCreate?te[ee]!==void 0:hasOwnProperty$7.call(te,ee)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(ee,te){var ne=this.__data__;return this.size+=this.has(ee)?0:1,ne[ee]=nativeCreate&&te===void 0?HASH_UNDEFINED:te,this}function Hash(ee){var te=-1,ne=ee==null?0:ee.length;for(this.clear();++te<ne;){var ae=ee[te];this.set(ae[0],ae[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(ee,te){return ee===te||ee!==ee&&te!==te}function assocIndexOf(ee,te){for(var ne=ee.length;ne--;)if(eq(ee[ne][0],te))return ne;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(ee){var te=this.__data__,ne=assocIndexOf(te,ee);if(ne<0)return!1;var ae=te.length-1;return ne==ae?te.pop():splice.call(te,ne,1),--this.size,!0}function listCacheGet(ee){var te=this.__data__,ne=assocIndexOf(te,ee);return ne<0?void 0:te[ne][1]}function listCacheHas(ee){return assocIndexOf(this.__data__,ee)>-1}function listCacheSet(ee,te){var ne=this.__data__,ae=assocIndexOf(ne,ee);return ae<0?(++this.size,ne.push([ee,te])):ne[ae][1]=te,this}function ListCache(ee){var te=-1,ne=ee==null?0:ee.length;for(this.clear();++te<ne;){var ae=ee[te];this.set(ae[0],ae[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(ee){var te=typeof ee;return te=="string"||te=="number"||te=="symbol"||te=="boolean"?ee!=="__proto__":ee===null}function getMapData(ee,te){var ne=ee.__data__;return isKeyable(te)?ne[typeof te=="string"?"string":"hash"]:ne.map}function mapCacheDelete(ee){var te=getMapData(this,ee).delete(ee);return this.size-=te?1:0,te}function mapCacheGet(ee){return getMapData(this,ee).get(ee)}function mapCacheHas(ee){return getMapData(this,ee).has(ee)}function mapCacheSet(ee,te){var ne=getMapData(this,ee),ae=ne.size;return ne.set(ee,te),this.size+=ne.size==ae?0:1,this}function MapCache(ee){var te=-1,ne=ee==null?0:ee.length;for(this.clear();++te<ne;){var ae=ee[te];this.set(ae[0],ae[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(ee,te){if(typeof ee!="function"||te!=null&&typeof te!="function")throw new TypeError(FUNC_ERROR_TEXT);var ne=function(){var ae=arguments,ie=te?te.apply(this,ae):ae[0],se=ne.cache;if(se.has(ie))return se.get(ie);var oe=ee.apply(this,ae);return ne.cache=se.set(ie,oe)||se,oe};return ne.cache=new(memoize.Cache||MapCache),ne}memoize.Cache=MapCache;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(ee){var te=this.__data__,ne=te.delete(ee);return this.size=te.size,ne}function stackGet(ee){return this.__data__.get(ee)}function stackHas(ee){return this.__data__.has(ee)}var LARGE_ARRAY_SIZE=200;function stackSet(ee,te){var ne=this.__data__;if(ne instanceof ListCache){var ae=ne.__data__;if(!Map$1||ae.length<LARGE_ARRAY_SIZE-1)return ae.push([ee,te]),this.size=++ne.size,this;ne=this.__data__=new MapCache(ae)}return ne.set(ee,te),this.size=ne.size,this}function Stack(ee){var te=this.__data__=new ListCache(ee);this.size=te.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty=(function(){try{var ee=getNative(Object,"defineProperty");return ee({},"",{}),ee}catch{}})();function baseAssignValue(ee,te,ne){te=="__proto__"&&defineProperty?defineProperty(ee,te,{configurable:!0,enumerable:!0,value:ne,writable:!0}):ee[te]=ne}function assignMergeValue(ee,te,ne){(ne!==void 0&&!eq(ee[te],ne)||ne===void 0&&!(te in ee))&&baseAssignValue(ee,te,ne)}function createBaseFor(ee){return function(te,ne,ae){for(var ie=-1,se=Object(te),oe=ae(te),le=oe.length;le--;){var ce=oe[++ie];if(ne(se[ce],ce,se)===!1)break}return te}}var baseFor=createBaseFor(),freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer(ee,te){if(te)return ee.slice();var ne=ee.length,ae=allocUnsafe?allocUnsafe(ne):new ee.constructor(ne);return ee.copy(ae),ae}var Uint8Array$1=root$1.Uint8Array;function cloneArrayBuffer(ee){var te=new ee.constructor(ee.byteLength);return new Uint8Array$1(te).set(new Uint8Array$1(ee)),te}function cloneTypedArray(ee,te){var ne=te?cloneArrayBuffer(ee.buffer):ee.buffer;return new ee.constructor(ne,ee.byteOffset,ee.length)}function copyArray(ee,te){var ne=-1,ae=ee.length;for(te||(te=Array(ae));++ne<ae;)te[ne]=ee[ne];return te}var objectCreate=Object.create,baseCreate=(function(){function ee(){}return function(te){if(!isObject(te))return{};if(objectCreate)return objectCreate(te);ee.prototype=te;var ne=new ee;return ee.prototype=void 0,ne}})();function overArg(ee,te){return function(ne){return ee(te(ne))}}var getPrototype=overArg(Object.getPrototypeOf,Object),objectProto$7=Object.prototype;function isPrototype(ee){var te=ee&&ee.constructor,ne=typeof te=="function"&&te.prototype||objectProto$7;return ee===ne}function initCloneObject(ee){return typeof ee.constructor=="function"&&!isPrototype(ee)?baseCreate(getPrototype(ee)):{}}function isObjectLike(ee){return ee!=null&&typeof ee=="object"}var argsTag$1="[object Arguments]";function baseIsArguments(ee){return isObjectLike(ee)&&baseGetTag(ee)==argsTag$1}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=baseIsArguments((function(){return arguments})())?baseIsArguments:function(ee){return isObjectLike(ee)&&hasOwnProperty$6.call(ee,"callee")&&!propertyIsEnumerable.call(ee,"callee")},isArray=Array.isArray,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=MAX_SAFE_INTEGER$1}function isArrayLike(ee){return ee!=null&&isLength(ee.length)&&!isFunction(ee)}function isArrayLikeObject(ee){return isObjectLike(ee)&&isArrayLike(ee)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root$1.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$5=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$5=objectProto$5.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(ee){if(!isObjectLike(ee)||baseGetTag(ee)!=objectTag$2)return!1;var te=getPrototype(ee);if(te===null)return!0;var ne=hasOwnProperty$5.call(te,"constructor")&&te.constructor;return typeof ne=="function"&&ne instanceof ne&&funcToString.call(ne)==objectCtorString}var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag$2="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag$2]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(ee){return isObjectLike(ee)&&isLength(ee.length)&&!!typedArrayTags[baseGetTag(ee)]}function baseUnary(ee){return function(te){return ee(te)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=(function(){try{var ee=freeModule&&freeModule.require&&freeModule.require("util").types;return ee||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}})(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function safeGet(ee,te){if(!(te==="constructor"&&typeof ee[te]=="function")&&te!="__proto__")return ee[te]}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function assignValue(ee,te,ne){var ae=ee[te];(!(hasOwnProperty$4.call(ee,te)&&eq(ae,ne))||ne===void 0&&!(te in ee))&&baseAssignValue(ee,te,ne)}function copyObject(ee,te,ne,ae){var ie=!ne;ne||(ne={});for(var se=-1,oe=te.length;++se<oe;){var le=te[se],ce=void 0;ce===void 0&&(ce=ee[le]),ie?baseAssignValue(ne,le,ce):assignValue(ne,le,ce)}return ne}function baseTimes(ee,te){for(var ne=-1,ae=Array(ee);++ne<ee;)ae[ne]=te(ne);return ae}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(ee,te){var ne=typeof ee;return te=te??MAX_SAFE_INTEGER,!!te&&(ne=="number"||ne!="symbol"&&reIsUint.test(ee))&&ee>-1&&ee%1==0&&ee<te}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function arrayLikeKeys(ee,te){var ne=isArray(ee),ae=!ne&&isArguments(ee),ie=!ne&&!ae&&isBuffer(ee),se=!ne&&!ae&&!ie&&isTypedArray(ee),oe=ne||ae||ie||se,le=oe?baseTimes(ee.length,String):[],ce=le.length;for(var he in ee)(te||hasOwnProperty$3.call(ee,he))&&!(oe&&(he=="length"||ie&&(he=="offset"||he=="parent")||se&&(he=="buffer"||he=="byteLength"||he=="byteOffset")||isIndex(he,ce)))&&le.push(he);return le}function nativeKeysIn(ee){var te=[];if(ee!=null)for(var ne in Object(ee))te.push(ne);return te}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn(ee){if(!isObject(ee))return nativeKeysIn(ee);var te=isPrototype(ee),ne=[];for(var ae in ee)ae=="constructor"&&(te||!hasOwnProperty$2.call(ee,ae))||ne.push(ae);return ne}function keysIn(ee){return isArrayLike(ee)?arrayLikeKeys(ee,!0):baseKeysIn(ee)}function toPlainObject(ee){return copyObject(ee,keysIn(ee))}function baseMergeDeep(ee,te,ne,ae,ie,se,oe){var le=safeGet(ee,ne),ce=safeGet(te,ne),he=oe.get(ce);if(he){assignMergeValue(ee,ne,he);return}var fe=se?se(le,ce,ne+"",ee,te,oe):void 0,pe=fe===void 0;if(pe){var ge=isArray(ce),ye=!ge&&isBuffer(ce),xe=!ge&&!ye&&isTypedArray(ce);fe=ce,ge||ye||xe?isArray(le)?fe=le:isArrayLikeObject(le)?fe=copyArray(le):ye?(pe=!1,fe=cloneBuffer(ce,!0)):xe?(pe=!1,fe=cloneTypedArray(ce,!0)):fe=[]:isPlainObject(ce)||isArguments(ce)?(fe=le,isArguments(le)?fe=toPlainObject(le):(!isObject(le)||isFunction(le))&&(fe=initCloneObject(ce))):pe=!1}pe&&(oe.set(ce,fe),ie(fe,ce,ae,se,oe),oe.delete(ce)),assignMergeValue(ee,ne,fe)}function baseMerge(ee,te,ne,ae,ie){ee!==te&&baseFor(te,function(se,oe){if(ie||(ie=new Stack),isObject(se))baseMergeDeep(ee,te,oe,ne,baseMerge,ae,ie);else{var le=ae?ae(safeGet(ee,oe),se,oe+"",ee,te,ie):void 0;le===void 0&&(le=se),assignMergeValue(ee,oe,le)}},keysIn)}function identity(ee){return ee}function apply(ee,te,ne){switch(ne.length){case 0:return ee.call(te);case 1:return ee.call(te,ne[0]);case 2:return ee.call(te,ne[0],ne[1]);case 3:return ee.call(te,ne[0],ne[1],ne[2])}return ee.apply(te,ne)}var nativeMax=Math.max;function overRest(ee,te,ne){return te=nativeMax(te===void 0?ee.length-1:te,0),function(){for(var ae=arguments,ie=-1,se=nativeMax(ae.length-te,0),oe=Array(se);++ie<se;)oe[ie]=ae[te+ie];ie=-1;for(var le=Array(te+1);++ie<te;)le[ie]=ae[ie];return le[te]=ne(oe),apply(ee,this,le)}}function constant(ee){return function(){return ee}}var baseSetToString=defineProperty?function(ee,te){return defineProperty(ee,"toString",{configurable:!0,enumerable:!1,value:constant(te),writable:!0})}:identity,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(ee){var te=0,ne=0;return function(){var ae=nativeNow(),ie=HOT_SPAN-(ae-ne);if(ne=ae,ie>0){if(++te>=HOT_COUNT)return arguments[0]}else te=0;return ee.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString);function baseRest(ee,te){return setToString(overRest(ee,te,identity),ee+"")}function isIterateeCall(ee,te,ne){if(!isObject(ne))return!1;var ae=typeof te;return(ae=="number"?isArrayLike(ne)&&isIndex(te,ne.length):ae=="string"&&te in ne)?eq(ne[te],ee):!1}function createAssigner(ee){return baseRest(function(te,ne){var ae=-1,ie=ne.length,se=ie>1?ne[ie-1]:void 0,oe=ie>2?ne[2]:void 0;for(se=ee.length>3&&typeof se=="function"?(ie--,se):void 0,oe&&isIterateeCall(ne[0],ne[1],oe)&&(se=ie<3?void 0:se,ie=1),te=Object(te);++ae<ie;){var le=ne[ae];le&&ee(te,le,ae,se)}return te})}var merge=createAssigner(function(ee,te,ne){baseMerge(ee,te,ne)}),ZERO_WIDTH_SPACE="",d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=__name(function(ee,te){const ne=detectDirective(ee,/(?:init\b)|(?:initialize\b)/);let ae={};if(Array.isArray(ne)){const oe=ne.map(le=>le.args);sanitizeDirective(oe),ae=assignWithDepth_default(ae,[...oe])}else ae=ne.args;if(!ae)return;let ie=detectType$1(ee,te);const se="config";return ae[se]!==void 0&&(ie==="flowchart-v2"&&(ie="flowchart"),ae[ie]=ae[se],delete ae[se]),ae},"detectInit"),detectDirective=__name(function(ee,te=null){var ne,ae;try{const ie=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");ee=ee.trim().replace(ie,"").replace(/'/gm,'"'),log.debug(`Detecting diagram directive${te!==null?" type:"+te:""} based on the text:${ee}`);let se;const oe=[];for(;(se=directiveRegex.exec(ee))!==null;)if(se.index===directiveRegex.lastIndex&&directiveRegex.lastIndex++,se&&!te||te&&((ne=se[1])!=null&&ne.match(te))||te&&((ae=se[2])!=null&&ae.match(te))){const le=se[1]?se[1]:se[2],ce=se[3]?se[3].trim():se[4]?JSON.parse(se[4].trim()):null;oe.push({type:le,args:ce})}return oe.length===0?{type:ee,args:null}:oe.length===1?oe[0]:oe}catch(ie){return log.error(`ERROR: ${ie.message} - Unable to parse directive type: '${te}' based on the text: '${ee}'`),{type:void 0,args:null}}},"detectDirective"),removeDirectives=__name(function(ee){return ee.replace(directiveRegex,"")},"removeDirectives"),isSubstringInArray=__name(function(ee,te){for(const[ne,ae]of te.entries())if(ae.match(ee))return ne;return-1},"isSubstringInArray");function interpolateToCurve(ee,te){if(!ee)return te;const ne=`curve${ee.charAt(0).toUpperCase()+ee.slice(1)}`;return d3CurveTypes[ne]??te}__name(interpolateToCurve,"interpolateToCurve");function formatUrl(ee,te){const ne=ee.trim();if(ne)return te.securityLevel!=="loose"?distExports.sanitizeUrl(ne):ne}__name(formatUrl,"formatUrl");var runFunc=__name((ee,...te)=>{const ne=ee.split("."),ae=ne.length-1,ie=ne[ae];let se=window;for(let oe=0;oe<ae;oe++)if(se=se[ne[oe]],!se){log.error(`Function name: ${ee} not found in window`);return}se[ie](...te)},"runFunc");function distance(ee,te){return!ee||!te?0:Math.sqrt(Math.pow(te.x-ee.x,2)+Math.pow(te.y-ee.y,2))}__name(distance,"distance");function traverseEdge(ee){let te,ne=0;ee.forEach(ie=>{ne+=distance(ie,te),te=ie});const ae=ne/2;return calculatePoint(ee,ae)}__name(traverseEdge,"traverseEdge");function calcLabelPosition(ee){return ee.length===1?ee[0]:traverseEdge(ee)}__name(calcLabelPosition,"calcLabelPosition");var roundNumber=__name((ee,te=2)=>{const ne=Math.pow(10,te);return Math.round(ee*ne)/ne},"roundNumber"),calculatePoint=__name((ee,te)=>{let ne,ae=te;for(const ie of ee){if(ne){const se=distance(ie,ne);if(se<ae)ae-=se;else{const oe=ae/se;if(oe<=0)return ne;if(oe>=1)return{x:ie.x,y:ie.y};if(oe>0&&oe<1)return{x:roundNumber((1-oe)*ne.x+oe*ie.x,5),y:roundNumber((1-oe)*ne.y+oe*ie.y,5)}}}ne=ie}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),calcCardinalityPosition=__name((ee,te,ne)=>{log.info(`our points ${JSON.stringify(te)}`),te[0]!==ne&&(te=te.reverse());const ie=calculatePoint(te,25),se=ee?10:5,oe=Math.atan2(te[0].y-ie.y,te[0].x-ie.x),le={x:0,y:0};return le.x=Math.sin(oe)*se+(te[0].x+ie.x)/2,le.y=-Math.cos(oe)*se+(te[0].y+ie.y)/2,le},"calcCardinalityPosition");function calcTerminalLabelPosition(ee,te,ne){const ae=structuredClone(ne);log.info("our points",ae),te!=="start_left"&&te!=="start_right"&&ae.reverse();const ie=25+ee,se=calculatePoint(ae,ie),oe=10+ee*.5,le=Math.atan2(ae[0].y-se.y,ae[0].x-se.x),ce={x:0,y:0};return te==="start_left"?(ce.x=Math.sin(le+Math.PI)*oe+(ae[0].x+se.x)/2,ce.y=-Math.cos(le+Math.PI)*oe+(ae[0].y+se.y)/2):te==="end_right"?(ce.x=Math.sin(le-Math.PI)*oe+(ae[0].x+se.x)/2-5,ce.y=-Math.cos(le-Math.PI)*oe+(ae[0].y+se.y)/2-5):te==="end_left"?(ce.x=Math.sin(le)*oe+(ae[0].x+se.x)/2-5,ce.y=-Math.cos(le)*oe+(ae[0].y+se.y)/2-5):(ce.x=Math.sin(le)*oe+(ae[0].x+se.x)/2,ce.y=-Math.cos(le)*oe+(ae[0].y+se.y)/2),ce}__name(calcTerminalLabelPosition,"calcTerminalLabelPosition");function getStylesFromArray(ee){let te="",ne="";for(const ae of ee)ae!==void 0&&(ae.startsWith("color:")||ae.startsWith("text-align:")?ne=ne+ae+";":te=te+ae+";");return{style:te,labelStyle:ne}}__name(getStylesFromArray,"getStylesFromArray");var cnt=0,generateId=__name(()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt),"generateId");function makeRandomHex(ee){let te="";const ne="0123456789abcdef",ae=ne.length;for(let ie=0;ie<ee;ie++)te+=ne.charAt(Math.floor(Math.random()*ae));return te}__name(makeRandomHex,"makeRandomHex");var random=__name(ee=>makeRandomHex(ee.length),"random"),getTextObj=__name(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),drawSimpleText=__name(function(ee,te){const ne=te.text.replace(common_default.lineBreakRegex," "),[,ae]=parseFontSize(te.fontSize),ie=ee.append("text");ie.attr("x",te.x),ie.attr("y",te.y),ie.style("text-anchor",te.anchor),ie.style("font-family",te.fontFamily),ie.style("font-size",ae),ie.style("font-weight",te.fontWeight),ie.attr("fill",te.fill),te.class!==void 0&&ie.attr("class",te.class);const se=ie.append("tspan");return se.attr("x",te.x+te.textMargin*2),se.attr("fill",te.fill),se.text(ne),ie},"drawSimpleText"),wrapLabel=memoize((ee,te,ne)=>{if(!ee||(ne=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},ne),common_default.lineBreakRegex.test(ee)))return ee;const ae=ee.split(" ").filter(Boolean),ie=[];let se="";return ae.forEach((oe,le)=>{const ce=calculateTextWidth(`${oe} `,ne),he=calculateTextWidth(se,ne);if(ce>te){const{hyphenatedStrings:ge,remainingWord:ye}=breakString(oe,te,"-",ne);ie.push(se,...ge),se=ye}else he+ce>=te?(ie.push(se),se=oe):se=[se,oe].filter(Boolean).join(" ");le+1===ae.length&&ie.push(se)}),ie.filter(oe=>oe!=="").join(ne.joinWith)},(ee,te,ne)=>`${ee}${te}${ne.fontSize}${ne.fontWeight}${ne.fontFamily}${ne.joinWith}`),breakString=memoize((ee,te,ne="-",ae)=>{ae=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},ae);const ie=[...ee],se=[];let oe="";return ie.forEach((le,ce)=>{const he=`${oe}${le}`;if(calculateTextWidth(he,ae)>=te){const pe=ce+1,ge=ie.length===pe,ye=`${he}${ne}`;se.push(ge?he:ye),oe=""}else oe=he}),{hyphenatedStrings:se,remainingWord:oe}},(ee,te,ne="-",ae)=>`${ee}${te}${ne}${ae.fontSize}${ae.fontWeight}${ae.fontFamily}`);function calculateTextHeight(ee,te){return calculateTextDimensions(ee,te).height}__name(calculateTextHeight,"calculateTextHeight");function calculateTextWidth(ee,te){return calculateTextDimensions(ee,te).width}__name(calculateTextWidth,"calculateTextWidth");var calculateTextDimensions=memoize((ee,te)=>{const{fontSize:ne=12,fontFamily:ae="Arial",fontWeight:ie=400}=te;if(!ee)return{width:0,height:0};const[,se]=parseFontSize(ne),oe=["sans-serif",ae],le=ee.split(common_default.lineBreakRegex),ce=[],he=select("body");if(!he.remove)return{width:0,height:0,lineHeight:0};const fe=he.append("svg");for(const ge of oe){let ye=0;const xe={width:0,height:0,lineHeight:0};for(const be of le){const Se=getTextObj();Se.text=be||ZERO_WIDTH_SPACE;const ve=drawSimpleText(fe,Se).style("font-size",se).style("font-weight",ie).style("font-family",ge),Te=(ve._groups||ve)[0][0].getBBox();if(Te.width===0&&Te.height===0)throw new Error("svg element not in render tree");xe.width=Math.round(Math.max(xe.width,Te.width)),ye=Math.round(Te.height),xe.height+=ye,xe.lineHeight=Math.round(Math.max(xe.lineHeight,ye))}ce.push(xe)}fe.remove();const pe=isNaN(ce[1].height)||isNaN(ce[1].width)||isNaN(ce[1].lineHeight)||ce[0].height>ce[1].height&&ce[0].width>ce[1].width&&ce[0].lineHeight>ce[1].lineHeight?0:1;return ce[pe]},(ee,te)=>`${ee}${te.fontSize}${te.fontWeight}${te.fontFamily}`),Bi,InitIDGenerator=(Bi=class{constructor(te=!1,ne){this.count=0,this.count=ne?ne.length:0,this.next=te?()=>this.count++:()=>Date.now()}},__name(Bi,"InitIDGenerator"),Bi),decoder,entityDecode=__name(function(ee){return decoder=decoder||document.createElement("div"),ee=escape(ee).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=ee,unescape(decoder.textContent)},"entityDecode");function isDetailedError(ee){return"str"in ee}__name(isDetailedError,"isDetailedError");var insertTitle=__name((ee,te,ne,ae)=>{var se;if(!ae)return;const ie=(se=ee.node())==null?void 0:se.getBBox();ie&&ee.append("text").text(ae).attr("text-anchor","middle").attr("x",ie.x+ie.width/2).attr("y",-ne).attr("class",te)},"insertTitle"),parseFontSize=__name(ee=>{if(typeof ee=="number")return[ee,ee+"px"];const te=parseInt(ee??"",10);return Number.isNaN(te)?[void 0,void 0]:ee===String(te)?[te,ee+"px"]:[te,ee]},"parseFontSize");function cleanAndMerge(ee,te){return merge({},ee,te)}__name(cleanAndMerge,"cleanAndMerge");var utils_default={assignWithDepth:assignWithDepth_default,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random,runFunc,entityDecode,insertTitle,parseFontSize,InitIDGenerator},encodeEntities=__name(function(ee){let te=ee;return te=te.replace(/style.*:\S*#.*;/g,function(ne){return ne.substring(0,ne.length-1)}),te=te.replace(/classDef.*:\S*#.*;/g,function(ne){return ne.substring(0,ne.length-1)}),te=te.replace(/#\w+;/g,function(ne){const ae=ne.substring(1,ne.length-1);return/^\+?\d+$/.test(ae)?""+ae+"":""+ae+""}),te},"encodeEntities"),decodeEntities=__name(function(ee){return ee.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),getEdgeId=__name((ee,te,{counter:ne=0,prefix:ae,suffix:ie})=>`${ae?`${ae}_`:""}${ee}_${te}_${ne}${ie?`_${ie}`:""}`,"getEdgeId");function handleUndefinedAttr(ee){return ee??null}__name(handleUndefinedAttr,"handleUndefinedAttr");function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let _defaults=_getDefaults();function changeDefaults(ee){_defaults=ee}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=ee=>escapeReplacements[ee];function escape$1(ee,te){if(te){if(escapeTest.test(ee))return ee.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(ee))return ee.replace(escapeReplaceNoEncode,getEscapeReplacement);return ee}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1(ee){return ee.replace(unescapeTest,(te,ne)=>(ne=ne.toLowerCase(),ne==="colon"?":":ne.charAt(0)==="#"?ne.charAt(1)==="x"?String.fromCharCode(parseInt(ne.substring(2),16)):String.fromCharCode(+ne.substring(1)):""))}const caret$1=/(^|[^\[])\^/g;function edit(ee,te){let ne=typeof ee=="string"?ee:ee.source;te=te||"";const ae={replace:(ie,se)=>{let oe=typeof se=="string"?se:se.source;return oe=oe.replace(caret$1,"$1"),ne=ne.replace(ie,oe),ae},getRegex:()=>new RegExp(ne,te)};return ae}function cleanUrl(ee){try{ee=encodeURI(ee).replace(/%25/g,"%")}catch{return null}return ee}const noopTest={exec:()=>null};function splitCells(ee,te){const ne=ee.replace(/\|/g,(se,oe,le)=>{let ce=!1,he=oe;for(;--he>=0&&le[he]==="\\";)ce=!ce;return ce?"|":" |"}),ae=ne.split(/ \|/);let ie=0;if(ae[0].trim()||ae.shift(),ae.length>0&&!ae[ae.length-1].trim()&&ae.pop(),te)if(ae.length>te)ae.splice(te);else for(;ae.length<te;)ae.push("");for(;ie<ae.length;ie++)ae[ie]=ae[ie].trim().replace(/\\\|/g,"|");return ae}function rtrim(ee,te,ne){const ae=ee.length;if(ae===0)return"";let ie=0;for(;ie<ae&&ee.charAt(ae-ie-1)===te;)ie++;return ee.slice(0,ae-ie)}function findClosingBracket(ee,te){if(ee.indexOf(te[1])===-1)return-1;let ne=0;for(let ae=0;ae<ee.length;ae++)if(ee[ae]==="\\")ae++;else if(ee[ae]===te[0])ne++;else if(ee[ae]===te[1]&&(ne--,ne<0))return ae;return-1}function outputLink(ee,te,ne,ae){const ie=te.href,se=te.title?escape$1(te.title):null,oe=ee[1].replace(/\\([\[\]])/g,"$1");if(ee[0].charAt(0)!=="!"){ae.state.inLink=!0;const le={type:"link",raw:ne,href:ie,title:se,text:oe,tokens:ae.inlineTokens(oe)};return ae.state.inLink=!1,le}return{type:"image",raw:ne,href:ie,title:se,text:escape$1(oe)}}function indentCodeCompensation(ee,te){const ne=ee.match(/^(\s+)(?:```)/);if(ne===null)return te;const ae=ne[1];return te.split(`
`).map(ie=>{const se=ie.match(/^\s+/);if(se===null)return ie;const[oe]=se;return oe.length>=ae.length?ie.slice(ae.length):ie}).join(`
`)}class _Tokenizer{constructor(te){gn(this,"options");gn(this,"rules");gn(this,"lexer");this.options=te||_defaults}space(te){const ne=this.rules.block.newline.exec(te);if(ne&&ne[0].length>0)return{type:"space",raw:ne[0]}}code(te){const ne=this.rules.block.code.exec(te);if(ne){const ae=ne[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ne[0],codeBlockStyle:"indented",text:this.options.pedantic?ae:rtrim(ae,`
`)}}}fences(te){const ne=this.rules.block.fences.exec(te);if(ne){const ae=ne[0],ie=indentCodeCompensation(ae,ne[3]||"");return{type:"code",raw:ae,lang:ne[2]?ne[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):ne[2],text:ie}}}heading(te){const ne=this.rules.block.heading.exec(te);if(ne){let ae=ne[2].trim();if(/#$/.test(ae)){const ie=rtrim(ae,"#");(this.options.pedantic||!ie||/ $/.test(ie))&&(ae=ie.trim())}return{type:"heading",raw:ne[0],depth:ne[1].length,text:ae,tokens:this.lexer.inline(ae)}}}hr(te){const ne=this.rules.block.hr.exec(te);if(ne)return{type:"hr",raw:rtrim(ne[0],`
`)}}blockquote(te){const ne=this.rules.block.blockquote.exec(te);if(ne){let ae=rtrim(ne[0],`
`).split(`
`),ie="",se="";const oe=[];for(;ae.length>0;){let le=!1;const ce=[];let he;for(he=0;he<ae.length;he++)if(/^ {0,3}>/.test(ae[he]))ce.push(ae[he]),le=!0;else if(!le)ce.push(ae[he]);else break;ae=ae.slice(he);const fe=ce.join(`
`),pe=fe.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");ie=ie?`${ie}
${fe}`:fe,se=se?`${se}
${pe}`:pe;const ge=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(pe,oe,!0),this.lexer.state.top=ge,ae.length===0)break;const ye=oe[oe.length-1];if((ye==null?void 0:ye.type)==="code")break;if((ye==null?void 0:ye.type)==="blockquote"){const xe=ye,be=xe.raw+`
`+ae.join(`
`),Se=this.blockquote(be);oe[oe.length-1]=Se,ie=ie.substring(0,ie.length-xe.raw.length)+Se.raw,se=se.substring(0,se.length-xe.text.length)+Se.text;break}else if((ye==null?void 0:ye.type)==="list"){const xe=ye,be=xe.raw+`
`+ae.join(`
`),Se=this.list(be);oe[oe.length-1]=Se,ie=ie.substring(0,ie.length-ye.raw.length)+Se.raw,se=se.substring(0,se.length-xe.raw.length)+Se.raw,ae=be.substring(oe[oe.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:ie,tokens:oe,text:se}}}list(te){let ne=this.rules.block.list.exec(te);if(ne){let ae=ne[1].trim();const ie=ae.length>1,se={type:"list",raw:"",ordered:ie,start:ie?+ae.slice(0,-1):"",loose:!1,items:[]};ae=ie?`\\d{1,9}\\${ae.slice(-1)}`:`\\${ae}`,this.options.pedantic&&(ae=ie?ae:"[*+-]");const oe=new RegExp(`^( {0,3}${ae})((?:[	 ][^\\n]*)?(?:\\n|$))`);let le=!1;for(;te;){let ce=!1,he="",fe="";if(!(ne=oe.exec(te))||this.rules.block.hr.test(te))break;he=ne[0],te=te.substring(he.length);let pe=ne[2].split(`
`,1)[0].replace(/^\t+/,ve=>" ".repeat(3*ve.length)),ge=te.split(`
`,1)[0],ye=!pe.trim(),xe=0;if(this.options.pedantic?(xe=2,fe=pe.trimStart()):ye?xe=ne[1].length+1:(xe=ne[2].search(/[^ ]/),xe=xe>4?1:xe,fe=pe.slice(xe),xe+=ne[1].length),ye&&/^ *$/.test(ge)&&(he+=ge+`
`,te=te.substring(ge.length+1),ce=!0),!ce){const ve=new RegExp(`^ {0,${Math.min(3,xe-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),Te=new RegExp(`^ {0,${Math.min(3,xe-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Ce=new RegExp(`^ {0,${Math.min(3,xe-1)}}(?:\`\`\`|~~~)`),Pe=new RegExp(`^ {0,${Math.min(3,xe-1)}}#`);for(;te;){const Be=te.split(`
`,1)[0];if(ge=Be,this.options.pedantic&&(ge=ge.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Ce.test(ge)||Pe.test(ge)||ve.test(ge)||Te.test(te))break;if(ge.search(/[^ ]/)>=xe||!ge.trim())fe+=`
`+ge.slice(xe);else{if(ye||pe.search(/[^ ]/)>=4||Ce.test(pe)||Pe.test(pe)||Te.test(pe))break;fe+=`
`+ge}!ye&&!ge.trim()&&(ye=!0),he+=Be+`
`,te=te.substring(Be.length+1),pe=ge.slice(xe)}}se.loose||(le?se.loose=!0:/\n *\n *$/.test(he)&&(le=!0));let be=null,Se;this.options.gfm&&(be=/^\[[ xX]\] /.exec(fe),be&&(Se=be[0]!=="[ ] ",fe=fe.replace(/^\[[ xX]\] +/,""))),se.items.push({type:"list_item",raw:he,task:!!be,checked:Se,loose:!1,text:fe,tokens:[]}),se.raw+=he}se.items[se.items.length-1].raw=se.items[se.items.length-1].raw.trimEnd(),se.items[se.items.length-1].text=se.items[se.items.length-1].text.trimEnd(),se.raw=se.raw.trimEnd();for(let ce=0;ce<se.items.length;ce++)if(this.lexer.state.top=!1,se.items[ce].tokens=this.lexer.blockTokens(se.items[ce].text,[]),!se.loose){const he=se.items[ce].tokens.filter(pe=>pe.type==="space"),fe=he.length>0&&he.some(pe=>/\n.*\n/.test(pe.raw));se.loose=fe}if(se.loose)for(let ce=0;ce<se.items.length;ce++)se.items[ce].loose=!0;return se}}html(te){const ne=this.rules.block.html.exec(te);if(ne)return{type:"html",block:!0,raw:ne[0],pre:ne[1]==="pre"||ne[1]==="script"||ne[1]==="style",text:ne[0]}}def(te){const ne=this.rules.block.def.exec(te);if(ne){const ae=ne[1].toLowerCase().replace(/\s+/g," "),ie=ne[2]?ne[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",se=ne[3]?ne[3].substring(1,ne[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):ne[3];return{type:"def",tag:ae,raw:ne[0],href:ie,title:se}}}table(te){const ne=this.rules.block.table.exec(te);if(!ne||!/[:|]/.test(ne[2]))return;const ae=splitCells(ne[1]),ie=ne[2].replace(/^\||\| *$/g,"").split("|"),se=ne[3]&&ne[3].trim()?ne[3].replace(/\n[ \t]*$/,"").split(`
`):[],oe={type:"table",raw:ne[0],header:[],align:[],rows:[]};if(ae.length===ie.length){for(const le of ie)/^ *-+: *$/.test(le)?oe.align.push("right"):/^ *:-+: *$/.test(le)?oe.align.push("center"):/^ *:-+ *$/.test(le)?oe.align.push("left"):oe.align.push(null);for(let le=0;le<ae.length;le++)oe.header.push({text:ae[le],tokens:this.lexer.inline(ae[le]),header:!0,align:oe.align[le]});for(const le of se)oe.rows.push(splitCells(le,oe.header.length).map((ce,he)=>({text:ce,tokens:this.lexer.inline(ce),header:!1,align:oe.align[he]})));return oe}}lheading(te){const ne=this.rules.block.lheading.exec(te);if(ne)return{type:"heading",raw:ne[0],depth:ne[2].charAt(0)==="="?1:2,text:ne[1],tokens:this.lexer.inline(ne[1])}}paragraph(te){const ne=this.rules.block.paragraph.exec(te);if(ne){const ae=ne[1].charAt(ne[1].length-1)===`
`?ne[1].slice(0,-1):ne[1];return{type:"paragraph",raw:ne[0],text:ae,tokens:this.lexer.inline(ae)}}}text(te){const ne=this.rules.block.text.exec(te);if(ne)return{type:"text",raw:ne[0],text:ne[0],tokens:this.lexer.inline(ne[0])}}escape(te){const ne=this.rules.inline.escape.exec(te);if(ne)return{type:"escape",raw:ne[0],text:escape$1(ne[1])}}tag(te){const ne=this.rules.inline.tag.exec(te);if(ne)return!this.lexer.state.inLink&&/^<a /i.test(ne[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ne[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ne[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ne[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:ne[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:ne[0]}}link(te){const ne=this.rules.inline.link.exec(te);if(ne){const ae=ne[2].trim();if(!this.options.pedantic&&/^</.test(ae)){if(!/>$/.test(ae))return;const oe=rtrim(ae.slice(0,-1),"\\");if((ae.length-oe.length)%2===0)return}else{const oe=findClosingBracket(ne[2],"()");if(oe>-1){const ce=(ne[0].indexOf("!")===0?5:4)+ne[1].length+oe;ne[2]=ne[2].substring(0,oe),ne[0]=ne[0].substring(0,ce).trim(),ne[3]=""}}let ie=ne[2],se="";if(this.options.pedantic){const oe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ie);oe&&(ie=oe[1],se=oe[3])}else se=ne[3]?ne[3].slice(1,-1):"";return ie=ie.trim(),/^</.test(ie)&&(this.options.pedantic&&!/>$/.test(ae)?ie=ie.slice(1):ie=ie.slice(1,-1)),outputLink(ne,{href:ie&&ie.replace(this.rules.inline.anyPunctuation,"$1"),title:se&&se.replace(this.rules.inline.anyPunctuation,"$1")},ne[0],this.lexer)}}reflink(te,ne){let ae;if((ae=this.rules.inline.reflink.exec(te))||(ae=this.rules.inline.nolink.exec(te))){const ie=(ae[2]||ae[1]).replace(/\s+/g," "),se=ne[ie.toLowerCase()];if(!se){const oe=ae[0].charAt(0);return{type:"text",raw:oe,text:oe}}return outputLink(ae,se,ae[0],this.lexer)}}emStrong(te,ne,ae=""){let ie=this.rules.inline.emStrongLDelim.exec(te);if(!ie||ie[3]&&ae.match(/[\p{L}\p{N}]/u))return;if(!(ie[1]||ie[2]||"")||!ae||this.rules.inline.punctuation.exec(ae)){const oe=[...ie[0]].length-1;let le,ce,he=oe,fe=0;const pe=ie[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(pe.lastIndex=0,ne=ne.slice(-1*te.length+oe);(ie=pe.exec(ne))!=null;){if(le=ie[1]||ie[2]||ie[3]||ie[4]||ie[5]||ie[6],!le)continue;if(ce=[...le].length,ie[3]||ie[4]){he+=ce;continue}else if((ie[5]||ie[6])&&oe%3&&!((oe+ce)%3)){fe+=ce;continue}if(he-=ce,he>0)continue;ce=Math.min(ce,ce+he+fe);const ge=[...ie[0]][0].length,ye=te.slice(0,oe+ie.index+ge+ce);if(Math.min(oe,ce)%2){const be=ye.slice(1,-1);return{type:"em",raw:ye,text:be,tokens:this.lexer.inlineTokens(be)}}const xe=ye.slice(2,-2);return{type:"strong",raw:ye,text:xe,tokens:this.lexer.inlineTokens(xe)}}}}codespan(te){const ne=this.rules.inline.code.exec(te);if(ne){let ae=ne[2].replace(/\n/g," ");const ie=/[^ ]/.test(ae),se=/^ /.test(ae)&&/ $/.test(ae);return ie&&se&&(ae=ae.substring(1,ae.length-1)),ae=escape$1(ae,!0),{type:"codespan",raw:ne[0],text:ae}}}br(te){const ne=this.rules.inline.br.exec(te);if(ne)return{type:"br",raw:ne[0]}}del(te){const ne=this.rules.inline.del.exec(te);if(ne)return{type:"del",raw:ne[0],text:ne[2],tokens:this.lexer.inlineTokens(ne[2])}}autolink(te){const ne=this.rules.inline.autolink.exec(te);if(ne){let ae,ie;return ne[2]==="@"?(ae=escape$1(ne[1]),ie="mailto:"+ae):(ae=escape$1(ne[1]),ie=ae),{type:"link",raw:ne[0],text:ae,href:ie,tokens:[{type:"text",raw:ae,text:ae}]}}}url(te){var ae;let ne;if(ne=this.rules.inline.url.exec(te)){let ie,se;if(ne[2]==="@")ie=escape$1(ne[0]),se="mailto:"+ie;else{let oe;do oe=ne[0],ne[0]=((ae=this.rules.inline._backpedal.exec(ne[0]))==null?void 0:ae[0])??"";while(oe!==ne[0]);ie=escape$1(ne[0]),ne[1]==="www."?se="http://"+ne[0]:se=ne[0]}return{type:"link",raw:ne[0],text:ie,href:se,tokens:[{type:"text",raw:ie,text:ie}]}}}inlineText(te){const ne=this.rules.inline.text.exec(te);if(ne){let ae;return this.lexer.state.inRawBlock?ae=ne[0]:ae=escape$1(ne[0]),{type:"text",raw:ne[0],text:ae}}}}const newline=/^(?: *(?:\n|$))+/,blockCode=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bullet=/(?:[*+-]|\d{1,9}[.)])/,lheading=edit(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,bullet).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),_paragraph=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,blockText=/^[^\n]+/,_blockLabel=/(?!\s*\])(?:\\.|[^\[\]\\])+/,def=edit(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",_blockLabel).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),list=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bullet).getRegex(),_tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_comment=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,html=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",_comment).replace("tag",_tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),paragraph=edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockquote=edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",paragraph).getRegex(),blockNormal={blockquote,code:blockCode,def,fences,heading,hr,html,lheading,list,newline,paragraph,table:noopTest,text:blockText},gfmTable=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockGfm={...blockNormal,table:gfmTable,paragraph:edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gfmTable).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex()},blockPedantic={...blockNormal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(_paragraph).replace("hr",hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",lheading).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},escape$2=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,inlineCode=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br=/^( {2,}|\\)\n(?!\s*$)/,inlineText=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,_punctuation="\\p{P}\\p{S}",punctuation=edit(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,_punctuation).getRegex(),blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,emStrongLDelim=edit(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimAst=edit("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimUnd=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,_punctuation).getRegex(),anyPunctuation=edit(/\\([punct])/,"gu").replace(/punct/g,_punctuation).getRegex(),autolink=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_inlineComment=edit(_comment).replace("(?:-->|$)","-->").getRegex(),tag=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_inlineComment).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_inlineLabel=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,link=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",_inlineLabel).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),reflink=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",_inlineLabel).replace("ref",_blockLabel).getRegex(),nolink=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",_blockLabel).getRegex(),reflinkSearch=edit("reflink|nolink(?!\\()","g").replace("reflink",reflink).replace("nolink",nolink).getRegex(),inlineNormal={_backpedal:noopTest,anyPunctuation,autolink,blockSkip,br,code:inlineCode,del:noopTest,emStrongLDelim,emStrongRDelimAst,emStrongRDelimUnd,escape:escape$2,link,nolink,punctuation,reflink,reflinkSearch,tag,text:inlineText,url:noopTest},inlinePedantic={...inlineNormal,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",_inlineLabel).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_inlineLabel).getRegex()},inlineGfm={...inlineNormal,escape:edit(escape$2).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},inlineBreaks={...inlineGfm,br:edit(br).replace("{2,}","*").getRegex(),text:edit(inlineGfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},block={normal:blockNormal,gfm:blockGfm,pedantic:blockPedantic},inline={normal:inlineNormal,gfm:inlineGfm,breaks:inlineBreaks,pedantic:inlinePedantic};class _Lexer{constructor(te){gn(this,"tokens");gn(this,"options");gn(this,"state");gn(this,"tokenizer");gn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=te||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const ne={block:block.normal,inline:inline.normal};this.options.pedantic?(ne.block=block.pedantic,ne.inline=inline.pedantic):this.options.gfm&&(ne.block=block.gfm,this.options.breaks?ne.inline=inline.breaks:ne.inline=inline.gfm),this.tokenizer.rules=ne}static get rules(){return{block,inline}}static lex(te,ne){return new _Lexer(ne).lex(te)}static lexInline(te,ne){return new _Lexer(ne).inlineTokens(te)}lex(te){te=te.replace(/\r\n|\r/g,`
`),this.blockTokens(te,this.tokens);for(let ne=0;ne<this.inlineQueue.length;ne++){const ae=this.inlineQueue[ne];this.inlineTokens(ae.src,ae.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(te,ne=[],ae=!1){this.options.pedantic?te=te.replace(/\t/g,"    ").replace(/^ +$/gm,""):te=te.replace(/^( *)(\t+)/gm,(le,ce,he)=>ce+"    ".repeat(he.length));let ie,se,oe;for(;te;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(le=>(ie=le.call({lexer:this},te,ne))?(te=te.substring(ie.raw.length),ne.push(ie),!0):!1))){if(ie=this.tokenizer.space(te)){te=te.substring(ie.raw.length),ie.raw.length===1&&ne.length>0?ne[ne.length-1].raw+=`
`:ne.push(ie);continue}if(ie=this.tokenizer.code(te)){te=te.substring(ie.raw.length),se=ne[ne.length-1],se&&(se.type==="paragraph"||se.type==="text")?(se.raw+=`
`+ie.raw,se.text+=`
`+ie.text,this.inlineQueue[this.inlineQueue.length-1].src=se.text):ne.push(ie);continue}if(ie=this.tokenizer.fences(te)){te=te.substring(ie.raw.length),ne.push(ie);continue}if(ie=this.tokenizer.heading(te)){te=te.substring(ie.raw.length),ne.push(ie);continue}if(ie=this.tokenizer.hr(te)){te=te.substring(ie.raw.length),ne.push(ie);continue}if(ie=this.tokenizer.blockquote(te)){te=te.substring(ie.raw.length),ne.push(ie);continue}if(ie=this.tokenizer.list(te)){te=te.substring(ie.raw.length),ne.push(ie);continue}if(ie=this.tokenizer.html(te)){te=te.substring(ie.raw.length),ne.push(ie);continue}if(ie=this.tokenizer.def(te)){te=te.substring(ie.raw.length),se=ne[ne.length-1],se&&(se.type==="paragraph"||se.type==="text")?(se.raw+=`
`+ie.raw,se.text+=`
`+ie.raw,this.inlineQueue[this.inlineQueue.length-1].src=se.text):this.tokens.links[ie.tag]||(this.tokens.links[ie.tag]={href:ie.href,title:ie.title});continue}if(ie=this.tokenizer.table(te)){te=te.substring(ie.raw.length),ne.push(ie);continue}if(ie=this.tokenizer.lheading(te)){te=te.substring(ie.raw.length),ne.push(ie);continue}if(oe=te,this.options.extensions&&this.options.extensions.startBlock){let le=1/0;const ce=te.slice(1);let he;this.options.extensions.startBlock.forEach(fe=>{he=fe.call({lexer:this},ce),typeof he=="number"&&he>=0&&(le=Math.min(le,he))}),le<1/0&&le>=0&&(oe=te.substring(0,le+1))}if(this.state.top&&(ie=this.tokenizer.paragraph(oe))){se=ne[ne.length-1],ae&&(se==null?void 0:se.type)==="paragraph"?(se.raw+=`
`+ie.raw,se.text+=`
`+ie.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=se.text):ne.push(ie),ae=oe.length!==te.length,te=te.substring(ie.raw.length);continue}if(ie=this.tokenizer.text(te)){te=te.substring(ie.raw.length),se=ne[ne.length-1],se&&se.type==="text"?(se.raw+=`
`+ie.raw,se.text+=`
`+ie.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=se.text):ne.push(ie);continue}if(te){const le="Infinite loop on byte: "+te.charCodeAt(0);if(this.options.silent){console.error(le);break}else throw new Error(le)}}return this.state.top=!0,ne}inline(te,ne=[]){return this.inlineQueue.push({src:te,tokens:ne}),ne}inlineTokens(te,ne=[]){let ae,ie,se,oe=te,le,ce,he;if(this.tokens.links){const fe=Object.keys(this.tokens.links);if(fe.length>0)for(;(le=this.tokenizer.rules.inline.reflinkSearch.exec(oe))!=null;)fe.includes(le[0].slice(le[0].lastIndexOf("[")+1,-1))&&(oe=oe.slice(0,le.index)+"["+"a".repeat(le[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(le=this.tokenizer.rules.inline.blockSkip.exec(oe))!=null;)oe=oe.slice(0,le.index)+"["+"a".repeat(le[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(le=this.tokenizer.rules.inline.anyPunctuation.exec(oe))!=null;)oe=oe.slice(0,le.index)+"++"+oe.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;te;)if(ce||(he=""),ce=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(fe=>(ae=fe.call({lexer:this},te,ne))?(te=te.substring(ae.raw.length),ne.push(ae),!0):!1))){if(ae=this.tokenizer.escape(te)){te=te.substring(ae.raw.length),ne.push(ae);continue}if(ae=this.tokenizer.tag(te)){te=te.substring(ae.raw.length),ie=ne[ne.length-1],ie&&ae.type==="text"&&ie.type==="text"?(ie.raw+=ae.raw,ie.text+=ae.text):ne.push(ae);continue}if(ae=this.tokenizer.link(te)){te=te.substring(ae.raw.length),ne.push(ae);continue}if(ae=this.tokenizer.reflink(te,this.tokens.links)){te=te.substring(ae.raw.length),ie=ne[ne.length-1],ie&&ae.type==="text"&&ie.type==="text"?(ie.raw+=ae.raw,ie.text+=ae.text):ne.push(ae);continue}if(ae=this.tokenizer.emStrong(te,oe,he)){te=te.substring(ae.raw.length),ne.push(ae);continue}if(ae=this.tokenizer.codespan(te)){te=te.substring(ae.raw.length),ne.push(ae);continue}if(ae=this.tokenizer.br(te)){te=te.substring(ae.raw.length),ne.push(ae);continue}if(ae=this.tokenizer.del(te)){te=te.substring(ae.raw.length),ne.push(ae);continue}if(ae=this.tokenizer.autolink(te)){te=te.substring(ae.raw.length),ne.push(ae);continue}if(!this.state.inLink&&(ae=this.tokenizer.url(te))){te=te.substring(ae.raw.length),ne.push(ae);continue}if(se=te,this.options.extensions&&this.options.extensions.startInline){let fe=1/0;const pe=te.slice(1);let ge;this.options.extensions.startInline.forEach(ye=>{ge=ye.call({lexer:this},pe),typeof ge=="number"&&ge>=0&&(fe=Math.min(fe,ge))}),fe<1/0&&fe>=0&&(se=te.substring(0,fe+1))}if(ae=this.tokenizer.inlineText(se)){te=te.substring(ae.raw.length),ae.raw.slice(-1)!=="_"&&(he=ae.raw.slice(-1)),ce=!0,ie=ne[ne.length-1],ie&&ie.type==="text"?(ie.raw+=ae.raw,ie.text+=ae.text):ne.push(ae);continue}if(te){const fe="Infinite loop on byte: "+te.charCodeAt(0);if(this.options.silent){console.error(fe);break}else throw new Error(fe)}}return ne}}class _Renderer{constructor(te){gn(this,"options");gn(this,"parser");this.options=te||_defaults}space(te){return""}code({text:te,lang:ne,escaped:ae}){var oe;const ie=(oe=(ne||"").match(/^\S*/))==null?void 0:oe[0],se=te.replace(/\n$/,"")+`
`;return ie?'<pre><code class="language-'+escape$1(ie)+'">'+(ae?se:escape$1(se,!0))+`</code></pre>
`:"<pre><code>"+(ae?se:escape$1(se,!0))+`</code></pre>
`}blockquote({tokens:te}){return`<blockquote>
${this.parser.parse(te)}</blockquote>
`}html({text:te}){return te}heading({tokens:te,depth:ne}){return`<h${ne}>${this.parser.parseInline(te)}</h${ne}>
`}hr(te){return`<hr>
`}list(te){const ne=te.ordered,ae=te.start;let ie="";for(let le=0;le<te.items.length;le++){const ce=te.items[le];ie+=this.listitem(ce)}const se=ne?"ol":"ul",oe=ne&&ae!==1?' start="'+ae+'"':"";return"<"+se+oe+`>
`+ie+"</"+se+`>
`}listitem(te){let ne="";if(te.task){const ae=this.checkbox({checked:!!te.checked});te.loose?te.tokens.length>0&&te.tokens[0].type==="paragraph"?(te.tokens[0].text=ae+" "+te.tokens[0].text,te.tokens[0].tokens&&te.tokens[0].tokens.length>0&&te.tokens[0].tokens[0].type==="text"&&(te.tokens[0].tokens[0].text=ae+" "+te.tokens[0].tokens[0].text)):te.tokens.unshift({type:"text",raw:ae+" ",text:ae+" "}):ne+=ae+" "}return ne+=this.parser.parse(te.tokens,!!te.loose),`<li>${ne}</li>
`}checkbox({checked:te}){return"<input "+(te?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:te}){return`<p>${this.parser.parseInline(te)}</p>
`}table(te){let ne="",ae="";for(let se=0;se<te.header.length;se++)ae+=this.tablecell(te.header[se]);ne+=this.tablerow({text:ae});let ie="";for(let se=0;se<te.rows.length;se++){const oe=te.rows[se];ae="";for(let le=0;le<oe.length;le++)ae+=this.tablecell(oe[le]);ie+=this.tablerow({text:ae})}return ie&&(ie=`<tbody>${ie}</tbody>`),`<table>
<thead>
`+ne+`</thead>
`+ie+`</table>
`}tablerow({text:te}){return`<tr>
${te}</tr>
`}tablecell(te){const ne=this.parser.parseInline(te.tokens),ae=te.header?"th":"td";return(te.align?`<${ae} align="${te.align}">`:`<${ae}>`)+ne+`</${ae}>
`}strong({tokens:te}){return`<strong>${this.parser.parseInline(te)}</strong>`}em({tokens:te}){return`<em>${this.parser.parseInline(te)}</em>`}codespan({text:te}){return`<code>${te}</code>`}br(te){return"<br>"}del({tokens:te}){return`<del>${this.parser.parseInline(te)}</del>`}link({href:te,title:ne,tokens:ae}){const ie=this.parser.parseInline(ae),se=cleanUrl(te);if(se===null)return ie;te=se;let oe='<a href="'+te+'"';return ne&&(oe+=' title="'+ne+'"'),oe+=">"+ie+"</a>",oe}image({href:te,title:ne,text:ae}){const ie=cleanUrl(te);if(ie===null)return ae;te=ie;let se=`<img src="${te}" alt="${ae}"`;return ne&&(se+=` title="${ne}"`),se+=">",se}text(te){return"tokens"in te&&te.tokens?this.parser.parseInline(te.tokens):te.text}}class _TextRenderer{strong({text:te}){return te}em({text:te}){return te}codespan({text:te}){return te}del({text:te}){return te}html({text:te}){return te}text({text:te}){return te}link({text:te}){return""+te}image({text:te}){return""+te}br(){return""}}class _Parser{constructor(te){gn(this,"options");gn(this,"renderer");gn(this,"textRenderer");this.options=te||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _TextRenderer}static parse(te,ne){return new _Parser(ne).parse(te)}static parseInline(te,ne){return new _Parser(ne).parseInline(te)}parse(te,ne=!0){let ae="";for(let ie=0;ie<te.length;ie++){const se=te[ie];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[se.type]){const le=se,ce=this.options.extensions.renderers[le.type].call({parser:this},le);if(ce!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(le.type)){ae+=ce||"";continue}}const oe=se;switch(oe.type){case"space":{ae+=this.renderer.space(oe);continue}case"hr":{ae+=this.renderer.hr(oe);continue}case"heading":{ae+=this.renderer.heading(oe);continue}case"code":{ae+=this.renderer.code(oe);continue}case"table":{ae+=this.renderer.table(oe);continue}case"blockquote":{ae+=this.renderer.blockquote(oe);continue}case"list":{ae+=this.renderer.list(oe);continue}case"html":{ae+=this.renderer.html(oe);continue}case"paragraph":{ae+=this.renderer.paragraph(oe);continue}case"text":{let le=oe,ce=this.renderer.text(le);for(;ie+1<te.length&&te[ie+1].type==="text";)le=te[++ie],ce+=`
`+this.renderer.text(le);ne?ae+=this.renderer.paragraph({type:"paragraph",raw:ce,text:ce,tokens:[{type:"text",raw:ce,text:ce}]}):ae+=ce;continue}default:{const le='Token with "'+oe.type+'" type was not found.';if(this.options.silent)return console.error(le),"";throw new Error(le)}}}return ae}parseInline(te,ne){ne=ne||this.renderer;let ae="";for(let ie=0;ie<te.length;ie++){const se=te[ie];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[se.type]){const le=this.options.extensions.renderers[se.type].call({parser:this},se);if(le!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(se.type)){ae+=le||"";continue}}const oe=se;switch(oe.type){case"escape":{ae+=ne.text(oe);break}case"html":{ae+=ne.html(oe);break}case"link":{ae+=ne.link(oe);break}case"image":{ae+=ne.image(oe);break}case"strong":{ae+=ne.strong(oe);break}case"em":{ae+=ne.em(oe);break}case"codespan":{ae+=ne.codespan(oe);break}case"br":{ae+=ne.br(oe);break}case"del":{ae+=ne.del(oe);break}case"text":{ae+=ne.text(oe);break}default:{const le='Token with "'+oe.type+'" type was not found.';if(this.options.silent)return console.error(le),"";throw new Error(le)}}}return ae}}class _Hooks{constructor(te){gn(this,"options");this.options=te||_defaults}preprocess(te){return te}postprocess(te){return te}processAllTokens(te){return te}}gn(_Hooks,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Zr,jf,Qu,Hf;class Marked{constructor(...te){zf(this,Zr);gn(this,"defaults",_getDefaults());gn(this,"options",this.setOptions);gn(this,"parse",Ps(this,Zr,Qu).call(this,_Lexer.lex,_Parser.parse));gn(this,"parseInline",Ps(this,Zr,Qu).call(this,_Lexer.lexInline,_Parser.parseInline));gn(this,"Parser",_Parser);gn(this,"Renderer",_Renderer);gn(this,"TextRenderer",_TextRenderer);gn(this,"Lexer",_Lexer);gn(this,"Tokenizer",_Tokenizer);gn(this,"Hooks",_Hooks);this.use(...te)}walkTokens(te,ne){var ie,se;let ae=[];for(const oe of te)switch(ae=ae.concat(ne.call(this,oe)),oe.type){case"table":{const le=oe;for(const ce of le.header)ae=ae.concat(this.walkTokens(ce.tokens,ne));for(const ce of le.rows)for(const he of ce)ae=ae.concat(this.walkTokens(he.tokens,ne));break}case"list":{const le=oe;ae=ae.concat(this.walkTokens(le.items,ne));break}default:{const le=oe;(se=(ie=this.defaults.extensions)==null?void 0:ie.childTokens)!=null&&se[le.type]?this.defaults.extensions.childTokens[le.type].forEach(ce=>{const he=le[ce].flat(1/0);ae=ae.concat(this.walkTokens(he,ne))}):le.tokens&&(ae=ae.concat(this.walkTokens(le.tokens,ne)))}}return ae}use(...te){const ne=this.defaults.extensions||{renderers:{},childTokens:{}};return te.forEach(ae=>{const ie={...ae};if(ie.async=this.defaults.async||ie.async||!1,ae.extensions&&(ae.extensions.forEach(se=>{if(!se.name)throw new Error("extension name required");if("renderer"in se){const oe=ne.renderers[se.name];oe?ne.renderers[se.name]=function(...le){let ce=se.renderer.apply(this,le);return ce===!1&&(ce=oe.apply(this,le)),ce}:ne.renderers[se.name]=se.renderer}if("tokenizer"in se){if(!se.level||se.level!=="block"&&se.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const oe=ne[se.level];oe?oe.unshift(se.tokenizer):ne[se.level]=[se.tokenizer],se.start&&(se.level==="block"?ne.startBlock?ne.startBlock.push(se.start):ne.startBlock=[se.start]:se.level==="inline"&&(ne.startInline?ne.startInline.push(se.start):ne.startInline=[se.start]))}"childTokens"in se&&se.childTokens&&(ne.childTokens[se.name]=se.childTokens)}),ie.extensions=ne),ae.renderer){const se=this.defaults.renderer||new _Renderer(this.defaults);for(const oe in ae.renderer){if(!(oe in se))throw new Error(`renderer '${oe}' does not exist`);if(["options","parser"].includes(oe))continue;const le=oe;let ce=ae.renderer[le];ae.useNewRenderer||(ce=Ps(this,Zr,jf).call(this,ce,le,se));const he=se[le];se[le]=(...fe)=>{let pe=ce.apply(se,fe);return pe===!1&&(pe=he.apply(se,fe)),pe||""}}ie.renderer=se}if(ae.tokenizer){const se=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const oe in ae.tokenizer){if(!(oe in se))throw new Error(`tokenizer '${oe}' does not exist`);if(["options","rules","lexer"].includes(oe))continue;const le=oe,ce=ae.tokenizer[le],he=se[le];se[le]=(...fe)=>{let pe=ce.apply(se,fe);return pe===!1&&(pe=he.apply(se,fe)),pe}}ie.tokenizer=se}if(ae.hooks){const se=this.defaults.hooks||new _Hooks;for(const oe in ae.hooks){if(!(oe in se))throw new Error(`hook '${oe}' does not exist`);if(oe==="options")continue;const le=oe,ce=ae.hooks[le],he=se[le];_Hooks.passThroughHooks.has(oe)?se[le]=fe=>{if(this.defaults.async)return Promise.resolve(ce.call(se,fe)).then(ge=>he.call(se,ge));const pe=ce.call(se,fe);return he.call(se,pe)}:se[le]=(...fe)=>{let pe=ce.apply(se,fe);return pe===!1&&(pe=he.apply(se,fe)),pe}}ie.hooks=se}if(ae.walkTokens){const se=this.defaults.walkTokens,oe=ae.walkTokens;ie.walkTokens=function(le){let ce=[];return ce.push(oe.call(this,le)),se&&(ce=ce.concat(se.call(this,le))),ce}}this.defaults={...this.defaults,...ie}}),this}setOptions(te){return this.defaults={...this.defaults,...te},this}lexer(te,ne){return _Lexer.lex(te,ne??this.defaults)}parser(te,ne){return _Parser.parse(te,ne??this.defaults)}}Zr=new WeakSet,jf=function(te,ne,ae){switch(ne){case"heading":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,ae.parser.parseInline(ie.tokens),ie.depth,unescape$1(ae.parser.parseInline(ie.tokens,ae.parser.textRenderer)))};case"code":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,ie.text,ie.lang,!!ie.escaped)};case"table":return function(ie){if(!ie.type||ie.type!==ne)return te.apply(this,arguments);let se="",oe="";for(let ce=0;ce<ie.header.length;ce++)oe+=this.tablecell({text:ie.header[ce].text,tokens:ie.header[ce].tokens,header:!0,align:ie.align[ce]});se+=this.tablerow({text:oe});let le="";for(let ce=0;ce<ie.rows.length;ce++){const he=ie.rows[ce];oe="";for(let fe=0;fe<he.length;fe++)oe+=this.tablecell({text:he[fe].text,tokens:he[fe].tokens,header:!1,align:ie.align[fe]});le+=this.tablerow({text:oe})}return te.call(this,se,le)};case"blockquote":return function(ie){if(!ie.type||ie.type!==ne)return te.apply(this,arguments);const se=this.parser.parse(ie.tokens);return te.call(this,se)};case"list":return function(ie){if(!ie.type||ie.type!==ne)return te.apply(this,arguments);const se=ie.ordered,oe=ie.start,le=ie.loose;let ce="";for(let he=0;he<ie.items.length;he++){const fe=ie.items[he],pe=fe.checked,ge=fe.task;let ye="";if(fe.task){const xe=this.checkbox({checked:!!pe});le?fe.tokens.length>0&&fe.tokens[0].type==="paragraph"?(fe.tokens[0].text=xe+" "+fe.tokens[0].text,fe.tokens[0].tokens&&fe.tokens[0].tokens.length>0&&fe.tokens[0].tokens[0].type==="text"&&(fe.tokens[0].tokens[0].text=xe+" "+fe.tokens[0].tokens[0].text)):fe.tokens.unshift({type:"text",text:xe+" "}):ye+=xe+" "}ye+=this.parser.parse(fe.tokens,le),ce+=this.listitem({type:"list_item",raw:ye,text:ye,task:ge,checked:!!pe,loose:le,tokens:fe.tokens})}return te.call(this,ce,se,oe)};case"html":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,ie.text,ie.block)};case"paragraph":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,this.parser.parseInline(ie.tokens))};case"escape":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,ie.text)};case"link":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,ie.href,ie.title,this.parser.parseInline(ie.tokens))};case"image":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,ie.href,ie.title,ie.text)};case"strong":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,this.parser.parseInline(ie.tokens))};case"em":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,this.parser.parseInline(ie.tokens))};case"codespan":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,ie.text)};case"del":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,this.parser.parseInline(ie.tokens))};case"text":return function(ie){return!ie.type||ie.type!==ne?te.apply(this,arguments):te.call(this,ie.text)}}return te},Qu=function(te,ne){return(ae,ie)=>{const se={...ie},oe={...this.defaults,...se};this.defaults.async===!0&&se.async===!1&&(oe.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),oe.async=!0);const le=Ps(this,Zr,Hf).call(this,!!oe.silent,!!oe.async);if(typeof ae>"u"||ae===null)return le(new Error("marked(): input parameter is undefined or null"));if(typeof ae!="string")return le(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected"));if(oe.hooks&&(oe.hooks.options=oe),oe.async)return Promise.resolve(oe.hooks?oe.hooks.preprocess(ae):ae).then(ce=>te(ce,oe)).then(ce=>oe.hooks?oe.hooks.processAllTokens(ce):ce).then(ce=>oe.walkTokens?Promise.all(this.walkTokens(ce,oe.walkTokens)).then(()=>ce):ce).then(ce=>ne(ce,oe)).then(ce=>oe.hooks?oe.hooks.postprocess(ce):ce).catch(le);try{oe.hooks&&(ae=oe.hooks.preprocess(ae));let ce=te(ae,oe);oe.hooks&&(ce=oe.hooks.processAllTokens(ce)),oe.walkTokens&&this.walkTokens(ce,oe.walkTokens);let he=ne(ce,oe);return oe.hooks&&(he=oe.hooks.postprocess(he)),he}catch(ce){return le(ce)}}},Hf=function(te,ne){return ae=>{if(ae.message+=`
Please report this to https://github.com/markedjs/marked.`,te){const ie="<p>An error occurred:</p><pre>"+escape$1(ae.message+"",!0)+"</pre>";return ne?Promise.resolve(ie):ie}if(ne)return Promise.reject(ae);throw ae}};const markedInstance=new Marked;function marked(ee,te){return markedInstance.parse(ee,te)}marked.options=marked.setOptions=function(ee){return markedInstance.setOptions(ee),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(...ee){return markedInstance.use(...ee),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(ee,te){return markedInstance.walkTokens(ee,te)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;function dedent(ee){for(var te=[],ne=1;ne<arguments.length;ne++)te[ne-1]=arguments[ne];var ae=Array.from(typeof ee=="string"?[ee]:ee);ae[ae.length-1]=ae[ae.length-1].replace(/\r?\n([\t ]*)$/,"");var ie=ae.reduce(function(le,ce){var he=ce.match(/\n([\t ]+|(?!\s).)/g);return he?le.concat(he.map(function(fe){var pe,ge;return(ge=(pe=fe.match(/[\t ]/g))===null||pe===void 0?void 0:pe.length)!==null&&ge!==void 0?ge:0})):le},[]);if(ie.length){var se=new RegExp(`
[	 ]{`+Math.min.apply(Math,ie)+"}","g");ae=ae.map(function(le){return le.replace(se,`
`)})}ae[0]=ae[0].replace(/^\r?\n/,"");var oe=ae[0];return te.forEach(function(le,ce){var he=oe.match(/(?:^|\n)( *)$/),fe=he?he[1]:"",pe=le;typeof le=="string"&&le.includes(`
`)&&(pe=String(le).split(`
`).map(function(ge,ye){return ye===0?ge:""+fe+ge}).join(`
`)),oe+=pe+ae[ce+1]}),oe}function preprocessMarkdown(ee,{markdownAutoWrap:te}){const ae=ee.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),ie=dedent(ae);return te===!1?ie.replace(/ /g,"&nbsp;"):ie}__name(preprocessMarkdown,"preprocessMarkdown");function markdownToLines(ee,te={}){const ne=preprocessMarkdown(ee,te),ae=marked.lexer(ne),ie=[[]];let se=0;function oe(le,ce="normal"){le.type==="text"?le.text.split(`
`).forEach((fe,pe)=>{pe!==0&&(se++,ie.push([])),fe.split(" ").forEach(ge=>{ge=ge.replace(/&#39;/g,"'"),ge&&ie[se].push({content:ge,type:ce})})}):le.type==="strong"||le.type==="em"?le.tokens.forEach(he=>{oe(he,le.type)}):le.type==="html"&&ie[se].push({content:le.text,type:"normal"})}return __name(oe,"processNode"),ae.forEach(le=>{var ce;le.type==="paragraph"?(ce=le.tokens)==null||ce.forEach(he=>{oe(he)}):le.type==="html"&&ie[se].push({content:le.text,type:"normal"})}),ie}__name(markdownToLines,"markdownToLines");function markdownToHTML(ee,{markdownAutoWrap:te}={}){const ne=marked.lexer(ee);function ae(ie){var se,oe,le;return ie.type==="text"?te===!1?ie.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):ie.text.replace(/\n */g,"<br/>"):ie.type==="strong"?`<strong>${(se=ie.tokens)==null?void 0:se.map(ae).join("")}</strong>`:ie.type==="em"?`<em>${(oe=ie.tokens)==null?void 0:oe.map(ae).join("")}</em>`:ie.type==="paragraph"?`<p>${(le=ie.tokens)==null?void 0:le.map(ae).join("")}</p>`:ie.type==="space"?"":ie.type==="html"?`${ie.text}`:ie.type==="escape"?ie.text:`Unsupported markdown: ${ie.type}`}return __name(ae,"output"),ne.map(ae).join("")}__name(markdownToHTML,"markdownToHTML");function splitTextToChars(ee){return Intl.Segmenter?[...new Intl.Segmenter().segment(ee)].map(te=>te.segment):[...ee]}__name(splitTextToChars,"splitTextToChars");function splitWordToFitWidth(ee,te){const ne=splitTextToChars(te.content);return splitWordToFitWidthRecursion(ee,[],ne,te.type)}__name(splitWordToFitWidth,"splitWordToFitWidth");function splitWordToFitWidthRecursion(ee,te,ne,ae){if(ne.length===0)return[{content:te.join(""),type:ae},{content:"",type:ae}];const[ie,...se]=ne,oe=[...te,ie];return ee([{content:oe.join(""),type:ae}])?splitWordToFitWidthRecursion(ee,oe,se,ae):(te.length===0&&ie&&(te.push(ie),ne.shift()),[{content:te.join(""),type:ae},{content:ne.join(""),type:ae}])}__name(splitWordToFitWidthRecursion,"splitWordToFitWidthRecursion");function splitLineToFitWidth(ee,te){if(ee.some(({content:ne})=>ne.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return splitLineToFitWidthRecursion(ee,te)}__name(splitLineToFitWidth,"splitLineToFitWidth");function splitLineToFitWidthRecursion(ee,te,ne=[],ae=[]){if(ee.length===0)return ae.length>0&&ne.push(ae),ne.length>0?ne:[];let ie="";ee[0].content===" "&&(ie=" ",ee.shift());const se=ee.shift()??{content:" ",type:"normal"},oe=[...ae];if(ie!==""&&oe.push({content:ie,type:"normal"}),oe.push(se),te(oe))return splitLineToFitWidthRecursion(ee,te,ne,oe);if(ae.length>0)ne.push(ae),ee.unshift(se);else if(se.content){const[le,ce]=splitWordToFitWidth(te,se);ne.push([le]),ce.content&&ee.unshift(ce)}return splitLineToFitWidthRecursion(ee,te,ne)}__name(splitLineToFitWidthRecursion,"splitLineToFitWidthRecursion");function applyStyle$1(ee,te){te&&ee.attr("style",te)}__name(applyStyle$1,"applyStyle");async function addHtmlSpan(ee,te,ne,ae,ie=!1){const se=ee.append("foreignObject");se.attr("width",`${10*ne}px`),se.attr("height",`${10*ne}px`);const oe=se.append("xhtml:div");let le=te.label;te.label&&hasKatex(te.label)&&(le=await renderKatex(te.label.replace(common_default.lineBreakRegex,`
`),getConfig2()));const ce=te.isNode?"nodeLabel":"edgeLabel",he=oe.append("span");he.html(le),applyStyle$1(he,te.labelStyle),he.attr("class",`${ce} ${ae}`),applyStyle$1(oe,te.labelStyle),oe.style("display","table-cell"),oe.style("white-space","nowrap"),oe.style("line-height","1.5"),oe.style("max-width",ne+"px"),oe.style("text-align","center"),oe.attr("xmlns","http://www.w3.org/1999/xhtml"),ie&&oe.attr("class","labelBkg");let fe=oe.node().getBoundingClientRect();return fe.width===ne&&(oe.style("display","table"),oe.style("white-space","break-spaces"),oe.style("width",ne+"px"),fe=oe.node().getBoundingClientRect()),se.node()}__name(addHtmlSpan,"addHtmlSpan");function createTspan(ee,te,ne){return ee.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",te*ne-.1+"em").attr("dy",ne+"em")}__name(createTspan,"createTspan");function computeWidthOfText(ee,te,ne){const ae=ee.append("text"),ie=createTspan(ae,1,te);updateTextContentAndStyles(ie,ne);const se=ie.node().getComputedTextLength();return ae.remove(),se}__name(computeWidthOfText,"computeWidthOfText");function computeDimensionOfText(ee,te,ne){var oe;const ae=ee.append("text"),ie=createTspan(ae,1,te);updateTextContentAndStyles(ie,[{content:ne,type:"normal"}]);const se=(oe=ie.node())==null?void 0:oe.getBoundingClientRect();return se&&ae.remove(),se}__name(computeDimensionOfText,"computeDimensionOfText");function createFormattedText(ee,te,ne,ae=!1){const se=te.append("g"),oe=se.insert("rect").attr("class","background").attr("style","stroke: none"),le=se.append("text").attr("y","-10.1");let ce=0;for(const he of ne){const fe=__name(ge=>computeWidthOfText(se,1.1,ge)<=ee,"checkWidth"),pe=fe(he)?[he]:splitLineToFitWidth(he,fe);for(const ge of pe){const ye=createTspan(le,ce,1.1);updateTextContentAndStyles(ye,ge),ce++}}if(ae){const he=le.node().getBBox(),fe=2;return oe.attr("x",he.x-fe).attr("y",he.y-fe).attr("width",he.width+2*fe).attr("height",he.height+2*fe),se.node()}else return le.node()}__name(createFormattedText,"createFormattedText");function updateTextContentAndStyles(ee,te){ee.text(""),te.forEach((ne,ae)=>{const ie=ee.append("tspan").attr("font-style",ne.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",ne.type==="strong"?"bold":"normal");ae===0?ie.text(ne.content):ie.text(" "+ne.content)})}__name(updateTextContentAndStyles,"updateTextContentAndStyles");function replaceIconSubstring(ee){return ee.replace(/fa[bklrs]?:fa-[\w-]+/g,te=>`<i class='${te.replace(":"," ")}'></i>`)}__name(replaceIconSubstring,"replaceIconSubstring");var createText=__name(async(ee,te="",{style:ne="",isTitle:ae=!1,classes:ie="",useHtmlLabels:se=!0,isNode:oe=!0,width:le=200,addSvgBackground:ce=!1}={},he)=>{if(log.debug("XYZ createText",te,ne,ae,ie,se,oe,"addSvgBackground: ",ce),se){const fe=markdownToHTML(te,he),pe=replaceIconSubstring(decodeEntities(fe)),ge=te.replace(/\\\\/g,"\\"),ye={isNode:oe,label:hasKatex(te)?ge:pe,labelStyle:ne.replace("fill:","color:")};return await addHtmlSpan(ee,ye,le,ie,ce)}else{const fe=te.replace(/<br\s*\/?>/g,"<br/>"),pe=markdownToLines(fe.replace("<br>","<br/>"),he),ge=createFormattedText(le,ee,pe,te?ce:!1);if(oe){/stroke:/.exec(ne)&&(ne=ne.replace("stroke:","lineColor:"));const ye=ne.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(ge).attr("style",ye)}else{const ye=ne.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");select(ge).select("rect").attr("style",ye.replace(/background:/g,"fill:"));const xe=ne.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(ge).select("text").attr("style",xe)}return ge}},"createText");function t(ee,te,ne){if(ee&&ee.length){const[ae,ie]=te,se=Math.PI/180*ne,oe=Math.cos(se),le=Math.sin(se);for(const ce of ee){const[he,fe]=ce;ce[0]=(he-ae)*oe-(fe-ie)*le+ae,ce[1]=(he-ae)*le+(fe-ie)*oe+ie}}}function e(ee,te){return ee[0]===te[0]&&ee[1]===te[1]}function s(ee,te,ne,ae=1){const ie=ne,se=Math.max(te,.1),oe=ee[0]&&ee[0][0]&&typeof ee[0][0]=="number"?[ee]:ee,le=[0,0];if(ie)for(const he of oe)t(he,le,ie);const ce=(function(he,fe,pe){const ge=[];for(const Te of he){const Ce=[...Te];e(Ce[0],Ce[Ce.length-1])||Ce.push([Ce[0][0],Ce[0][1]]),Ce.length>2&&ge.push(Ce)}const ye=[];fe=Math.max(fe,.1);const xe=[];for(const Te of ge)for(let Ce=0;Ce<Te.length-1;Ce++){const Pe=Te[Ce],Be=Te[Ce+1];if(Pe[1]!==Be[1]){const Ae=Math.min(Pe[1],Be[1]);xe.push({ymin:Ae,ymax:Math.max(Pe[1],Be[1]),x:Ae===Pe[1]?Pe[0]:Be[0],islope:(Be[0]-Pe[0])/(Be[1]-Pe[1])})}}if(xe.sort(((Te,Ce)=>Te.ymin<Ce.ymin?-1:Te.ymin>Ce.ymin?1:Te.x<Ce.x?-1:Te.x>Ce.x?1:Te.ymax===Ce.ymax?0:(Te.ymax-Ce.ymax)/Math.abs(Te.ymax-Ce.ymax))),!xe.length)return ye;let be=[],Se=xe[0].ymin,ve=0;for(;be.length||xe.length;){if(xe.length){let Te=-1;for(let Ce=0;Ce<xe.length&&!(xe[Ce].ymin>Se);Ce++)Te=Ce;xe.splice(0,Te+1).forEach((Ce=>{be.push({s:Se,edge:Ce})}))}if(be=be.filter((Te=>!(Te.edge.ymax<=Se))),be.sort(((Te,Ce)=>Te.edge.x===Ce.edge.x?0:(Te.edge.x-Ce.edge.x)/Math.abs(Te.edge.x-Ce.edge.x))),(pe!==1||ve%fe==0)&&be.length>1)for(let Te=0;Te<be.length;Te+=2){const Ce=Te+1;if(Ce>=be.length)break;const Pe=be[Te].edge,Be=be[Ce].edge;ye.push([[Math.round(Pe.x),Se],[Math.round(Be.x),Se]])}Se+=pe,be.forEach((Te=>{Te.edge.x=Te.edge.x+pe*Te.edge.islope})),ve++}return ye})(oe,se,ae);if(ie){for(const he of oe)t(he,le,-ie);(function(he,fe,pe){const ge=[];he.forEach((ye=>ge.push(...ye))),t(ge,fe,pe)})(ce,le,-ie)}return ce}function n(ee,te){var ne;const ae=te.hachureAngle+90;let ie=te.hachureGap;ie<0&&(ie=4*te.strokeWidth),ie=Math.round(Math.max(ie,.1));let se=1;return te.roughness>=1&&(((ne=te.randomizer)===null||ne===void 0?void 0:ne.next())||Math.random())>.7&&(se=ie),s(ee,ie,ae,se||1)}class o{constructor(te){this.helper=te}fillPolygons(te,ne){return this._fillPolygons(te,ne)}_fillPolygons(te,ne){const ae=n(te,ne);return{type:"fillSketch",ops:this.renderLines(ae,ne)}}renderLines(te,ne){const ae=[];for(const ie of te)ae.push(...this.helper.doubleLineOps(ie[0][0],ie[0][1],ie[1][0],ie[1][1],ne));return ae}}function a(ee){const te=ee[0],ne=ee[1];return Math.sqrt(Math.pow(te[0]-ne[0],2)+Math.pow(te[1]-ne[1],2))}class h extends o{fillPolygons(te,ne){let ae=ne.hachureGap;ae<0&&(ae=4*ne.strokeWidth),ae=Math.max(ae,.1);const ie=n(te,Object.assign({},ne,{hachureGap:ae})),se=Math.PI/180*ne.hachureAngle,oe=[],le=.5*ae*Math.cos(se),ce=.5*ae*Math.sin(se);for(const[he,fe]of ie)a([he,fe])&&oe.push([[he[0]-le,he[1]+ce],[...fe]],[[he[0]+le,he[1]-ce],[...fe]]);return{type:"fillSketch",ops:this.renderLines(oe,ne)}}}class r extends o{fillPolygons(te,ne){const ae=this._fillPolygons(te,ne),ie=Object.assign({},ne,{hachureAngle:ne.hachureAngle+90}),se=this._fillPolygons(te,ie);return ae.ops=ae.ops.concat(se.ops),ae}}class i{constructor(te){this.helper=te}fillPolygons(te,ne){const ae=n(te,ne=Object.assign({},ne,{hachureAngle:0}));return this.dotsOnLines(ae,ne)}dotsOnLines(te,ne){const ae=[];let ie=ne.hachureGap;ie<0&&(ie=4*ne.strokeWidth),ie=Math.max(ie,.1);let se=ne.fillWeight;se<0&&(se=ne.strokeWidth/2);const oe=ie/4;for(const le of te){const ce=a(le),he=ce/ie,fe=Math.ceil(he)-1,pe=ce-fe*ie,ge=(le[0][0]+le[1][0])/2-ie/4,ye=Math.min(le[0][1],le[1][1]);for(let xe=0;xe<fe;xe++){const be=ye+pe+xe*ie,Se=ge-oe+2*Math.random()*oe,ve=be-oe+2*Math.random()*oe,Te=this.helper.ellipse(Se,ve,se,se,ne);ae.push(...Te.ops)}}return{type:"fillSketch",ops:ae}}}class c{constructor(te){this.helper=te}fillPolygons(te,ne){const ae=n(te,ne);return{type:"fillSketch",ops:this.dashedLine(ae,ne)}}dashedLine(te,ne){const ae=ne.dashOffset<0?ne.hachureGap<0?4*ne.strokeWidth:ne.hachureGap:ne.dashOffset,ie=ne.dashGap<0?ne.hachureGap<0?4*ne.strokeWidth:ne.hachureGap:ne.dashGap,se=[];return te.forEach((oe=>{const le=a(oe),ce=Math.floor(le/(ae+ie)),he=(le+ie-ce*(ae+ie))/2;let fe=oe[0],pe=oe[1];fe[0]>pe[0]&&(fe=oe[1],pe=oe[0]);const ge=Math.atan((pe[1]-fe[1])/(pe[0]-fe[0]));for(let ye=0;ye<ce;ye++){const xe=ye*(ae+ie),be=xe+ae,Se=[fe[0]+xe*Math.cos(ge)+he*Math.cos(ge),fe[1]+xe*Math.sin(ge)+he*Math.sin(ge)],ve=[fe[0]+be*Math.cos(ge)+he*Math.cos(ge),fe[1]+be*Math.sin(ge)+he*Math.sin(ge)];se.push(...this.helper.doubleLineOps(Se[0],Se[1],ve[0],ve[1],ne))}})),se}}class l{constructor(te){this.helper=te}fillPolygons(te,ne){const ae=ne.hachureGap<0?4*ne.strokeWidth:ne.hachureGap,ie=ne.zigzagOffset<0?ae:ne.zigzagOffset,se=n(te,ne=Object.assign({},ne,{hachureGap:ae+ie}));return{type:"fillSketch",ops:this.zigzagLines(se,ie,ne)}}zigzagLines(te,ne,ae){const ie=[];return te.forEach((se=>{const oe=a(se),le=Math.round(oe/(2*ne));let ce=se[0],he=se[1];ce[0]>he[0]&&(ce=se[1],he=se[0]);const fe=Math.atan((he[1]-ce[1])/(he[0]-ce[0]));for(let pe=0;pe<le;pe++){const ge=2*pe*ne,ye=2*(pe+1)*ne,xe=Math.sqrt(2*Math.pow(ne,2)),be=[ce[0]+ge*Math.cos(fe),ce[1]+ge*Math.sin(fe)],Se=[ce[0]+ye*Math.cos(fe),ce[1]+ye*Math.sin(fe)],ve=[be[0]+xe*Math.cos(fe+Math.PI/4),be[1]+xe*Math.sin(fe+Math.PI/4)];ie.push(...this.helper.doubleLineOps(be[0],be[1],ve[0],ve[1],ae),...this.helper.doubleLineOps(ve[0],ve[1],Se[0],Se[1],ae))}})),ie}}const u={};class p{constructor(te){this.seed=te}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const f=0,d=1,g=2,M={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(ee,te){return ee.type===te}function b(ee){const te=[],ne=(function(oe){const le=new Array;for(;oe!=="";)if(oe.match(/^([ \t\r\n,]+)/))oe=oe.substr(RegExp.$1.length);else if(oe.match(/^([aAcChHlLmMqQsStTvVzZ])/))le[le.length]={type:f,text:RegExp.$1},oe=oe.substr(RegExp.$1.length);else{if(!oe.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];le[le.length]={type:d,text:`${parseFloat(RegExp.$1)}`},oe=oe.substr(RegExp.$1.length)}return le[le.length]={type:g,text:""},le})(ee);let ae="BOD",ie=0,se=ne[ie];for(;!k(se,g);){let oe=0;const le=[];if(ae==="BOD"){if(se.text!=="M"&&se.text!=="m")return b("M0,0"+ee);ie++,oe=M[se.text],ae=se.text}else k(se,d)?oe=M[ae]:(ie++,oe=M[se.text],ae=se.text);if(!(ie+oe<ne.length))throw new Error("Path data ended short");for(let ce=ie;ce<ie+oe;ce++){const he=ne[ce];if(!k(he,d))throw new Error("Param not a number: "+ae+","+he.text);le[le.length]=+he.text}if(typeof M[ae]!="number")throw new Error("Bad segment: "+ae);{const ce={key:ae,data:le};te.push(ce),ie+=oe,se=ne[ie],ae==="M"&&(ae="L"),ae==="m"&&(ae="l")}}return te}function y(ee){let te=0,ne=0,ae=0,ie=0;const se=[];for(const{key:oe,data:le}of ee)switch(oe){case"M":se.push({key:"M",data:[...le]}),[te,ne]=le,[ae,ie]=le;break;case"m":te+=le[0],ne+=le[1],se.push({key:"M",data:[te,ne]}),ae=te,ie=ne;break;case"L":se.push({key:"L",data:[...le]}),[te,ne]=le;break;case"l":te+=le[0],ne+=le[1],se.push({key:"L",data:[te,ne]});break;case"C":se.push({key:"C",data:[...le]}),te=le[4],ne=le[5];break;case"c":{const ce=le.map(((he,fe)=>fe%2?he+ne:he+te));se.push({key:"C",data:ce}),te=ce[4],ne=ce[5];break}case"Q":se.push({key:"Q",data:[...le]}),te=le[2],ne=le[3];break;case"q":{const ce=le.map(((he,fe)=>fe%2?he+ne:he+te));se.push({key:"Q",data:ce}),te=ce[2],ne=ce[3];break}case"A":se.push({key:"A",data:[...le]}),te=le[5],ne=le[6];break;case"a":te+=le[5],ne+=le[6],se.push({key:"A",data:[le[0],le[1],le[2],le[3],le[4],te,ne]});break;case"H":se.push({key:"H",data:[...le]}),te=le[0];break;case"h":te+=le[0],se.push({key:"H",data:[te]});break;case"V":se.push({key:"V",data:[...le]}),ne=le[0];break;case"v":ne+=le[0],se.push({key:"V",data:[ne]});break;case"S":se.push({key:"S",data:[...le]}),te=le[2],ne=le[3];break;case"s":{const ce=le.map(((he,fe)=>fe%2?he+ne:he+te));se.push({key:"S",data:ce}),te=ce[2],ne=ce[3];break}case"T":se.push({key:"T",data:[...le]}),te=le[0],ne=le[1];break;case"t":te+=le[0],ne+=le[1],se.push({key:"T",data:[te,ne]});break;case"Z":case"z":se.push({key:"Z",data:[]}),te=ae,ne=ie}return se}function m(ee){const te=[];let ne="",ae=0,ie=0,se=0,oe=0,le=0,ce=0;for(const{key:he,data:fe}of ee){switch(he){case"M":te.push({key:"M",data:[...fe]}),[ae,ie]=fe,[se,oe]=fe;break;case"C":te.push({key:"C",data:[...fe]}),ae=fe[4],ie=fe[5],le=fe[2],ce=fe[3];break;case"L":te.push({key:"L",data:[...fe]}),[ae,ie]=fe;break;case"H":ae=fe[0],te.push({key:"L",data:[ae,ie]});break;case"V":ie=fe[0],te.push({key:"L",data:[ae,ie]});break;case"S":{let pe=0,ge=0;ne==="C"||ne==="S"?(pe=ae+(ae-le),ge=ie+(ie-ce)):(pe=ae,ge=ie),te.push({key:"C",data:[pe,ge,...fe]}),le=fe[0],ce=fe[1],ae=fe[2],ie=fe[3];break}case"T":{const[pe,ge]=fe;let ye=0,xe=0;ne==="Q"||ne==="T"?(ye=ae+(ae-le),xe=ie+(ie-ce)):(ye=ae,xe=ie);const be=ae+2*(ye-ae)/3,Se=ie+2*(xe-ie)/3,ve=pe+2*(ye-pe)/3,Te=ge+2*(xe-ge)/3;te.push({key:"C",data:[be,Se,ve,Te,pe,ge]}),le=ye,ce=xe,ae=pe,ie=ge;break}case"Q":{const[pe,ge,ye,xe]=fe,be=ae+2*(pe-ae)/3,Se=ie+2*(ge-ie)/3,ve=ye+2*(pe-ye)/3,Te=xe+2*(ge-xe)/3;te.push({key:"C",data:[be,Se,ve,Te,ye,xe]}),le=pe,ce=ge,ae=ye,ie=xe;break}case"A":{const pe=Math.abs(fe[0]),ge=Math.abs(fe[1]),ye=fe[2],xe=fe[3],be=fe[4],Se=fe[5],ve=fe[6];pe===0||ge===0?(te.push({key:"C",data:[ae,ie,Se,ve,Se,ve]}),ae=Se,ie=ve):(ae!==Se||ie!==ve)&&(x(ae,ie,Se,ve,pe,ge,ye,xe,be).forEach((function(Te){te.push({key:"C",data:Te})})),ae=Se,ie=ve);break}case"Z":te.push({key:"Z",data:[]}),ae=se,ie=oe}ne=he}return te}function w(ee,te,ne){return[ee*Math.cos(ne)-te*Math.sin(ne),ee*Math.sin(ne)+te*Math.cos(ne)]}function x(ee,te,ne,ae,ie,se,oe,le,ce,he){const fe=(pe=oe,Math.PI*pe/180);var pe;let ge=[],ye=0,xe=0,be=0,Se=0;if(he)[ye,xe,be,Se]=he;else{[ee,te]=w(ee,te,-fe),[ne,ae]=w(ne,ae,-fe);const Ye=(ee-ne)/2,ke=(te-ae)/2;let $e=Ye*Ye/(ie*ie)+ke*ke/(se*se);$e>1&&($e=Math.sqrt($e),ie*=$e,se*=$e);const Oe=ie*ie,He=se*se,qe=Oe*He-Oe*ke*ke-He*Ye*Ye,Xe=Oe*ke*ke+He*Ye*Ye,ze=(le===ce?-1:1)*Math.sqrt(Math.abs(qe/Xe));be=ze*ie*ke/se+(ee+ne)/2,Se=ze*-se*Ye/ie+(te+ae)/2,ye=Math.asin(parseFloat(((te-Se)/se).toFixed(9))),xe=Math.asin(parseFloat(((ae-Se)/se).toFixed(9))),ee<be&&(ye=Math.PI-ye),ne<be&&(xe=Math.PI-xe),ye<0&&(ye=2*Math.PI+ye),xe<0&&(xe=2*Math.PI+xe),ce&&ye>xe&&(ye-=2*Math.PI),!ce&&xe>ye&&(xe-=2*Math.PI)}let ve=xe-ye;if(Math.abs(ve)>120*Math.PI/180){const Ye=xe,ke=ne,$e=ae;xe=ce&&xe>ye?ye+120*Math.PI/180*1:ye+120*Math.PI/180*-1,ge=x(ne=be+ie*Math.cos(xe),ae=Se+se*Math.sin(xe),ke,$e,ie,se,oe,0,ce,[xe,Ye,be,Se])}ve=xe-ye;const Te=Math.cos(ye),Ce=Math.sin(ye),Pe=Math.cos(xe),Be=Math.sin(xe),Ae=Math.tan(ve/4),Me=4/3*ie*Ae,Ge=4/3*se*Ae,Ue=[ee,te],Ve=[ee+Me*Ce,te-Ge*Te],je=[ne+Me*Be,ae-Ge*Pe],De=[ne,ae];if(Ve[0]=2*Ue[0]-Ve[0],Ve[1]=2*Ue[1]-Ve[1],he)return[Ve,je,De].concat(ge);{ge=[Ve,je,De].concat(ge);const Ye=[];for(let ke=0;ke<ge.length;ke+=3){const $e=w(ge[ke][0],ge[ke][1],fe),Oe=w(ge[ke+1][0],ge[ke+1][1],fe),He=w(ge[ke+2][0],ge[ke+2][1],fe);Ye.push([$e[0],$e[1],Oe[0],Oe[1],He[0],He[1]])}return Ye}}const P={randOffset:function(ee,te){return G(ee,te)},randOffsetWithRange:function(ee,te,ne){return E(ee,te,ne)},ellipse:function(ee,te,ne,ae,ie){const se=T(ne,ae,ie);return D(ee,te,ie,se).opset},doubleLineOps:function(ee,te,ne,ae,ie){return $(ee,te,ne,ae,ie,!0)}};function v(ee,te,ne,ae,ie){return{type:"path",ops:$(ee,te,ne,ae,ie)}}function S(ee,te,ne){const ae=(ee||[]).length;if(ae>2){const ie=[];for(let se=0;se<ae-1;se++)ie.push(...$(ee[se][0],ee[se][1],ee[se+1][0],ee[se+1][1],ne));return te&&ie.push(...$(ee[ae-1][0],ee[ae-1][1],ee[0][0],ee[0][1],ne)),{type:"path",ops:ie}}return ae===2?v(ee[0][0],ee[0][1],ee[1][0],ee[1][1],ne):{type:"path",ops:[]}}function O(ee,te,ne,ae,ie){return(function(se,oe){return S(se,!0,oe)})([[ee,te],[ee+ne,te],[ee+ne,te+ae],[ee,te+ae]],ie)}function L(ee,te){if(ee.length){const ne=typeof ee[0][0]=="number"?[ee]:ee,ae=j(ne[0],1*(1+.2*te.roughness),te),ie=te.disableMultiStroke?[]:j(ne[0],1.5*(1+.22*te.roughness),z(te));for(let se=1;se<ne.length;se++){const oe=ne[se];if(oe.length){const le=j(oe,1*(1+.2*te.roughness),te),ce=te.disableMultiStroke?[]:j(oe,1.5*(1+.22*te.roughness),z(te));for(const he of le)he.op!=="move"&&ae.push(he);for(const he of ce)he.op!=="move"&&ie.push(he)}}return{type:"path",ops:ae.concat(ie)}}return{type:"path",ops:[]}}function T(ee,te,ne){const ae=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(ee/2,2)+Math.pow(te/2,2))/2)),ie=Math.ceil(Math.max(ne.curveStepCount,ne.curveStepCount/Math.sqrt(200)*ae)),se=2*Math.PI/ie;let oe=Math.abs(ee/2),le=Math.abs(te/2);const ce=1-ne.curveFitting;return oe+=G(oe*ce,ne),le+=G(le*ce,ne),{increment:se,rx:oe,ry:le}}function D(ee,te,ne,ae){const[ie,se]=F(ae.increment,ee,te,ae.rx,ae.ry,1,ae.increment*E(.1,E(.4,1,ne),ne),ne);let oe=q(ie,null,ne);if(!ne.disableMultiStroke&&ne.roughness!==0){const[le]=F(ae.increment,ee,te,ae.rx,ae.ry,1.5,0,ne),ce=q(le,null,ne);oe=oe.concat(ce)}return{estimatedPoints:se,opset:{type:"path",ops:oe}}}function A(ee,te,ne,ae,ie,se,oe,le,ce){const he=ee,fe=te;let pe=Math.abs(ne/2),ge=Math.abs(ae/2);pe+=G(.01*pe,ce),ge+=G(.01*ge,ce);let ye=ie,xe=se;for(;ye<0;)ye+=2*Math.PI,xe+=2*Math.PI;xe-ye>2*Math.PI&&(ye=0,xe=2*Math.PI);const be=2*Math.PI/ce.curveStepCount,Se=Math.min(be/2,(xe-ye)/2),ve=V(Se,he,fe,pe,ge,ye,xe,1,ce);if(!ce.disableMultiStroke){const Te=V(Se,he,fe,pe,ge,ye,xe,1.5,ce);ve.push(...Te)}return oe&&(le?ve.push(...$(he,fe,he+pe*Math.cos(ye),fe+ge*Math.sin(ye),ce),...$(he,fe,he+pe*Math.cos(xe),fe+ge*Math.sin(xe),ce)):ve.push({op:"lineTo",data:[he,fe]},{op:"lineTo",data:[he+pe*Math.cos(ye),fe+ge*Math.sin(ye)]})),{type:"path",ops:ve}}function _(ee,te){const ne=m(y(b(ee))),ae=[];let ie=[0,0],se=[0,0];for(const{key:oe,data:le}of ne)switch(oe){case"M":se=[le[0],le[1]],ie=[le[0],le[1]];break;case"L":ae.push(...$(se[0],se[1],le[0],le[1],te)),se=[le[0],le[1]];break;case"C":{const[ce,he,fe,pe,ge,ye]=le;ae.push(...Z(ce,he,fe,pe,ge,ye,se,te)),se=[ge,ye];break}case"Z":ae.push(...$(se[0],se[1],ie[0],ie[1],te)),se=[ie[0],ie[1]]}return{type:"path",ops:ae}}function I(ee,te){const ne=[];for(const ae of ee)if(ae.length){const ie=te.maxRandomnessOffset||0,se=ae.length;if(se>2){ne.push({op:"move",data:[ae[0][0]+G(ie,te),ae[0][1]+G(ie,te)]});for(let oe=1;oe<se;oe++)ne.push({op:"lineTo",data:[ae[oe][0]+G(ie,te),ae[oe][1]+G(ie,te)]})}}return{type:"fillPath",ops:ne}}function C(ee,te){return(function(ne,ae){let ie=ne.fillStyle||"hachure";if(!u[ie])switch(ie){case"zigzag":u[ie]||(u[ie]=new h(ae));break;case"cross-hatch":u[ie]||(u[ie]=new r(ae));break;case"dots":u[ie]||(u[ie]=new i(ae));break;case"dashed":u[ie]||(u[ie]=new c(ae));break;case"zigzag-line":u[ie]||(u[ie]=new l(ae));break;default:ie="hachure",u[ie]||(u[ie]=new o(ae))}return u[ie]})(te,P).fillPolygons(ee,te)}function z(ee){const te=Object.assign({},ee);return te.randomizer=void 0,ee.seed&&(te.seed=ee.seed+1),te}function W(ee){return ee.randomizer||(ee.randomizer=new p(ee.seed||0)),ee.randomizer.next()}function E(ee,te,ne,ae=1){return ne.roughness*ae*(W(ne)*(te-ee)+ee)}function G(ee,te,ne=1){return E(-ee,ee,te,ne)}function $(ee,te,ne,ae,ie,se=!1){const oe=se?ie.disableMultiStrokeFill:ie.disableMultiStroke,le=R(ee,te,ne,ae,ie,!0,!1);if(oe)return le;const ce=R(ee,te,ne,ae,ie,!0,!0);return le.concat(ce)}function R(ee,te,ne,ae,ie,se,oe){const le=Math.pow(ee-ne,2)+Math.pow(te-ae,2),ce=Math.sqrt(le);let he=1;he=ce<200?1:ce>500?.4:-.0016668*ce+1.233334;let fe=ie.maxRandomnessOffset||0;fe*fe*100>le&&(fe=ce/10);const pe=fe/2,ge=.2+.2*W(ie);let ye=ie.bowing*ie.maxRandomnessOffset*(ae-te)/200,xe=ie.bowing*ie.maxRandomnessOffset*(ee-ne)/200;ye=G(ye,ie,he),xe=G(xe,ie,he);const be=[],Se=()=>G(pe,ie,he),ve=()=>G(fe,ie,he),Te=ie.preserveVertices;return oe?be.push({op:"move",data:[ee+(Te?0:Se()),te+(Te?0:Se())]}):be.push({op:"move",data:[ee+(Te?0:G(fe,ie,he)),te+(Te?0:G(fe,ie,he))]}),oe?be.push({op:"bcurveTo",data:[ye+ee+(ne-ee)*ge+Se(),xe+te+(ae-te)*ge+Se(),ye+ee+2*(ne-ee)*ge+Se(),xe+te+2*(ae-te)*ge+Se(),ne+(Te?0:Se()),ae+(Te?0:Se())]}):be.push({op:"bcurveTo",data:[ye+ee+(ne-ee)*ge+ve(),xe+te+(ae-te)*ge+ve(),ye+ee+2*(ne-ee)*ge+ve(),xe+te+2*(ae-te)*ge+ve(),ne+(Te?0:ve()),ae+(Te?0:ve())]}),be}function j(ee,te,ne){if(!ee.length)return[];const ae=[];ae.push([ee[0][0]+G(te,ne),ee[0][1]+G(te,ne)]),ae.push([ee[0][0]+G(te,ne),ee[0][1]+G(te,ne)]);for(let ie=1;ie<ee.length;ie++)ae.push([ee[ie][0]+G(te,ne),ee[ie][1]+G(te,ne)]),ie===ee.length-1&&ae.push([ee[ie][0]+G(te,ne),ee[ie][1]+G(te,ne)]);return q(ae,null,ne)}function q(ee,te,ne){const ae=ee.length,ie=[];if(ae>3){const se=[],oe=1-ne.curveTightness;ie.push({op:"move",data:[ee[1][0],ee[1][1]]});for(let le=1;le+2<ae;le++){const ce=ee[le];se[0]=[ce[0],ce[1]],se[1]=[ce[0]+(oe*ee[le+1][0]-oe*ee[le-1][0])/6,ce[1]+(oe*ee[le+1][1]-oe*ee[le-1][1])/6],se[2]=[ee[le+1][0]+(oe*ee[le][0]-oe*ee[le+2][0])/6,ee[le+1][1]+(oe*ee[le][1]-oe*ee[le+2][1])/6],se[3]=[ee[le+1][0],ee[le+1][1]],ie.push({op:"bcurveTo",data:[se[1][0],se[1][1],se[2][0],se[2][1],se[3][0],se[3][1]]})}}else ae===3?(ie.push({op:"move",data:[ee[1][0],ee[1][1]]}),ie.push({op:"bcurveTo",data:[ee[1][0],ee[1][1],ee[2][0],ee[2][1],ee[2][0],ee[2][1]]})):ae===2&&ie.push(...R(ee[0][0],ee[0][1],ee[1][0],ee[1][1],ne,!0,!0));return ie}function F(ee,te,ne,ae,ie,se,oe,le){const ce=[],he=[];if(le.roughness===0){ee/=4,he.push([te+ae*Math.cos(-ee),ne+ie*Math.sin(-ee)]);for(let fe=0;fe<=2*Math.PI;fe+=ee){const pe=[te+ae*Math.cos(fe),ne+ie*Math.sin(fe)];ce.push(pe),he.push(pe)}he.push([te+ae*Math.cos(0),ne+ie*Math.sin(0)]),he.push([te+ae*Math.cos(ee),ne+ie*Math.sin(ee)])}else{const fe=G(.5,le)-Math.PI/2;he.push([G(se,le)+te+.9*ae*Math.cos(fe-ee),G(se,le)+ne+.9*ie*Math.sin(fe-ee)]);const pe=2*Math.PI+fe-.01;for(let ge=fe;ge<pe;ge+=ee){const ye=[G(se,le)+te+ae*Math.cos(ge),G(se,le)+ne+ie*Math.sin(ge)];ce.push(ye),he.push(ye)}he.push([G(se,le)+te+ae*Math.cos(fe+2*Math.PI+.5*oe),G(se,le)+ne+ie*Math.sin(fe+2*Math.PI+.5*oe)]),he.push([G(se,le)+te+.98*ae*Math.cos(fe+oe),G(se,le)+ne+.98*ie*Math.sin(fe+oe)]),he.push([G(se,le)+te+.9*ae*Math.cos(fe+.5*oe),G(se,le)+ne+.9*ie*Math.sin(fe+.5*oe)])}return[he,ce]}function V(ee,te,ne,ae,ie,se,oe,le,ce){const he=se+G(.1,ce),fe=[];fe.push([G(le,ce)+te+.9*ae*Math.cos(he-ee),G(le,ce)+ne+.9*ie*Math.sin(he-ee)]);for(let pe=he;pe<=oe;pe+=ee)fe.push([G(le,ce)+te+ae*Math.cos(pe),G(le,ce)+ne+ie*Math.sin(pe)]);return fe.push([te+ae*Math.cos(oe),ne+ie*Math.sin(oe)]),fe.push([te+ae*Math.cos(oe),ne+ie*Math.sin(oe)]),q(fe,null,ce)}function Z(ee,te,ne,ae,ie,se,oe,le){const ce=[],he=[le.maxRandomnessOffset||1,(le.maxRandomnessOffset||1)+.3];let fe=[0,0];const pe=le.disableMultiStroke?1:2,ge=le.preserveVertices;for(let ye=0;ye<pe;ye++)ye===0?ce.push({op:"move",data:[oe[0],oe[1]]}):ce.push({op:"move",data:[oe[0]+(ge?0:G(he[0],le)),oe[1]+(ge?0:G(he[0],le))]}),fe=ge?[ie,se]:[ie+G(he[ye],le),se+G(he[ye],le)],ce.push({op:"bcurveTo",data:[ee+G(he[ye],le),te+G(he[ye],le),ne+G(he[ye],le),ae+G(he[ye],le),fe[0],fe[1]]});return ce}function Q(ee){return[...ee]}function H(ee,te=0){const ne=ee.length;if(ne<3)throw new Error("A curve must have at least three points.");const ae=[];if(ne===3)ae.push(Q(ee[0]),Q(ee[1]),Q(ee[2]),Q(ee[2]));else{const ie=[];ie.push(ee[0],ee[0]);for(let le=1;le<ee.length;le++)ie.push(ee[le]),le===ee.length-1&&ie.push(ee[le]);const se=[],oe=1-te;ae.push(Q(ie[0]));for(let le=1;le+2<ie.length;le++){const ce=ie[le];se[0]=[ce[0],ce[1]],se[1]=[ce[0]+(oe*ie[le+1][0]-oe*ie[le-1][0])/6,ce[1]+(oe*ie[le+1][1]-oe*ie[le-1][1])/6],se[2]=[ie[le+1][0]+(oe*ie[le][0]-oe*ie[le+2][0])/6,ie[le+1][1]+(oe*ie[le][1]-oe*ie[le+2][1])/6],se[3]=[ie[le+1][0],ie[le+1][1]],ae.push(se[1],se[2],se[3])}}return ae}function N(ee,te){return Math.pow(ee[0]-te[0],2)+Math.pow(ee[1]-te[1],2)}function B(ee,te,ne){const ae=N(te,ne);if(ae===0)return N(ee,te);let ie=((ee[0]-te[0])*(ne[0]-te[0])+(ee[1]-te[1])*(ne[1]-te[1]))/ae;return ie=Math.max(0,Math.min(1,ie)),N(ee,J(te,ne,ie))}function J(ee,te,ne){return[ee[0]+(te[0]-ee[0])*ne,ee[1]+(te[1]-ee[1])*ne]}function K(ee,te,ne,ae){const ie=ae||[];if((function(le,ce){const he=le[ce+0],fe=le[ce+1],pe=le[ce+2],ge=le[ce+3];let ye=3*fe[0]-2*he[0]-ge[0];ye*=ye;let xe=3*fe[1]-2*he[1]-ge[1];xe*=xe;let be=3*pe[0]-2*ge[0]-he[0];be*=be;let Se=3*pe[1]-2*ge[1]-he[1];return Se*=Se,ye<be&&(ye=be),xe<Se&&(xe=Se),ye+xe})(ee,te)<ne){const le=ee[te+0];ie.length?(se=ie[ie.length-1],oe=le,Math.sqrt(N(se,oe))>1&&ie.push(le)):ie.push(le),ie.push(ee[te+3])}else{const ce=ee[te+0],he=ee[te+1],fe=ee[te+2],pe=ee[te+3],ge=J(ce,he,.5),ye=J(he,fe,.5),xe=J(fe,pe,.5),be=J(ge,ye,.5),Se=J(ye,xe,.5),ve=J(be,Se,.5);K([ce,ge,be,ve],0,ne,ie),K([ve,Se,xe,pe],0,ne,ie)}var se,oe;return ie}function U(ee,te){return X(ee,0,ee.length,te)}function X(ee,te,ne,ae,ie){const se=ie||[],oe=ee[te],le=ee[ne-1];let ce=0,he=1;for(let fe=te+1;fe<ne-1;++fe){const pe=B(ee[fe],oe,le);pe>ce&&(ce=pe,he=fe)}return Math.sqrt(ce)>ae?(X(ee,te,he+1,ae,se),X(ee,he,ne,ae,se)):(se.length||se.push(oe),se.push(le)),se}function Y(ee,te=.15,ne){const ae=[],ie=(ee.length-1)/3;for(let se=0;se<ie;se++)K(ee,3*se,te,ae);return ne&&ne>0?X(ae,0,ae.length,ne):ae}const tt="none";class et{constructor(te){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=te||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(te){return te?Object.assign({},this.defaultOptions,te):this.defaultOptions}_d(te,ne,ae){return{shape:te,sets:ne||[],options:ae||this.defaultOptions}}line(te,ne,ae,ie,se){const oe=this._o(se);return this._d("line",[v(te,ne,ae,ie,oe)],oe)}rectangle(te,ne,ae,ie,se){const oe=this._o(se),le=[],ce=O(te,ne,ae,ie,oe);if(oe.fill){const he=[[te,ne],[te+ae,ne],[te+ae,ne+ie],[te,ne+ie]];oe.fillStyle==="solid"?le.push(I([he],oe)):le.push(C([he],oe))}return oe.stroke!==tt&&le.push(ce),this._d("rectangle",le,oe)}ellipse(te,ne,ae,ie,se){const oe=this._o(se),le=[],ce=T(ae,ie,oe),he=D(te,ne,oe,ce);if(oe.fill)if(oe.fillStyle==="solid"){const fe=D(te,ne,oe,ce).opset;fe.type="fillPath",le.push(fe)}else le.push(C([he.estimatedPoints],oe));return oe.stroke!==tt&&le.push(he.opset),this._d("ellipse",le,oe)}circle(te,ne,ae,ie){const se=this.ellipse(te,ne,ae,ae,ie);return se.shape="circle",se}linearPath(te,ne){const ae=this._o(ne);return this._d("linearPath",[S(te,!1,ae)],ae)}arc(te,ne,ae,ie,se,oe,le=!1,ce){const he=this._o(ce),fe=[],pe=A(te,ne,ae,ie,se,oe,le,!0,he);if(le&&he.fill)if(he.fillStyle==="solid"){const ge=Object.assign({},he);ge.disableMultiStroke=!0;const ye=A(te,ne,ae,ie,se,oe,!0,!1,ge);ye.type="fillPath",fe.push(ye)}else fe.push((function(ge,ye,xe,be,Se,ve,Te){const Ce=ge,Pe=ye;let Be=Math.abs(xe/2),Ae=Math.abs(be/2);Be+=G(.01*Be,Te),Ae+=G(.01*Ae,Te);let Me=Se,Ge=ve;for(;Me<0;)Me+=2*Math.PI,Ge+=2*Math.PI;Ge-Me>2*Math.PI&&(Me=0,Ge=2*Math.PI);const Ue=(Ge-Me)/Te.curveStepCount,Ve=[];for(let je=Me;je<=Ge;je+=Ue)Ve.push([Ce+Be*Math.cos(je),Pe+Ae*Math.sin(je)]);return Ve.push([Ce+Be*Math.cos(Ge),Pe+Ae*Math.sin(Ge)]),Ve.push([Ce,Pe]),C([Ve],Te)})(te,ne,ae,ie,se,oe,he));return he.stroke!==tt&&fe.push(pe),this._d("arc",fe,he)}curve(te,ne){const ae=this._o(ne),ie=[],se=L(te,ae);if(ae.fill&&ae.fill!==tt)if(ae.fillStyle==="solid"){const oe=L(te,Object.assign(Object.assign({},ae),{disableMultiStroke:!0,roughness:ae.roughness?ae.roughness+ae.fillShapeRoughnessGain:0}));ie.push({type:"fillPath",ops:this._mergedShape(oe.ops)})}else{const oe=[],le=te;if(le.length){const ce=typeof le[0][0]=="number"?[le]:le;for(const he of ce)he.length<3?oe.push(...he):he.length===3?oe.push(...Y(H([he[0],he[0],he[1],he[2]]),10,(1+ae.roughness)/2)):oe.push(...Y(H(he),10,(1+ae.roughness)/2))}oe.length&&ie.push(C([oe],ae))}return ae.stroke!==tt&&ie.push(se),this._d("curve",ie,ae)}polygon(te,ne){const ae=this._o(ne),ie=[],se=S(te,!0,ae);return ae.fill&&(ae.fillStyle==="solid"?ie.push(I([te],ae)):ie.push(C([te],ae))),ae.stroke!==tt&&ie.push(se),this._d("polygon",ie,ae)}path(te,ne){const ae=this._o(ne),ie=[];if(!te)return this._d("path",ie,ae);te=(te||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const se=ae.fill&&ae.fill!=="transparent"&&ae.fill!==tt,oe=ae.stroke!==tt,le=!!(ae.simplification&&ae.simplification<1),ce=(function(fe,pe,ge){const ye=m(y(b(fe))),xe=[];let be=[],Se=[0,0],ve=[];const Te=()=>{ve.length>=4&&be.push(...Y(ve,pe)),ve=[]},Ce=()=>{Te(),be.length&&(xe.push(be),be=[])};for(const{key:Be,data:Ae}of ye)switch(Be){case"M":Ce(),Se=[Ae[0],Ae[1]],be.push(Se);break;case"L":Te(),be.push([Ae[0],Ae[1]]);break;case"C":if(!ve.length){const Me=be.length?be[be.length-1]:Se;ve.push([Me[0],Me[1]])}ve.push([Ae[0],Ae[1]]),ve.push([Ae[2],Ae[3]]),ve.push([Ae[4],Ae[5]]);break;case"Z":Te(),be.push([Se[0],Se[1]])}if(Ce(),!ge)return xe;const Pe=[];for(const Be of xe){const Ae=U(Be,ge);Ae.length&&Pe.push(Ae)}return Pe})(te,1,le?4-4*(ae.simplification||1):(1+ae.roughness)/2),he=_(te,ae);if(se)if(ae.fillStyle==="solid")if(ce.length===1){const fe=_(te,Object.assign(Object.assign({},ae),{disableMultiStroke:!0,roughness:ae.roughness?ae.roughness+ae.fillShapeRoughnessGain:0}));ie.push({type:"fillPath",ops:this._mergedShape(fe.ops)})}else ie.push(I(ce,ae));else ie.push(C(ce,ae));return oe&&(le?ce.forEach((fe=>{ie.push(S(fe,!1,ae))})):ie.push(he)),this._d("path",ie,ae)}opsToPath(te,ne){let ae="";for(const ie of te.ops){const se=typeof ne=="number"&&ne>=0?ie.data.map((oe=>+oe.toFixed(ne))):ie.data;switch(ie.op){case"move":ae+=`M${se[0]} ${se[1]} `;break;case"bcurveTo":ae+=`C${se[0]} ${se[1]}, ${se[2]} ${se[3]}, ${se[4]} ${se[5]} `;break;case"lineTo":ae+=`L${se[0]} ${se[1]} `}}return ae.trim()}toPaths(te){const ne=te.sets||[],ae=te.options||this.defaultOptions,ie=[];for(const se of ne){let oe=null;switch(se.type){case"path":oe={d:this.opsToPath(se),stroke:ae.stroke,strokeWidth:ae.strokeWidth,fill:tt};break;case"fillPath":oe={d:this.opsToPath(se),stroke:tt,strokeWidth:0,fill:ae.fill||tt};break;case"fillSketch":oe=this.fillSketch(se,ae)}oe&&ie.push(oe)}return ie}fillSketch(te,ne){let ae=ne.fillWeight;return ae<0&&(ae=ne.strokeWidth/2),{d:this.opsToPath(te),stroke:ne.fill||tt,strokeWidth:ae,fill:tt}}_mergedShape(te){return te.filter(((ne,ae)=>ae===0||ne.op!=="move"))}}class st{constructor(te,ne){this.canvas=te,this.ctx=this.canvas.getContext("2d"),this.gen=new et(ne)}draw(te){const ne=te.sets||[],ae=te.options||this.getDefaultOptions(),ie=this.ctx,se=te.options.fixedDecimalPlaceDigits;for(const oe of ne)switch(oe.type){case"path":ie.save(),ie.strokeStyle=ae.stroke==="none"?"transparent":ae.stroke,ie.lineWidth=ae.strokeWidth,ae.strokeLineDash&&ie.setLineDash(ae.strokeLineDash),ae.strokeLineDashOffset&&(ie.lineDashOffset=ae.strokeLineDashOffset),this._drawToContext(ie,oe,se),ie.restore();break;case"fillPath":{ie.save(),ie.fillStyle=ae.fill||"";const le=te.shape==="curve"||te.shape==="polygon"||te.shape==="path"?"evenodd":"nonzero";this._drawToContext(ie,oe,se,le),ie.restore();break}case"fillSketch":this.fillSketch(ie,oe,ae)}}fillSketch(te,ne,ae){let ie=ae.fillWeight;ie<0&&(ie=ae.strokeWidth/2),te.save(),ae.fillLineDash&&te.setLineDash(ae.fillLineDash),ae.fillLineDashOffset&&(te.lineDashOffset=ae.fillLineDashOffset),te.strokeStyle=ae.fill||"",te.lineWidth=ie,this._drawToContext(te,ne,ae.fixedDecimalPlaceDigits),te.restore()}_drawToContext(te,ne,ae,ie="nonzero"){te.beginPath();for(const se of ne.ops){const oe=typeof ae=="number"&&ae>=0?se.data.map((le=>+le.toFixed(ae))):se.data;switch(se.op){case"move":te.moveTo(oe[0],oe[1]);break;case"bcurveTo":te.bezierCurveTo(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5]);break;case"lineTo":te.lineTo(oe[0],oe[1])}}ne.type==="fillPath"?te.fill(ie):te.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(te,ne,ae,ie,se){const oe=this.gen.line(te,ne,ae,ie,se);return this.draw(oe),oe}rectangle(te,ne,ae,ie,se){const oe=this.gen.rectangle(te,ne,ae,ie,se);return this.draw(oe),oe}ellipse(te,ne,ae,ie,se){const oe=this.gen.ellipse(te,ne,ae,ie,se);return this.draw(oe),oe}circle(te,ne,ae,ie){const se=this.gen.circle(te,ne,ae,ie);return this.draw(se),se}linearPath(te,ne){const ae=this.gen.linearPath(te,ne);return this.draw(ae),ae}polygon(te,ne){const ae=this.gen.polygon(te,ne);return this.draw(ae),ae}arc(te,ne,ae,ie,se,oe,le=!1,ce){const he=this.gen.arc(te,ne,ae,ie,se,oe,le,ce);return this.draw(he),he}curve(te,ne){const ae=this.gen.curve(te,ne);return this.draw(ae),ae}path(te,ne){const ae=this.gen.path(te,ne);return this.draw(ae),ae}}const nt="http://www.w3.org/2000/svg";class ot{constructor(te,ne){this.svg=te,this.gen=new et(ne)}draw(te){const ne=te.sets||[],ae=te.options||this.getDefaultOptions(),ie=this.svg.ownerDocument||window.document,se=ie.createElementNS(nt,"g"),oe=te.options.fixedDecimalPlaceDigits;for(const le of ne){let ce=null;switch(le.type){case"path":ce=ie.createElementNS(nt,"path"),ce.setAttribute("d",this.opsToPath(le,oe)),ce.setAttribute("stroke",ae.stroke),ce.setAttribute("stroke-width",ae.strokeWidth+""),ce.setAttribute("fill","none"),ae.strokeLineDash&&ce.setAttribute("stroke-dasharray",ae.strokeLineDash.join(" ").trim()),ae.strokeLineDashOffset&&ce.setAttribute("stroke-dashoffset",`${ae.strokeLineDashOffset}`);break;case"fillPath":ce=ie.createElementNS(nt,"path"),ce.setAttribute("d",this.opsToPath(le,oe)),ce.setAttribute("stroke","none"),ce.setAttribute("stroke-width","0"),ce.setAttribute("fill",ae.fill||""),te.shape!=="curve"&&te.shape!=="polygon"||ce.setAttribute("fill-rule","evenodd");break;case"fillSketch":ce=this.fillSketch(ie,le,ae)}ce&&se.appendChild(ce)}return se}fillSketch(te,ne,ae){let ie=ae.fillWeight;ie<0&&(ie=ae.strokeWidth/2);const se=te.createElementNS(nt,"path");return se.setAttribute("d",this.opsToPath(ne,ae.fixedDecimalPlaceDigits)),se.setAttribute("stroke",ae.fill||""),se.setAttribute("stroke-width",ie+""),se.setAttribute("fill","none"),ae.fillLineDash&&se.setAttribute("stroke-dasharray",ae.fillLineDash.join(" ").trim()),ae.fillLineDashOffset&&se.setAttribute("stroke-dashoffset",`${ae.fillLineDashOffset}`),se}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(te,ne){return this.gen.opsToPath(te,ne)}line(te,ne,ae,ie,se){const oe=this.gen.line(te,ne,ae,ie,se);return this.draw(oe)}rectangle(te,ne,ae,ie,se){const oe=this.gen.rectangle(te,ne,ae,ie,se);return this.draw(oe)}ellipse(te,ne,ae,ie,se){const oe=this.gen.ellipse(te,ne,ae,ie,se);return this.draw(oe)}circle(te,ne,ae,ie){const se=this.gen.circle(te,ne,ae,ie);return this.draw(se)}linearPath(te,ne){const ae=this.gen.linearPath(te,ne);return this.draw(ae)}polygon(te,ne){const ae=this.gen.polygon(te,ne);return this.draw(ae)}arc(te,ne,ae,ie,se,oe,le=!1,ce){const he=this.gen.arc(te,ne,ae,ie,se,oe,le,ce);return this.draw(he)}curve(te,ne){const ae=this.gen.curve(te,ne);return this.draw(ae)}path(te,ne){const ae=this.gen.path(te,ne);return this.draw(ae)}}var at={canvas:(ee,te)=>new st(ee,te),svg:(ee,te)=>new ot(ee,te),generator:ee=>new et(ee),newSeed:()=>et.newSeed()},labelHelper=__name(async(ee,te,ne)=>{var pe,ge;let ae;const ie=te.useHtmlLabels||evaluate((pe=getConfig2())==null?void 0:pe.htmlLabels);ne?ae=ne:ae="node default";const se=ee.insert("g").attr("class",ae).attr("id",te.domId||te.id),oe=se.insert("g").attr("class","label").attr("style",handleUndefinedAttr(te.labelStyle));let le;te.label===void 0?le="":le=typeof te.label=="string"?te.label:te.label[0];const ce=await createText(oe,sanitizeText(decodeEntities(le),getConfig2()),{useHtmlLabels:ie,width:te.width||((ge=getConfig2().flowchart)==null?void 0:ge.wrappingWidth),cssClasses:"markdown-node-label",style:te.labelStyle,addSvgBackground:!!te.icon||!!te.img});let he=ce.getBBox();const fe=((te==null?void 0:te.padding)??0)/2;if(ie){const ye=ce.children[0],xe=select(ce),be=ye.getElementsByTagName("img");if(be){const Se=le.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...be].map(ve=>new Promise(Te=>{function Ce(){if(ve.style.display="flex",ve.style.flexDirection="column",Se){const Pe=getConfig2().fontSize?getConfig2().fontSize:window.getComputedStyle(document.body).fontSize,Be=5,[Ae=defaultConfig_default.fontSize]=parseFontSize(Pe),Me=Ae*Be+"px";ve.style.minWidth=Me,ve.style.maxWidth=Me}else ve.style.width="100%";Te(ve)}__name(Ce,"setupImage"),setTimeout(()=>{ve.complete&&Ce()}),ve.addEventListener("error",Ce),ve.addEventListener("load",Ce)})))}he=ye.getBoundingClientRect(),xe.attr("width",he.width),xe.attr("height",he.height)}return ie?oe.attr("transform","translate("+-he.width/2+", "+-he.height/2+")"):oe.attr("transform","translate(0, "+-he.height/2+")"),te.centerLabel&&oe.attr("transform","translate("+-he.width/2+", "+-he.height/2+")"),oe.insert("rect",":first-child"),{shapeSvg:se,bbox:he,halfPadding:fe,label:oe}},"labelHelper"),insertLabel=__name(async(ee,te,ne)=>{var ce,he,fe,pe,ge,ye;const ae=ne.useHtmlLabels||evaluate((he=(ce=getConfig2())==null?void 0:ce.flowchart)==null?void 0:he.htmlLabels),ie=ee.insert("g").attr("class","label").attr("style",ne.labelStyle||""),se=await createText(ie,sanitizeText(decodeEntities(te),getConfig2()),{useHtmlLabels:ae,width:ne.width||((pe=(fe=getConfig2())==null?void 0:fe.flowchart)==null?void 0:pe.wrappingWidth),style:ne.labelStyle,addSvgBackground:!!ne.icon||!!ne.img});let oe=se.getBBox();const le=ne.padding/2;if(evaluate((ye=(ge=getConfig2())==null?void 0:ge.flowchart)==null?void 0:ye.htmlLabels)){const xe=se.children[0],be=select(se);oe=xe.getBoundingClientRect(),be.attr("width",oe.width),be.attr("height",oe.height)}return ae?ie.attr("transform","translate("+-oe.width/2+", "+-oe.height/2+")"):ie.attr("transform","translate(0, "+-oe.height/2+")"),ne.centerLabel&&ie.attr("transform","translate("+-oe.width/2+", "+-oe.height/2+")"),ie.insert("rect",":first-child"),{shapeSvg:ee,bbox:oe,halfPadding:le,label:ie}},"insertLabel"),updateNodeBounds=__name((ee,te)=>{const ne=te.node().getBBox();ee.width=ne.width,ee.height=ne.height},"updateNodeBounds"),getNodeClasses=__name((ee,te)=>(ee.look==="handDrawn"?"rough-node":"node")+" "+ee.cssClasses+" "+(te||""),"getNodeClasses");function createPathFromPoints(ee){const te=ee.map((ne,ae)=>`${ae===0?"M":"L"}${ne.x},${ne.y}`);return te.push("Z"),te.join(" ")}__name(createPathFromPoints,"createPathFromPoints");function generateFullSineWavePoints(ee,te,ne,ae,ie,se){const oe=[],ce=ne-ee,he=ae-te,fe=ce/se,pe=2*Math.PI/fe,ge=te+he/2;for(let ye=0;ye<=50;ye++){const xe=ye/50,be=ee+xe*ce,Se=ge+ie*Math.sin(pe*(be-ee));oe.push({x:be,y:Se})}return oe}__name(generateFullSineWavePoints,"generateFullSineWavePoints");function generateCirclePoints(ee,te,ne,ae,ie,se){const oe=[],le=ie*Math.PI/180,fe=(se*Math.PI/180-le)/(ae-1);for(let pe=0;pe<ae;pe++){const ge=le+pe*fe,ye=ee+ne*Math.cos(ge),xe=te+ne*Math.sin(ge);oe.push({x:-ye,y:-xe})}return oe}__name(generateCirclePoints,"generateCirclePoints");var intersectRect=__name((ee,te)=>{var ne=ee.x,ae=ee.y,ie=te.x-ne,se=te.y-ae,oe=ee.width/2,le=ee.height/2,ce,he;return Math.abs(se)*oe>Math.abs(ie)*le?(se<0&&(le=-le),ce=se===0?0:le*ie/se,he=le):(ie<0&&(oe=-oe),ce=oe,he=ie===0?0:oe*se/ie),{x:ne+ce,y:ae+he}},"intersectRect"),intersect_rect_default=intersectRect;function applyStyle(ee,te){te&&ee.attr("style",te)}__name(applyStyle,"applyStyle");async function addHtmlLabel(ee){const te=select(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),ne=te.append("xhtml:div");let ae=ee.label;ee.label&&hasKatex(ee.label)&&(ae=await renderKatex(ee.label.replace(common_default.lineBreakRegex,`
`),getConfig2()));const ie=ee.isNode?"nodeLabel":"edgeLabel";return ne.html('<span class="'+ie+'" '+(ee.labelStyle?'style="'+ee.labelStyle+'"':"")+">"+ae+"</span>"),applyStyle(ne,ee.labelStyle),ne.style("display","inline-block"),ne.style("padding-right","1px"),ne.style("white-space","nowrap"),ne.attr("xmlns","http://www.w3.org/1999/xhtml"),te.node()}__name(addHtmlLabel,"addHtmlLabel");var createLabel=__name(async(ee,te,ne,ae)=>{let ie=ee||"";if(typeof ie=="object"&&(ie=ie[0]),evaluate(getConfig2().flowchart.htmlLabels)){ie=ie.replace(/\\n|\n/g,"<br />"),log.info("vertexText"+ie);const se={isNode:ae,label:decodeEntities(ie).replace(/fa[blrs]?:fa-[\w-]+/g,le=>`<i class='${le.replace(":"," ")}'></i>`),labelStyle:te&&te.replace("fill:","color:")};return await addHtmlLabel(se)}else{const se=document.createElementNS("http://www.w3.org/2000/svg","text");se.setAttribute("style",te.replace("color:","fill:"));let oe=[];typeof ie=="string"?oe=ie.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(ie)?oe=ie:oe=[];for(const le of oe){const ce=document.createElementNS("http://www.w3.org/2000/svg","tspan");ce.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),ce.setAttribute("dy","1em"),ce.setAttribute("x","0"),ne?ce.setAttribute("class","title-row"):ce.setAttribute("class","row"),ce.textContent=le.trim(),se.appendChild(ce)}return se}},"createLabel"),createLabel_default=createLabel,createRoundedRectPathD=__name((ee,te,ne,ae,ie)=>["M",ee+ie,te,"H",ee+ne-ie,"A",ie,ie,0,0,1,ee+ne,te+ie,"V",te+ae-ie,"A",ie,ie,0,0,1,ee+ne-ie,te+ae,"H",ee+ie,"A",ie,ie,0,0,1,ee,te+ae-ie,"V",te+ie,"A",ie,ie,0,0,1,ee+ie,te,"Z"].join(" "),"createRoundedRectPathD"),solidStateFill=__name(ee=>{const{handDrawnSeed:te}=getConfig2();return{fill:ee,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:ee,seed:te}},"solidStateFill"),compileStyles=__name(ee=>{const te=styles2Map([...ee.cssCompiledStyles||[],...ee.cssStyles||[]]);return{stylesMap:te,stylesArray:[...te]}},"compileStyles"),styles2Map=__name(ee=>{const te=new Map;return ee.forEach(ne=>{const[ae,ie]=ne.split(":");te.set(ae.trim(),ie==null?void 0:ie.trim())}),te},"styles2Map"),styles2String=__name(ee=>{const{stylesArray:te}=compileStyles(ee),ne=[],ae=[],ie=[],se=[];return te.forEach(oe=>{const le=oe[0];le==="color"||le==="font-size"||le==="font-family"||le==="font-weight"||le==="font-style"||le==="text-decoration"||le==="text-align"||le==="text-transform"||le==="line-height"||le==="letter-spacing"||le==="word-spacing"||le==="text-shadow"||le==="text-overflow"||le==="white-space"||le==="word-wrap"||le==="word-break"||le==="overflow-wrap"||le==="hyphens"?ne.push(oe.join(":")+" !important"):(ae.push(oe.join(":")+" !important"),le.includes("stroke")&&ie.push(oe.join(":")+" !important"),le==="fill"&&se.push(oe.join(":")+" !important"))}),{labelStyles:ne.join(";"),nodeStyles:ae.join(";"),stylesArray:te,borderStyles:ie,backgroundStyles:se}},"styles2String"),userNodeOverrides=__name((ee,te)=>{var ce;const{themeVariables:ne,handDrawnSeed:ae}=getConfig2(),{nodeBorder:ie,mainBkg:se}=ne,{stylesMap:oe}=compileStyles(ee);return Object.assign({roughness:.7,fill:oe.get("fill")||se,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:oe.get("stroke")||ie,seed:ae,strokeWidth:((ce=oe.get("stroke-width"))==null?void 0:ce.replace("px",""))||1.3,fillLineDash:[0,0]},te)},"userNodeOverrides"),rect=__name(async(ee,te)=>{log.info("Creating subgraph rect for ",te.id,te);const ne=getConfig2(),{themeVariables:ae,handDrawnSeed:ie}=ne,{clusterBkg:se,clusterBorder:oe}=ae,{labelStyles:le,nodeStyles:ce,borderStyles:he,backgroundStyles:fe}=styles2String(te),pe=ee.insert("g").attr("class","cluster "+te.cssClasses).attr("id",te.id).attr("data-look",te.look),ge=evaluate(ne.flowchart.htmlLabels),ye=pe.insert("g").attr("class","cluster-label "),xe=await createText(ye,te.label,{style:te.labelStyle,useHtmlLabels:ge,isNode:!0});let be=xe.getBBox();if(evaluate(ne.flowchart.htmlLabels)){const Me=xe.children[0],Ge=select(xe);be=Me.getBoundingClientRect(),Ge.attr("width",be.width),Ge.attr("height",be.height)}const Se=te.width<=be.width+te.padding?be.width+te.padding:te.width;te.width<=be.width+te.padding?te.diff=(Se-te.width)/2-te.padding:te.diff=-te.padding;const ve=te.height,Te=te.x-Se/2,Ce=te.y-ve/2;log.trace("Data ",te,JSON.stringify(te));let Pe;if(te.look==="handDrawn"){const Me=at.svg(pe),Ge=userNodeOverrides(te,{roughness:.7,fill:se,stroke:oe,fillWeight:3,seed:ie}),Ue=Me.path(createRoundedRectPathD(Te,Ce,Se,ve,0),Ge);Pe=pe.insert(()=>(log.debug("Rough node insert CXC",Ue),Ue),":first-child"),Pe.select("path:nth-child(2)").attr("style",he.join(";")),Pe.select("path").attr("style",fe.join(";").replace("fill","stroke"))}else Pe=pe.insert("rect",":first-child"),Pe.attr("style",ce).attr("rx",te.rx).attr("ry",te.ry).attr("x",Te).attr("y",Ce).attr("width",Se).attr("height",ve);const{subGraphTitleTopMargin:Be}=getSubGraphTitleMargins(ne);if(ye.attr("transform",`translate(${te.x-be.width/2}, ${te.y-te.height/2+Be})`),le){const Me=ye.select("span");Me&&Me.attr("style",le)}const Ae=Pe.node().getBBox();return te.offsetX=0,te.width=Ae.width,te.height=Ae.height,te.offsetY=be.height-te.padding/2,te.intersect=function(Me){return intersect_rect_default(te,Me)},{cluster:pe,labelBBox:be}},"rect"),noteGroup=__name((ee,te)=>{const ne=ee.insert("g").attr("class","note-cluster").attr("id",te.id),ae=ne.insert("rect",":first-child"),ie=0*te.padding,se=ie/2;ae.attr("rx",te.rx).attr("ry",te.ry).attr("x",te.x-te.width/2-se).attr("y",te.y-te.height/2-se).attr("width",te.width+ie).attr("height",te.height+ie).attr("fill","none");const oe=ae.node().getBBox();return te.width=oe.width,te.height=oe.height,te.intersect=function(le){return intersect_rect_default(te,le)},{cluster:ne,labelBBox:{width:0,height:0}}},"noteGroup"),roundedWithTitle=__name(async(ee,te)=>{const ne=getConfig2(),{themeVariables:ae,handDrawnSeed:ie}=ne,{altBackground:se,compositeBackground:oe,compositeTitleBackground:le,nodeBorder:ce}=ae,he=ee.insert("g").attr("class",te.cssClasses).attr("id",te.id).attr("data-id",te.id).attr("data-look",te.look),fe=he.insert("g",":first-child"),pe=he.insert("g").attr("class","cluster-label");let ge=he.append("rect");const ye=pe.node().appendChild(await createLabel_default(te.label,te.labelStyle,void 0,!0));let xe=ye.getBBox();if(evaluate(ne.flowchart.htmlLabels)){const Ue=ye.children[0],Ve=select(ye);xe=Ue.getBoundingClientRect(),Ve.attr("width",xe.width),Ve.attr("height",xe.height)}const be=0*te.padding,Se=be/2,ve=(te.width<=xe.width+te.padding?xe.width+te.padding:te.width)+be;te.width<=xe.width+te.padding?te.diff=(ve-te.width)/2-te.padding:te.diff=-te.padding;const Te=te.height+be,Ce=te.height+be-xe.height-6,Pe=te.x-ve/2,Be=te.y-Te/2;te.width=ve;const Ae=te.y-te.height/2-Se+xe.height+2;let Me;if(te.look==="handDrawn"){const Ue=te.cssClasses.includes("statediagram-cluster-alt"),Ve=at.svg(he),je=te.rx||te.ry?Ve.path(createRoundedRectPathD(Pe,Be,ve,Te,10),{roughness:.7,fill:le,fillStyle:"solid",stroke:ce,seed:ie}):Ve.rectangle(Pe,Be,ve,Te,{seed:ie});Me=he.insert(()=>je,":first-child");const De=Ve.rectangle(Pe,Ae,ve,Ce,{fill:Ue?se:oe,fillStyle:Ue?"hachure":"solid",stroke:ce,seed:ie});Me=he.insert(()=>je,":first-child"),ge=he.insert(()=>De)}else Me=fe.insert("rect",":first-child"),Me.attr("class","outer").attr("x",Pe).attr("y",Be).attr("width",ve).attr("height",Te).attr("data-look",te.look),ge.attr("class","inner").attr("x",Pe).attr("y",Ae).attr("width",ve).attr("height",Ce);pe.attr("transform",`translate(${te.x-xe.width/2}, ${Be+1-(evaluate(ne.flowchart.htmlLabels)?0:3)})`);const Ge=Me.node().getBBox();return te.height=Ge.height,te.offsetX=0,te.offsetY=xe.height-te.padding/2,te.labelBBox=xe,te.intersect=function(Ue){return intersect_rect_default(te,Ue)},{cluster:he,labelBBox:xe}},"roundedWithTitle"),kanbanSection=__name(async(ee,te)=>{log.info("Creating subgraph rect for ",te.id,te);const ne=getConfig2(),{themeVariables:ae,handDrawnSeed:ie}=ne,{clusterBkg:se,clusterBorder:oe}=ae,{labelStyles:le,nodeStyles:ce,borderStyles:he,backgroundStyles:fe}=styles2String(te),pe=ee.insert("g").attr("class","cluster "+te.cssClasses).attr("id",te.id).attr("data-look",te.look),ge=evaluate(ne.flowchart.htmlLabels),ye=pe.insert("g").attr("class","cluster-label "),xe=await createText(ye,te.label,{style:te.labelStyle,useHtmlLabels:ge,isNode:!0,width:te.width});let be=xe.getBBox();if(evaluate(ne.flowchart.htmlLabels)){const Me=xe.children[0],Ge=select(xe);be=Me.getBoundingClientRect(),Ge.attr("width",be.width),Ge.attr("height",be.height)}const Se=te.width<=be.width+te.padding?be.width+te.padding:te.width;te.width<=be.width+te.padding?te.diff=(Se-te.width)/2-te.padding:te.diff=-te.padding;const ve=te.height,Te=te.x-Se/2,Ce=te.y-ve/2;log.trace("Data ",te,JSON.stringify(te));let Pe;if(te.look==="handDrawn"){const Me=at.svg(pe),Ge=userNodeOverrides(te,{roughness:.7,fill:se,stroke:oe,fillWeight:4,seed:ie}),Ue=Me.path(createRoundedRectPathD(Te,Ce,Se,ve,te.rx),Ge);Pe=pe.insert(()=>(log.debug("Rough node insert CXC",Ue),Ue),":first-child"),Pe.select("path:nth-child(2)").attr("style",he.join(";")),Pe.select("path").attr("style",fe.join(";").replace("fill","stroke"))}else Pe=pe.insert("rect",":first-child"),Pe.attr("style",ce).attr("rx",te.rx).attr("ry",te.ry).attr("x",Te).attr("y",Ce).attr("width",Se).attr("height",ve);const{subGraphTitleTopMargin:Be}=getSubGraphTitleMargins(ne);if(ye.attr("transform",`translate(${te.x-be.width/2}, ${te.y-te.height/2+Be})`),le){const Me=ye.select("span");Me&&Me.attr("style",le)}const Ae=Pe.node().getBBox();return te.offsetX=0,te.width=Ae.width,te.height=Ae.height,te.offsetY=be.height-te.padding/2,te.intersect=function(Me){return intersect_rect_default(te,Me)},{cluster:pe,labelBBox:be}},"kanbanSection"),divider=__name((ee,te)=>{const ne=getConfig2(),{themeVariables:ae,handDrawnSeed:ie}=ne,{nodeBorder:se}=ae,oe=ee.insert("g").attr("class",te.cssClasses).attr("id",te.id).attr("data-look",te.look),le=oe.insert("g",":first-child"),ce=0*te.padding,he=te.width+ce;te.diff=-te.padding;const fe=te.height+ce,pe=te.x-he/2,ge=te.y-fe/2;te.width=he;let ye;if(te.look==="handDrawn"){const Se=at.svg(oe).rectangle(pe,ge,he,fe,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:se,seed:ie});ye=oe.insert(()=>Se,":first-child")}else ye=le.insert("rect",":first-child"),ye.attr("class","divider").attr("x",pe).attr("y",ge).attr("width",he).attr("height",fe).attr("data-look",te.look);const xe=ye.node().getBBox();return te.height=xe.height,te.offsetX=0,te.offsetY=0,te.intersect=function(be){return intersect_rect_default(te,be)},{cluster:oe,labelBBox:{}}},"divider"),squareRect=rect,shapes={rect,squareRect,roundedWithTitle,noteGroup,divider,kanbanSection},clusterElems=new Map,insertCluster=__name(async(ee,te)=>{const ne=te.shape||"rect",ae=await shapes[ne](ee,te);return clusterElems.set(te.id,ae),ae},"insertCluster"),clear$1=__name(()=>{clusterElems=new Map},"clear");function intersectNode(ee,te){return ee.intersect(te)}__name(intersectNode,"intersectNode");var intersect_node_default=intersectNode;function intersectEllipse(ee,te,ne,ae){var ie=ee.x,se=ee.y,oe=ie-ae.x,le=se-ae.y,ce=Math.sqrt(te*te*le*le+ne*ne*oe*oe),he=Math.abs(te*ne*oe/ce);ae.x<ie&&(he=-he);var fe=Math.abs(te*ne*le/ce);return ae.y<se&&(fe=-fe),{x:ie+he,y:se+fe}}__name(intersectEllipse,"intersectEllipse");var intersect_ellipse_default=intersectEllipse;function intersectCircle(ee,te,ne){return intersect_ellipse_default(ee,te,te,ne)}__name(intersectCircle,"intersectCircle");var intersect_circle_default=intersectCircle;function intersectLine(ee,te,ne,ae){var ie,se,oe,le,ce,he,fe,pe,ge,ye,xe,be,Se,ve,Te;if(ie=te.y-ee.y,oe=ee.x-te.x,ce=te.x*ee.y-ee.x*te.y,ge=ie*ne.x+oe*ne.y+ce,ye=ie*ae.x+oe*ae.y+ce,!(ge!==0&&ye!==0&&sameSign(ge,ye))&&(se=ae.y-ne.y,le=ne.x-ae.x,he=ae.x*ne.y-ne.x*ae.y,fe=se*ee.x+le*ee.y+he,pe=se*te.x+le*te.y+he,!(fe!==0&&pe!==0&&sameSign(fe,pe))&&(xe=ie*le-se*oe,xe!==0)))return be=Math.abs(xe/2),Se=oe*he-le*ce,ve=Se<0?(Se-be)/xe:(Se+be)/xe,Se=se*ce-ie*he,Te=Se<0?(Se-be)/xe:(Se+be)/xe,{x:ve,y:Te}}__name(intersectLine,"intersectLine");function sameSign(ee,te){return ee*te>0}__name(sameSign,"sameSign");var intersect_line_default=intersectLine;function intersectPolygon(ee,te,ne){let ae=ee.x,ie=ee.y,se=[],oe=Number.POSITIVE_INFINITY,le=Number.POSITIVE_INFINITY;typeof te.forEach=="function"?te.forEach(function(fe){oe=Math.min(oe,fe.x),le=Math.min(le,fe.y)}):(oe=Math.min(oe,te.x),le=Math.min(le,te.y));let ce=ae-ee.width/2-oe,he=ie-ee.height/2-le;for(let fe=0;fe<te.length;fe++){let pe=te[fe],ge=te[fe<te.length-1?fe+1:0],ye=intersect_line_default(ee,ne,{x:ce+pe.x,y:he+pe.y},{x:ce+ge.x,y:he+ge.y});ye&&se.push(ye)}return se.length?(se.length>1&&se.sort(function(fe,pe){let ge=fe.x-ne.x,ye=fe.y-ne.y,xe=Math.sqrt(ge*ge+ye*ye),be=pe.x-ne.x,Se=pe.y-ne.y,ve=Math.sqrt(be*be+Se*Se);return xe<ve?-1:xe===ve?0:1}),se[0]):ee}__name(intersectPolygon,"intersectPolygon");var intersect_polygon_default=intersectPolygon,intersect_default={node:intersect_node_default,circle:intersect_circle_default,ellipse:intersect_ellipse_default,polygon:intersect_polygon_default,rect:intersect_rect_default};function anchor(ee,te){const{labelStyles:ne}=styles2String(te);te.labelStyle=ne;const ae=getNodeClasses(te);let ie=ae;ae||(ie="anchor");const se=ee.insert("g").attr("class",ie).attr("id",te.domId||te.id),oe=1,{cssStyles:le}=te,ce=at.svg(se),he=userNodeOverrides(te,{fill:"black",stroke:"none",fillStyle:"solid"});te.look!=="handDrawn"&&(he.roughness=0);const fe=ce.circle(0,0,oe*2,he),pe=se.insert(()=>fe,":first-child");return pe.attr("class","anchor").attr("style",handleUndefinedAttr(le)),updateNodeBounds(te,pe),te.intersect=function(ge){return log.info("Circle intersect",te,oe,ge),intersect_default.circle(te,oe,ge)},se}__name(anchor,"anchor");function generateArcPoints(ee,te,ne,ae,ie,se,oe){const ce=(ee+ne)/2,he=(te+ae)/2,fe=Math.atan2(ae-te,ne-ee),pe=(ne-ee)/2,ge=(ae-te)/2,ye=pe/ie,xe=ge/se,be=Math.sqrt(ye**2+xe**2);if(be>1)throw new Error("The given radii are too small to create an arc between the points.");const Se=Math.sqrt(1-be**2),ve=ce+Se*se*Math.sin(fe)*(oe?-1:1),Te=he-Se*ie*Math.cos(fe)*(oe?-1:1),Ce=Math.atan2((te-Te)/se,(ee-ve)/ie);let Be=Math.atan2((ae-Te)/se,(ne-ve)/ie)-Ce;oe&&Be<0&&(Be+=2*Math.PI),!oe&&Be>0&&(Be-=2*Math.PI);const Ae=[];for(let Me=0;Me<20;Me++){const Ge=Me/19,Ue=Ce+Ge*Be,Ve=ve+ie*Math.cos(Ue),je=Te+se*Math.sin(Ue);Ae.push({x:Ve,y:je})}return Ae}__name(generateArcPoints,"generateArcPoints");async function bowTieRect(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=se.width+te.padding+20,le=se.height+te.padding,ce=le/2,he=ce/(2.5+le/50),{cssStyles:fe}=te,pe=[{x:oe/2,y:-le/2},{x:-oe/2,y:-le/2},...generateArcPoints(-oe/2,-le/2,-oe/2,le/2,he,ce,!1),{x:oe/2,y:le/2},...generateArcPoints(oe/2,le/2,oe/2,-le/2,he,ce,!0)],ge=at.svg(ie),ye=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ye.roughness=0,ye.fillStyle="solid");const xe=createPathFromPoints(pe),be=ge.path(xe,ye),Se=ie.insert(()=>be,":first-child");return Se.attr("class","basic label-container"),fe&&te.look!=="handDrawn"&&Se.selectAll("path").attr("style",fe),ae&&te.look!=="handDrawn"&&Se.selectAll("path").attr("style",ae),Se.attr("transform",`translate(${he/2}, 0)`),updateNodeBounds(te,Se),te.intersect=function(ve){return intersect_default.polygon(te,pe,ve)},ie}__name(bowTieRect,"bowTieRect");function insertPolygonShape(ee,te,ne,ae){return ee.insert("polygon",":first-child").attr("points",ae.map(function(ie){return ie.x+","+ie.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-te/2+","+ne/2+")")}__name(insertPolygonShape,"insertPolygonShape");async function card(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=se.height+te.padding,le=12,ce=se.width+te.padding+le,he=0,fe=ce,pe=-oe,ge=0,ye=[{x:he+le,y:pe},{x:fe,y:pe},{x:fe,y:ge},{x:he,y:ge},{x:he,y:pe+le},{x:he+le,y:pe}];let xe;const{cssStyles:be}=te;if(te.look==="handDrawn"){const Se=at.svg(ie),ve=userNodeOverrides(te,{}),Te=createPathFromPoints(ye),Ce=Se.path(Te,ve);xe=ie.insert(()=>Ce,":first-child").attr("transform",`translate(${-ce/2}, ${oe/2})`),be&&xe.attr("style",be)}else xe=insertPolygonShape(ie,ce,oe,ye);return ae&&xe.attr("style",ae),updateNodeBounds(te,xe),te.intersect=function(Se){return intersect_default.polygon(te,ye,Se)},ie}__name(card,"card");function choice(ee,te){const{nodeStyles:ne}=styles2String(te);te.label="";const ae=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId??te.id),{cssStyles:ie}=te,se=Math.max(28,te.width??0),oe=[{x:0,y:se/2},{x:se/2,y:0},{x:0,y:-se/2},{x:-se/2,y:0}],le=at.svg(ae),ce=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ce.roughness=0,ce.fillStyle="solid");const he=createPathFromPoints(oe),fe=le.path(he,ce),pe=ae.insert(()=>fe,":first-child");return ie&&te.look!=="handDrawn"&&pe.selectAll("path").attr("style",ie),ne&&te.look!=="handDrawn"&&pe.selectAll("path").attr("style",ne),te.width=28,te.height=28,te.intersect=function(ge){return intersect_default.polygon(te,oe,ge)},ae}__name(choice,"choice");async function circle$1(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,halfPadding:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=se.width/2+oe;let ce;const{cssStyles:he}=te;if(te.look==="handDrawn"){const fe=at.svg(ie),pe=userNodeOverrides(te,{}),ge=fe.circle(0,0,le*2,pe);ce=ie.insert(()=>ge,":first-child"),ce.attr("class","basic label-container").attr("style",handleUndefinedAttr(he))}else ce=ie.insert("circle",":first-child").attr("class","basic label-container").attr("style",ae).attr("r",le).attr("cx",0).attr("cy",0);return updateNodeBounds(te,ce),te.intersect=function(fe){return log.info("Circle intersect",te,le,fe),intersect_default.circle(te,le,fe)},ie}__name(circle$1,"circle");function createLine(ee){const te=Math.cos(Math.PI/4),ne=Math.sin(Math.PI/4),ae=ee*2,ie={x:ae/2*te,y:ae/2*ne},se={x:-(ae/2)*te,y:ae/2*ne},oe={x:-(ae/2)*te,y:-(ae/2)*ne},le={x:ae/2*te,y:-(ae/2)*ne};return`M ${se.x},${se.y} L ${le.x},${le.y}
                   M ${ie.x},${ie.y} L ${oe.x},${oe.y}`}__name(createLine,"createLine");function crossedCircle(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne,te.label="";const ie=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId??te.id),se=Math.max(30,(te==null?void 0:te.width)??0),{cssStyles:oe}=te,le=at.svg(ie),ce=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ce.roughness=0,ce.fillStyle="solid");const he=le.circle(0,0,se*2,ce),fe=createLine(se),pe=le.path(fe,ce),ge=ie.insert(()=>he,":first-child");return ge.insert(()=>pe),oe&&te.look!=="handDrawn"&&ge.selectAll("path").attr("style",oe),ae&&te.look!=="handDrawn"&&ge.selectAll("path").attr("style",ae),updateNodeBounds(te,ge),te.intersect=function(ye){return log.info("crossedCircle intersect",te,{radius:se,point:ye}),intersect_default.circle(te,se,ye)},ie}__name(crossedCircle,"crossedCircle");function generateCirclePoints2(ee,te,ne,ae=100,ie=0,se=180){const oe=[],le=ie*Math.PI/180,fe=(se*Math.PI/180-le)/(ae-1);for(let pe=0;pe<ae;pe++){const ge=le+pe*fe,ye=ee+ne*Math.cos(ge),xe=te+ne*Math.sin(ge);oe.push({x:-ye,y:-xe})}return oe}__name(generateCirclePoints2,"generateCirclePoints");async function curlyBraceLeft(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=se.width+(te.padding??0),ce=se.height+(te.padding??0),he=Math.max(5,ce*.1),{cssStyles:fe}=te,pe=[...generateCirclePoints2(le/2,-ce/2,he,30,-90,0),{x:-le/2-he,y:he},...generateCirclePoints2(le/2+he*2,-he,he,20,-180,-270),...generateCirclePoints2(le/2+he*2,he,he,20,-90,-180),{x:-le/2-he,y:-ce/2},...generateCirclePoints2(le/2,ce/2,he,20,0,90)],ge=[{x:le/2,y:-ce/2-he},{x:-le/2,y:-ce/2-he},...generateCirclePoints2(le/2,-ce/2,he,20,-90,0),{x:-le/2-he,y:-he},...generateCirclePoints2(le/2+le*.1,-he,he,20,-180,-270),...generateCirclePoints2(le/2+le*.1,he,he,20,-90,-180),{x:-le/2-he,y:ce/2},...generateCirclePoints2(le/2,ce/2,he,20,0,90),{x:-le/2,y:ce/2+he},{x:le/2,y:ce/2+he}],ye=at.svg(ie),xe=userNodeOverrides(te,{fill:"none"});te.look!=="handDrawn"&&(xe.roughness=0,xe.fillStyle="solid");const Se=createPathFromPoints(pe).replace("Z",""),ve=ye.path(Se,xe),Te=createPathFromPoints(ge),Ce=ye.path(Te,{...xe}),Pe=ie.insert("g",":first-child");return Pe.insert(()=>Ce,":first-child").attr("stroke-opacity",0),Pe.insert(()=>ve,":first-child"),Pe.attr("class","text"),fe&&te.look!=="handDrawn"&&Pe.selectAll("path").attr("style",fe),ae&&te.look!=="handDrawn"&&Pe.selectAll("path").attr("style",ae),Pe.attr("transform",`translate(${he}, 0)`),oe.attr("transform",`translate(${-le/2+he-(se.x-(se.left??0))},${-ce/2+(te.padding??0)/2-(se.y-(se.top??0))})`),updateNodeBounds(te,Pe),te.intersect=function(Be){return intersect_default.polygon(te,ge,Be)},ie}__name(curlyBraceLeft,"curlyBraceLeft");function generateCirclePoints3(ee,te,ne,ae=100,ie=0,se=180){const oe=[],le=ie*Math.PI/180,fe=(se*Math.PI/180-le)/(ae-1);for(let pe=0;pe<ae;pe++){const ge=le+pe*fe,ye=ee+ne*Math.cos(ge),xe=te+ne*Math.sin(ge);oe.push({x:ye,y:xe})}return oe}__name(generateCirclePoints3,"generateCirclePoints");async function curlyBraceRight(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=se.width+(te.padding??0),ce=se.height+(te.padding??0),he=Math.max(5,ce*.1),{cssStyles:fe}=te,pe=[...generateCirclePoints3(le/2,-ce/2,he,20,-90,0),{x:le/2+he,y:-he},...generateCirclePoints3(le/2+he*2,-he,he,20,-180,-270),...generateCirclePoints3(le/2+he*2,he,he,20,-90,-180),{x:le/2+he,y:ce/2},...generateCirclePoints3(le/2,ce/2,he,20,0,90)],ge=[{x:-le/2,y:-ce/2-he},{x:le/2,y:-ce/2-he},...generateCirclePoints3(le/2,-ce/2,he,20,-90,0),{x:le/2+he,y:-he},...generateCirclePoints3(le/2+he*2,-he,he,20,-180,-270),...generateCirclePoints3(le/2+he*2,he,he,20,-90,-180),{x:le/2+he,y:ce/2},...generateCirclePoints3(le/2,ce/2,he,20,0,90),{x:le/2,y:ce/2+he},{x:-le/2,y:ce/2+he}],ye=at.svg(ie),xe=userNodeOverrides(te,{fill:"none"});te.look!=="handDrawn"&&(xe.roughness=0,xe.fillStyle="solid");const Se=createPathFromPoints(pe).replace("Z",""),ve=ye.path(Se,xe),Te=createPathFromPoints(ge),Ce=ye.path(Te,{...xe}),Pe=ie.insert("g",":first-child");return Pe.insert(()=>Ce,":first-child").attr("stroke-opacity",0),Pe.insert(()=>ve,":first-child"),Pe.attr("class","text"),fe&&te.look!=="handDrawn"&&Pe.selectAll("path").attr("style",fe),ae&&te.look!=="handDrawn"&&Pe.selectAll("path").attr("style",ae),Pe.attr("transform",`translate(${-he}, 0)`),oe.attr("transform",`translate(${-le/2+(te.padding??0)/2-(se.x-(se.left??0))},${-ce/2+(te.padding??0)/2-(se.y-(se.top??0))})`),updateNodeBounds(te,Pe),te.intersect=function(Be){return intersect_default.polygon(te,ge,Be)},ie}__name(curlyBraceRight,"curlyBraceRight");function generateCirclePoints4(ee,te,ne,ae=100,ie=0,se=180){const oe=[],le=ie*Math.PI/180,fe=(se*Math.PI/180-le)/(ae-1);for(let pe=0;pe<ae;pe++){const ge=le+pe*fe,ye=ee+ne*Math.cos(ge),xe=te+ne*Math.sin(ge);oe.push({x:-ye,y:-xe})}return oe}__name(generateCirclePoints4,"generateCirclePoints");async function curlyBraces(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=se.width+(te.padding??0),ce=se.height+(te.padding??0),he=Math.max(5,ce*.1),{cssStyles:fe}=te,pe=[...generateCirclePoints4(le/2,-ce/2,he,30,-90,0),{x:-le/2-he,y:he},...generateCirclePoints4(le/2+he*2,-he,he,20,-180,-270),...generateCirclePoints4(le/2+he*2,he,he,20,-90,-180),{x:-le/2-he,y:-ce/2},...generateCirclePoints4(le/2,ce/2,he,20,0,90)],ge=[...generateCirclePoints4(-le/2+he+he/2,-ce/2,he,20,-90,-180),{x:le/2-he/2,y:he},...generateCirclePoints4(-le/2-he/2,-he,he,20,0,90),...generateCirclePoints4(-le/2-he/2,he,he,20,-90,0),{x:le/2-he/2,y:-he},...generateCirclePoints4(-le/2+he+he/2,ce/2,he,30,-180,-270)],ye=[{x:le/2,y:-ce/2-he},{x:-le/2,y:-ce/2-he},...generateCirclePoints4(le/2,-ce/2,he,20,-90,0),{x:-le/2-he,y:-he},...generateCirclePoints4(le/2+he*2,-he,he,20,-180,-270),...generateCirclePoints4(le/2+he*2,he,he,20,-90,-180),{x:-le/2-he,y:ce/2},...generateCirclePoints4(le/2,ce/2,he,20,0,90),{x:-le/2,y:ce/2+he},{x:le/2-he-he/2,y:ce/2+he},...generateCirclePoints4(-le/2+he+he/2,-ce/2,he,20,-90,-180),{x:le/2-he/2,y:he},...generateCirclePoints4(-le/2-he/2,-he,he,20,0,90),...generateCirclePoints4(-le/2-he/2,he,he,20,-90,0),{x:le/2-he/2,y:-he},...generateCirclePoints4(-le/2+he+he/2,ce/2,he,30,-180,-270)],xe=at.svg(ie),be=userNodeOverrides(te,{fill:"none"});te.look!=="handDrawn"&&(be.roughness=0,be.fillStyle="solid");const ve=createPathFromPoints(pe).replace("Z",""),Te=xe.path(ve,be),Pe=createPathFromPoints(ge).replace("Z",""),Be=xe.path(Pe,be),Ae=createPathFromPoints(ye),Me=xe.path(Ae,{...be}),Ge=ie.insert("g",":first-child");return Ge.insert(()=>Me,":first-child").attr("stroke-opacity",0),Ge.insert(()=>Te,":first-child"),Ge.insert(()=>Be,":first-child"),Ge.attr("class","text"),fe&&te.look!=="handDrawn"&&Ge.selectAll("path").attr("style",fe),ae&&te.look!=="handDrawn"&&Ge.selectAll("path").attr("style",ae),Ge.attr("transform",`translate(${he-he/4}, 0)`),oe.attr("transform",`translate(${-le/2+(te.padding??0)/2-(se.x-(se.left??0))},${-ce/2+(te.padding??0)/2-(se.y-(se.top??0))})`),updateNodeBounds(te,Ge),te.intersect=function(Ue){return intersect_default.polygon(te,ye,Ue)},ie}__name(curlyBraces,"curlyBraces");async function curvedTrapezoid(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=80,le=20,ce=Math.max(oe,(se.width+(te.padding??0)*2)*1.25,(te==null?void 0:te.width)??0),he=Math.max(le,se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),fe=he/2,{cssStyles:pe}=te,ge=at.svg(ie),ye=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ye.roughness=0,ye.fillStyle="solid");const xe=ce,be=he,Se=xe-fe,ve=be/4,Te=[{x:Se,y:0},{x:ve,y:0},{x:0,y:be/2},{x:ve,y:be},{x:Se,y:be},...generateCirclePoints(-Se,-be/2,fe,50,270,90)],Ce=createPathFromPoints(Te),Pe=ge.path(Ce,ye),Be=ie.insert(()=>Pe,":first-child");return Be.attr("class","basic label-container"),pe&&te.look!=="handDrawn"&&Be.selectChildren("path").attr("style",pe),ae&&te.look!=="handDrawn"&&Be.selectChildren("path").attr("style",ae),Be.attr("transform",`translate(${-ce/2}, ${-he/2})`),updateNodeBounds(te,Be),te.intersect=function(Ae){return intersect_default.polygon(te,Te,Ae)},ie}__name(curvedTrapezoid,"curvedTrapezoid");var createCylinderPathD=__name((ee,te,ne,ae,ie,se)=>[`M${ee},${te+se}`,`a${ie},${se} 0,0,0 ${ne},0`,`a${ie},${se} 0,0,0 ${-ne},0`,`l0,${ae}`,`a${ie},${se} 0,0,0 ${ne},0`,`l0,${-ae}`].join(" "),"createCylinderPathD"),createOuterCylinderPathD=__name((ee,te,ne,ae,ie,se)=>[`M${ee},${te+se}`,`M${ee+ne},${te+se}`,`a${ie},${se} 0,0,0 ${-ne},0`,`l0,${ae}`,`a${ie},${se} 0,0,0 ${ne},0`,`l0,${-ae}`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD=__name((ee,te,ne,ae,ie,se)=>[`M${ee-ne/2},${-ae/2}`,`a${ie},${se} 0,0,0 ${ne},0`].join(" "),"createInnerCylinderPathD");async function cylinder(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=Math.max(se.width+te.padding,te.width??0),ce=le/2,he=ce/(2.5+le/50),fe=Math.max(se.height+he+te.padding,te.height??0);let pe;const{cssStyles:ge}=te;if(te.look==="handDrawn"){const ye=at.svg(ie),xe=createOuterCylinderPathD(0,0,le,fe,ce,he),be=createInnerCylinderPathD(0,he,le,fe,ce,he),Se=ye.path(xe,userNodeOverrides(te,{})),ve=ye.path(be,userNodeOverrides(te,{fill:"none"}));pe=ie.insert(()=>ve,":first-child"),pe=ie.insert(()=>Se,":first-child"),pe.attr("class","basic label-container"),ge&&pe.attr("style",ge)}else{const ye=createCylinderPathD(0,0,le,fe,ce,he);pe=ie.insert("path",":first-child").attr("d",ye).attr("class","basic label-container").attr("style",handleUndefinedAttr(ge)).attr("style",ae)}return pe.attr("label-offset-y",he),pe.attr("transform",`translate(${-le/2}, ${-(fe/2+he)})`),updateNodeBounds(te,pe),oe.attr("transform",`translate(${-(se.width/2)-(se.x-(se.left??0))}, ${-(se.height/2)+(te.padding??0)/1.5-(se.y-(se.top??0))})`),te.intersect=function(ye){const xe=intersect_default.rect(te,ye),be=xe.x-(te.x??0);if(ce!=0&&(Math.abs(be)<(te.width??0)/2||Math.abs(be)==(te.width??0)/2&&Math.abs(xe.y-(te.y??0))>(te.height??0)/2-he)){let Se=he*he*(1-be*be/(ce*ce));Se>0&&(Se=Math.sqrt(Se)),Se=he-Se,ye.y-(te.y??0)>0&&(Se=-Se),xe.y+=Se}return xe},ie}__name(cylinder,"cylinder");async function dividedRectangle(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=se.width+te.padding,ce=se.height+te.padding,he=ce*.2,fe=-le/2,pe=-ce/2-he/2,{cssStyles:ge}=te,ye=at.svg(ie),xe=userNodeOverrides(te,{});te.look!=="handDrawn"&&(xe.roughness=0,xe.fillStyle="solid");const be=[{x:fe,y:pe+he},{x:-fe,y:pe+he},{x:-fe,y:-pe},{x:fe,y:-pe},{x:fe,y:pe},{x:-fe,y:pe},{x:-fe,y:pe+he}],Se=ye.polygon(be.map(Te=>[Te.x,Te.y]),xe),ve=ie.insert(()=>Se,":first-child");return ve.attr("class","basic label-container"),ge&&te.look!=="handDrawn"&&ve.selectAll("path").attr("style",ge),ae&&te.look!=="handDrawn"&&ve.selectAll("path").attr("style",ae),oe.attr("transform",`translate(${fe+(te.padding??0)/2-(se.x-(se.left??0))}, ${pe+he+(te.padding??0)/2-(se.y-(se.top??0))})`),updateNodeBounds(te,ve),te.intersect=function(Te){return intersect_default.rect(te,Te)},ie}__name(dividedRectangle,"dividedRectangle");async function doublecircle(ee,te){var ge,ye;const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,halfPadding:oe}=await labelHelper(ee,te,getNodeClasses(te)),ce=se.width/2+oe+5,he=se.width/2+oe;let fe;const{cssStyles:pe}=te;if(te.look==="handDrawn"){const xe=at.svg(ie),be=userNodeOverrides(te,{roughness:.2,strokeWidth:2.5}),Se=userNodeOverrides(te,{roughness:.2,strokeWidth:1.5}),ve=xe.circle(0,0,ce*2,be),Te=xe.circle(0,0,he*2,Se);fe=ie.insert("g",":first-child"),fe.attr("class",handleUndefinedAttr(te.cssClasses)).attr("style",handleUndefinedAttr(pe)),(ge=fe.node())==null||ge.appendChild(ve),(ye=fe.node())==null||ye.appendChild(Te)}else{fe=ie.insert("g",":first-child");const xe=fe.insert("circle",":first-child"),be=fe.insert("circle");fe.attr("class","basic label-container").attr("style",ae),xe.attr("class","outer-circle").attr("style",ae).attr("r",ce).attr("cx",0).attr("cy",0),be.attr("class","inner-circle").attr("style",ae).attr("r",he).attr("cx",0).attr("cy",0)}return updateNodeBounds(te,fe),te.intersect=function(xe){return log.info("DoubleCircle intersect",te,ce,xe),intersect_default.circle(te,ce,xe)},ie}__name(doublecircle,"doublecircle");function filledCircle(ee,te,{config:{themeVariables:ne}}){const{labelStyles:ae,nodeStyles:ie}=styles2String(te);te.label="",te.labelStyle=ae;const se=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId??te.id),oe=7,{cssStyles:le}=te,ce=at.svg(se),{nodeBorder:he}=ne,fe=userNodeOverrides(te,{fillStyle:"solid"});te.look!=="handDrawn"&&(fe.roughness=0);const pe=ce.circle(0,0,oe*2,fe),ge=se.insert(()=>pe,":first-child");return ge.selectAll("path").attr("style",`fill: ${he} !important;`),le&&le.length>0&&te.look!=="handDrawn"&&ge.selectAll("path").attr("style",le),ie&&te.look!=="handDrawn"&&ge.selectAll("path").attr("style",ie),updateNodeBounds(te,ge),te.intersect=function(ye){return log.info("filledCircle intersect",te,{radius:oe,point:ye}),intersect_default.circle(te,oe,ye)},se}__name(filledCircle,"filledCircle");async function flippedTriangle(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=se.width+(te.padding??0),ce=le+se.height,he=le+se.height,fe=[{x:0,y:-ce},{x:he,y:-ce},{x:he/2,y:0}],{cssStyles:pe}=te,ge=at.svg(ie),ye=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ye.roughness=0,ye.fillStyle="solid");const xe=createPathFromPoints(fe),be=ge.path(xe,ye),Se=ie.insert(()=>be,":first-child").attr("transform",`translate(${-ce/2}, ${ce/2})`);return pe&&te.look!=="handDrawn"&&Se.selectChildren("path").attr("style",pe),ae&&te.look!=="handDrawn"&&Se.selectChildren("path").attr("style",ae),te.width=le,te.height=ce,updateNodeBounds(te,Se),oe.attr("transform",`translate(${-se.width/2-(se.x-(se.left??0))}, ${-ce/2+(te.padding??0)/2+(se.y-(se.top??0))})`),te.intersect=function(ve){return log.info("Triangle intersect",te,fe,ve),intersect_default.polygon(te,fe,ve)},ie}__name(flippedTriangle,"flippedTriangle");function forkJoin(ee,te,{dir:ne,config:{state:ae,themeVariables:ie}}){const{nodeStyles:se}=styles2String(te);te.label="";const oe=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId??te.id),{cssStyles:le}=te;let ce=Math.max(70,(te==null?void 0:te.width)??0),he=Math.max(10,(te==null?void 0:te.height)??0);ne==="LR"&&(ce=Math.max(10,(te==null?void 0:te.width)??0),he=Math.max(70,(te==null?void 0:te.height)??0));const fe=-1*ce/2,pe=-1*he/2,ge=at.svg(oe),ye=userNodeOverrides(te,{stroke:ie.lineColor,fill:ie.lineColor});te.look!=="handDrawn"&&(ye.roughness=0,ye.fillStyle="solid");const xe=ge.rectangle(fe,pe,ce,he,ye),be=oe.insert(()=>xe,":first-child");le&&te.look!=="handDrawn"&&be.selectAll("path").attr("style",le),se&&te.look!=="handDrawn"&&be.selectAll("path").attr("style",se),updateNodeBounds(te,be);const Se=(ae==null?void 0:ae.padding)??0;return te.width&&te.height&&(te.width+=Se/2||0,te.height+=Se/2||0),te.intersect=function(ve){return intersect_default.rect(te,ve)},oe}__name(forkJoin,"forkJoin");async function halfRoundedRectangle(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const ie=80,se=50,{shapeSvg:oe,bbox:le}=await labelHelper(ee,te,getNodeClasses(te)),ce=Math.max(ie,le.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),he=Math.max(se,le.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),fe=he/2,{cssStyles:pe}=te,ge=at.svg(oe),ye=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ye.roughness=0,ye.fillStyle="solid");const xe=[{x:-ce/2,y:-he/2},{x:ce/2-fe,y:-he/2},...generateCirclePoints(-ce/2+fe,0,fe,50,90,270),{x:ce/2-fe,y:he/2},{x:-ce/2,y:he/2}],be=createPathFromPoints(xe),Se=ge.path(be,ye),ve=oe.insert(()=>Se,":first-child");return ve.attr("class","basic label-container"),pe&&te.look!=="handDrawn"&&ve.selectChildren("path").attr("style",pe),ae&&te.look!=="handDrawn"&&ve.selectChildren("path").attr("style",ae),updateNodeBounds(te,ve),te.intersect=function(Te){return log.info("Pill intersect",te,{radius:fe,point:Te}),intersect_default.polygon(te,xe,Te)},oe}__name(halfRoundedRectangle,"halfRoundedRectangle");var createHexagonPathD=__name((ee,te,ne,ae,ie)=>[`M${ee+ie},${te}`,`L${ee+ne-ie},${te}`,`L${ee+ne},${te-ae/2}`,`L${ee+ne-ie},${te-ae}`,`L${ee+ie},${te-ae}`,`L${ee},${te-ae/2}`,"Z"].join(" "),"createHexagonPathD");async function hexagon(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=4,le=se.height+te.padding,ce=le/oe,he=se.width+2*ce+te.padding,fe=[{x:ce,y:0},{x:he-ce,y:0},{x:he,y:-le/2},{x:he-ce,y:-le},{x:ce,y:-le},{x:0,y:-le/2}];let pe;const{cssStyles:ge}=te;if(te.look==="handDrawn"){const ye=at.svg(ie),xe=userNodeOverrides(te,{}),be=createHexagonPathD(0,0,he,le,ce),Se=ye.path(be,xe);pe=ie.insert(()=>Se,":first-child").attr("transform",`translate(${-he/2}, ${le/2})`),ge&&pe.attr("style",ge)}else pe=insertPolygonShape(ie,he,le,fe);return ae&&pe.attr("style",ae),te.width=he,te.height=le,updateNodeBounds(te,pe),te.intersect=function(ye){return intersect_default.polygon(te,fe,ye)},ie}__name(hexagon,"hexagon");async function hourglass(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.label="",te.labelStyle=ne;const{shapeSvg:ie}=await labelHelper(ee,te,getNodeClasses(te)),se=Math.max(30,(te==null?void 0:te.width)??0),oe=Math.max(30,(te==null?void 0:te.height)??0),{cssStyles:le}=te,ce=at.svg(ie),he=userNodeOverrides(te,{});te.look!=="handDrawn"&&(he.roughness=0,he.fillStyle="solid");const fe=[{x:0,y:0},{x:se,y:0},{x:0,y:oe},{x:se,y:oe}],pe=createPathFromPoints(fe),ge=ce.path(pe,he),ye=ie.insert(()=>ge,":first-child");return ye.attr("class","basic label-container"),le&&te.look!=="handDrawn"&&ye.selectChildren("path").attr("style",le),ae&&te.look!=="handDrawn"&&ye.selectChildren("path").attr("style",ae),ye.attr("transform",`translate(${-se/2}, ${-oe/2})`),updateNodeBounds(te,ye),te.intersect=function(xe){return log.info("Pill intersect",te,{points:fe}),intersect_default.polygon(te,fe,xe)},ie}__name(hourglass,"hourglass");async function icon(ee,te,{config:{themeVariables:ne,flowchart:ae}}){const{labelStyles:ie}=styles2String(te);te.labelStyle=ie;const se=te.assetHeight??48,oe=te.assetWidth??48,le=Math.max(se,oe),ce=ae==null?void 0:ae.wrappingWidth;te.width=Math.max(le,ce??0);const{shapeSvg:he,bbox:fe,label:pe}=await labelHelper(ee,te,"icon-shape default"),ge=te.pos==="t",ye=le,xe=le,{nodeBorder:be}=ne,{stylesMap:Se}=compileStyles(te),ve=-xe/2,Te=-ye/2,Ce=te.label?8:0,Pe=at.svg(he),Be=userNodeOverrides(te,{stroke:"none",fill:"none"});te.look!=="handDrawn"&&(Be.roughness=0,Be.fillStyle="solid");const Ae=Pe.rectangle(ve,Te,xe,ye,Be),Me=Math.max(xe,fe.width),Ge=ye+fe.height+Ce,Ue=Pe.rectangle(-Me/2,-Ge/2,Me,Ge,{...Be,fill:"transparent",stroke:"none"}),Ve=he.insert(()=>Ae,":first-child"),je=he.insert(()=>Ue);if(te.icon){const De=he.append("g");De.html(`<g>${await getIconSVG(te.icon,{height:le,width:le,fallbackPrefix:""})}</g>`);const Ye=De.node().getBBox(),ke=Ye.width,$e=Ye.height,Oe=Ye.x,He=Ye.y;De.attr("transform",`translate(${-ke/2-Oe},${ge?fe.height/2+Ce/2-$e/2-He:-fe.height/2-Ce/2-$e/2-He})`),De.attr("style",`color: ${Se.get("stroke")??be};`)}return pe.attr("transform",`translate(${-fe.width/2-(fe.x-(fe.left??0))},${ge?-Ge/2:Ge/2-fe.height})`),Ve.attr("transform",`translate(0,${ge?fe.height/2+Ce/2:-fe.height/2-Ce/2})`),updateNodeBounds(te,je),te.intersect=function(De){if(log.info("iconSquare intersect",te,De),!te.label)return intersect_default.rect(te,De);const Ye=te.x??0,ke=te.y??0,$e=te.height??0;let Oe=[];return ge?Oe=[{x:Ye-fe.width/2,y:ke-$e/2},{x:Ye+fe.width/2,y:ke-$e/2},{x:Ye+fe.width/2,y:ke-$e/2+fe.height+Ce},{x:Ye+xe/2,y:ke-$e/2+fe.height+Ce},{x:Ye+xe/2,y:ke+$e/2},{x:Ye-xe/2,y:ke+$e/2},{x:Ye-xe/2,y:ke-$e/2+fe.height+Ce},{x:Ye-fe.width/2,y:ke-$e/2+fe.height+Ce}]:Oe=[{x:Ye-xe/2,y:ke-$e/2},{x:Ye+xe/2,y:ke-$e/2},{x:Ye+xe/2,y:ke-$e/2+ye},{x:Ye+fe.width/2,y:ke-$e/2+ye},{x:Ye+fe.width/2/2,y:ke+$e/2},{x:Ye-fe.width/2,y:ke+$e/2},{x:Ye-fe.width/2,y:ke-$e/2+ye},{x:Ye-xe/2,y:ke-$e/2+ye}],intersect_default.polygon(te,Oe,De)},he}__name(icon,"icon");async function iconCircle(ee,te,{config:{themeVariables:ne,flowchart:ae}}){const{labelStyles:ie}=styles2String(te);te.labelStyle=ie;const se=te.assetHeight??48,oe=te.assetWidth??48,le=Math.max(se,oe),ce=ae==null?void 0:ae.wrappingWidth;te.width=Math.max(le,ce??0);const{shapeSvg:he,bbox:fe,label:pe}=await labelHelper(ee,te,"icon-shape default"),ge=20,ye=te.label?8:0,xe=te.pos==="t",{nodeBorder:be,mainBkg:Se}=ne,{stylesMap:ve}=compileStyles(te),Te=at.svg(he),Ce=userNodeOverrides(te,{});te.look!=="handDrawn"&&(Ce.roughness=0,Ce.fillStyle="solid");const Pe=ve.get("fill");Ce.stroke=Pe??Se;const Be=he.append("g");te.icon&&Be.html(`<g>${await getIconSVG(te.icon,{height:le,width:le,fallbackPrefix:""})}</g>`);const Ae=Be.node().getBBox(),Me=Ae.width,Ge=Ae.height,Ue=Ae.x,Ve=Ae.y,je=Math.max(Me,Ge)*Math.SQRT2+ge*2,De=Te.circle(0,0,je,Ce),Ye=Math.max(je,fe.width),ke=je+fe.height+ye,$e=Te.rectangle(-Ye/2,-ke/2,Ye,ke,{...Ce,fill:"transparent",stroke:"none"}),Oe=he.insert(()=>De,":first-child"),He=he.insert(()=>$e);return Be.attr("transform",`translate(${-Me/2-Ue},${xe?fe.height/2+ye/2-Ge/2-Ve:-fe.height/2-ye/2-Ge/2-Ve})`),Be.attr("style",`color: ${ve.get("stroke")??be};`),pe.attr("transform",`translate(${-fe.width/2-(fe.x-(fe.left??0))},${xe?-ke/2:ke/2-fe.height})`),Oe.attr("transform",`translate(0,${xe?fe.height/2+ye/2:-fe.height/2-ye/2})`),updateNodeBounds(te,He),te.intersect=function(qe){return log.info("iconSquare intersect",te,qe),intersect_default.rect(te,qe)},he}__name(iconCircle,"iconCircle");async function iconRounded(ee,te,{config:{themeVariables:ne,flowchart:ae}}){const{labelStyles:ie}=styles2String(te);te.labelStyle=ie;const se=te.assetHeight??48,oe=te.assetWidth??48,le=Math.max(se,oe),ce=ae==null?void 0:ae.wrappingWidth;te.width=Math.max(le,ce??0);const{shapeSvg:he,bbox:fe,halfPadding:pe,label:ge}=await labelHelper(ee,te,"icon-shape default"),ye=te.pos==="t",xe=le+pe*2,be=le+pe*2,{nodeBorder:Se,mainBkg:ve}=ne,{stylesMap:Te}=compileStyles(te),Ce=-be/2,Pe=-xe/2,Be=te.label?8:0,Ae=at.svg(he),Me=userNodeOverrides(te,{});te.look!=="handDrawn"&&(Me.roughness=0,Me.fillStyle="solid");const Ge=Te.get("fill");Me.stroke=Ge??ve;const Ue=Ae.path(createRoundedRectPathD(Ce,Pe,be,xe,5),Me),Ve=Math.max(be,fe.width),je=xe+fe.height+Be,De=Ae.rectangle(-Ve/2,-je/2,Ve,je,{...Me,fill:"transparent",stroke:"none"}),Ye=he.insert(()=>Ue,":first-child").attr("class","icon-shape2"),ke=he.insert(()=>De);if(te.icon){const $e=he.append("g");$e.html(`<g>${await getIconSVG(te.icon,{height:le,width:le,fallbackPrefix:""})}</g>`);const Oe=$e.node().getBBox(),He=Oe.width,qe=Oe.height,Xe=Oe.x,ze=Oe.y;$e.attr("transform",`translate(${-He/2-Xe},${ye?fe.height/2+Be/2-qe/2-ze:-fe.height/2-Be/2-qe/2-ze})`),$e.attr("style",`color: ${Te.get("stroke")??Se};`)}return ge.attr("transform",`translate(${-fe.width/2-(fe.x-(fe.left??0))},${ye?-je/2:je/2-fe.height})`),Ye.attr("transform",`translate(0,${ye?fe.height/2+Be/2:-fe.height/2-Be/2})`),updateNodeBounds(te,ke),te.intersect=function($e){if(log.info("iconSquare intersect",te,$e),!te.label)return intersect_default.rect(te,$e);const Oe=te.x??0,He=te.y??0,qe=te.height??0;let Xe=[];return ye?Xe=[{x:Oe-fe.width/2,y:He-qe/2},{x:Oe+fe.width/2,y:He-qe/2},{x:Oe+fe.width/2,y:He-qe/2+fe.height+Be},{x:Oe+be/2,y:He-qe/2+fe.height+Be},{x:Oe+be/2,y:He+qe/2},{x:Oe-be/2,y:He+qe/2},{x:Oe-be/2,y:He-qe/2+fe.height+Be},{x:Oe-fe.width/2,y:He-qe/2+fe.height+Be}]:Xe=[{x:Oe-be/2,y:He-qe/2},{x:Oe+be/2,y:He-qe/2},{x:Oe+be/2,y:He-qe/2+xe},{x:Oe+fe.width/2,y:He-qe/2+xe},{x:Oe+fe.width/2/2,y:He+qe/2},{x:Oe-fe.width/2,y:He+qe/2},{x:Oe-fe.width/2,y:He-qe/2+xe},{x:Oe-be/2,y:He-qe/2+xe}],intersect_default.polygon(te,Xe,$e)},he}__name(iconRounded,"iconRounded");async function iconSquare(ee,te,{config:{themeVariables:ne,flowchart:ae}}){const{labelStyles:ie}=styles2String(te);te.labelStyle=ie;const se=te.assetHeight??48,oe=te.assetWidth??48,le=Math.max(se,oe),ce=ae==null?void 0:ae.wrappingWidth;te.width=Math.max(le,ce??0);const{shapeSvg:he,bbox:fe,halfPadding:pe,label:ge}=await labelHelper(ee,te,"icon-shape default"),ye=te.pos==="t",xe=le+pe*2,be=le+pe*2,{nodeBorder:Se,mainBkg:ve}=ne,{stylesMap:Te}=compileStyles(te),Ce=-be/2,Pe=-xe/2,Be=te.label?8:0,Ae=at.svg(he),Me=userNodeOverrides(te,{});te.look!=="handDrawn"&&(Me.roughness=0,Me.fillStyle="solid");const Ge=Te.get("fill");Me.stroke=Ge??ve;const Ue=Ae.path(createRoundedRectPathD(Ce,Pe,be,xe,.1),Me),Ve=Math.max(be,fe.width),je=xe+fe.height+Be,De=Ae.rectangle(-Ve/2,-je/2,Ve,je,{...Me,fill:"transparent",stroke:"none"}),Ye=he.insert(()=>Ue,":first-child"),ke=he.insert(()=>De);if(te.icon){const $e=he.append("g");$e.html(`<g>${await getIconSVG(te.icon,{height:le,width:le,fallbackPrefix:""})}</g>`);const Oe=$e.node().getBBox(),He=Oe.width,qe=Oe.height,Xe=Oe.x,ze=Oe.y;$e.attr("transform",`translate(${-He/2-Xe},${ye?fe.height/2+Be/2-qe/2-ze:-fe.height/2-Be/2-qe/2-ze})`),$e.attr("style",`color: ${Te.get("stroke")??Se};`)}return ge.attr("transform",`translate(${-fe.width/2-(fe.x-(fe.left??0))},${ye?-je/2:je/2-fe.height})`),Ye.attr("transform",`translate(0,${ye?fe.height/2+Be/2:-fe.height/2-Be/2})`),updateNodeBounds(te,ke),te.intersect=function($e){if(log.info("iconSquare intersect",te,$e),!te.label)return intersect_default.rect(te,$e);const Oe=te.x??0,He=te.y??0,qe=te.height??0;let Xe=[];return ye?Xe=[{x:Oe-fe.width/2,y:He-qe/2},{x:Oe+fe.width/2,y:He-qe/2},{x:Oe+fe.width/2,y:He-qe/2+fe.height+Be},{x:Oe+be/2,y:He-qe/2+fe.height+Be},{x:Oe+be/2,y:He+qe/2},{x:Oe-be/2,y:He+qe/2},{x:Oe-be/2,y:He-qe/2+fe.height+Be},{x:Oe-fe.width/2,y:He-qe/2+fe.height+Be}]:Xe=[{x:Oe-be/2,y:He-qe/2},{x:Oe+be/2,y:He-qe/2},{x:Oe+be/2,y:He-qe/2+xe},{x:Oe+fe.width/2,y:He-qe/2+xe},{x:Oe+fe.width/2/2,y:He+qe/2},{x:Oe-fe.width/2,y:He+qe/2},{x:Oe-fe.width/2,y:He-qe/2+xe},{x:Oe-be/2,y:He-qe/2+xe}],intersect_default.polygon(te,Xe,$e)},he}__name(iconSquare,"iconSquare");async function imageSquare(ee,te,{config:{flowchart:ne}}){const ae=new Image;ae.src=(te==null?void 0:te.img)??"",await ae.decode();const ie=Number(ae.naturalWidth.toString().replace("px","")),se=Number(ae.naturalHeight.toString().replace("px",""));te.imageAspectRatio=ie/se;const{labelStyles:oe}=styles2String(te);te.labelStyle=oe;const le=ne==null?void 0:ne.wrappingWidth;te.defaultWidth=ne==null?void 0:ne.wrappingWidth;const ce=Math.max(te.label?le??0:0,(te==null?void 0:te.assetWidth)??ie),he=te.constraint==="on"&&te!=null&&te.assetHeight?te.assetHeight*te.imageAspectRatio:ce,fe=te.constraint==="on"?he/te.imageAspectRatio:(te==null?void 0:te.assetHeight)??se;te.width=Math.max(he,le??0);const{shapeSvg:pe,bbox:ge,label:ye}=await labelHelper(ee,te,"image-shape default"),xe=te.pos==="t",be=-he/2,Se=-fe/2,ve=te.label?8:0,Te=at.svg(pe),Ce=userNodeOverrides(te,{});te.look!=="handDrawn"&&(Ce.roughness=0,Ce.fillStyle="solid");const Pe=Te.rectangle(be,Se,he,fe,Ce),Be=Math.max(he,ge.width),Ae=fe+ge.height+ve,Me=Te.rectangle(-Be/2,-Ae/2,Be,Ae,{...Ce,fill:"none",stroke:"none"}),Ge=pe.insert(()=>Pe,":first-child"),Ue=pe.insert(()=>Me);if(te.img){const Ve=pe.append("image");Ve.attr("href",te.img),Ve.attr("width",he),Ve.attr("height",fe),Ve.attr("preserveAspectRatio","none"),Ve.attr("transform",`translate(${-he/2},${xe?Ae/2-fe:-Ae/2})`)}return ye.attr("transform",`translate(${-ge.width/2-(ge.x-(ge.left??0))},${xe?-fe/2-ge.height/2-ve/2:fe/2-ge.height/2+ve/2})`),Ge.attr("transform",`translate(0,${xe?ge.height/2+ve/2:-ge.height/2-ve/2})`),updateNodeBounds(te,Ue),te.intersect=function(Ve){if(log.info("iconSquare intersect",te,Ve),!te.label)return intersect_default.rect(te,Ve);const je=te.x??0,De=te.y??0,Ye=te.height??0;let ke=[];return xe?ke=[{x:je-ge.width/2,y:De-Ye/2},{x:je+ge.width/2,y:De-Ye/2},{x:je+ge.width/2,y:De-Ye/2+ge.height+ve},{x:je+he/2,y:De-Ye/2+ge.height+ve},{x:je+he/2,y:De+Ye/2},{x:je-he/2,y:De+Ye/2},{x:je-he/2,y:De-Ye/2+ge.height+ve},{x:je-ge.width/2,y:De-Ye/2+ge.height+ve}]:ke=[{x:je-he/2,y:De-Ye/2},{x:je+he/2,y:De-Ye/2},{x:je+he/2,y:De-Ye/2+fe},{x:je+ge.width/2,y:De-Ye/2+fe},{x:je+ge.width/2/2,y:De+Ye/2},{x:je-ge.width/2,y:De+Ye/2},{x:je-ge.width/2,y:De-Ye/2+fe},{x:je-he/2,y:De-Ye/2+fe}],intersect_default.polygon(te,ke,Ve)},pe}__name(imageSquare,"imageSquare");async function inv_trapezoid(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=Math.max(se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),le=Math.max(se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),ce=[{x:0,y:0},{x:oe,y:0},{x:oe+3*le/6,y:-le},{x:-3*le/6,y:-le}];let he;const{cssStyles:fe}=te;if(te.look==="handDrawn"){const pe=at.svg(ie),ge=userNodeOverrides(te,{}),ye=createPathFromPoints(ce),xe=pe.path(ye,ge);he=ie.insert(()=>xe,":first-child").attr("transform",`translate(${-oe/2}, ${le/2})`),fe&&he.attr("style",fe)}else he=insertPolygonShape(ie,oe,le,ce);return ae&&he.attr("style",ae),te.width=oe,te.height=le,updateNodeBounds(te,he),te.intersect=function(pe){return intersect_default.polygon(te,ce,pe)},ie}__name(inv_trapezoid,"inv_trapezoid");async function drawRect(ee,te,ne){const{labelStyles:ae,nodeStyles:ie}=styles2String(te);te.labelStyle=ae;const{shapeSvg:se,bbox:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=Math.max(oe.width+ne.labelPaddingX*2,(te==null?void 0:te.width)||0),ce=Math.max(oe.height+ne.labelPaddingY*2,(te==null?void 0:te.height)||0),he=-le/2,fe=-ce/2;let pe,{rx:ge,ry:ye}=te;const{cssStyles:xe}=te;if(ne!=null&&ne.rx&&ne.ry&&(ge=ne.rx,ye=ne.ry),te.look==="handDrawn"){const be=at.svg(se),Se=userNodeOverrides(te,{}),ve=ge||ye?be.path(createRoundedRectPathD(he,fe,le,ce,ge||0),Se):be.rectangle(he,fe,le,ce,Se);pe=se.insert(()=>ve,":first-child"),pe.attr("class","basic label-container").attr("style",handleUndefinedAttr(xe))}else pe=se.insert("rect",":first-child"),pe.attr("class","basic label-container").attr("style",ie).attr("rx",handleUndefinedAttr(ge)).attr("ry",handleUndefinedAttr(ye)).attr("x",he).attr("y",fe).attr("width",le).attr("height",ce);return updateNodeBounds(te,pe),te.intersect=function(be){return intersect_default.rect(te,be)},se}__name(drawRect,"drawRect");async function labelRect(ee,te){const{shapeSvg:ne,bbox:ae,label:ie}=await labelHelper(ee,te,"label"),se=ne.insert("rect",":first-child");return se.attr("width",.1).attr("height",.1),ne.attr("class","label edgeLabel"),ie.attr("transform",`translate(${-(ae.width/2)-(ae.x-(ae.left??0))}, ${-(ae.height/2)-(ae.y-(ae.top??0))})`),updateNodeBounds(te,se),te.intersect=function(ce){return intersect_default.rect(te,ce)},ne}__name(labelRect,"labelRect");async function lean_left(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=Math.max(se.width+(te.padding??0),(te==null?void 0:te.width)??0),le=Math.max(se.height+(te.padding??0),(te==null?void 0:te.height)??0),ce=[{x:0,y:0},{x:oe+3*le/6,y:0},{x:oe,y:-le},{x:-(3*le)/6,y:-le}];let he;const{cssStyles:fe}=te;if(te.look==="handDrawn"){const pe=at.svg(ie),ge=userNodeOverrides(te,{}),ye=createPathFromPoints(ce),xe=pe.path(ye,ge);he=ie.insert(()=>xe,":first-child").attr("transform",`translate(${-oe/2}, ${le/2})`),fe&&he.attr("style",fe)}else he=insertPolygonShape(ie,oe,le,ce);return ae&&he.attr("style",ae),te.width=oe,te.height=le,updateNodeBounds(te,he),te.intersect=function(pe){return intersect_default.polygon(te,ce,pe)},ie}__name(lean_left,"lean_left");async function lean_right(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=Math.max(se.width+(te.padding??0),(te==null?void 0:te.width)??0),le=Math.max(se.height+(te.padding??0),(te==null?void 0:te.height)??0),ce=[{x:-3*le/6,y:0},{x:oe,y:0},{x:oe+3*le/6,y:-le},{x:0,y:-le}];let he;const{cssStyles:fe}=te;if(te.look==="handDrawn"){const pe=at.svg(ie),ge=userNodeOverrides(te,{}),ye=createPathFromPoints(ce),xe=pe.path(ye,ge);he=ie.insert(()=>xe,":first-child").attr("transform",`translate(${-oe/2}, ${le/2})`),fe&&he.attr("style",fe)}else he=insertPolygonShape(ie,oe,le,ce);return ae&&he.attr("style",ae),te.width=oe,te.height=le,updateNodeBounds(te,he),te.intersect=function(pe){return intersect_default.polygon(te,ce,pe)},ie}__name(lean_right,"lean_right");function lightningBolt(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.label="",te.labelStyle=ne;const ie=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId??te.id),{cssStyles:se}=te,oe=Math.max(35,(te==null?void 0:te.width)??0),le=Math.max(35,(te==null?void 0:te.height)??0),ce=7,he=[{x:oe,y:0},{x:0,y:le+ce/2},{x:oe-2*ce,y:le+ce/2},{x:0,y:2*le},{x:oe,y:le-ce/2},{x:2*ce,y:le-ce/2}],fe=at.svg(ie),pe=userNodeOverrides(te,{});te.look!=="handDrawn"&&(pe.roughness=0,pe.fillStyle="solid");const ge=createPathFromPoints(he),ye=fe.path(ge,pe),xe=ie.insert(()=>ye,":first-child");return se&&te.look!=="handDrawn"&&xe.selectAll("path").attr("style",se),ae&&te.look!=="handDrawn"&&xe.selectAll("path").attr("style",ae),xe.attr("transform",`translate(-${oe/2},${-le})`),updateNodeBounds(te,xe),te.intersect=function(be){return log.info("lightningBolt intersect",te,be),intersect_default.polygon(te,he,be)},ie}__name(lightningBolt,"lightningBolt");var createCylinderPathD2=__name((ee,te,ne,ae,ie,se,oe)=>[`M${ee},${te+se}`,`a${ie},${se} 0,0,0 ${ne},0`,`a${ie},${se} 0,0,0 ${-ne},0`,`l0,${ae}`,`a${ie},${se} 0,0,0 ${ne},0`,`l0,${-ae}`,`M${ee},${te+se+oe}`,`a${ie},${se} 0,0,0 ${ne},0`].join(" "),"createCylinderPathD"),createOuterCylinderPathD2=__name((ee,te,ne,ae,ie,se,oe)=>[`M${ee},${te+se}`,`M${ee+ne},${te+se}`,`a${ie},${se} 0,0,0 ${-ne},0`,`l0,${ae}`,`a${ie},${se} 0,0,0 ${ne},0`,`l0,${-ae}`,`M${ee},${te+se+oe}`,`a${ie},${se} 0,0,0 ${ne},0`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD2=__name((ee,te,ne,ae,ie,se)=>[`M${ee-ne/2},${-ae/2}`,`a${ie},${se} 0,0,0 ${ne},0`].join(" "),"createInnerCylinderPathD");async function linedCylinder(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=Math.max(se.width+(te.padding??0),te.width??0),ce=le/2,he=ce/(2.5+le/50),fe=Math.max(se.height+he+(te.padding??0),te.height??0),pe=fe*.1;let ge;const{cssStyles:ye}=te;if(te.look==="handDrawn"){const xe=at.svg(ie),be=createOuterCylinderPathD2(0,0,le,fe,ce,he,pe),Se=createInnerCylinderPathD2(0,he,le,fe,ce,he),ve=userNodeOverrides(te,{}),Te=xe.path(be,ve),Ce=xe.path(Se,ve);ie.insert(()=>Ce,":first-child").attr("class","line"),ge=ie.insert(()=>Te,":first-child"),ge.attr("class","basic label-container"),ye&&ge.attr("style",ye)}else{const xe=createCylinderPathD2(0,0,le,fe,ce,he,pe);ge=ie.insert("path",":first-child").attr("d",xe).attr("class","basic label-container").attr("style",handleUndefinedAttr(ye)).attr("style",ae)}return ge.attr("label-offset-y",he),ge.attr("transform",`translate(${-le/2}, ${-(fe/2+he)})`),updateNodeBounds(te,ge),oe.attr("transform",`translate(${-(se.width/2)-(se.x-(se.left??0))}, ${-(se.height/2)+he-(se.y-(se.top??0))})`),te.intersect=function(xe){const be=intersect_default.rect(te,xe),Se=be.x-(te.x??0);if(ce!=0&&(Math.abs(Se)<(te.width??0)/2||Math.abs(Se)==(te.width??0)/2&&Math.abs(be.y-(te.y??0))>(te.height??0)/2-he)){let ve=he*he*(1-Se*Se/(ce*ce));ve>0&&(ve=Math.sqrt(ve)),ve=he-ve,xe.y-(te.y??0)>0&&(ve=-ve),be.y+=ve}return be},ie}__name(linedCylinder,"linedCylinder");async function linedWaveEdgedRect(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=Math.max(se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),ce=Math.max(se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),he=ce/4,fe=ce+he,{cssStyles:pe}=te,ge=at.svg(ie),ye=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ye.roughness=0,ye.fillStyle="solid");const xe=[{x:-le/2-le/2*.1,y:-fe/2},{x:-le/2-le/2*.1,y:fe/2},...generateFullSineWavePoints(-le/2-le/2*.1,fe/2,le/2+le/2*.1,fe/2,he,.8),{x:le/2+le/2*.1,y:-fe/2},{x:-le/2-le/2*.1,y:-fe/2},{x:-le/2,y:-fe/2},{x:-le/2,y:fe/2*1.1},{x:-le/2,y:-fe/2}],be=ge.polygon(xe.map(ve=>[ve.x,ve.y]),ye),Se=ie.insert(()=>be,":first-child");return Se.attr("class","basic label-container"),pe&&te.look!=="handDrawn"&&Se.selectAll("path").attr("style",pe),ae&&te.look!=="handDrawn"&&Se.selectAll("path").attr("style",ae),Se.attr("transform",`translate(0,${-he/2})`),oe.attr("transform",`translate(${-le/2+(te.padding??0)+le/2*.1/2-(se.x-(se.left??0))},${-ce/2+(te.padding??0)-he/2-(se.y-(se.top??0))})`),updateNodeBounds(te,Se),te.intersect=function(ve){return intersect_default.polygon(te,xe,ve)},ie}__name(linedWaveEdgedRect,"linedWaveEdgedRect");async function multiRect(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=Math.max(se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),ce=Math.max(se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),he=5,fe=-le/2,pe=-ce/2,{cssStyles:ge}=te,ye=at.svg(ie),xe=userNodeOverrides(te,{}),be=[{x:fe-he,y:pe+he},{x:fe-he,y:pe+ce+he},{x:fe+le-he,y:pe+ce+he},{x:fe+le-he,y:pe+ce},{x:fe+le,y:pe+ce},{x:fe+le,y:pe+ce-he},{x:fe+le+he,y:pe+ce-he},{x:fe+le+he,y:pe-he},{x:fe+he,y:pe-he},{x:fe+he,y:pe},{x:fe,y:pe},{x:fe,y:pe+he}],Se=[{x:fe,y:pe+he},{x:fe+le-he,y:pe+he},{x:fe+le-he,y:pe+ce},{x:fe+le,y:pe+ce},{x:fe+le,y:pe},{x:fe,y:pe}];te.look!=="handDrawn"&&(xe.roughness=0,xe.fillStyle="solid");const ve=createPathFromPoints(be),Te=ye.path(ve,xe),Ce=createPathFromPoints(Se),Pe=ye.path(Ce,{...xe,fill:"none"}),Be=ie.insert(()=>Pe,":first-child");return Be.insert(()=>Te,":first-child"),Be.attr("class","basic label-container"),ge&&te.look!=="handDrawn"&&Be.selectAll("path").attr("style",ge),ae&&te.look!=="handDrawn"&&Be.selectAll("path").attr("style",ae),oe.attr("transform",`translate(${-(se.width/2)-he-(se.x-(se.left??0))}, ${-(se.height/2)+he-(se.y-(se.top??0))})`),updateNodeBounds(te,Be),te.intersect=function(Ae){return intersect_default.polygon(te,be,Ae)},ie}__name(multiRect,"multiRect");async function multiWaveEdgedRectangle(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=Math.max(se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),ce=Math.max(se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),he=ce/4,fe=ce+he,pe=-le/2,ge=-fe/2,ye=5,{cssStyles:xe}=te,be=generateFullSineWavePoints(pe-ye,ge+fe+ye,pe+le-ye,ge+fe+ye,he,.8),Se=be==null?void 0:be[be.length-1],ve=[{x:pe-ye,y:ge+ye},{x:pe-ye,y:ge+fe+ye},...be,{x:pe+le-ye,y:Se.y-ye},{x:pe+le,y:Se.y-ye},{x:pe+le,y:Se.y-2*ye},{x:pe+le+ye,y:Se.y-2*ye},{x:pe+le+ye,y:ge-ye},{x:pe+ye,y:ge-ye},{x:pe+ye,y:ge},{x:pe,y:ge},{x:pe,y:ge+ye}],Te=[{x:pe,y:ge+ye},{x:pe+le-ye,y:ge+ye},{x:pe+le-ye,y:Se.y-ye},{x:pe+le,y:Se.y-ye},{x:pe+le,y:ge},{x:pe,y:ge}],Ce=at.svg(ie),Pe=userNodeOverrides(te,{});te.look!=="handDrawn"&&(Pe.roughness=0,Pe.fillStyle="solid");const Be=createPathFromPoints(ve),Ae=Ce.path(Be,Pe),Me=createPathFromPoints(Te),Ge=Ce.path(Me,Pe),Ue=ie.insert(()=>Ae,":first-child");return Ue.insert(()=>Ge),Ue.attr("class","basic label-container"),xe&&te.look!=="handDrawn"&&Ue.selectAll("path").attr("style",xe),ae&&te.look!=="handDrawn"&&Ue.selectAll("path").attr("style",ae),Ue.attr("transform",`translate(0,${-he/2})`),oe.attr("transform",`translate(${-(se.width/2)-ye-(se.x-(se.left??0))}, ${-(se.height/2)+ye-he/2-(se.y-(se.top??0))})`),updateNodeBounds(te,Ue),te.intersect=function(Ve){return intersect_default.polygon(te,ve,Ve)},ie}__name(multiWaveEdgedRectangle,"multiWaveEdgedRectangle");async function note(ee,te,{config:{themeVariables:ne}}){var ve;const{labelStyles:ae,nodeStyles:ie}=styles2String(te);te.labelStyle=ae,te.useHtmlLabels||((ve=getConfig().flowchart)==null?void 0:ve.htmlLabels)!==!1||(te.centerLabel=!0);const{shapeSvg:oe,bbox:le}=await labelHelper(ee,te,getNodeClasses(te)),ce=Math.max(le.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),he=Math.max(le.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),fe=-ce/2,pe=-he/2,{cssStyles:ge}=te,ye=at.svg(oe),xe=userNodeOverrides(te,{fill:ne.noteBkgColor,stroke:ne.noteBorderColor});te.look!=="handDrawn"&&(xe.roughness=0,xe.fillStyle="solid");const be=ye.rectangle(fe,pe,ce,he,xe),Se=oe.insert(()=>be,":first-child");return Se.attr("class","basic label-container"),ge&&te.look!=="handDrawn"&&Se.selectAll("path").attr("style",ge),ie&&te.look!=="handDrawn"&&Se.selectAll("path").attr("style",ie),updateNodeBounds(te,Se),te.intersect=function(Te){return intersect_default.rect(te,Te)},oe}__name(note,"note");var createDecisionBoxPathD=__name((ee,te,ne)=>[`M${ee+ne/2},${te}`,`L${ee+ne},${te-ne/2}`,`L${ee+ne/2},${te-ne}`,`L${ee},${te-ne/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function question(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=se.width+te.padding,le=se.height+te.padding,ce=oe+le,he=[{x:ce/2,y:0},{x:ce,y:-ce/2},{x:ce/2,y:-ce},{x:0,y:-ce/2}];let fe;const{cssStyles:pe}=te;if(te.look==="handDrawn"){const ge=at.svg(ie),ye=userNodeOverrides(te,{}),xe=createDecisionBoxPathD(0,0,ce),be=ge.path(xe,ye);fe=ie.insert(()=>be,":first-child").attr("transform",`translate(${-ce/2}, ${ce/2})`),pe&&fe.attr("style",pe)}else fe=insertPolygonShape(ie,ce,ce,he);return ae&&fe.attr("style",ae),updateNodeBounds(te,fe),te.intersect=function(ge){return log.debug(`APA12 Intersect called SPLIT
point:`,ge,`
node:
`,te,`
res:`,intersect_default.polygon(te,he,ge)),intersect_default.polygon(te,he,ge)},ie}__name(question,"question");async function rect_left_inv_arrow(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=Math.max(se.width+(te.padding??0),(te==null?void 0:te.width)??0),ce=Math.max(se.height+(te.padding??0),(te==null?void 0:te.height)??0),he=-le/2,fe=-ce/2,pe=fe/2,ge=[{x:he+pe,y:fe},{x:he,y:0},{x:he+pe,y:-fe},{x:-he,y:-fe},{x:-he,y:fe}],{cssStyles:ye}=te,xe=at.svg(ie),be=userNodeOverrides(te,{});te.look!=="handDrawn"&&(be.roughness=0,be.fillStyle="solid");const Se=createPathFromPoints(ge),ve=xe.path(Se,be),Te=ie.insert(()=>ve,":first-child");return Te.attr("class","basic label-container"),ye&&te.look!=="handDrawn"&&Te.selectAll("path").attr("style",ye),ae&&te.look!=="handDrawn"&&Te.selectAll("path").attr("style",ae),Te.attr("transform",`translate(${-pe/2},0)`),oe.attr("transform",`translate(${-pe/2-se.width/2-(se.x-(se.left??0))}, ${-(se.height/2)-(se.y-(se.top??0))})`),updateNodeBounds(te,Te),te.intersect=function(Ce){return intersect_default.polygon(te,ge,Ce)},ie}__name(rect_left_inv_arrow,"rect_left_inv_arrow");async function rectWithTitle(ee,te){var Ge,Ue;const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;let ie;te.cssClasses?ie="node "+te.cssClasses:ie="node default";const se=ee.insert("g").attr("class",ie).attr("id",te.domId||te.id),oe=se.insert("g"),le=se.insert("g").attr("class","label").attr("style",ae),ce=te.description,he=te.label,fe=le.node().appendChild(await createLabel_default(he,te.labelStyle,!0,!0));let pe={width:0,height:0};if(evaluate((Ue=(Ge=getConfig2())==null?void 0:Ge.flowchart)==null?void 0:Ue.htmlLabels)){const Ve=fe.children[0],je=select(fe);pe=Ve.getBoundingClientRect(),je.attr("width",pe.width),je.attr("height",pe.height)}log.info("Text 2",ce);const ge=ce||[],ye=fe.getBBox(),xe=le.node().appendChild(await createLabel_default(ge.join?ge.join("<br/>"):ge,te.labelStyle,!0,!0)),be=xe.children[0],Se=select(xe);pe=be.getBoundingClientRect(),Se.attr("width",pe.width),Se.attr("height",pe.height);const ve=(te.padding||0)/2;select(xe).attr("transform","translate( "+(pe.width>ye.width?0:(ye.width-pe.width)/2)+", "+(ye.height+ve+5)+")"),select(fe).attr("transform","translate( "+(pe.width<ye.width?0:-(ye.width-pe.width)/2)+", 0)"),pe=le.node().getBBox(),le.attr("transform","translate("+-pe.width/2+", "+(-pe.height/2-ve+3)+")");const Te=pe.width+(te.padding||0),Ce=pe.height+(te.padding||0),Pe=-pe.width/2-ve,Be=-pe.height/2-ve;let Ae,Me;if(te.look==="handDrawn"){const Ve=at.svg(se),je=userNodeOverrides(te,{}),De=Ve.path(createRoundedRectPathD(Pe,Be,Te,Ce,te.rx||0),je),Ye=Ve.line(-pe.width/2-ve,-pe.height/2-ve+ye.height+ve,pe.width/2+ve,-pe.height/2-ve+ye.height+ve,je);Me=se.insert(()=>(log.debug("Rough node insert CXC",De),Ye),":first-child"),Ae=se.insert(()=>(log.debug("Rough node insert CXC",De),De),":first-child")}else Ae=oe.insert("rect",":first-child"),Me=oe.insert("line"),Ae.attr("class","outer title-state").attr("style",ae).attr("x",-pe.width/2-ve).attr("y",-pe.height/2-ve).attr("width",pe.width+(te.padding||0)).attr("height",pe.height+(te.padding||0)),Me.attr("class","divider").attr("x1",-pe.width/2-ve).attr("x2",pe.width/2+ve).attr("y1",-pe.height/2-ve+ye.height+ve).attr("y2",-pe.height/2-ve+ye.height+ve);return updateNodeBounds(te,Ae),te.intersect=function(Ve){return intersect_default.rect(te,Ve)},se}__name(rectWithTitle,"rectWithTitle");async function roundedRect(ee,te){const ne={rx:5,ry:5,labelPaddingX:((te==null?void 0:te.padding)||0)*1,labelPaddingY:((te==null?void 0:te.padding)||0)*1};return drawRect(ee,te,ne)}__name(roundedRect,"roundedRect");async function shadedProcess(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=(te==null?void 0:te.padding)??0,ce=Math.max(se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),he=Math.max(se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),fe=-se.width/2-le,pe=-se.height/2-le,{cssStyles:ge}=te,ye=at.svg(ie),xe=userNodeOverrides(te,{});te.look!=="handDrawn"&&(xe.roughness=0,xe.fillStyle="solid");const be=[{x:fe,y:pe},{x:fe+ce+8,y:pe},{x:fe+ce+8,y:pe+he},{x:fe-8,y:pe+he},{x:fe-8,y:pe},{x:fe,y:pe},{x:fe,y:pe+he}],Se=ye.polygon(be.map(Te=>[Te.x,Te.y]),xe),ve=ie.insert(()=>Se,":first-child");return ve.attr("class","basic label-container").attr("style",handleUndefinedAttr(ge)),ae&&te.look!=="handDrawn"&&ve.selectAll("path").attr("style",ae),ge&&te.look!=="handDrawn"&&ve.selectAll("path").attr("style",ae),oe.attr("transform",`translate(${-ce/2+4+(te.padding??0)-(se.x-(se.left??0))},${-he/2+(te.padding??0)-(se.y-(se.top??0))})`),updateNodeBounds(te,ve),te.intersect=function(Te){return intersect_default.rect(te,Te)},ie}__name(shadedProcess,"shadedProcess");async function slopedRect(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=Math.max(se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),ce=Math.max(se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),he=-le/2,fe=-ce/2,{cssStyles:pe}=te,ge=at.svg(ie),ye=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ye.roughness=0,ye.fillStyle="solid");const xe=[{x:he,y:fe},{x:he,y:fe+ce},{x:he+le,y:fe+ce},{x:he+le,y:fe-ce/2}],be=createPathFromPoints(xe),Se=ge.path(be,ye),ve=ie.insert(()=>Se,":first-child");return ve.attr("class","basic label-container"),pe&&te.look!=="handDrawn"&&ve.selectChildren("path").attr("style",pe),ae&&te.look!=="handDrawn"&&ve.selectChildren("path").attr("style",ae),ve.attr("transform",`translate(0, ${ce/4})`),oe.attr("transform",`translate(${-le/2+(te.padding??0)-(se.x-(se.left??0))}, ${-ce/4+(te.padding??0)-(se.y-(se.top??0))})`),updateNodeBounds(te,ve),te.intersect=function(Te){return intersect_default.polygon(te,xe,Te)},ie}__name(slopedRect,"slopedRect");async function squareRect2(ee,te){const ne={rx:0,ry:0,labelPaddingX:((te==null?void 0:te.padding)||0)*2,labelPaddingY:((te==null?void 0:te.padding)||0)*1};return drawRect(ee,te,ne)}__name(squareRect2,"squareRect");async function stadium(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=se.height+te.padding,le=se.width+oe/4+te.padding;let ce;const{cssStyles:he}=te;if(te.look==="handDrawn"){const fe=at.svg(ie),pe=userNodeOverrides(te,{}),ge=createRoundedRectPathD(-le/2,-oe/2,le,oe,oe/2),ye=fe.path(ge,pe);ce=ie.insert(()=>ye,":first-child"),ce.attr("class","basic label-container").attr("style",handleUndefinedAttr(he))}else ce=ie.insert("rect",":first-child"),ce.attr("class","basic label-container").attr("style",ae).attr("rx",oe/2).attr("ry",oe/2).attr("x",-le/2).attr("y",-oe/2).attr("width",le).attr("height",oe);return updateNodeBounds(te,ce),te.intersect=function(fe){return intersect_default.rect(te,fe)},ie}__name(stadium,"stadium");async function state(ee,te){return drawRect(ee,te,{rx:5,ry:5})}__name(state,"state");function stateEnd(ee,te,{config:{themeVariables:ne}}){const{labelStyles:ae,nodeStyles:ie}=styles2String(te);te.labelStyle=ae;const{cssStyles:se}=te,{lineColor:oe,stateBorder:le,nodeBorder:ce}=ne,he=ee.insert("g").attr("class","node default").attr("id",te.domId||te.id),fe=at.svg(he),pe=userNodeOverrides(te,{});te.look!=="handDrawn"&&(pe.roughness=0,pe.fillStyle="solid");const ge=fe.circle(0,0,14,{...pe,stroke:oe,strokeWidth:2}),ye=le??ce,xe=fe.circle(0,0,5,{...pe,fill:ye,stroke:ye,strokeWidth:2,fillStyle:"solid"}),be=he.insert(()=>ge,":first-child");return be.insert(()=>xe),se&&be.selectAll("path").attr("style",se),ie&&be.selectAll("path").attr("style",ie),updateNodeBounds(te,be),te.intersect=function(Se){return intersect_default.circle(te,7,Se)},he}__name(stateEnd,"stateEnd");function stateStart(ee,te,{config:{themeVariables:ne}}){const{lineColor:ae}=ne,ie=ee.insert("g").attr("class","node default").attr("id",te.domId||te.id);let se;if(te.look==="handDrawn"){const le=at.svg(ie).circle(0,0,14,solidStateFill(ae));se=ie.insert(()=>le),se.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else se=ie.insert("circle",":first-child"),se.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return updateNodeBounds(te,se),te.intersect=function(oe){return intersect_default.circle(te,7,oe)},ie}__name(stateStart,"stateStart");async function subroutine(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=((te==null?void 0:te.padding)||0)/2,le=se.width+te.padding,ce=se.height+te.padding,he=-se.width/2-oe,fe=-se.height/2-oe,pe=[{x:0,y:0},{x:le,y:0},{x:le,y:-ce},{x:0,y:-ce},{x:0,y:0},{x:-8,y:0},{x:le+8,y:0},{x:le+8,y:-ce},{x:-8,y:-ce},{x:-8,y:0}];if(te.look==="handDrawn"){const ge=at.svg(ie),ye=userNodeOverrides(te,{}),xe=ge.rectangle(he-8,fe,le+16,ce,ye),be=ge.line(he,fe,he,fe+ce,ye),Se=ge.line(he+le,fe,he+le,fe+ce,ye);ie.insert(()=>be,":first-child"),ie.insert(()=>Se,":first-child");const ve=ie.insert(()=>xe,":first-child"),{cssStyles:Te}=te;ve.attr("class","basic label-container").attr("style",handleUndefinedAttr(Te)),updateNodeBounds(te,ve)}else{const ge=insertPolygonShape(ie,le,ce,pe);ae&&ge.attr("style",ae),updateNodeBounds(te,ge)}return te.intersect=function(ge){return intersect_default.polygon(te,pe,ge)},ie}__name(subroutine,"subroutine");async function taggedRect(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=Math.max(se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),le=Math.max(se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),ce=-oe/2,he=-le/2,fe=.2*le,pe=.2*le,{cssStyles:ge}=te,ye=at.svg(ie),xe=userNodeOverrides(te,{}),be=[{x:ce-fe/2,y:he},{x:ce+oe+fe/2,y:he},{x:ce+oe+fe/2,y:he+le},{x:ce-fe/2,y:he+le}],Se=[{x:ce+oe-fe/2,y:he+le},{x:ce+oe+fe/2,y:he+le},{x:ce+oe+fe/2,y:he+le-pe}];te.look!=="handDrawn"&&(xe.roughness=0,xe.fillStyle="solid");const ve=createPathFromPoints(be),Te=ye.path(ve,xe),Ce=createPathFromPoints(Se),Pe=ye.path(Ce,{...xe,fillStyle:"solid"}),Be=ie.insert(()=>Pe,":first-child");return Be.insert(()=>Te,":first-child"),Be.attr("class","basic label-container"),ge&&te.look!=="handDrawn"&&Be.selectAll("path").attr("style",ge),ae&&te.look!=="handDrawn"&&Be.selectAll("path").attr("style",ae),updateNodeBounds(te,Be),te.intersect=function(Ae){return intersect_default.polygon(te,be,Ae)},ie}__name(taggedRect,"taggedRect");async function taggedWaveEdgedRectangle(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=Math.max(se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),ce=Math.max(se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),he=ce/4,fe=.2*le,pe=.2*ce,ge=ce+he,{cssStyles:ye}=te,xe=at.svg(ie),be=userNodeOverrides(te,{});te.look!=="handDrawn"&&(be.roughness=0,be.fillStyle="solid");const Se=[{x:-le/2-le/2*.1,y:ge/2},...generateFullSineWavePoints(-le/2-le/2*.1,ge/2,le/2+le/2*.1,ge/2,he,.8),{x:le/2+le/2*.1,y:-ge/2},{x:-le/2-le/2*.1,y:-ge/2}],ve=-le/2+le/2*.1,Te=-ge/2-pe*.4,Ce=[{x:ve+le-fe,y:(Te+ce)*1.4},{x:ve+le,y:Te+ce-pe},{x:ve+le,y:(Te+ce)*.9},...generateFullSineWavePoints(ve+le,(Te+ce)*1.3,ve+le-fe,(Te+ce)*1.5,-ce*.03,.5)],Pe=createPathFromPoints(Se),Be=xe.path(Pe,be),Ae=createPathFromPoints(Ce),Me=xe.path(Ae,{...be,fillStyle:"solid"}),Ge=ie.insert(()=>Me,":first-child");return Ge.insert(()=>Be,":first-child"),Ge.attr("class","basic label-container"),ye&&te.look!=="handDrawn"&&Ge.selectAll("path").attr("style",ye),ae&&te.look!=="handDrawn"&&Ge.selectAll("path").attr("style",ae),Ge.attr("transform",`translate(0,${-he/2})`),oe.attr("transform",`translate(${-le/2+(te.padding??0)-(se.x-(se.left??0))},${-ce/2+(te.padding??0)-he/2-(se.y-(se.top??0))})`),updateNodeBounds(te,Ge),te.intersect=function(Ue){return intersect_default.polygon(te,Se,Ue)},ie}__name(taggedWaveEdgedRectangle,"taggedWaveEdgedRectangle");async function text(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=Math.max(se.width+te.padding,(te==null?void 0:te.width)||0),le=Math.max(se.height+te.padding,(te==null?void 0:te.height)||0),ce=-oe/2,he=-le/2,fe=ie.insert("rect",":first-child");return fe.attr("class","text").attr("style",ae).attr("rx",0).attr("ry",0).attr("x",ce).attr("y",he).attr("width",oe).attr("height",le),updateNodeBounds(te,fe),te.intersect=function(pe){return intersect_default.rect(te,pe)},ie}__name(text,"text");var createCylinderPathD3=__name((ee,te,ne,ae,ie,se)=>`M${ee},${te}
    a${ie},${se} 0,0,1 0,${-ae}
    l${ne},0
    a${ie},${se} 0,0,1 0,${ae}
    M${ne},${-ae}
    a${ie},${se} 0,0,0 0,${ae}
    l${-ne},0`,"createCylinderPathD"),createOuterCylinderPathD3=__name((ee,te,ne,ae,ie,se)=>[`M${ee},${te}`,`M${ee+ne},${te}`,`a${ie},${se} 0,0,0 0,${-ae}`,`l${-ne},0`,`a${ie},${se} 0,0,0 0,${ae}`,`l${ne},0`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD3=__name((ee,te,ne,ae,ie,se)=>[`M${ee+ne/2},${-ae/2}`,`a${ie},${se} 0,0,0 0,${ae}`].join(" "),"createInnerCylinderPathD");async function tiltedCylinder(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe,halfPadding:le}=await labelHelper(ee,te,getNodeClasses(te)),ce=te.look==="neo"?le*2:le,he=se.height+ce,fe=he/2,pe=fe/(2.5+he/50),ge=se.width+pe+ce,{cssStyles:ye}=te;let xe;if(te.look==="handDrawn"){const be=at.svg(ie),Se=createOuterCylinderPathD3(0,0,ge,he,pe,fe),ve=createInnerCylinderPathD3(0,0,ge,he,pe,fe),Te=be.path(Se,userNodeOverrides(te,{})),Ce=be.path(ve,userNodeOverrides(te,{fill:"none"}));xe=ie.insert(()=>Ce,":first-child"),xe=ie.insert(()=>Te,":first-child"),xe.attr("class","basic label-container"),ye&&xe.attr("style",ye)}else{const be=createCylinderPathD3(0,0,ge,he,pe,fe);xe=ie.insert("path",":first-child").attr("d",be).attr("class","basic label-container").attr("style",handleUndefinedAttr(ye)).attr("style",ae),xe.attr("class","basic label-container"),ye&&xe.selectAll("path").attr("style",ye),ae&&xe.selectAll("path").attr("style",ae)}return xe.attr("label-offset-x",pe),xe.attr("transform",`translate(${-ge/2}, ${he/2} )`),oe.attr("transform",`translate(${-(se.width/2)-pe-(se.x-(se.left??0))}, ${-(se.height/2)-(se.y-(se.top??0))})`),updateNodeBounds(te,xe),te.intersect=function(be){const Se=intersect_default.rect(te,be),ve=Se.y-(te.y??0);if(fe!=0&&(Math.abs(ve)<(te.height??0)/2||Math.abs(ve)==(te.height??0)/2&&Math.abs(Se.x-(te.x??0))>(te.width??0)/2-pe)){let Te=pe*pe*(1-ve*ve/(fe*fe));Te!=0&&(Te=Math.sqrt(Math.abs(Te))),Te=pe-Te,be.x-(te.x??0)>0&&(Te=-Te),Se.x+=Te}return Se},ie}__name(tiltedCylinder,"tiltedCylinder");async function trapezoid(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=se.width+te.padding,le=se.height+te.padding,ce=[{x:-3*le/6,y:0},{x:oe+3*le/6,y:0},{x:oe,y:-le},{x:0,y:-le}];let he;const{cssStyles:fe}=te;if(te.look==="handDrawn"){const pe=at.svg(ie),ge=userNodeOverrides(te,{}),ye=createPathFromPoints(ce),xe=pe.path(ye,ge);he=ie.insert(()=>xe,":first-child").attr("transform",`translate(${-oe/2}, ${le/2})`),fe&&he.attr("style",fe)}else he=insertPolygonShape(ie,oe,le,ce);return ae&&he.attr("style",ae),te.width=oe,te.height=le,updateNodeBounds(te,he),te.intersect=function(pe){return intersect_default.polygon(te,ce,pe)},ie}__name(trapezoid,"trapezoid");async function trapezoidalPentagon(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=60,le=20,ce=Math.max(oe,se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),he=Math.max(le,se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),{cssStyles:fe}=te,pe=at.svg(ie),ge=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ge.roughness=0,ge.fillStyle="solid");const ye=[{x:-ce/2*.8,y:-he/2},{x:ce/2*.8,y:-he/2},{x:ce/2,y:-he/2*.6},{x:ce/2,y:he/2},{x:-ce/2,y:he/2},{x:-ce/2,y:-he/2*.6}],xe=createPathFromPoints(ye),be=pe.path(xe,ge),Se=ie.insert(()=>be,":first-child");return Se.attr("class","basic label-container"),fe&&te.look!=="handDrawn"&&Se.selectChildren("path").attr("style",fe),ae&&te.look!=="handDrawn"&&Se.selectChildren("path").attr("style",ae),updateNodeBounds(te,Se),te.intersect=function(ve){return intersect_default.polygon(te,ye,ve)},ie}__name(trapezoidalPentagon,"trapezoidalPentagon");async function triangle(ee,te){var Te;const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=evaluate((Te=getConfig2().flowchart)==null?void 0:Te.htmlLabels),ce=se.width+(te.padding??0),he=ce+se.height,fe=ce+se.height,pe=[{x:0,y:0},{x:fe,y:0},{x:fe/2,y:-he}],{cssStyles:ge}=te,ye=at.svg(ie),xe=userNodeOverrides(te,{});te.look!=="handDrawn"&&(xe.roughness=0,xe.fillStyle="solid");const be=createPathFromPoints(pe),Se=ye.path(be,xe),ve=ie.insert(()=>Se,":first-child").attr("transform",`translate(${-he/2}, ${he/2})`);return ge&&te.look!=="handDrawn"&&ve.selectChildren("path").attr("style",ge),ae&&te.look!=="handDrawn"&&ve.selectChildren("path").attr("style",ae),te.width=ce,te.height=he,updateNodeBounds(te,ve),oe.attr("transform",`translate(${-se.width/2-(se.x-(se.left??0))}, ${he/2-(se.height+(te.padding??0)/(le?2:1)-(se.y-(se.top??0)))})`),te.intersect=function(Ce){return log.info("Triangle intersect",te,pe,Ce),intersect_default.polygon(te,pe,Ce)},ie}__name(triangle,"triangle");async function waveEdgedRectangle(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=Math.max(se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),ce=Math.max(se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),he=ce/8,fe=ce+he,{cssStyles:pe}=te,ye=70-le,xe=ye>0?ye/2:0,be=at.svg(ie),Se=userNodeOverrides(te,{});te.look!=="handDrawn"&&(Se.roughness=0,Se.fillStyle="solid");const ve=[{x:-le/2-xe,y:fe/2},...generateFullSineWavePoints(-le/2-xe,fe/2,le/2+xe,fe/2,he,.8),{x:le/2+xe,y:-fe/2},{x:-le/2-xe,y:-fe/2}],Te=createPathFromPoints(ve),Ce=be.path(Te,Se),Pe=ie.insert(()=>Ce,":first-child");return Pe.attr("class","basic label-container"),pe&&te.look!=="handDrawn"&&Pe.selectAll("path").attr("style",pe),ae&&te.look!=="handDrawn"&&Pe.selectAll("path").attr("style",ae),Pe.attr("transform",`translate(0,${-he/2})`),oe.attr("transform",`translate(${-le/2+(te.padding??0)-(se.x-(se.left??0))},${-ce/2+(te.padding??0)-he-(se.y-(se.top??0))})`),updateNodeBounds(te,Pe),te.intersect=function(Be){return intersect_default.polygon(te,ve,Be)},ie}__name(waveEdgedRectangle,"waveEdgedRectangle");async function waveRectangle(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se}=await labelHelper(ee,te,getNodeClasses(te)),oe=100,le=50,ce=Math.max(se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),he=Math.max(se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),fe=ce/he;let pe=ce,ge=he;pe>ge*fe?ge=pe/fe:pe=ge*fe,pe=Math.max(pe,oe),ge=Math.max(ge,le);const ye=Math.min(ge*.2,ge/4),xe=ge+ye*2,{cssStyles:be}=te,Se=at.svg(ie),ve=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ve.roughness=0,ve.fillStyle="solid");const Te=[{x:-pe/2,y:xe/2},...generateFullSineWavePoints(-pe/2,xe/2,pe/2,xe/2,ye,1),{x:pe/2,y:-xe/2},...generateFullSineWavePoints(pe/2,-xe/2,-pe/2,-xe/2,ye,-1)],Ce=createPathFromPoints(Te),Pe=Se.path(Ce,ve),Be=ie.insert(()=>Pe,":first-child");return Be.attr("class","basic label-container"),be&&te.look!=="handDrawn"&&Be.selectAll("path").attr("style",be),ae&&te.look!=="handDrawn"&&Be.selectAll("path").attr("style",ae),updateNodeBounds(te,Be),te.intersect=function(Ae){return intersect_default.polygon(te,Te,Ae)},ie}__name(waveRectangle,"waveRectangle");async function windowPane(ee,te){const{labelStyles:ne,nodeStyles:ae}=styles2String(te);te.labelStyle=ne;const{shapeSvg:ie,bbox:se,label:oe}=await labelHelper(ee,te,getNodeClasses(te)),le=Math.max(se.width+(te.padding??0)*2,(te==null?void 0:te.width)??0),ce=Math.max(se.height+(te.padding??0)*2,(te==null?void 0:te.height)??0),he=5,fe=-le/2,pe=-ce/2,{cssStyles:ge}=te,ye=at.svg(ie),xe=userNodeOverrides(te,{}),be=[{x:fe-he,y:pe-he},{x:fe-he,y:pe+ce},{x:fe+le,y:pe+ce},{x:fe+le,y:pe-he}],Se=`M${fe-he},${pe-he} L${fe+le},${pe-he} L${fe+le},${pe+ce} L${fe-he},${pe+ce} L${fe-he},${pe-he}
                M${fe-he},${pe} L${fe+le},${pe}
                M${fe},${pe-he} L${fe},${pe+ce}`;te.look!=="handDrawn"&&(xe.roughness=0,xe.fillStyle="solid");const ve=ye.path(Se,xe),Te=ie.insert(()=>ve,":first-child");return Te.attr("transform",`translate(${he/2}, ${he/2})`),Te.attr("class","basic label-container"),ge&&te.look!=="handDrawn"&&Te.selectAll("path").attr("style",ge),ae&&te.look!=="handDrawn"&&Te.selectAll("path").attr("style",ae),oe.attr("transform",`translate(${-(se.width/2)+he/2-(se.x-(se.left??0))}, ${-(se.height/2)+he/2-(se.y-(se.top??0))})`),updateNodeBounds(te,Te),te.intersect=function(Ce){return intersect_default.polygon(te,be,Ce)},ie}__name(windowPane,"windowPane");async function textHelper(ee,te,ne,ae,ie=ne.class.padding??12){const se=ae?0:3,oe=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId||te.id);let le=null,ce=null,he=null,fe=null,pe=0,ge=0,ye=0;if(le=oe.insert("g").attr("class","annotation-group text"),te.annotations.length>0){const Te=te.annotations[0];await addText(le,{text:`${Te}`},0),pe=le.node().getBBox().height}ce=oe.insert("g").attr("class","label-group text"),await addText(ce,te,0,["font-weight: bolder"]);const xe=ce.node().getBBox();ge=xe.height,he=oe.insert("g").attr("class","members-group text");let be=0;for(const Te of te.members){const Ce=await addText(he,Te,be,[Te.parseClassifier()]);be+=Ce+se}ye=he.node().getBBox().height,ye<=0&&(ye=ie/2),fe=oe.insert("g").attr("class","methods-group text");let Se=0;for(const Te of te.methods){const Ce=await addText(fe,Te,Se,[Te.parseClassifier()]);Se+=Ce+se}let ve=oe.node().getBBox();if(le!==null){const Te=le.node().getBBox();le.attr("transform",`translate(${-Te.width/2})`)}return ce.attr("transform",`translate(${-xe.width/2}, ${pe})`),ve=oe.node().getBBox(),he.attr("transform",`translate(0, ${pe+ge+ie*2})`),ve=oe.node().getBBox(),fe.attr("transform",`translate(0, ${pe+ge+(ye?ye+ie*4:ie*2)})`),ve=oe.node().getBBox(),{shapeSvg:oe,bbox:ve}}__name(textHelper,"textHelper");async function addText(ee,te,ne,ae=[]){const ie=ee.insert("g").attr("class","label").attr("style",ae.join("; ")),se=getConfig();let oe="useHtmlLabels"in te?te.useHtmlLabels:evaluate(se.htmlLabels)??!0,le="";"text"in te?le=te.text:le=te.label,!oe&&le.startsWith("\\")&&(le=le.substring(1)),hasKatex(le)&&(oe=!0);const ce=await createText(ie,sanitizeText3(decodeEntities(le)),{width:calculateTextWidth(le,se)+50,classes:"markdown-node-label",useHtmlLabels:oe},se);let he,fe=1;if(oe){const pe=ce.children[0],ge=select(ce);fe=pe.innerHTML.split("<br>").length,pe.innerHTML.includes("</math>")&&(fe+=pe.innerHTML.split("<mrow>").length-1);const ye=pe.getElementsByTagName("img");if(ye){const xe=le.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...ye].map(be=>new Promise(Se=>{function ve(){var Te;if(be.style.display="flex",be.style.flexDirection="column",xe){const Ce=((Te=se.fontSize)==null?void 0:Te.toString())??window.getComputedStyle(document.body).fontSize,Be=parseInt(Ce,10)*5+"px";be.style.minWidth=Be,be.style.maxWidth=Be}else be.style.width="100%";Se(be)}__name(ve,"setupImage"),setTimeout(()=>{be.complete&&ve()}),be.addEventListener("error",ve),be.addEventListener("load",ve)})))}he=pe.getBoundingClientRect(),ge.attr("width",he.width),ge.attr("height",he.height)}else{ae.includes("font-weight: bolder")&&select(ce).selectAll("tspan").attr("font-weight",""),fe=ce.children.length;const pe=ce.children[0];(ce.textContent===""||ce.textContent.includes("&gt"))&&(pe.textContent=le[0]+le.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),le[1]===" "&&(pe.textContent=pe.textContent[0]+" "+pe.textContent.substring(1))),pe.textContent==="undefined"&&(pe.textContent=""),he=ce.getBBox()}return ie.attr("transform","translate(0,"+(-he.height/(2*fe)+ne)+")"),he.height}__name(addText,"addText");async function classBox(ee,te){var Ue,Ve;const ne=getConfig2(),ae=ne.class.padding??12,ie=ae,se=te.useHtmlLabels??evaluate(ne.htmlLabels)??!0,oe=te;oe.annotations=oe.annotations??[],oe.members=oe.members??[],oe.methods=oe.methods??[];const{shapeSvg:le,bbox:ce}=await textHelper(ee,te,ne,se,ie),{labelStyles:he,nodeStyles:fe}=styles2String(te);te.labelStyle=he,te.cssStyles=oe.styles||"";const pe=((Ue=oe.styles)==null?void 0:Ue.join(";"))||fe||"";te.cssStyles||(te.cssStyles=pe.replaceAll("!important","").split(";"));const ge=oe.members.length===0&&oe.methods.length===0&&!((Ve=ne.class)!=null&&Ve.hideEmptyMembersBox),ye=at.svg(le),xe=userNodeOverrides(te,{});te.look!=="handDrawn"&&(xe.roughness=0,xe.fillStyle="solid");const be=ce.width;let Se=ce.height;oe.members.length===0&&oe.methods.length===0?Se+=ie:oe.members.length>0&&oe.methods.length===0&&(Se+=ie*2);const ve=-be/2,Te=-Se/2,Ce=ye.rectangle(ve-ae,Te-ae-(ge?ae:oe.members.length===0&&oe.methods.length===0?-ae/2:0),be+2*ae,Se+2*ae+(ge?ae*2:oe.members.length===0&&oe.methods.length===0?-ae:0),xe),Pe=le.insert(()=>Ce,":first-child");Pe.attr("class","basic label-container");const Be=Pe.node().getBBox();le.selectAll(".text").each((je,De,Ye)=>{var Xe;const ke=select(Ye[De]),$e=ke.attr("transform");let Oe=0;if($e){const Ie=RegExp(/translate\(([^,]+),([^)]+)\)/).exec($e);Ie&&(Oe=parseFloat(Ie[2]))}let He=Oe+Te+ae-(ge?ae:oe.members.length===0&&oe.methods.length===0?-ae/2:0);se||(He-=4);let qe=ve;(ke.attr("class").includes("label-group")||ke.attr("class").includes("annotation-group"))&&(qe=-((Xe=ke.node())==null?void 0:Xe.getBBox().width)/2||0,le.selectAll("text").each(function(ze,Ie,Fe){window.getComputedStyle(Fe[Ie]).textAnchor==="middle"&&(qe=0)})),ke.attr("transform",`translate(${qe}, ${He})`)});const Ae=le.select(".annotation-group").node().getBBox().height-(ge?ae/2:0)||0,Me=le.select(".label-group").node().getBBox().height-(ge?ae/2:0)||0,Ge=le.select(".members-group").node().getBBox().height-(ge?ae/2:0)||0;if(oe.members.length>0||oe.methods.length>0||ge){const je=ye.line(Be.x,Ae+Me+Te+ae,Be.x+Be.width,Ae+Me+Te+ae,xe);le.insert(()=>je).attr("class","divider").attr("style",pe)}if(ge||oe.members.length>0||oe.methods.length>0){const je=ye.line(Be.x,Ae+Me+Ge+Te+ie*2+ae,Be.x+Be.width,Ae+Me+Ge+Te+ae+ie*2,xe);le.insert(()=>je).attr("class","divider").attr("style",pe)}if(oe.look!=="handDrawn"&&le.selectAll("path").attr("style",pe),Pe.select(":nth-child(2)").attr("style",pe),le.selectAll(".divider").select("path").attr("style",pe),te.labelStyle?le.selectAll("span").attr("style",te.labelStyle):le.selectAll("span").attr("style",pe),!se){const je=RegExp(/color\s*:\s*([^;]*)/),De=je.exec(pe);if(De){const Ye=De[0].replace("color","fill");le.selectAll("tspan").attr("style",Ye)}else if(he){const Ye=je.exec(he);if(Ye){const ke=Ye[0].replace("color","fill");le.selectAll("tspan").attr("style",ke)}}}return updateNodeBounds(te,Pe),te.intersect=function(je){return intersect_default.rect(te,je)},le}__name(classBox,"classBox");var colorFromPriority=__name(ee=>{switch(ee){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function kanbanItem(ee,te,{config:ne}){var De,Ye;const{labelStyles:ae,nodeStyles:ie}=styles2String(te);te.labelStyle=ae||"";const se=10,oe=te.width;te.width=(te.width??200)-10;const{shapeSvg:le,bbox:ce,label:he}=await labelHelper(ee,te,getNodeClasses(te)),fe=te.padding||10;let pe="",ge;"ticket"in te&&te.ticket&&((De=ne==null?void 0:ne.kanban)!=null&&De.ticketBaseUrl)&&(pe=(Ye=ne==null?void 0:ne.kanban)==null?void 0:Ye.ticketBaseUrl.replace("#TICKET#",te.ticket),ge=le.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",pe).attr("target","_blank"));const ye={useHtmlLabels:te.useHtmlLabels,labelStyle:te.labelStyle||"",width:te.width,img:te.img,padding:te.padding||8,centerLabel:!1};let xe,be;ge?{label:xe,bbox:be}=await insertLabel(ge,"ticket"in te&&te.ticket||"",ye):{label:xe,bbox:be}=await insertLabel(le,"ticket"in te&&te.ticket||"",ye);const{label:Se,bbox:ve}=await insertLabel(le,"assigned"in te&&te.assigned||"",ye);te.width=oe;const Te=10,Ce=(te==null?void 0:te.width)||0,Pe=Math.max(be.height,ve.height)/2,Be=Math.max(ce.height+Te*2,(te==null?void 0:te.height)||0)+Pe,Ae=-Ce/2,Me=-Be/2;he.attr("transform","translate("+(fe-Ce/2)+", "+(-Pe-ce.height/2)+")"),xe.attr("transform","translate("+(fe-Ce/2)+", "+(-Pe+ce.height/2)+")"),Se.attr("transform","translate("+(fe+Ce/2-ve.width-2*se)+", "+(-Pe+ce.height/2)+")");let Ge;const{rx:Ue,ry:Ve}=te,{cssStyles:je}=te;if(te.look==="handDrawn"){const ke=at.svg(le),$e=userNodeOverrides(te,{}),Oe=Ue||Ve?ke.path(createRoundedRectPathD(Ae,Me,Ce,Be,Ue||0),$e):ke.rectangle(Ae,Me,Ce,Be,$e);Ge=le.insert(()=>Oe,":first-child"),Ge.attr("class","basic label-container").attr("style",je||null)}else{Ge=le.insert("rect",":first-child"),Ge.attr("class","basic label-container __APA__").attr("style",ie).attr("rx",Ue??5).attr("ry",Ve??5).attr("x",Ae).attr("y",Me).attr("width",Ce).attr("height",Be);const ke="priority"in te&&te.priority;if(ke){const $e=le.append("line"),Oe=Ae+2,He=Me+Math.floor((Ue??0)/2),qe=Me+Be-Math.floor((Ue??0)/2);$e.attr("x1",Oe).attr("y1",He).attr("x2",Oe).attr("y2",qe).attr("stroke-width","4").attr("stroke",colorFromPriority(ke))}}return updateNodeBounds(te,Ge),te.height=Be,te.intersect=function(ke){return intersect_default.rect(te,ke)},le}__name(kanbanItem,"kanbanItem");var shapesDefs=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:squareRect2},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:roundedRect},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:stadium},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:subroutine},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:cylinder},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:circle$1},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:question},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:hexagon},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:lean_right},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:lean_left},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:trapezoid},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:inv_trapezoid},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:doublecircle},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:text},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:card},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:shadedProcess},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:stateStart},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:stateEnd},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:forkJoin},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:hourglass},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:curlyBraceLeft},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:curlyBraceRight},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:curlyBraces},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:lightningBolt},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:waveEdgedRectangle},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:halfRoundedRectangle},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:tiltedCylinder},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:linedCylinder},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:curvedTrapezoid},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:dividedRectangle},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:triangle},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:windowPane},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:filledCircle},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:trapezoidalPentagon},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:flippedTriangle},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:slopedRect},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:multiWaveEdgedRectangle},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:multiRect},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:bowTieRect},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:crossedCircle},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:taggedWaveEdgedRectangle},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:taggedRect},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:waveRectangle},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:rect_left_inv_arrow},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:linedWaveEdgedRect}],generateShapeMap=__name(()=>{const te=[...Object.entries({state,choice,note,rectWithTitle,labelRect,iconSquare,iconCircle,icon,iconRounded,imageSquare,anchor,kanbanItem,classBox}),...shapesDefs.flatMap(ne=>[ne.shortName,..."aliases"in ne?ne.aliases:[],..."internalAliases"in ne?ne.internalAliases:[]].map(ie=>[ie,ne.handler]))];return Object.fromEntries(te)},"generateShapeMap"),shapes2=generateShapeMap();function isValidShape(ee){return ee in shapes2}__name(isValidShape,"isValidShape");var nodeElems=new Map;async function insertNode(ee,te,ne){let ae,ie;te.shape==="rect"&&(te.rx&&te.ry?te.shape="roundedRect":te.shape="squareRect");const se=te.shape?shapes2[te.shape]:void 0;if(!se)throw new Error(`No such shape: ${te.shape}. Please check your syntax.`);if(te.link){let oe;ne.config.securityLevel==="sandbox"?oe="_top":te.linkTarget&&(oe=te.linkTarget||"_blank"),ae=ee.insert("svg:a").attr("xlink:href",te.link).attr("target",oe??null),ie=await se(ae,te,ne)}else ie=await se(ee,te,ne),ae=ie;return te.tooltip&&ie.attr("title",te.tooltip),nodeElems.set(te.id,ae),te.haveCallback&&ae.attr("class",ae.attr("class")+" clickable"),ae}__name(insertNode,"insertNode");var setNodeElem=__name((ee,te)=>{nodeElems.set(te.id,ee)},"setNodeElem"),clear2=__name(()=>{nodeElems.clear()},"clear"),positionNode=__name(ee=>{const te=nodeElems.get(ee.id);log.trace("Transforming node",ee.diff,ee,"translate("+(ee.x-ee.width/2-5)+", "+ee.width/2+")");const ne=8,ae=ee.diff||0;return ee.clusterNode?te.attr("transform","translate("+(ee.x+ae-ee.width/2)+", "+(ee.y-ee.height/2-ne)+")"):te.attr("transform","translate("+ee.x+", "+ee.y+")"),ae},"positionNode"),markerOffsets={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function calculateDeltaAndAngle(ee,te){if(ee===void 0||te===void 0)return{angle:0,deltaX:0,deltaY:0};ee=pointTransformer(ee),te=pointTransformer(te);const[ne,ae]=[ee.x,ee.y],[ie,se]=[te.x,te.y],oe=ie-ne,le=se-ae;return{angle:Math.atan(le/oe),deltaX:oe,deltaY:le}}__name(calculateDeltaAndAngle,"calculateDeltaAndAngle");var pointTransformer=__name(ee=>Array.isArray(ee)?{x:ee[0],y:ee[1]}:ee,"pointTransformer"),getLineFunctionsWithOffset=__name(ee=>({x:__name(function(te,ne,ae){let ie=0;const se=pointTransformer(ae[0]).x<pointTransformer(ae[ae.length-1]).x?"left":"right";if(ne===0&&Object.hasOwn(markerOffsets,ee.arrowTypeStart)){const{angle:ye,deltaX:xe}=calculateDeltaAndAngle(ae[0],ae[1]);ie=markerOffsets[ee.arrowTypeStart]*Math.cos(ye)*(xe>=0?1:-1)}else if(ne===ae.length-1&&Object.hasOwn(markerOffsets,ee.arrowTypeEnd)){const{angle:ye,deltaX:xe}=calculateDeltaAndAngle(ae[ae.length-1],ae[ae.length-2]);ie=markerOffsets[ee.arrowTypeEnd]*Math.cos(ye)*(xe>=0?1:-1)}const oe=Math.abs(pointTransformer(te).x-pointTransformer(ae[ae.length-1]).x),le=Math.abs(pointTransformer(te).y-pointTransformer(ae[ae.length-1]).y),ce=Math.abs(pointTransformer(te).x-pointTransformer(ae[0]).x),he=Math.abs(pointTransformer(te).y-pointTransformer(ae[0]).y),fe=markerOffsets[ee.arrowTypeStart],pe=markerOffsets[ee.arrowTypeEnd],ge=1;if(oe<pe&&oe>0&&le<pe){let ye=pe+ge-oe;ye*=se==="right"?-1:1,ie-=ye}if(ce<fe&&ce>0&&he<fe){let ye=fe+ge-ce;ye*=se==="right"?-1:1,ie+=ye}return pointTransformer(te).x+ie},"x"),y:__name(function(te,ne,ae){let ie=0;const se=pointTransformer(ae[0]).y<pointTransformer(ae[ae.length-1]).y?"down":"up";if(ne===0&&Object.hasOwn(markerOffsets,ee.arrowTypeStart)){const{angle:ye,deltaY:xe}=calculateDeltaAndAngle(ae[0],ae[1]);ie=markerOffsets[ee.arrowTypeStart]*Math.abs(Math.sin(ye))*(xe>=0?1:-1)}else if(ne===ae.length-1&&Object.hasOwn(markerOffsets,ee.arrowTypeEnd)){const{angle:ye,deltaY:xe}=calculateDeltaAndAngle(ae[ae.length-1],ae[ae.length-2]);ie=markerOffsets[ee.arrowTypeEnd]*Math.abs(Math.sin(ye))*(xe>=0?1:-1)}const oe=Math.abs(pointTransformer(te).y-pointTransformer(ae[ae.length-1]).y),le=Math.abs(pointTransformer(te).x-pointTransformer(ae[ae.length-1]).x),ce=Math.abs(pointTransformer(te).y-pointTransformer(ae[0]).y),he=Math.abs(pointTransformer(te).x-pointTransformer(ae[0]).x),fe=markerOffsets[ee.arrowTypeStart],pe=markerOffsets[ee.arrowTypeEnd],ge=1;if(oe<pe&&oe>0&&le<pe){let ye=pe+ge-oe;ye*=se==="up"?-1:1,ie-=ye}if(ce<fe&&ce>0&&he<fe){let ye=fe+ge-ce;ye*=se==="up"?-1:1,ie+=ye}return pointTransformer(te).y+ie},"y")}),"getLineFunctionsWithOffset"),addEdgeMarkers=__name((ee,te,ne,ae,ie)=>{te.arrowTypeStart&&addEdgeMarker(ee,"start",te.arrowTypeStart,ne,ae,ie),te.arrowTypeEnd&&addEdgeMarker(ee,"end",te.arrowTypeEnd,ne,ae,ie)},"addEdgeMarkers"),arrowTypesMap={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},addEdgeMarker=__name((ee,te,ne,ae,ie,se)=>{const oe=arrowTypesMap[ne];if(!oe){log.warn(`Unknown arrow type: ${ne}`);return}const le=te==="start"?"Start":"End";ee.attr(`marker-${te}`,`url(${ae}#${ie}_${se}-${oe}${le})`)},"addEdgeMarker"),edgeLabels=new Map,terminalLabels=new Map,clear=__name(()=>{edgeLabels.clear(),terminalLabels.clear()},"clear"),getLabelStyles=__name(ee=>ee?ee.reduce((ne,ae)=>ne+";"+ae,""):"","getLabelStyles"),insertEdgeLabel=__name(async(ee,te)=>{let ne=evaluate(getConfig2().flowchart.htmlLabels);const ae=await createText(ee,te.label,{style:getLabelStyles(te.labelStyle),useHtmlLabels:ne,addSvgBackground:!0,isNode:!1});log.info("abc82",te,te.labelType);const ie=ee.insert("g").attr("class","edgeLabel"),se=ie.insert("g").attr("class","label");se.node().appendChild(ae);let oe=ae.getBBox();if(ne){const ce=ae.children[0],he=select(ae);oe=ce.getBoundingClientRect(),he.attr("width",oe.width),he.attr("height",oe.height)}se.attr("transform","translate("+-oe.width/2+", "+-oe.height/2+")"),edgeLabels.set(te.id,ie),te.width=oe.width,te.height=oe.height;let le;if(te.startLabelLeft){const ce=await createLabel_default(te.startLabelLeft,getLabelStyles(te.labelStyle)),he=ee.insert("g").attr("class","edgeTerminals"),fe=he.insert("g").attr("class","inner");le=fe.node().appendChild(ce);const pe=ce.getBBox();fe.attr("transform","translate("+-pe.width/2+", "+-pe.height/2+")"),terminalLabels.get(te.id)||terminalLabels.set(te.id,{}),terminalLabels.get(te.id).startLeft=he,setTerminalWidth(le,te.startLabelLeft)}if(te.startLabelRight){const ce=await createLabel_default(te.startLabelRight,getLabelStyles(te.labelStyle)),he=ee.insert("g").attr("class","edgeTerminals"),fe=he.insert("g").attr("class","inner");le=he.node().appendChild(ce),fe.node().appendChild(ce);const pe=ce.getBBox();fe.attr("transform","translate("+-pe.width/2+", "+-pe.height/2+")"),terminalLabels.get(te.id)||terminalLabels.set(te.id,{}),terminalLabels.get(te.id).startRight=he,setTerminalWidth(le,te.startLabelRight)}if(te.endLabelLeft){const ce=await createLabel_default(te.endLabelLeft,getLabelStyles(te.labelStyle)),he=ee.insert("g").attr("class","edgeTerminals"),fe=he.insert("g").attr("class","inner");le=fe.node().appendChild(ce);const pe=ce.getBBox();fe.attr("transform","translate("+-pe.width/2+", "+-pe.height/2+")"),he.node().appendChild(ce),terminalLabels.get(te.id)||terminalLabels.set(te.id,{}),terminalLabels.get(te.id).endLeft=he,setTerminalWidth(le,te.endLabelLeft)}if(te.endLabelRight){const ce=await createLabel_default(te.endLabelRight,getLabelStyles(te.labelStyle)),he=ee.insert("g").attr("class","edgeTerminals"),fe=he.insert("g").attr("class","inner");le=fe.node().appendChild(ce);const pe=ce.getBBox();fe.attr("transform","translate("+-pe.width/2+", "+-pe.height/2+")"),he.node().appendChild(ce),terminalLabels.get(te.id)||terminalLabels.set(te.id,{}),terminalLabels.get(te.id).endRight=he,setTerminalWidth(le,te.endLabelRight)}return ae},"insertEdgeLabel");function setTerminalWidth(ee,te){getConfig2().flowchart.htmlLabels&&ee&&(ee.style.width=te.length*9+"px",ee.style.height="12px")}__name(setTerminalWidth,"setTerminalWidth");var positionEdgeLabel=__name((ee,te)=>{log.debug("Moving label abc88 ",ee.id,ee.label,edgeLabels.get(ee.id),te);let ne=te.updatedPath?te.updatedPath:te.originalPath;const ae=getConfig2(),{subGraphTitleTotalMargin:ie}=getSubGraphTitleMargins(ae);if(ee.label){const se=edgeLabels.get(ee.id);let oe=ee.x,le=ee.y;if(ne){const ce=utils_default.calcLabelPosition(ne);log.debug("Moving label "+ee.label+" from (",oe,",",le,") to (",ce.x,",",ce.y,") abc88"),te.updatedPath&&(oe=ce.x,le=ce.y)}se.attr("transform",`translate(${oe}, ${le+ie/2})`)}if(ee.startLabelLeft){const se=terminalLabels.get(ee.id).startLeft;let oe=ee.x,le=ee.y;if(ne){const ce=utils_default.calcTerminalLabelPosition(ee.arrowTypeStart?10:0,"start_left",ne);oe=ce.x,le=ce.y}se.attr("transform",`translate(${oe}, ${le})`)}if(ee.startLabelRight){const se=terminalLabels.get(ee.id).startRight;let oe=ee.x,le=ee.y;if(ne){const ce=utils_default.calcTerminalLabelPosition(ee.arrowTypeStart?10:0,"start_right",ne);oe=ce.x,le=ce.y}se.attr("transform",`translate(${oe}, ${le})`)}if(ee.endLabelLeft){const se=terminalLabels.get(ee.id).endLeft;let oe=ee.x,le=ee.y;if(ne){const ce=utils_default.calcTerminalLabelPosition(ee.arrowTypeEnd?10:0,"end_left",ne);oe=ce.x,le=ce.y}se.attr("transform",`translate(${oe}, ${le})`)}if(ee.endLabelRight){const se=terminalLabels.get(ee.id).endRight;let oe=ee.x,le=ee.y;if(ne){const ce=utils_default.calcTerminalLabelPosition(ee.arrowTypeEnd?10:0,"end_right",ne);oe=ce.x,le=ce.y}se.attr("transform",`translate(${oe}, ${le})`)}},"positionEdgeLabel"),outsideNode=__name((ee,te)=>{const ne=ee.x,ae=ee.y,ie=Math.abs(te.x-ne),se=Math.abs(te.y-ae),oe=ee.width/2,le=ee.height/2;return ie>=oe||se>=le},"outsideNode"),intersection=__name((ee,te,ne)=>{log.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(te)}
  insidePoint : ${JSON.stringify(ne)}
  node        : x:${ee.x} y:${ee.y} w:${ee.width} h:${ee.height}`);const ae=ee.x,ie=ee.y,se=Math.abs(ae-ne.x),oe=ee.width/2;let le=ne.x<te.x?oe-se:oe+se;const ce=ee.height/2,he=Math.abs(te.y-ne.y),fe=Math.abs(te.x-ne.x);if(Math.abs(ie-te.y)*oe>Math.abs(ae-te.x)*ce){let pe=ne.y<te.y?te.y-ce-ie:ie-ce-te.y;le=fe*pe/he;const ge={x:ne.x<te.x?ne.x+le:ne.x-fe+le,y:ne.y<te.y?ne.y+he-pe:ne.y-he+pe};return le===0&&(ge.x=te.x,ge.y=te.y),fe===0&&(ge.x=te.x),he===0&&(ge.y=te.y),log.debug(`abc89 top/bottom calc, Q ${he}, q ${pe}, R ${fe}, r ${le}`,ge),ge}else{ne.x<te.x?le=te.x-oe-ae:le=ae-oe-te.x;let pe=he*le/fe,ge=ne.x<te.x?ne.x+fe-le:ne.x-fe+le,ye=ne.y<te.y?ne.y+pe:ne.y-pe;return log.debug(`sides calc abc89, Q ${he}, q ${pe}, R ${fe}, r ${le}`,{_x:ge,_y:ye}),le===0&&(ge=te.x,ye=te.y),fe===0&&(ge=te.x),he===0&&(ye=te.y),{x:ge,y:ye}}},"intersection"),cutPathAtIntersect=__name((ee,te)=>{log.warn("abc88 cutPathAtIntersect",ee,te);let ne=[],ae=ee[0],ie=!1;return ee.forEach(se=>{if(log.info("abc88 checking point",se,te),!outsideNode(te,se)&&!ie){const oe=intersection(te,ae,se);log.debug("abc88 inside",se,ae,oe),log.debug("abc88 intersection",oe,te);let le=!1;ne.forEach(ce=>{le=le||ce.x===oe.x&&ce.y===oe.y}),ne.some(ce=>ce.x===oe.x&&ce.y===oe.y)?log.warn("abc88 no intersect",oe,ne):ne.push(oe),ie=!0}else log.warn("abc88 outside",se,ae),ae=se,ie||ne.push(se)}),log.debug("returning points",ne),ne},"cutPathAtIntersect");function extractCornerPoints(ee){const te=[],ne=[];for(let ae=1;ae<ee.length-1;ae++){const ie=ee[ae-1],se=ee[ae],oe=ee[ae+1];(ie.x===se.x&&se.y===oe.y&&Math.abs(se.x-oe.x)>5&&Math.abs(se.y-ie.y)>5||ie.y===se.y&&se.x===oe.x&&Math.abs(se.x-ie.x)>5&&Math.abs(se.y-oe.y)>5)&&(te.push(se),ne.push(ae))}return{cornerPoints:te,cornerPointPositions:ne}}__name(extractCornerPoints,"extractCornerPoints");var findAdjacentPoint=__name(function(ee,te,ne){const ae=te.x-ee.x,ie=te.y-ee.y,se=Math.sqrt(ae*ae+ie*ie),oe=ne/se;return{x:te.x-oe*ae,y:te.y-oe*ie}},"findAdjacentPoint"),fixCorners=__name(function(ee){const{cornerPointPositions:te}=extractCornerPoints(ee),ne=[];for(let ae=0;ae<ee.length;ae++)if(te.includes(ae)){const ie=ee[ae-1],se=ee[ae+1],oe=ee[ae],le=findAdjacentPoint(ie,oe,5),ce=findAdjacentPoint(se,oe,5),he=ce.x-le.x,fe=ce.y-le.y;ne.push(le);const pe=Math.sqrt(2)*2;let ge={x:oe.x,y:oe.y};if(Math.abs(se.x-ie.x)>10&&Math.abs(se.y-ie.y)>=10){log.debug("Corner point fixing",Math.abs(se.x-ie.x),Math.abs(se.y-ie.y));const ye=5;oe.x===le.x?ge={x:he<0?le.x-ye+pe:le.x+ye-pe,y:fe<0?le.y-pe:le.y+pe}:ge={x:he<0?le.x-pe:le.x+pe,y:fe<0?le.y-ye+pe:le.y+ye-pe}}else log.debug("Corner point skipping fixing",Math.abs(se.x-ie.x),Math.abs(se.y-ie.y));ne.push(ge,ce)}else ne.push(ee[ae]);return ne},"fixCorners"),insertEdge=__name(function(ee,te,ne,ae,ie,se,oe){const{handDrawnSeed:le}=getConfig2();let ce=te.points,he=!1;const fe=ie;var pe=se;pe.intersect&&fe.intersect&&(ce=ce.slice(1,te.points.length-1),ce.unshift(fe.intersect(ce[0])),log.debug("Last point APA12",te.start,"-->",te.end,ce[ce.length-1],pe,pe.intersect(ce[ce.length-1])),ce.push(pe.intersect(ce[ce.length-1]))),te.toCluster&&(log.info("to cluster abc88",ne.get(te.toCluster)),ce=cutPathAtIntersect(te.points,ne.get(te.toCluster).node),he=!0),te.fromCluster&&(log.debug("from cluster abc88",ne.get(te.fromCluster),JSON.stringify(ce,null,2)),ce=cutPathAtIntersect(ce.reverse(),ne.get(te.fromCluster).node).reverse(),he=!0);let ge=ce.filter(Me=>!Number.isNaN(Me.y));ge=fixCorners(ge);let ye=curveBasis;te.curve&&(ye=te.curve);const{x:xe,y:be}=getLineFunctionsWithOffset(te),Se=line$1().x(xe).y(be).curve(ye);let ve;switch(te.thickness){case"normal":ve="edge-thickness-normal";break;case"thick":ve="edge-thickness-thick";break;case"invisible":ve="edge-thickness-invisible";break;default:ve="edge-thickness-normal"}switch(te.pattern){case"solid":ve+=" edge-pattern-solid";break;case"dotted":ve+=" edge-pattern-dotted";break;case"dashed":ve+=" edge-pattern-dashed";break;default:ve+=" edge-pattern-solid"}let Te,Ce=Se(ge);const Pe=Array.isArray(te.style)?te.style:[te.style];if(te.look==="handDrawn"){const Me=at.svg(ee);Object.assign([],ge);const Ge=Me.path(Ce,{roughness:.3,seed:le});ve+=" transition",Te=select(Ge).select("path").attr("id",te.id).attr("class"," "+ve+(te.classes?" "+te.classes:"")).attr("style",Pe?Pe.reduce((Ve,je)=>Ve+";"+je,""):"");let Ue=Te.attr("d");Te.attr("d",Ue),ee.node().appendChild(Te.node())}else Te=ee.append("path").attr("d",Ce).attr("id",te.id).attr("class"," "+ve+(te.classes?" "+te.classes:"")).attr("style",Pe?Pe.reduce((Me,Ge)=>Me+";"+Ge,""):"");let Be="";(getConfig2().flowchart.arrowMarkerAbsolute||getConfig2().state.arrowMarkerAbsolute)&&(Be=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Be=Be.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),log.info("arrowTypeStart",te.arrowTypeStart),log.info("arrowTypeEnd",te.arrowTypeEnd),addEdgeMarkers(Te,te,Be,oe,ae);let Ae={};return he&&(Ae.updatedPath=ce),Ae.originalPath=te.points,Ae},"insertEdge"),insertMarkers=__name((ee,te,ne,ae)=>{te.forEach(ie=>{markers[ie](ee,ne,ae)})},"insertMarkers"),extension=__name((ee,te,ne)=>{log.trace("Making markers for ",ne),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-extensionStart").attr("class","marker extension "+te).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-extensionEnd").attr("class","marker extension "+te).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),composition=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-compositionStart").attr("class","marker composition "+te).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-compositionEnd").attr("class","marker composition "+te).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),aggregation=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-aggregationStart").attr("class","marker aggregation "+te).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-aggregationEnd").attr("class","marker aggregation "+te).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),dependency=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-dependencyStart").attr("class","marker dependency "+te).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-dependencyEnd").attr("class","marker dependency "+te).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),lollipop=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-lollipopStart").attr("class","marker lollipop "+te).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-lollipopEnd").attr("class","marker lollipop "+te).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),point=__name((ee,te,ne)=>{ee.append("marker").attr("id",ne+"_"+te+"-pointEnd").attr("class","marker "+te).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),ee.append("marker").attr("id",ne+"_"+te+"-pointStart").attr("class","marker "+te).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),circle=__name((ee,te,ne)=>{ee.append("marker").attr("id",ne+"_"+te+"-circleEnd").attr("class","marker "+te).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),ee.append("marker").attr("id",ne+"_"+te+"-circleStart").attr("class","marker "+te).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),cross=__name((ee,te,ne)=>{ee.append("marker").attr("id",ne+"_"+te+"-crossEnd").attr("class","marker cross "+te).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),ee.append("marker").attr("id",ne+"_"+te+"-crossStart").attr("class","marker cross "+te).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),barb=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),markers={extension,composition,aggregation,dependency,lollipop,point,circle,cross,barb},markers_default=insertMarkers,internalHelpers={common:common_default,getConfig,insertCluster,insertEdge,insertEdgeLabel,insertMarkers:markers_default,insertNode,interpolateToCurve,labelHelper,log,positionEdgeLabel},layoutAlgorithms={},registerLayoutLoaders=__name(ee=>{for(const te of ee)layoutAlgorithms[te.name]=te},"registerLayoutLoaders"),registerDefaultLayoutLoaders=__name(()=>{registerLayoutLoaders([{name:"dagre",loader:__name(async()=>await __vitePreload(()=>import("./dagre-4EVJKHTY-COc1V311.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")}])},"registerDefaultLayoutLoaders");registerDefaultLayoutLoaders();var render$1=__name(async(ee,te)=>{if(!(ee.layoutAlgorithm in layoutAlgorithms))throw new Error(`Unknown layout algorithm: ${ee.layoutAlgorithm}`);const ne=layoutAlgorithms[ee.layoutAlgorithm];return(await ne.loader()).render(ee,te,internalHelpers,{algorithm:ne.algorithm})},"render"),getRegisteredLayoutAlgorithm=__name((ee="",{fallback:te="dagre"}={})=>{if(ee in layoutAlgorithms)return ee;if(te in layoutAlgorithms)return log.warn(`Layout algorithm ${ee} is not registered. Using ${te} as fallback.`),te;throw new Error(`Both layout algorithms ${ee} and ${te} are not registered.`)},"getRegisteredLayoutAlgorithm"),version="11.4.1",selectSvgElement=__name(ee=>{var ie;const{securityLevel:te}=getConfig2();let ne=select("body");if(te==="sandbox"){const oe=((ie=select(`#i${ee}`).node())==null?void 0:ie.contentDocument)??document;ne=select(oe.body)}return ne.select(`#${ee}`)},"selectSvgElement"),COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",NAMESPACE="@namespace",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(ee){return ee.trim()}function replace(ee,te,ne){return ee.replace(te,ne)}function indexof(ee,te,ne){return ee.indexOf(te,ne)}function charat(ee,te){return ee.charCodeAt(te)|0}function substr(ee,te,ne){return ee.slice(te,ne)}function strlen(ee){return ee.length}function sizeof(ee){return ee.length}function append(ee,te){return te.push(ee),ee}var line=1,column=1,length=0,position=0,character=0,characters="";function node(ee,te,ne,ae,ie,se,oe,le){return{value:ee,root:te,parent:ne,type:ae,props:ie,children:se,line,column,length:oe,return:"",siblings:le}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(ee,te){return substr(characters,ee,te)}function token(ee){switch(ee){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(ee){return line=column=1,length=strlen(characters=ee),position=0,[]}function dealloc(ee){return characters="",ee}function delimit(ee){return trim(slice(position-1,delimiter(ee===91?ee+2:ee===40?ee+1:ee)))}function whitespace(ee){for(;(character=peek())&&character<33;)next();return token(ee)>2||token(character)>3?"":" "}function escaping(ee,te){for(;--te&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(ee,caret()+(te<6&&peek()==32&&next()==32))}function delimiter(ee){for(;next();)switch(character){case ee:return position;case 34:case 39:ee!==34&&ee!==39&&delimiter(character);break;case 40:ee===41&&delimiter(ee);break;case 92:next();break}return position}function commenter(ee,te){for(;next()&&ee+character!==57;)if(ee+character===84&&peek()===47)break;return"/*"+slice(te,position-1)+"*"+from(ee===47?ee:next())}function identifier(ee){for(;!token(peek());)next();return slice(ee,position)}function compile(ee){return dealloc(parse$1("",null,null,null,[""],ee=alloc(ee),0,[0],ee))}function parse$1(ee,te,ne,ae,ie,se,oe,le,ce){for(var he=0,fe=0,pe=oe,ge=0,ye=0,xe=0,be=1,Se=1,ve=1,Te=0,Ce="",Pe=ie,Be=se,Ae=ae,Me=Ce;Se;)switch(xe=Te,Te=next()){case 40:if(xe!=108&&charat(Me,pe-1)==58){indexof(Me+=replace(delimit(Te),"&","&\f"),"&\f",abs(he?le[he-1]:0))!=-1&&(ve=-1);break}case 34:case 39:case 91:Me+=delimit(Te);break;case 9:case 10:case 13:case 32:Me+=whitespace(xe);break;case 92:Me+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),te,ne,ce),ce),(token(xe||1)==5||token(peek()||1)==5)&&strlen(Me)&&substr(Me,-1,void 0)!==" "&&(Me+=" ");break;default:Me+="/"}break;case 123*be:le[he++]=strlen(Me)*ve;case 125*be:case 59:case 0:switch(Te){case 0:case 125:Se=0;case 59+fe:ve==-1&&(Me=replace(Me,/\f/g,"")),ye>0&&(strlen(Me)-pe||be===0&&xe===47)&&append(ye>32?declaration(Me+";",ae,ne,pe-1,ce):declaration(replace(Me," ","")+";",ae,ne,pe-2,ce),ce);break;case 59:Me+=";";default:if(append(Ae=ruleset(Me,te,ne,he,fe,ie,le,Ce,Pe=[],Be=[],pe,se),se),Te===123)if(fe===0)parse$1(Me,te,Ae,Ae,Pe,se,pe,le,Be);else{switch(ge){case 99:if(charat(Me,3)===110)break;case 108:if(charat(Me,2)===97)break;default:fe=0;case 100:case 109:case 115:}fe?parse$1(ee,Ae,Ae,ae&&append(ruleset(ee,Ae,Ae,0,0,ie,le,Ce,ie,Pe=[],pe,Be),Be),ie,Be,pe,le,ae?Pe:Be):parse$1(Me,Ae,Ae,Ae,[""],Be,0,le,Be)}}he=fe=ye=0,be=ve=1,Ce=Me="",pe=oe;break;case 58:pe=1+strlen(Me),ye=xe;default:if(be<1){if(Te==123)--be;else if(Te==125&&be++==0&&prev()==125)continue}switch(Me+=from(Te),Te*be){case 38:ve=fe>0?1:(Me+="\f",-1);break;case 44:le[he++]=(strlen(Me)-1)*ve,ve=1;break;case 64:peek()===45&&(Me+=delimit(next())),ge=peek(),fe=pe=strlen(Ce=Me+=identifier(caret())),Te++;break;case 45:xe===45&&strlen(Me)==2&&(be=0)}}return se}function ruleset(ee,te,ne,ae,ie,se,oe,le,ce,he,fe,pe){for(var ge=ie-1,ye=ie===0?se:[""],xe=sizeof(ye),be=0,Se=0,ve=0;be<ae;++be)for(var Te=0,Ce=substr(ee,ge+1,ge=abs(Se=oe[be])),Pe=ee;Te<xe;++Te)(Pe=trim(Se>0?ye[Te]+" "+Ce:replace(Ce,/&\f/g,ye[Te])))&&(ce[ve++]=Pe);return node(ee,te,ne,ie===0?RULESET:le,ce,he,fe,pe)}function comment(ee,te,ne,ae){return node(ee,te,ne,COMMENT,from(char()),substr(ee,2,-2),0,ae)}function declaration(ee,te,ne,ae,ie){return node(ee,te,ne,DECLARATION,substr(ee,0,ae),substr(ee,ae+1,-1),ae,ie)}function serialize(ee,te){for(var ne="",ae=0;ae<ee.length;ae++)ne+=te(ee[ae],ae,ee,te)||"";return ne}function stringify(ee,te,ne,ae){switch(ee.type){case LAYER:if(ee.children.length)break;case IMPORT:case NAMESPACE:case DECLARATION:return ee.return=ee.return||ee.value;case COMMENT:return"";case KEYFRAMES:return ee.return=ee.value+"{"+serialize(ee.children,ae)+"}";case RULESET:if(!strlen(ee.value=ee.props.join(",")))return""}return strlen(ne=serialize(ee.children,ae))?ee.return=ee.value+"{"+ne+"}":""}var nativeKeys=overArg(Object.keys,Object),objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseKeys(ee){if(!isPrototype(ee))return nativeKeys(ee);var te=[];for(var ne in Object(ee))hasOwnProperty$1.call(ee,ne)&&ne!="constructor"&&te.push(ne);return te}var DataView$1=getNative(root$1,"DataView"),Promise$1=getNative(root$1,"Promise"),Set$1=getNative(root$1,"Set"),WeakMap$1=getNative(root$1,"WeakMap"),mapTag$1="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(ee){var te=baseGetTag(ee),ne=te==objectTag?ee.constructor:void 0,ae=ne?toSource(ne):"";if(ae)switch(ae){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return te});var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(ee){if(ee==null)return!0;if(isArrayLike(ee)&&(isArray(ee)||typeof ee=="string"||typeof ee.splice=="function"||isBuffer(ee)||isTypedArray(ee)||isArguments(ee)))return!ee.length;var te=getTag(ee);if(te==mapTag||te==setTag)return!ee.size;if(isPrototype(ee))return!baseKeys(ee).length;for(var ne in ee)if(hasOwnProperty.call(ee,ne))return!1;return!0}var id="c4",detector=__name(ee=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(ee),"detector"),loader=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./c4Diagram-6F5ED5ID-DeFXYuLM.js");return{diagram:te}},__vite__mapDeps([6,7]));return{id,diagram:ee}},"loader"),plugin={id,detector,loader},c4Detector_default=plugin,id2="flowchart",detector2=__name((ee,te)=>{var ne,ae;return((ne=te==null?void 0:te.flowchart)==null?void 0:ne.defaultRenderer)==="dagre-wrapper"||((ae=te==null?void 0:te.flowchart)==null?void 0:ae.defaultRenderer)==="elk"?!1:/^\s*graph/.test(ee)},"detector"),loader2=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./flowDiagram-7ASYPVHJ-DdGkzYDO.js");return{diagram:te}},__vite__mapDeps([8,9,10]));return{id:id2,diagram:ee}},"loader"),plugin2={id:id2,detector:detector2,loader:loader2},flowDetector_default=plugin2,id3="flowchart-v2",detector3=__name((ee,te)=>{var ne,ae,ie;return((ne=te==null?void 0:te.flowchart)==null?void 0:ne.defaultRenderer)==="dagre-d3"?!1:(((ae=te==null?void 0:te.flowchart)==null?void 0:ae.defaultRenderer)==="elk"&&(te.layout="elk"),/^\s*graph/.test(ee)&&((ie=te==null?void 0:te.flowchart)==null?void 0:ie.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(ee))},"detector"),loader3=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./flowDiagram-7ASYPVHJ-DdGkzYDO.js");return{diagram:te}},__vite__mapDeps([8,9,10]));return{id:id3,diagram:ee}},"loader"),plugin3={id:id3,detector:detector3,loader:loader3},flowDetector_v2_default=plugin3,id4="er",detector4=__name(ee=>/^\s*erDiagram/.test(ee),"detector"),loader4=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./erDiagram-6RL3IURR-Le2ct7Z1.js");return{diagram:te}},__vite__mapDeps([11,1,2,3,4]));return{id:id4,diagram:ee}},"loader"),plugin4={id:id4,detector:detector4,loader:loader4},erDetector_default=plugin4,id5="gitGraph",detector5=__name(ee=>/^\s*gitGraph/.test(ee),"detector"),loader5=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./gitGraphDiagram-NRZ2UAAF-B1zUoHlE.js");return{diagram:te}},__vite__mapDeps([12,13,14,15,2,4,5]));return{id:id5,diagram:ee}},"loader"),plugin5={id:id5,detector:detector5,loader:loader5},gitGraphDetector_default=plugin5,id6="gantt",detector6=__name(ee=>/^\s*gantt/.test(ee),"detector"),loader6=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./ganttDiagram-NTVNEXSI-DHer1oSA.js");return{diagram:te}},__vite__mapDeps([16,17,18]));return{id:id6,diagram:ee}},"loader"),plugin6={id:id6,detector:detector6,loader:loader6},ganttDetector_default=plugin6,id7="info",detector7=__name(ee=>/^\s*info/.test(ee),"detector"),loader7=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./infoDiagram-A4XQUW5V--k7otcNt.js");return{diagram:te}},__vite__mapDeps([19,15,2,4,5]));return{id:id7,diagram:ee}},"loader"),info={id:id7,detector:detector7,loader:loader7},id8="pie",detector8=__name(ee=>/^\s*pie/.test(ee),"detector"),loader8=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./pieDiagram-YF2LJOPJ-BJ7Gkulp.js");return{diagram:te}},__vite__mapDeps([20,13,15,2,4,5,21,22,18]));return{id:id8,diagram:ee}},"loader"),pie={id:id8,detector:detector8,loader:loader8},id9="quadrantChart",detector9=__name(ee=>/^\s*quadrantChart/.test(ee),"detector"),loader9=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./quadrantDiagram-OS5C2QUG-D2TsaX0j.js");return{diagram:te}},__vite__mapDeps([23,17,18]));return{id:id9,diagram:ee}},"loader"),plugin7={id:id9,detector:detector9,loader:loader9},quadrantDetector_default=plugin7,id10="xychart",detector10=__name(ee=>/^\s*xychart-beta/.test(ee),"detector"),loader10=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./xychartDiagram-6QU3TZC5-H1PmjuJs.js");return{diagram:te}},__vite__mapDeps([24,18,22,17]));return{id:id10,diagram:ee}},"loader"),plugin8={id:id10,detector:detector10,loader:loader10},xychartDetector_default=plugin8,id11="requirement",detector11=__name(ee=>/^\s*requirement(Diagram)?/.test(ee),"detector"),loader11=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./requirementDiagram-MIRIMTAZ-DtQd3eEd.js");return{diagram:te}},__vite__mapDeps([25,1,2,3,4]));return{id:id11,diagram:ee}},"loader"),plugin9={id:id11,detector:detector11,loader:loader11},requirementDetector_default=plugin9,id12="sequence",detector12=__name(ee=>/^\s*sequenceDiagram/.test(ee),"detector"),loader12=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./sequenceDiagram-G6AWOVSC-ClZyoJ68.js");return{diagram:te}},__vite__mapDeps([26,7,14]));return{id:id12,diagram:ee}},"loader"),plugin10={id:id12,detector:detector12,loader:loader12},sequenceDetector_default=plugin10,id13="class",detector13=__name((ee,te)=>{var ne;return((ne=te==null?void 0:te.class)==null?void 0:ne.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(ee)},"detector"),loader13=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./classDiagram-LNE6IOMH-Cp6o7nK8.js");return{diagram:te}},__vite__mapDeps([27,28,9]));return{id:id13,diagram:ee}},"loader"),plugin11={id:id13,detector:detector13,loader:loader13},classDetector_default=plugin11,id14="classDiagram",detector14=__name((ee,te)=>{var ne;return/^\s*classDiagram/.test(ee)&&((ne=te==null?void 0:te.class)==null?void 0:ne.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(ee)},"detector"),loader14=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./classDiagram-v2-MQ7JQ4JX-Cp6o7nK8.js");return{diagram:te}},__vite__mapDeps([29,28,9]));return{id:id14,diagram:ee}},"loader"),plugin12={id:id14,detector:detector14,loader:loader14},classDetector_V2_default=plugin12,id15="state",detector15=__name((ee,te)=>{var ne;return((ne=te==null?void 0:te.state)==null?void 0:ne.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(ee)},"detector"),loader15=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./stateDiagram-MAYHULR4-B50MOICp.js");return{diagram:te}},__vite__mapDeps([30,31,9,1,2,3,4]));return{id:id15,diagram:ee}},"loader"),plugin13={id:id15,detector:detector15,loader:loader15},stateDetector_default=plugin13,id16="stateDiagram",detector16=__name((ee,te)=>{var ne;return!!(/^\s*stateDiagram-v2/.test(ee)||/^\s*stateDiagram/.test(ee)&&((ne=te==null?void 0:te.state)==null?void 0:ne.defaultRenderer)==="dagre-wrapper")},"detector"),loader16=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./stateDiagram-v2-4JROLMXI-b941QvXL.js");return{diagram:te}},__vite__mapDeps([32,31,9]));return{id:id16,diagram:ee}},"loader"),plugin14={id:id16,detector:detector16,loader:loader16},stateDetector_V2_default=plugin14,id17="journey",detector17=__name(ee=>/^\s*journey/.test(ee),"detector"),loader17=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./journeyDiagram-G5WM74LC-Cnn-ODUJ.js");return{diagram:te}},__vite__mapDeps([33,7,21]));return{id:id17,diagram:ee}},"loader"),plugin15={id:id17,detector:detector17,loader:loader17},journeyDetector_default=plugin15,draw=__name((ee,te,ne)=>{log.debug(`rendering svg for syntax error
`);const ae=selectSvgElement(te),ie=ae.append("g");ae.attr("viewBox","0 0 2412 512"),configureSvgSize(ae,100,512,!0),ie.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),ie.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),ie.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),ie.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),ie.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),ie.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),ie.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),ie.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${ne}`)},"draw"),renderer={draw},errorRenderer_default=renderer,diagram={db:{},renderer,parser:{parse:__name(()=>{},"parse")}},errorDiagram_default=diagram,id18="flowchart-elk",detector18=__name((ee,te={})=>{var ne;return/^\s*flowchart-elk/.test(ee)||/^\s*flowchart|graph/.test(ee)&&((ne=te==null?void 0:te.flowchart)==null?void 0:ne.defaultRenderer)==="elk"?(te.layout="elk",!0):!1},"detector"),loader18=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./flowDiagram-7ASYPVHJ-DdGkzYDO.js");return{diagram:te}},__vite__mapDeps([8,9,10]));return{id:id18,diagram:ee}},"loader"),plugin16={id:id18,detector:detector18,loader:loader18},detector_default=plugin16,id19="timeline",detector19=__name(ee=>/^\s*timeline/.test(ee),"detector"),loader19=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./timeline-definition-U7ZMHBDA-CSgoyS0F.js");return{diagram:te}},__vite__mapDeps([34,21]));return{id:id19,diagram:ee}},"loader"),plugin17={id:id19,detector:detector19,loader:loader19},detector_default2=plugin17,id20="mindmap",detector20=__name(ee=>/^\s*mindmap/.test(ee),"detector"),loader20=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./mindmap-definition-GWI6TPTV-_gtlj1a6.js");return{diagram:te}},__vite__mapDeps([35,36]));return{id:id20,diagram:ee}},"loader"),plugin18={id:id20,detector:detector20,loader:loader20},detector_default3=plugin18,id21="kanban",detector21=__name(ee=>/^\s*kanban/.test(ee),"detector"),loader21=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./kanban-definition-QRCXZQQD-DoMmpyiG.js");return{diagram:te}},[]);return{id:id21,diagram:ee}},"loader"),plugin19={id:id21,detector:detector21,loader:loader21},detector_default4=plugin19,id22="sankey",detector22=__name(ee=>/^\s*sankey-beta/.test(ee),"detector"),loader22=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./sankeyDiagram-Y46BX6SQ-CFHocR8d.js");return{diagram:te}},__vite__mapDeps([37,22,18]));return{id:id22,diagram:ee}},"loader"),plugin20={id:id22,detector:detector22,loader:loader22},sankeyDetector_default=plugin20,id23="packet",detector23=__name(ee=>/^\s*packet-beta/.test(ee),"detector"),loader23=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./diagram-QW4FP2JN-BQYfWc8x.js");return{diagram:te}},__vite__mapDeps([38,13,15,2,4,5]));return{id:id23,diagram:ee}},"loader"),packet={id:id23,detector:detector23,loader:loader23},id24="block",detector24=__name(ee=>/^\s*block-beta/.test(ee),"detector"),loader24=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./blockDiagram-ZHA2E4KO-D8zH_BXO.js");return{diagram:te}},__vite__mapDeps([39,5,2,1,10]));return{id:id24,diagram:ee}},"loader"),plugin21={id:id24,detector:detector24,loader:loader24},blockDetector_default=plugin21,id25="architecture",detector25=__name(ee=>/^\s*architecture/.test(ee),"detector"),loader25=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./architectureDiagram-UYN6MBPD-BihYGYVy.js");return{diagram:te}},__vite__mapDeps([40,13,14,15,2,4,5,36]));return{id:id25,diagram:ee}},"loader"),architecture={id:id25,detector:detector25,loader:loader25},architectureDetector_default=architecture,hasLoadedDiagrams=!1,addDiagrams=__name(()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",errorDiagram_default,ee=>ee.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:__name(()=>{},"clear")},styles:{},renderer:{draw:__name(()=>{},"draw")},parser:{parse:__name(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:__name(()=>null,"init")},ee=>ee.toLowerCase().trimStart().startsWith("---")),registerLazyLoadedDiagrams(c4Detector_default,detector_default4,classDetector_V2_default,classDetector_default,erDetector_default,ganttDetector_default,info,pie,requirementDetector_default,sequenceDetector_default,detector_default,flowDetector_v2_default,flowDetector_default,detector_default3,detector_default2,gitGraphDetector_default,stateDetector_V2_default,stateDetector_default,journeyDetector_default,quadrantDetector_default,sankeyDetector_default,packet,xychartDetector_default,blockDetector_default,architectureDetector_default))},"addDiagrams"),loadRegisteredDiagrams=__name(async()=>{log.debug("Loading registered diagrams");const te=(await Promise.allSettled(Object.entries(detectors).map(async([ne,{detector:ae,loader:ie}])=>{if(ie)try{getDiagram(ne)}catch{try{const{diagram:se,id:oe}=await ie();registerDiagram(oe,se,ae)}catch(se){throw log.error(`Failed to load external diagram with key ${ne}. Removing from detectors.`),delete detectors[ne],se}}}))).filter(ne=>ne.status==="rejected");if(te.length>0){log.error(`Failed to load ${te.length} external diagrams`);for(const ne of te)log.error(ne);throw new Error(`Failed to load ${te.length} external diagrams`)}},"loadRegisteredDiagrams"),SVG_ROLE="graphics-document document";function setA11yDiagramInfo(ee,te){ee.attr("role",SVG_ROLE),te!==""&&ee.attr("aria-roledescription",te)}__name(setA11yDiagramInfo,"setA11yDiagramInfo");function addSVGa11yTitleDescription(ee,te,ne,ae){if(ee.insert!==void 0){if(ne){const ie=`chart-desc-${ae}`;ee.attr("aria-describedby",ie),ee.insert("desc",":first-child").attr("id",ie).text(ne)}if(te){const ie=`chart-title-${ae}`;ee.attr("aria-labelledby",ie),ee.insert("title",":first-child").attr("id",ie).text(te)}}}__name(addSVGa11yTitleDescription,"addSVGa11yTitleDescription");var $a,Diagram=($a=class{constructor(te,ne,ae,ie,se){this.type=te,this.text=ne,this.db=ae,this.parser=ie,this.renderer=se}static async fromText(te,ne={}){var he,fe;const ae=getConfig(),ie=detectType$1(te,ae);te=encodeEntities(te)+`
`;try{getDiagram(ie)}catch{const pe=getDiagramLoader(ie);if(!pe)throw new UnknownDiagramError(`Diagram ${ie} not found.`);const{id:ge,diagram:ye}=await pe();registerDiagram(ge,ye)}const{db:se,parser:oe,renderer:le,init:ce}=getDiagram(ie);return oe.parser&&(oe.parser.yy=se),(he=se.clear)==null||he.call(se),ce==null||ce(ae),ne.title&&((fe=se.setDiagramTitle)==null||fe.call(se,ne.title)),await oe.parse(te),new $a(ie,te,se,oe,le)}async render(te,ne){await this.renderer.draw(this.text,te,ne,this)}getParser(){return this.parser}getType(){return this.type}},__name($a,"Diagram"),$a),interactionFunctions=[],attachFunctions=__name(()=>{interactionFunctions.forEach(ee=>{ee()}),interactionFunctions=[]},"attachFunctions"),cleanupComments=__name(ee=>ee.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function extractFrontMatter(ee){const te=ee.match(frontMatterRegex);if(!te)return{text:ee,metadata:{}};let ne=load(te[1],{schema:JSON_SCHEMA})??{};ne=typeof ne=="object"&&!Array.isArray(ne)?ne:{};const ae={};return ne.displayMode&&(ae.displayMode=ne.displayMode.toString()),ne.title&&(ae.title=ne.title.toString()),ne.config&&(ae.config=ne.config),{text:ee.slice(te[0].length),metadata:ae}}__name(extractFrontMatter,"extractFrontMatter");var cleanupText=__name(ee=>ee.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(te,ne,ae)=>"<"+ne+ae.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),processFrontmatter=__name(ee=>{const{text:te,metadata:ne}=extractFrontMatter(ee),{displayMode:ae,title:ie,config:se={}}=ne;return ae&&(se.gantt||(se.gantt={}),se.gantt.displayMode=ae),{title:ie,config:se,text:te}},"processFrontmatter"),processDirectives=__name(ee=>{const te=utils_default.detectInit(ee)??{},ne=utils_default.detectDirective(ee,"wrap");return Array.isArray(ne)?te.wrap=ne.some(({type:ae})=>ae==="wrap"):(ne==null?void 0:ne.type)==="wrap"&&(te.wrap=!0),{text:removeDirectives(ee),directive:te}},"processDirectives");function preprocessDiagram(ee){const te=cleanupText(ee),ne=processFrontmatter(te),ae=processDirectives(ne.text),ie=cleanAndMerge(ne.config,ae.directive);return ee=cleanupComments(ae.text),{code:ee,title:ne.title,config:ie}}__name(preprocessDiagram,"preprocessDiagram");function toBase64(ee){const te=new TextEncoder().encode(ee),ne=Array.from(te,ae=>String.fromCodePoint(ae)).join("");return btoa(ne)}__name(toBase64,"toBase64");var MAX_TEXTLENGTH=5e4,MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(ee){const te=preprocessDiagram(ee);return reset(),addDirective(te.config??{}),te}__name(processAndSetConfigs,"processAndSetConfigs");async function parse(ee,te){addDiagrams();try{const{code:ne,config:ae}=processAndSetConfigs(ee);return{diagramType:(await getDiagramFromText(ne)).type,config:ae}}catch(ne){if(te!=null&&te.suppressErrors)return!1;throw ne}}__name(parse,"parse");var cssImportantStyles=__name((ee,te,ne=[])=>`
.${ee} ${te} { ${ne.join(" !important; ")} !important; }`,"cssImportantStyles"),createCssStyles=__name((ee,te=new Map)=>{var ae;let ne="";if(ee.themeCSS!==void 0&&(ne+=`
${ee.themeCSS}`),ee.fontFamily!==void 0&&(ne+=`
:root { --mermaid-font-family: ${ee.fontFamily}}`),ee.altFontFamily!==void 0&&(ne+=`
:root { --mermaid-alt-font-family: ${ee.altFontFamily}}`),te instanceof Map){const le=ee.htmlLabels??((ae=ee.flowchart)==null?void 0:ae.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];te.forEach(ce=>{isEmpty(ce.styles)||le.forEach(he=>{ne+=cssImportantStyles(ce.id,he,ce.styles)}),isEmpty(ce.textStyles)||(ne+=cssImportantStyles(ce.id,"tspan",((ce==null?void 0:ce.textStyles)||[]).map(he=>he.replace("color","fill"))))})}return ne},"createCssStyles"),createUserStyles=__name((ee,te,ne,ae)=>{const ie=createCssStyles(ee,ne),se=styles_default(te,ie,ee.themeVariables);return serialize(compile(`${ae}{${se}}`),stringify)},"createUserStyles"),cleanUpSvgCode=__name((ee="",te,ne)=>{let ae=ee;return!ne&&!te&&(ae=ae.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),ae=decodeEntities(ae),ae=ae.replace(/<br>/g,"<br/>"),ae},"cleanUpSvgCode"),putIntoIFrame=__name((ee="",te)=>{var ie,se;const ne=(se=(ie=te==null?void 0:te.viewBox)==null?void 0:ie.baseVal)!=null&&se.height?te.viewBox.baseVal.height+"px":IFRAME_HEIGHT,ae=toBase64(`<body style="${IFRAME_BODY_STYLE}">${ee}</body>`);return`<iframe style="width:${IFRAME_WIDTH};height:${ne};${IFRAME_STYLES}" src="data:text/html;charset=UTF-8;base64,${ae}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},"putIntoIFrame"),appendDivSvgG=__name((ee,te,ne,ae,ie)=>{const se=ee.append("div");se.attr("id",ne),ae&&se.attr("style",ae);const oe=se.append("svg").attr("id",te).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return ie&&oe.attr("xmlns:xlink",ie),oe.append("g"),ee},"appendDivSvgG");function sandboxedIframe(ee,te){return ee.append("iframe").attr("id",te).attr("style","width: 100%; height: 100%;").attr("sandbox","")}__name(sandboxedIframe,"sandboxedIframe");var removeExistingElements=__name((ee,te,ne,ae)=>{var ie,se,oe;(ie=ee.getElementById(te))==null||ie.remove(),(se=ee.getElementById(ne))==null||se.remove(),(oe=ee.getElementById(ae))==null||oe.remove()},"removeExistingElements"),render=__name(async function(ee,te,ne){var De,Ye,ke,$e,Oe,He;addDiagrams();const ae=processAndSetConfigs(te);te=ae.code;const ie=getConfig();log.debug(ie),te.length>((ie==null?void 0:ie.maxTextSize)??MAX_TEXTLENGTH)&&(te=MAX_TEXTLENGTH_EXCEEDED_MSG);const se="#"+ee,oe="i"+ee,le="#"+oe,ce="d"+ee,he="#"+ce,fe=__name(()=>{const Xe=select(ge?le:he).node();Xe&&"remove"in Xe&&Xe.remove()},"removeTempElements");let pe=select("body");const ge=ie.securityLevel===SECURITY_LVL_SANDBOX,ye=ie.securityLevel===SECURITY_LVL_LOOSE,xe=ie.fontFamily;if(ne!==void 0){if(ne&&(ne.innerHTML=""),ge){const qe=sandboxedIframe(select(ne),oe);pe=select(qe.nodes()[0].contentDocument.body),pe.node().style.margin=0}else pe=select(ne);appendDivSvgG(pe,ee,ce,`font-family: ${xe}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,ee,ce,oe),ge){const qe=sandboxedIframe(select("body"),oe);pe=select(qe.nodes()[0].contentDocument.body),pe.node().style.margin=0}else pe=select("body");appendDivSvgG(pe,ee,ce)}let be,Se;try{be=await Diagram.fromText(te,{title:ae.title})}catch(qe){if(ie.suppressErrorRendering)throw fe(),qe;be=await Diagram.fromText("error"),Se=qe}const ve=pe.select(he).node(),Te=be.type,Ce=ve.firstChild,Pe=Ce.firstChild,Be=(Ye=(De=be.renderer).getClasses)==null?void 0:Ye.call(De,te,be),Ae=createUserStyles(ie,Te,Be,se),Me=document.createElement("style");Me.innerHTML=Ae,Ce.insertBefore(Me,Pe);try{await be.renderer.draw(te,ee,version,be)}catch(qe){throw ie.suppressErrorRendering?fe():errorRenderer_default.draw(te,ee,version),qe}const Ge=pe.select(`${he} svg`),Ue=($e=(ke=be.db).getAccTitle)==null?void 0:$e.call(ke),Ve=(He=(Oe=be.db).getAccDescription)==null?void 0:He.call(Oe);addA11yInfo(Te,Ge,Ue,Ve),pe.select(`[id="${ee}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let je=pe.select(he).node().innerHTML;if(log.debug("config.arrowMarkerAbsolute",ie.arrowMarkerAbsolute),je=cleanUpSvgCode(je,ge,evaluate(ie.arrowMarkerAbsolute)),ge){const qe=pe.select(he+" svg").node();je=putIntoIFrame(je,qe)}else ye||(je=purify.sanitize(je,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(attachFunctions(),Se)throw Se;return fe(),{diagramType:Te,svg:je,bindFunctions:be.db.bindFunctions}},"render");function initialize(ee={}){var ae;const te=assignWithDepth_default({},ee);te!=null&&te.fontFamily&&!((ae=te.themeVariables)!=null&&ae.fontFamily)&&(te.themeVariables||(te.themeVariables={}),te.themeVariables.fontFamily=te.fontFamily),saveConfigFromInitialize(te),te!=null&&te.theme&&te.theme in themes_default?te.themeVariables=themes_default[te.theme].getThemeVariables(te.themeVariables):te&&(te.themeVariables=themes_default.default.getThemeVariables(te.themeVariables));const ne=typeof te=="object"?setSiteConfig(te):getSiteConfig();setLogLevel(ne.logLevel),addDiagrams()}__name(initialize,"initialize");var getDiagramFromText=__name((ee,te={})=>{const{code:ne}=preprocessDiagram(ee);return Diagram.fromText(ne,te)},"getDiagramFromText");function addA11yInfo(ee,te,ne,ae){setA11yDiagramInfo(te,ee),addSVGa11yTitleDescription(te,ne,ae,te.attr("id"))}__name(addA11yInfo,"addA11yInfo");var mermaidAPI=Object.freeze({render,parse,getDiagramFromText,initialize,getConfig,setConfig,getSiteConfig,updateSiteConfig,reset:__name(()=>{reset()},"reset"),globalReset:__name(()=>{reset(defaultConfig)},"globalReset"),defaultConfig});setLogLevel(getConfig().logLevel);reset(getConfig());var handleError=__name((ee,te,ne)=>{log.warn(ee),isDetailedError(ee)?(ne&&ne(ee.str,ee.hash),te.push({...ee,message:ee.str,error:ee})):(ne&&ne(ee),ee instanceof Error&&te.push({str:ee.message,message:ee.message,hash:ee.name,error:ee}))},"handleError"),run=__name(async function(ee={querySelector:".mermaid"}){try{await runThrowsErrors(ee)}catch(te){if(isDetailedError(te)&&log.error(te.str),mermaid.parseError&&mermaid.parseError(te),!ee.suppressErrors)throw log.error("Use the suppressErrors option to suppress these errors"),te}},"run"),runThrowsErrors=__name(async function({postRenderCallback:ee,querySelector:te,nodes:ne}={querySelector:".mermaid"}){const ae=mermaidAPI.getConfig();log.debug(`${ee?"":"No "}Callback function found`);let ie;if(ne)ie=ne;else if(te)ie=document.querySelectorAll(te);else throw new Error("Nodes and querySelector are both undefined");log.debug(`Found ${ie.length} diagrams`),(ae==null?void 0:ae.startOnLoad)!==void 0&&(log.debug("Start On Load: "+(ae==null?void 0:ae.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:ae==null?void 0:ae.startOnLoad}));const se=new utils_default.InitIDGenerator(ae.deterministicIds,ae.deterministicIDSeed);let oe;const le=[];for(const ce of Array.from(ie)){if(log.info("Rendering diagram: "+ce.id),ce.getAttribute("data-processed"))continue;ce.setAttribute("data-processed","true");const he=`mermaid-${se.next()}`;oe=ce.innerHTML,oe=dedent(utils_default.entityDecode(oe)).trim().replace(/<br\s*\/?>/gi,"<br/>");const fe=utils_default.detectInit(oe);fe&&log.debug("Detected early reinit: ",fe);try{const{svg:pe,bindFunctions:ge}=await render2(he,oe,ce);ce.innerHTML=pe,ee&&await ee(he),ge&&ge(ce)}catch(pe){handleError(pe,le,mermaid.parseError)}}if(le.length>0)throw le[0]},"runThrowsErrors"),initialize2=__name(function(ee){mermaidAPI.initialize(ee)},"initialize"),init=__name(async function(ee,te,ne){log.warn("mermaid.init is deprecated. Please use run instead."),ee&&initialize2(ee);const ae={postRenderCallback:ne,querySelector:".mermaid"};typeof te=="string"?ae.querySelector=te:te&&(te instanceof HTMLElement?ae.nodes=[te]:ae.nodes=te),await run(ae)},"init"),registerExternalDiagrams=__name(async(ee,{lazyLoad:te=!0}={})=>{addDiagrams(),registerLazyLoadedDiagrams(...ee),te===!1&&await loadRegisteredDiagrams()},"registerExternalDiagrams"),contentLoaded=__name(function(){if(mermaid.startOnLoad){const{startOnLoad:ee}=mermaidAPI.getConfig();ee&&mermaid.run().catch(te=>log.error("Mermaid failed to initialize",te))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",contentLoaded,!1);var setParseErrorHandler=__name(function(ee){mermaid.parseError=ee},"setParseErrorHandler"),executionQueue=[],executionQueueRunning=!1,executeQueue=__name(async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const ee=executionQueue.shift();if(ee)try{await ee()}catch(te){log.error("Error executing queue",te)}}executionQueueRunning=!1}},"executeQueue"),parse2=__name(async(ee,te)=>new Promise((ne,ae)=>{const ie=__name(()=>new Promise((se,oe)=>{mermaidAPI.parse(ee,te).then(le=>{se(le),ne(le)},le=>{var ce;log.error("Error parsing",le),(ce=mermaid.parseError)==null||ce.call(mermaid,le),oe(le),ae(le)})}),"performCall");executionQueue.push(ie),executeQueue().catch(ae)}),"parse"),render2=__name((ee,te,ne)=>new Promise((ae,ie)=>{const se=__name(()=>new Promise((oe,le)=>{mermaidAPI.render(ee,te,ne).then(ce=>{oe(ce),ae(ce)},ce=>{var he;log.error("Error parsing",ce),(he=mermaid.parseError)==null||he.call(mermaid,ce),le(ce),ie(ce)})}),"performCall");executionQueue.push(se),executeQueue().catch(ie)}),"render"),mermaid={startOnLoad:!0,mermaidAPI,parse:parse2,render:render2,init,run,registerExternalDiagrams,registerLayoutLoaders,initialize:initialize2,parseError:void 0,contentLoaded,setParseErrorHandler,detectType:detectType$1,registerIconPacks},mermaid_default=mermaid;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const OPFSImage=({src:ee,alt:te,className:ne,...ae})=>{const[ie,se]=reactExports.useState(null),[oe,le]=reactExports.useState(!0),[ce,he]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!ee)return;if(ee.startsWith("http")||ee.startsWith("data:")){se(ee),le(!1);return}let fe=!0,pe=null;return(async()=>{try{le(!0);const ye=ee.startsWith("/")?ee:`/${ee}`;pe=await fileSystem.getFileUrl(ye),fe&&(se(pe),le(!1))}catch(ye){console.error(`Failed to load image ${ee}:`,ye),fe&&(he(!0),le(!1))}})(),()=>{fe=!1,pe&&URL.revokeObjectURL(pe)}},[ee]),oe?jsxRuntimeExports.jsx("div",{className:`flex items-center justify-center bg-gray-800 rounded animate-pulse ${ne}`,style:{minHeight:"100px"},children:jsxRuntimeExports.jsx(Image$1,{className:"w-6 h-6 text-gray-500 animate-spin"})}):ce?jsxRuntimeExports.jsxs("div",{className:`flex flex-col items-center justify-center bg-gray-800 border border-red-900/50 rounded p-4 ${ne}`,children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-6 h-6 text-red-500 mb-2"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-400",children:["Image not found: ",ee]})]}):jsxRuntimeExports.jsx("img",{src:ie,alt:te,className:ne,...ae})};SyntaxHighlighter.registerLanguage("typescript",typescript);SyntaxHighlighter.registerLanguage("javascript",javascript);SyntaxHighlighter.registerLanguage("python",python);SyntaxHighlighter.registerLanguage("json",json$1);SyntaxHighlighter.registerLanguage("bash",bash);SyntaxHighlighter.registerLanguage("markdown",markdown);SyntaxHighlighter.registerLanguage("css",css);mermaid_default.initialize({startOnLoad:!1,theme:"dark",securityLevel:"loose"});const MermaidChart=React.memo(({code:ee})=>{const te=reactExports.useRef(null),[ne,ae]=reactExports.useState(""),[ie,se]=reactExports.useState(null);return reactExports.useEffect(()=>{let oe=!0;if(te.current){se(null);let le=ee;le=le.replace(/\[(.*?)\]/g,(he,fe)=>{if(fe.includes("(")||fe.includes(")")){const pe=fe.trim();if(!pe.startsWith('"')&&!pe.startsWith("'"))return`["${fe}"]`}return he}),le=le.replace(/(\])(\s*)(end\b)/g,`$1
$3`);const ce=`mermaid-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;mermaid_default.render(ce,le).then(he=>{oe&&ae(he.svg)}).catch(he=>{oe&&(console.error("Mermaid Render Error",he),se(he.message||"Unknown rendering error"))})}return()=>{oe=!1}},[ee]),ie?jsxRuntimeExports.jsxs("div",{className:"my-4 p-4 rounded-lg border border-red-800 bg-red-900/10 font-mono text-xs",children:[jsxRuntimeExports.jsx("div",{className:"text-red-400 font-bold mb-2",children:"Mermaid Render Error"}),jsxRuntimeExports.jsx("div",{className:"text-red-300 mb-4 whitespace-pre-wrap",children:ie}),jsxRuntimeExports.jsxs("details",{children:[jsxRuntimeExports.jsx("summary",{className:"text-gray-500 cursor-pointer hover:text-gray-300 transition-colors",children:"Show Raw Code"}),jsxRuntimeExports.jsx("pre",{className:"mt-2 bg-gray-950 p-3 rounded overflow-x-auto text-gray-400 border border-gray-800",children:ee})]})]}):jsxRuntimeExports.jsx("div",{className:"my-4 bg-gray-950 p-4 rounded-lg overflow-x-auto border border-gray-800 flex justify-center",ref:te,children:jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:ne}})})}),MarkdownRenderer=React.memo(({content:ee})=>{const te=reactExports.useMemo(()=>({pre:({children:ne})=>{const ae=React.isValidElement(ne)?ne:null,ie=ae?ae.props:{},se=ie.className||"",oe=String(ie.children||ne).replace(/\n$/,""),le=/language-(\w+)/.exec(se||""),ce=le?le[1]:null;return ce==="mermaid"?jsxRuntimeExports.jsx(MermaidChart,{code:oe}):jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 rounded-md my-4 overflow-hidden border border-gray-700 shadow-sm group/code",children:[ce&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/80 backdrop-blur px-3 py-1.5 text-xs text-gray-400 border-b border-gray-700 flex justify-between items-center select-none",children:[jsxRuntimeExports.jsx("span",{className:"font-mono font-medium",children:ce}),jsxRuntimeExports.jsx("button",{onClick:()=>navigator.clipboard.writeText(oe),className:"opacity-0 group-hover/code:opacity-100 transition-opacity p-1 hover:text-white",children:jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3"})})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto max-h-[600px] custom-scrollbar",children:jsxRuntimeExports.jsx(SyntaxHighlighter,{style:vscDarkPlus,language:ce||"text",PreTag:"div",useInlineStyles:!0,customStyle:{margin:0,borderRadius:0,padding:"1rem",backgroundColor:"#0d1117",fontSize:"0.875rem",lineHeight:"1.5"},codeTagProps:{className:"font-mono"},children:oe})})]})},code:({node:ne,className:ae,children:ie,...se})=>ae!=null&&ae.includes("language-")?jsxRuntimeExports.jsx("code",{className:ae,...se,children:ie}):jsxRuntimeExports.jsx("code",{className:"bg-gray-800 px-1.5 py-0.5 rounded text-sm font-mono text-pink-300 border border-gray-700/50 whitespace-nowrap",...se,children:ie}),a:({node:ne,...ae})=>jsxRuntimeExports.jsx("a",{className:"text-blue-400 hover:underline hover:text-blue-300 transition-colors",target:"_blank",rel:"noreferrer",...ae}),ul:({node:ne,...ae})=>jsxRuntimeExports.jsx("ul",{className:"list-disc pl-5 my-3 space-y-1 text-gray-300",...ae}),ol:({node:ne,...ae})=>jsxRuntimeExports.jsx("ol",{className:"list-decimal pl-5 my-3 space-y-1 text-gray-300",...ae}),h1:({node:ne,...ae})=>jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold mt-6 mb-3 text-white pb-1 border-b border-gray-800",...ae}),h2:({node:ne,...ae})=>jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mt-5 mb-3 text-white",...ae}),h3:({node:ne,...ae})=>jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mt-4 mb-2 text-white",...ae}),p:({node:ne,...ae})=>jsxRuntimeExports.jsx("p",{className:"my-3 leading-relaxed text-gray-300",...ae}),blockquote:({node:ne,...ae})=>jsxRuntimeExports.jsx("blockquote",{className:"border-l-4 border-blue-500/50 pl-4 italic my-4 text-gray-400 bg-gray-900/30 py-1 pr-2 rounded-r",...ae}),table:({node:ne,...ae})=>jsxRuntimeExports.jsx("div",{className:"overflow-x-auto my-4 border border-gray-700 rounded-lg shadow-sm",children:jsxRuntimeExports.jsx("table",{className:"min-w-full divide-y divide-gray-700",...ae})}),thead:({node:ne,...ae})=>jsxRuntimeExports.jsx("thead",{className:"bg-gray-800/80",...ae}),tbody:({node:ne,...ae})=>jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-700 bg-gray-900/50",...ae}),tr:({node:ne,...ae})=>jsxRuntimeExports.jsx("tr",{className:"hover:bg-gray-800/50 transition-colors",...ae}),th:({node:ne,...ae})=>jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",...ae}),td:({node:ne,...ae})=>jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",...ae}),hr:({node:ne,...ae})=>jsxRuntimeExports.jsx("hr",{className:"border-gray-700 my-6",...ae}),img:({node:ne,...ae})=>jsxRuntimeExports.jsx(OPFSImage,{...ae,className:"rounded-lg shadow-lg border border-gray-800 max-w-full my-4"})}),[]);return jsxRuntimeExports.jsx("div",{className:"prose prose-invert prose-sm max-w-none break-words",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],components:te,children:ee})})}),FileEditor=({selectedPath:ee,selectedPaths:te,fileList:ne,isCreating:ae,isRenaming:ie,newFileName:se,renameValue:oe,editorContent:le,diffContent:ce,activeTab:he,isPreviewMode:fe,isImageMode:pe,isLoadingContent:ge,totalLines:ye,currentPage:xe,pageCount:be,onSetNewFileName:Se,onSetRenameValue:ve,onSave:Te,onCancelCreating:Ce,onCancelRenaming:Pe,onSubmitRename:Be,onChangeTab:Ae,onTogglePreview:Me,onStartRename:Ge,onDownload:Ue,onDownloadZip:Ve,onDelete:je,onEditorChange:De,onPageChange:Ye,isMountedFile:ke,editorRef:$e,onSidebarFocus:Oe,onKeyDown:He})=>{var Ie;const qe=reactExports.useRef(null);reactExports.useEffect(()=>{var Le,Ze,Qe;if(!ee)return;(((Le=qe.current)==null?void 0:Le.contains(document.activeElement))||($e==null?void 0:$e.current)===document.activeElement||document.activeElement===document.body)&&(document.activeElement&&(document.activeElement.closest(".sidebar-container")||document.activeElement.id.startsWith("file-node-"))||(he==="edit"&&!fe&&!pe?(Ze=$e==null?void 0:$e.current)==null||Ze.focus():(Qe=qe.current)==null||Qe.focus()))},[he,fe,pe,$e]),reactExports.useEffect(()=>{var Fe;ae&&((Fe=document.getElementById("editor-rename-input"))==null||Fe.focus())},[ae]);const Xe=ee?(Ie=ne.find(Fe=>Fe.path===ee))==null?void 0:Ie.status:void 0,ze=Fe=>{var Le;if(Fe.currentTarget.closest("#editor-content-area")){const Ze=(Le=qe.current)==null?void 0:Le.children[0];Ze&&Ze.tagName!=="TEXTAREA"&&(Fe.key==="ArrowUp"?(Ze.scrollBy({top:-60,behavior:"smooth"}),Fe.preventDefault()):Fe.key==="ArrowDown"?(Ze.scrollBy({top:60,behavior:"smooth"}),Fe.preventDefault()):Fe.key==="PageUp"?(Ze.scrollBy({top:-Ze.clientHeight,behavior:"smooth"}),Fe.preventDefault()):Fe.key==="PageDown"&&(Ze.scrollBy({top:Ze.clientHeight,behavior:"smooth"}),Fe.preventDefault()))}Fe.key==="Escape"&&(Fe.preventDefault(),Oe==null||Oe()),He(Fe)};return jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col bg-[#0d1117] relative w-full",onFocus:Fe=>{var Le;Fe.target===qe.current&&he==="edit"&&!fe&&!pe&&((Le=$e==null?void 0:$e.current)==null||Le.focus())},children:[ge&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-30 bg-[#0d1117]/60 backdrop-blur-sm flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 text-blue-500 animate-spin"})}),jsxRuntimeExports.jsxs("div",{className:"flex-none h-10 border-b border-gray-800 flex items-center justify-between px-4 bg-[#0d1117]",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center h-full gap-4 flex-1 min-w-0 mr-4",children:ae?jsxRuntimeExports.jsx("input",{id:"editor-rename-input",type:"text",value:se,onChange:Fe=>Se(Fe.target.value),onKeyDown:Fe=>{Fe.key==="Enter"&&Te(),Fe.key==="Escape"&&Ce()},placeholder:"Enter filename (e.g. src/notes.md)",className:"bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm text-white focus:ring-1 focus:ring-blue-500 outline-none w-64",autoFocus:!0}):ie?jsxRuntimeExports.jsx("input",{type:"text",value:oe,onChange:Fe=>ve(Fe.target.value),onKeyDown:Fe=>{Fe.key==="Enter"&&Be(),Fe.key==="Escape"&&Pe()},className:"bg-blue-900/20 border border-blue-500/50 rounded px-2 py-1 text-sm text-white focus:outline-none w-64",autoFocus:!0}):ee?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Ae("edit"),className:`h-full border-b-2 px-2 text-xs font-medium flex items-center gap-2 transition ${he==="edit"?"border-blue-500 text-white":"border-transparent text-gray-500 hover:text-gray-300"}`,title:"Switch Diff/Edit mode (Alt+C)",children:[jsxRuntimeExports.jsx(Pencil,{className:"w-3.5 h-3.5"})," Edit"]}),ke(ee)&&jsxRuntimeExports.jsxs("button",{onClick:()=>Ae("diff"),className:`h-full border-b-2 px-2 text-xs font-medium flex items-center gap-2 transition ${he==="diff"?"border-yellow-500 text-white":"border-transparent text-gray-500 hover:text-gray-300"}`,title:"Switch Diff/Edit mode (Alt+C)",children:[jsxRuntimeExports.jsx(FileDiff,{className:"w-3.5 h-3.5"})," Diff"]})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600 italic",children:"Select a file to begin editing"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:Me,disabled:pe,title:"Toggle Markdown Preview (Alt+M)",className:`p-1.5 rounded transition ${fe?"bg-blue-900/50 text-blue-400":"text-gray-400 hover:bg-gray-800"}`,children:jsxRuntimeExports.jsx(SquareCode,{className:"w-4 h-4"})}),ee&&!ae&&jsxRuntimeExports.jsx("button",{onClick:Ge,title:"Rename (F2)",className:"p-1.5 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition",children:jsxRuntimeExports.jsx(Pencil,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:"h-4 w-px bg-gray-700"}),jsxRuntimeExports.jsx("button",{onClick:Ue,disabled:!ee&&!ae,title:"Download (Ctrl+D)",className:"p-1.5 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded transition disabled:opacity-50",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:Ve,disabled:te.size===0&&!ee,title:"Download as Zip (Ctrl+Shift+S)",className:"p-1.5 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded transition disabled:opacity-50",children:jsxRuntimeExports.jsx(FolderOpen,{className:"w-4 h-4"})}),!ae&&ee&&jsxRuntimeExports.jsxs(ConfirmationButton,{onClick:je,className:"p-1 text-gray-400 hover:text-red-400 hover:bg-gray-800 rounded",activeClassName:"p-1 text-red-400 bg-red-400/200 rounded",title:"Delete (Del)",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 transform scale-110 text-red-500"})]}),jsxRuntimeExports.jsx("button",{onClick:Te,disabled:!ae&&!ie&&!ee||pe,title:"Save (Ctrl+S)",className:"p-1.5 text-gray-400 hover:text-green-400 hover:bg-gray-800 rounded transition disabled:opacity-50",children:jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{id:"editor-content-area",ref:qe,tabIndex:0,onKeyDown:ze,onMouseDown:()=>{setTimeout(()=>{var Fe,Le;he==="edit"&&!fe&&!pe?(Fe=$e==null?void 0:$e.current)==null||Fe.focus():(Le=qe.current)==null||Le.focus()},10)},className:"flex-1 relative overflow-hidden focus:outline-none",children:he==="edit"?fe?jsxRuntimeExports.jsx("div",{className:"absolute inset-0 w-full h-full bg-[#0d1117] p-8 overflow-y-auto custom-scrollbar",children:jsxRuntimeExports.jsx(MarkdownRenderer,{content:le})}):jsxRuntimeExports.jsx("textarea",{ref:$e,className:"w-full h-full bg-[#0d1117] text-gray-300 p-4 font-mono text-sm resize-none focus:outline-none leading-relaxed custom-scrollbar",value:le,onChange:Fe=>De(Fe.target.value),spellCheck:!1,placeholder:"File content goes here..."}):jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-[#0d1117] p-4 overflow-auto custom-scrollbar",children:jsxRuntimeExports.jsx("pre",{className:"font-mono text-sm",children:(ce||"").split(`
`).map((Fe,Le)=>{let Ze="text-gray-400",Qe="bg-transparent";return Fe.startsWith("+")&&(Ze="text-green-400",Qe="bg-green-900/10"),Fe.startsWith("-")&&(Ze="text-red-400",Qe="bg-red-900/10"),Fe.startsWith("@@")&&(Ze="text-blue-400"),jsxRuntimeExports.jsx("div",{className:`${Ze} ${Qe} px-2 whitespace-pre-wrap`,children:Fe},Le)})})})}),jsxRuntimeExports.jsxs("div",{className:"flex-none h-8 bg-[#161b22] border-t border-gray-800 flex items-center px-4 text-[11px] text-gray-500 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400 truncate max-w-[200px]",children:ee||"No file selected"}),ye>0&&jsxRuntimeExports.jsxs("span",{children:[ye," Lines"]})]}),be>1&&!ae&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ye(xe-1),disabled:xe===1||ge,className:"hover:text-white disabled:opacity-30",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-3 h-3"})}),jsxRuntimeExports.jsxs("span",{children:[xe," / ",be]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ye(xe+1),disabled:xe===be||ge,className:"hover:text-white disabled:opacity-30",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-3 h-3"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[Xe==="deleted"&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-400"})," Deleted"]}),Xe==="modified"&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-400"})," Modified"]}),Xe==="new"&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"})," New"]})]})]})]})},useFileSystem=ee=>{const[te,ne]=reactExports.useState([]),[ae,ie]=reactExports.useState([]),[se,oe]=reactExports.useState(!1),le=reactExports.useCallback(async()=>{if(ee)try{const[ge,ye]=await Promise.all([fileSystem.listRecursive("/"),fileSystem.getMounts()]);ne(ge),ie(ye)}catch(ge){console.error("Failed to list files:",ge)}},[ee]);return reactExports.useEffect(()=>(le(),fileSystem.subscribe(()=>le())),[le]),{fileList:te,mounts:ae,refreshFiles:le,isMountedFile:ge=>{if(!ge)return!1;const xe=(ge.startsWith("/")?ge.slice(1):ge).split("/")[0];return ae.includes(xe)},mountGithub:async(ge,ye,xe,be)=>{const Se=ge.replace(/[^a-zA-Z0-9_-]/g,"_");await fileSystem.mountGithub(Se,ye,xe,be||"main"),await le()},mountLocal:async ge=>{const ye=ge.replace(/[^a-zA-Z0-9_-]/g,"_");await fileSystem.mountLocalDirectory(ye),await le()},unmount:async ge=>{await fileSystem.unmount(ge),await le()}}},isImageFile=ee=>/\.(jpg|jpeg|png|gif|webp|svg|bmp|ico|tiff)$/i.test(ee),buildFileTree=ee=>{const te={};return ee.forEach(ne=>{const ie=(ne.path.startsWith("/")?ne.path.slice(1):ne.path).split("/").filter(Boolean);let se=te;ie.forEach((oe,le)=>{const ce=le===ie.length-1;se[oe]?ce&&(se[oe]={...se[oe],...ne,isFile:ne.kind==="file",isFolder:ne.kind==="directory"}):se[oe]=ce?{...ne,isFile:ne.kind==="file",isFolder:ne.kind==="directory",children:{}}:{isFolder:!0,children:{}},ce||(se[oe].children||(se[oe].children={}),se=se[oe].children)})}),te},getVisiblePaths=(ee,te,ne)=>{const ae=[],ie=le=>le.sort((ce,he)=>{const fe=ce.isFolder||!ce.isFile,pe=he.isFolder||!he.isFile;return fe&&!pe?-1:!fe&&pe?1:ce.name.localeCompare(he.name)}),se=(le,ce)=>{if(ae.push(ce),(le.kind==="directory"||!le.isFile)&&ne.has(ce)&&le.children){const he=Object.keys(le.children).map(pe=>({name:pe,...le.children[pe],path:le.children[pe].path||`${ce}/${pe}`}));ie(he).forEach(pe=>se(pe,pe.path))}};te.forEach(le=>{const ce=ee[le];ce&&se(ce,`/${le}`)});const oe=Object.keys(ee).filter(le=>!te.includes(le)).map(le=>({name:le,...ee[le],path:`/${le}`}));return ie(oe).forEach(le=>se(le,le.path)),ae},getSortedFlatList=ee=>{const te=[],ne=(ae,ie="")=>{const se=Object.keys(ae).sort((oe,le)=>{const ce=ae[oe],he=ae[le],fe=ce.isFolder||!ce.isFile,pe=he.isFolder||!he.isFile;return fe&&!pe?-1:!fe&&pe?1:oe.localeCompare(le)});for(const oe of se){const le=ae[oe],ce=le.path||ie+oe;te.push(ce),(le.isFolder||!le.isFile)&&le.children&&ne(le.children,ce+"/")}};return ne(ee),te};function commonjsRequire(ee){throw new Error('Could not dynamically require "'+ee+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var hasRequiredJszip_min;function requireJszip_min(){return hasRequiredJszip_min||(hasRequiredJszip_min=1,(function(ee,te){(function(ne){ee.exports=ne()})(function(){return(function ne(ae,ie,se){function oe(he,fe){if(!ie[he]){if(!ae[he]){var pe=typeof commonjsRequire=="function"&&commonjsRequire;if(!fe&&pe)return pe(he,!0);if(le)return le(he,!0);var ge=new Error("Cannot find module '"+he+"'");throw ge.code="MODULE_NOT_FOUND",ge}var ye=ie[he]={exports:{}};ae[he][0].call(ye.exports,function(xe){var be=ae[he][1][xe];return oe(be||xe)},ye,ye.exports,ne,ae,ie,se)}return ie[he].exports}for(var le=typeof commonjsRequire=="function"&&commonjsRequire,ce=0;ce<se.length;ce++)oe(se[ce]);return oe})({1:[function(ne,ae,ie){var se=ne("./utils"),oe=ne("./support"),le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";ie.encode=function(ce){for(var he,fe,pe,ge,ye,xe,be,Se=[],ve=0,Te=ce.length,Ce=Te,Pe=se.getTypeOf(ce)!=="string";ve<ce.length;)Ce=Te-ve,pe=Pe?(he=ce[ve++],fe=ve<Te?ce[ve++]:0,ve<Te?ce[ve++]:0):(he=ce.charCodeAt(ve++),fe=ve<Te?ce.charCodeAt(ve++):0,ve<Te?ce.charCodeAt(ve++):0),ge=he>>2,ye=(3&he)<<4|fe>>4,xe=1<Ce?(15&fe)<<2|pe>>6:64,be=2<Ce?63&pe:64,Se.push(le.charAt(ge)+le.charAt(ye)+le.charAt(xe)+le.charAt(be));return Se.join("")},ie.decode=function(ce){var he,fe,pe,ge,ye,xe,be=0,Se=0,ve="data:";if(ce.substr(0,ve.length)===ve)throw new Error("Invalid base64 input, it looks like a data url.");var Te,Ce=3*(ce=ce.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(ce.charAt(ce.length-1)===le.charAt(64)&&Ce--,ce.charAt(ce.length-2)===le.charAt(64)&&Ce--,Ce%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Te=oe.uint8array?new Uint8Array(0|Ce):new Array(0|Ce);be<ce.length;)he=le.indexOf(ce.charAt(be++))<<2|(ge=le.indexOf(ce.charAt(be++)))>>4,fe=(15&ge)<<4|(ye=le.indexOf(ce.charAt(be++)))>>2,pe=(3&ye)<<6|(xe=le.indexOf(ce.charAt(be++))),Te[Se++]=he,ye!==64&&(Te[Se++]=fe),xe!==64&&(Te[Se++]=pe);return Te}},{"./support":30,"./utils":32}],2:[function(ne,ae,ie){var se=ne("./external"),oe=ne("./stream/DataWorker"),le=ne("./stream/Crc32Probe"),ce=ne("./stream/DataLengthProbe");function he(fe,pe,ge,ye,xe){this.compressedSize=fe,this.uncompressedSize=pe,this.crc32=ge,this.compression=ye,this.compressedContent=xe}he.prototype={getContentWorker:function(){var fe=new oe(se.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new ce("data_length")),pe=this;return fe.on("end",function(){if(this.streamInfo.data_length!==pe.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),fe},getCompressedWorker:function(){return new oe(se.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},he.createWorkerFrom=function(fe,pe,ge){return fe.pipe(new le).pipe(new ce("uncompressedSize")).pipe(pe.compressWorker(ge)).pipe(new ce("compressedSize")).withStreamInfo("compression",pe)},ae.exports=he},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(ne,ae,ie){var se=ne("./stream/GenericWorker");ie.STORE={magic:"\0\0",compressWorker:function(){return new se("STORE compression")},uncompressWorker:function(){return new se("STORE decompression")}},ie.DEFLATE=ne("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(ne,ae,ie){var se=ne("./utils"),oe=(function(){for(var le,ce=[],he=0;he<256;he++){le=he;for(var fe=0;fe<8;fe++)le=1&le?3988292384^le>>>1:le>>>1;ce[he]=le}return ce})();ae.exports=function(le,ce){return le!==void 0&&le.length?se.getTypeOf(le)!=="string"?(function(he,fe,pe,ge){var ye=oe,xe=ge+pe;he^=-1;for(var be=ge;be<xe;be++)he=he>>>8^ye[255&(he^fe[be])];return-1^he})(0|ce,le,le.length,0):(function(he,fe,pe,ge){var ye=oe,xe=ge+pe;he^=-1;for(var be=ge;be<xe;be++)he=he>>>8^ye[255&(he^fe.charCodeAt(be))];return-1^he})(0|ce,le,le.length,0):0}},{"./utils":32}],5:[function(ne,ae,ie){ie.base64=!1,ie.binary=!1,ie.dir=!1,ie.createFolders=!0,ie.date=null,ie.compression=null,ie.compressionOptions=null,ie.comment=null,ie.unixPermissions=null,ie.dosPermissions=null},{}],6:[function(ne,ae,ie){var se=null;se=typeof Promise<"u"?Promise:ne("lie"),ae.exports={Promise:se}},{lie:37}],7:[function(ne,ae,ie){var se=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",oe=ne("pako"),le=ne("./utils"),ce=ne("./stream/GenericWorker"),he=se?"uint8array":"array";function fe(pe,ge){ce.call(this,"FlateWorker/"+pe),this._pako=null,this._pakoAction=pe,this._pakoOptions=ge,this.meta={}}ie.magic="\b\0",le.inherits(fe,ce),fe.prototype.processChunk=function(pe){this.meta=pe.meta,this._pako===null&&this._createPako(),this._pako.push(le.transformTo(he,pe.data),!1)},fe.prototype.flush=function(){ce.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},fe.prototype.cleanUp=function(){ce.prototype.cleanUp.call(this),this._pako=null},fe.prototype._createPako=function(){this._pako=new oe[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var pe=this;this._pako.onData=function(ge){pe.push({data:ge,meta:pe.meta})}},ie.compressWorker=function(pe){return new fe("Deflate",pe)},ie.uncompressWorker=function(){return new fe("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(ne,ae,ie){function se(ye,xe){var be,Se="";for(be=0;be<xe;be++)Se+=String.fromCharCode(255&ye),ye>>>=8;return Se}function oe(ye,xe,be,Se,ve,Te){var Ce,Pe,Be=ye.file,Ae=ye.compression,Me=Te!==he.utf8encode,Ge=le.transformTo("string",Te(Be.name)),Ue=le.transformTo("string",he.utf8encode(Be.name)),Ve=Be.comment,je=le.transformTo("string",Te(Ve)),De=le.transformTo("string",he.utf8encode(Ve)),Ye=Ue.length!==Be.name.length,ke=De.length!==Ve.length,$e="",Oe="",He="",qe=Be.dir,Xe=Be.date,ze={crc32:0,compressedSize:0,uncompressedSize:0};xe&&!be||(ze.crc32=ye.crc32,ze.compressedSize=ye.compressedSize,ze.uncompressedSize=ye.uncompressedSize);var Ie=0;xe&&(Ie|=8),Me||!Ye&&!ke||(Ie|=2048);var Fe=0,Le=0;qe&&(Fe|=16),ve==="UNIX"?(Le=798,Fe|=(function(Qe,St){var Nt=Qe;return Qe||(Nt=St?16893:33204),(65535&Nt)<<16})(Be.unixPermissions,qe)):(Le=20,Fe|=(function(Qe){return 63&(Qe||0)})(Be.dosPermissions)),Ce=Xe.getUTCHours(),Ce<<=6,Ce|=Xe.getUTCMinutes(),Ce<<=5,Ce|=Xe.getUTCSeconds()/2,Pe=Xe.getUTCFullYear()-1980,Pe<<=4,Pe|=Xe.getUTCMonth()+1,Pe<<=5,Pe|=Xe.getUTCDate(),Ye&&(Oe=se(1,1)+se(fe(Ge),4)+Ue,$e+="up"+se(Oe.length,2)+Oe),ke&&(He=se(1,1)+se(fe(je),4)+De,$e+="uc"+se(He.length,2)+He);var Ze="";return Ze+=`
\0`,Ze+=se(Ie,2),Ze+=Ae.magic,Ze+=se(Ce,2),Ze+=se(Pe,2),Ze+=se(ze.crc32,4),Ze+=se(ze.compressedSize,4),Ze+=se(ze.uncompressedSize,4),Ze+=se(Ge.length,2),Ze+=se($e.length,2),{fileRecord:pe.LOCAL_FILE_HEADER+Ze+Ge+$e,dirRecord:pe.CENTRAL_FILE_HEADER+se(Le,2)+Ze+se(je.length,2)+"\0\0\0\0"+se(Fe,4)+se(Se,4)+Ge+$e+je}}var le=ne("../utils"),ce=ne("../stream/GenericWorker"),he=ne("../utf8"),fe=ne("../crc32"),pe=ne("../signature");function ge(ye,xe,be,Se){ce.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=xe,this.zipPlatform=be,this.encodeFileName=Se,this.streamFiles=ye,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}le.inherits(ge,ce),ge.prototype.push=function(ye){var xe=ye.meta.percent||0,be=this.entriesCount,Se=this._sources.length;this.accumulate?this.contentBuffer.push(ye):(this.bytesWritten+=ye.data.length,ce.prototype.push.call(this,{data:ye.data,meta:{currentFile:this.currentFile,percent:be?(xe+100*(be-Se-1))/be:100}}))},ge.prototype.openedSource=function(ye){this.currentSourceOffset=this.bytesWritten,this.currentFile=ye.file.name;var xe=this.streamFiles&&!ye.file.dir;if(xe){var be=oe(ye,xe,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:be.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ge.prototype.closedSource=function(ye){this.accumulate=!1;var xe=this.streamFiles&&!ye.file.dir,be=oe(ye,xe,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(be.dirRecord),xe)this.push({data:(function(Se){return pe.DATA_DESCRIPTOR+se(Se.crc32,4)+se(Se.compressedSize,4)+se(Se.uncompressedSize,4)})(ye),meta:{percent:100}});else for(this.push({data:be.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ge.prototype.flush=function(){for(var ye=this.bytesWritten,xe=0;xe<this.dirRecords.length;xe++)this.push({data:this.dirRecords[xe],meta:{percent:100}});var be=this.bytesWritten-ye,Se=(function(ve,Te,Ce,Pe,Be){var Ae=le.transformTo("string",Be(Pe));return pe.CENTRAL_DIRECTORY_END+"\0\0\0\0"+se(ve,2)+se(ve,2)+se(Te,4)+se(Ce,4)+se(Ae.length,2)+Ae})(this.dirRecords.length,be,ye,this.zipComment,this.encodeFileName);this.push({data:Se,meta:{percent:100}})},ge.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ge.prototype.registerPrevious=function(ye){this._sources.push(ye);var xe=this;return ye.on("data",function(be){xe.processChunk(be)}),ye.on("end",function(){xe.closedSource(xe.previous.streamInfo),xe._sources.length?xe.prepareNextSource():xe.end()}),ye.on("error",function(be){xe.error(be)}),this},ge.prototype.resume=function(){return!!ce.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ge.prototype.error=function(ye){var xe=this._sources;if(!ce.prototype.error.call(this,ye))return!1;for(var be=0;be<xe.length;be++)try{xe[be].error(ye)}catch{}return!0},ge.prototype.lock=function(){ce.prototype.lock.call(this);for(var ye=this._sources,xe=0;xe<ye.length;xe++)ye[xe].lock()},ae.exports=ge},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(ne,ae,ie){var se=ne("../compressions"),oe=ne("./ZipFileWorker");ie.generateWorker=function(le,ce,he){var fe=new oe(ce.streamFiles,he,ce.platform,ce.encodeFileName),pe=0;try{le.forEach(function(ge,ye){pe++;var xe=(function(Te,Ce){var Pe=Te||Ce,Be=se[Pe];if(!Be)throw new Error(Pe+" is not a valid compression method !");return Be})(ye.options.compression,ce.compression),be=ye.options.compressionOptions||ce.compressionOptions||{},Se=ye.dir,ve=ye.date;ye._compressWorker(xe,be).withStreamInfo("file",{name:ge,dir:Se,date:ve,comment:ye.comment||"",unixPermissions:ye.unixPermissions,dosPermissions:ye.dosPermissions}).pipe(fe)}),fe.entriesCount=pe}catch(ge){fe.error(ge)}return fe}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(ne,ae,ie){function se(){if(!(this instanceof se))return new se;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var oe=new se;for(var le in this)typeof this[le]!="function"&&(oe[le]=this[le]);return oe}}(se.prototype=ne("./object")).loadAsync=ne("./load"),se.support=ne("./support"),se.defaults=ne("./defaults"),se.version="3.10.1",se.loadAsync=function(oe,le){return new se().loadAsync(oe,le)},se.external=ne("./external"),ae.exports=se},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(ne,ae,ie){var se=ne("./utils"),oe=ne("./external"),le=ne("./utf8"),ce=ne("./zipEntries"),he=ne("./stream/Crc32Probe"),fe=ne("./nodejsUtils");function pe(ge){return new oe.Promise(function(ye,xe){var be=ge.decompressed.getContentWorker().pipe(new he);be.on("error",function(Se){xe(Se)}).on("end",function(){be.streamInfo.crc32!==ge.decompressed.crc32?xe(new Error("Corrupted zip : CRC32 mismatch")):ye()}).resume()})}ae.exports=function(ge,ye){var xe=this;return ye=se.extend(ye||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:le.utf8decode}),fe.isNode&&fe.isStream(ge)?oe.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):se.prepareContent("the loaded zip file",ge,!0,ye.optimizedBinaryString,ye.base64).then(function(be){var Se=new ce(ye);return Se.load(be),Se}).then(function(be){var Se=[oe.Promise.resolve(be)],ve=be.files;if(ye.checkCRC32)for(var Te=0;Te<ve.length;Te++)Se.push(pe(ve[Te]));return oe.Promise.all(Se)}).then(function(be){for(var Se=be.shift(),ve=Se.files,Te=0;Te<ve.length;Te++){var Ce=ve[Te],Pe=Ce.fileNameStr,Be=se.resolve(Ce.fileNameStr);xe.file(Be,Ce.decompressed,{binary:!0,optimizedBinaryString:!0,date:Ce.date,dir:Ce.dir,comment:Ce.fileCommentStr.length?Ce.fileCommentStr:null,unixPermissions:Ce.unixPermissions,dosPermissions:Ce.dosPermissions,createFolders:ye.createFolders}),Ce.dir||(xe.file(Be).unsafeOriginalName=Pe)}return Se.zipComment.length&&(xe.comment=Se.zipComment),xe})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(ne,ae,ie){var se=ne("../utils"),oe=ne("../stream/GenericWorker");function le(ce,he){oe.call(this,"Nodejs stream input adapter for "+ce),this._upstreamEnded=!1,this._bindStream(he)}se.inherits(le,oe),le.prototype._bindStream=function(ce){var he=this;(this._stream=ce).pause(),ce.on("data",function(fe){he.push({data:fe,meta:{percent:0}})}).on("error",function(fe){he.isPaused?this.generatedError=fe:he.error(fe)}).on("end",function(){he.isPaused?he._upstreamEnded=!0:he.end()})},le.prototype.pause=function(){return!!oe.prototype.pause.call(this)&&(this._stream.pause(),!0)},le.prototype.resume=function(){return!!oe.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},ae.exports=le},{"../stream/GenericWorker":28,"../utils":32}],13:[function(ne,ae,ie){var se=ne("readable-stream").Readable;function oe(le,ce,he){se.call(this,ce),this._helper=le;var fe=this;le.on("data",function(pe,ge){fe.push(pe)||fe._helper.pause(),he&&he(ge)}).on("error",function(pe){fe.emit("error",pe)}).on("end",function(){fe.push(null)})}ne("../utils").inherits(oe,se),oe.prototype._read=function(){this._helper.resume()},ae.exports=oe},{"../utils":32,"readable-stream":16}],14:[function(ne,ae,ie){ae.exports={isNode:typeof Buffer<"u",newBufferFrom:function(se,oe){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(se,oe);if(typeof se=="number")throw new Error('The "data" argument must not be a number');return new Buffer(se,oe)},allocBuffer:function(se){if(Buffer.alloc)return Buffer.alloc(se);var oe=new Buffer(se);return oe.fill(0),oe},isBuffer:function(se){return Buffer.isBuffer(se)},isStream:function(se){return se&&typeof se.on=="function"&&typeof se.pause=="function"&&typeof se.resume=="function"}}},{}],15:[function(ne,ae,ie){function se(Be,Ae,Me){var Ge,Ue=le.getTypeOf(Ae),Ve=le.extend(Me||{},fe);Ve.date=Ve.date||new Date,Ve.compression!==null&&(Ve.compression=Ve.compression.toUpperCase()),typeof Ve.unixPermissions=="string"&&(Ve.unixPermissions=parseInt(Ve.unixPermissions,8)),Ve.unixPermissions&&16384&Ve.unixPermissions&&(Ve.dir=!0),Ve.dosPermissions&&16&Ve.dosPermissions&&(Ve.dir=!0),Ve.dir&&(Be=ve(Be)),Ve.createFolders&&(Ge=Se(Be))&&Te.call(this,Ge,!0);var je=Ue==="string"&&Ve.binary===!1&&Ve.base64===!1;Me&&Me.binary!==void 0||(Ve.binary=!je),(Ae instanceof pe&&Ae.uncompressedSize===0||Ve.dir||!Ae||Ae.length===0)&&(Ve.base64=!1,Ve.binary=!0,Ae="",Ve.compression="STORE",Ue="string");var De=null;De=Ae instanceof pe||Ae instanceof ce?Ae:xe.isNode&&xe.isStream(Ae)?new be(Be,Ae):le.prepareContent(Be,Ae,Ve.binary,Ve.optimizedBinaryString,Ve.base64);var Ye=new ge(Be,De,Ve);this.files[Be]=Ye}var oe=ne("./utf8"),le=ne("./utils"),ce=ne("./stream/GenericWorker"),he=ne("./stream/StreamHelper"),fe=ne("./defaults"),pe=ne("./compressedObject"),ge=ne("./zipObject"),ye=ne("./generate"),xe=ne("./nodejsUtils"),be=ne("./nodejs/NodejsStreamInputAdapter"),Se=function(Be){Be.slice(-1)==="/"&&(Be=Be.substring(0,Be.length-1));var Ae=Be.lastIndexOf("/");return 0<Ae?Be.substring(0,Ae):""},ve=function(Be){return Be.slice(-1)!=="/"&&(Be+="/"),Be},Te=function(Be,Ae){return Ae=Ae!==void 0?Ae:fe.createFolders,Be=ve(Be),this.files[Be]||se.call(this,Be,null,{dir:!0,createFolders:Ae}),this.files[Be]};function Ce(Be){return Object.prototype.toString.call(Be)==="[object RegExp]"}var Pe={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Be){var Ae,Me,Ge;for(Ae in this.files)Ge=this.files[Ae],(Me=Ae.slice(this.root.length,Ae.length))&&Ae.slice(0,this.root.length)===this.root&&Be(Me,Ge)},filter:function(Be){var Ae=[];return this.forEach(function(Me,Ge){Be(Me,Ge)&&Ae.push(Ge)}),Ae},file:function(Be,Ae,Me){if(arguments.length!==1)return Be=this.root+Be,se.call(this,Be,Ae,Me),this;if(Ce(Be)){var Ge=Be;return this.filter(function(Ve,je){return!je.dir&&Ge.test(Ve)})}var Ue=this.files[this.root+Be];return Ue&&!Ue.dir?Ue:null},folder:function(Be){if(!Be)return this;if(Ce(Be))return this.filter(function(Ue,Ve){return Ve.dir&&Be.test(Ue)});var Ae=this.root+Be,Me=Te.call(this,Ae),Ge=this.clone();return Ge.root=Me.name,Ge},remove:function(Be){Be=this.root+Be;var Ae=this.files[Be];if(Ae||(Be.slice(-1)!=="/"&&(Be+="/"),Ae=this.files[Be]),Ae&&!Ae.dir)delete this.files[Be];else for(var Me=this.filter(function(Ue,Ve){return Ve.name.slice(0,Be.length)===Be}),Ge=0;Ge<Me.length;Ge++)delete this.files[Me[Ge].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Be){var Ae,Me={};try{if((Me=le.extend(Be||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:oe.utf8encode})).type=Me.type.toLowerCase(),Me.compression=Me.compression.toUpperCase(),Me.type==="binarystring"&&(Me.type="string"),!Me.type)throw new Error("No output type specified.");le.checkSupport(Me.type),Me.platform!=="darwin"&&Me.platform!=="freebsd"&&Me.platform!=="linux"&&Me.platform!=="sunos"||(Me.platform="UNIX"),Me.platform==="win32"&&(Me.platform="DOS");var Ge=Me.comment||this.comment||"";Ae=ye.generateWorker(this,Me,Ge)}catch(Ue){(Ae=new ce("error")).error(Ue)}return new he(Ae,Me.type||"string",Me.mimeType)},generateAsync:function(Be,Ae){return this.generateInternalStream(Be).accumulate(Ae)},generateNodeStream:function(Be,Ae){return(Be=Be||{}).type||(Be.type="nodebuffer"),this.generateInternalStream(Be).toNodejsStream(Ae)}};ae.exports=Pe},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(ne,ae,ie){ae.exports=ne("stream")},{stream:void 0}],17:[function(ne,ae,ie){var se=ne("./DataReader");function oe(le){se.call(this,le);for(var ce=0;ce<this.data.length;ce++)le[ce]=255&le[ce]}ne("../utils").inherits(oe,se),oe.prototype.byteAt=function(le){return this.data[this.zero+le]},oe.prototype.lastIndexOfSignature=function(le){for(var ce=le.charCodeAt(0),he=le.charCodeAt(1),fe=le.charCodeAt(2),pe=le.charCodeAt(3),ge=this.length-4;0<=ge;--ge)if(this.data[ge]===ce&&this.data[ge+1]===he&&this.data[ge+2]===fe&&this.data[ge+3]===pe)return ge-this.zero;return-1},oe.prototype.readAndCheckSignature=function(le){var ce=le.charCodeAt(0),he=le.charCodeAt(1),fe=le.charCodeAt(2),pe=le.charCodeAt(3),ge=this.readData(4);return ce===ge[0]&&he===ge[1]&&fe===ge[2]&&pe===ge[3]},oe.prototype.readData=function(le){if(this.checkOffset(le),le===0)return[];var ce=this.data.slice(this.zero+this.index,this.zero+this.index+le);return this.index+=le,ce},ae.exports=oe},{"../utils":32,"./DataReader":18}],18:[function(ne,ae,ie){var se=ne("../utils");function oe(le){this.data=le,this.length=le.length,this.index=0,this.zero=0}oe.prototype={checkOffset:function(le){this.checkIndex(this.index+le)},checkIndex:function(le){if(this.length<this.zero+le||le<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+le+"). Corrupted zip ?")},setIndex:function(le){this.checkIndex(le),this.index=le},skip:function(le){this.setIndex(this.index+le)},byteAt:function(){},readInt:function(le){var ce,he=0;for(this.checkOffset(le),ce=this.index+le-1;ce>=this.index;ce--)he=(he<<8)+this.byteAt(ce);return this.index+=le,he},readString:function(le){return se.transformTo("string",this.readData(le))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var le=this.readInt(4);return new Date(Date.UTC(1980+(le>>25&127),(le>>21&15)-1,le>>16&31,le>>11&31,le>>5&63,(31&le)<<1))}},ae.exports=oe},{"../utils":32}],19:[function(ne,ae,ie){var se=ne("./Uint8ArrayReader");function oe(le){se.call(this,le)}ne("../utils").inherits(oe,se),oe.prototype.readData=function(le){this.checkOffset(le);var ce=this.data.slice(this.zero+this.index,this.zero+this.index+le);return this.index+=le,ce},ae.exports=oe},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(ne,ae,ie){var se=ne("./DataReader");function oe(le){se.call(this,le)}ne("../utils").inherits(oe,se),oe.prototype.byteAt=function(le){return this.data.charCodeAt(this.zero+le)},oe.prototype.lastIndexOfSignature=function(le){return this.data.lastIndexOf(le)-this.zero},oe.prototype.readAndCheckSignature=function(le){return le===this.readData(4)},oe.prototype.readData=function(le){this.checkOffset(le);var ce=this.data.slice(this.zero+this.index,this.zero+this.index+le);return this.index+=le,ce},ae.exports=oe},{"../utils":32,"./DataReader":18}],21:[function(ne,ae,ie){var se=ne("./ArrayReader");function oe(le){se.call(this,le)}ne("../utils").inherits(oe,se),oe.prototype.readData=function(le){if(this.checkOffset(le),le===0)return new Uint8Array(0);var ce=this.data.subarray(this.zero+this.index,this.zero+this.index+le);return this.index+=le,ce},ae.exports=oe},{"../utils":32,"./ArrayReader":17}],22:[function(ne,ae,ie){var se=ne("../utils"),oe=ne("../support"),le=ne("./ArrayReader"),ce=ne("./StringReader"),he=ne("./NodeBufferReader"),fe=ne("./Uint8ArrayReader");ae.exports=function(pe){var ge=se.getTypeOf(pe);return se.checkSupport(ge),ge!=="string"||oe.uint8array?ge==="nodebuffer"?new he(pe):oe.uint8array?new fe(se.transformTo("uint8array",pe)):new le(se.transformTo("array",pe)):new ce(pe)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(ne,ae,ie){ie.LOCAL_FILE_HEADER="PK",ie.CENTRAL_FILE_HEADER="PK",ie.CENTRAL_DIRECTORY_END="PK",ie.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",ie.ZIP64_CENTRAL_DIRECTORY_END="PK",ie.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(ne,ae,ie){var se=ne("./GenericWorker"),oe=ne("../utils");function le(ce){se.call(this,"ConvertWorker to "+ce),this.destType=ce}oe.inherits(le,se),le.prototype.processChunk=function(ce){this.push({data:oe.transformTo(this.destType,ce.data),meta:ce.meta})},ae.exports=le},{"../utils":32,"./GenericWorker":28}],25:[function(ne,ae,ie){var se=ne("./GenericWorker"),oe=ne("../crc32");function le(){se.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}ne("../utils").inherits(le,se),le.prototype.processChunk=function(ce){this.streamInfo.crc32=oe(ce.data,this.streamInfo.crc32||0),this.push(ce)},ae.exports=le},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(ne,ae,ie){var se=ne("../utils"),oe=ne("./GenericWorker");function le(ce){oe.call(this,"DataLengthProbe for "+ce),this.propName=ce,this.withStreamInfo(ce,0)}se.inherits(le,oe),le.prototype.processChunk=function(ce){if(ce){var he=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=he+ce.data.length}oe.prototype.processChunk.call(this,ce)},ae.exports=le},{"../utils":32,"./GenericWorker":28}],27:[function(ne,ae,ie){var se=ne("../utils"),oe=ne("./GenericWorker");function le(ce){oe.call(this,"DataWorker");var he=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,ce.then(function(fe){he.dataIsReady=!0,he.data=fe,he.max=fe&&fe.length||0,he.type=se.getTypeOf(fe),he.isPaused||he._tickAndRepeat()},function(fe){he.error(fe)})}se.inherits(le,oe),le.prototype.cleanUp=function(){oe.prototype.cleanUp.call(this),this.data=null},le.prototype.resume=function(){return!!oe.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,se.delay(this._tickAndRepeat,[],this)),!0)},le.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(se.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},le.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var ce=null,he=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":ce=this.data.substring(this.index,he);break;case"uint8array":ce=this.data.subarray(this.index,he);break;case"array":case"nodebuffer":ce=this.data.slice(this.index,he)}return this.index=he,this.push({data:ce,meta:{percent:this.max?this.index/this.max*100:0}})},ae.exports=le},{"../utils":32,"./GenericWorker":28}],28:[function(ne,ae,ie){function se(oe){this.name=oe||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}se.prototype={push:function(oe){this.emit("data",oe)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(oe){this.emit("error",oe)}return!0},error:function(oe){return!this.isFinished&&(this.isPaused?this.generatedError=oe:(this.isFinished=!0,this.emit("error",oe),this.previous&&this.previous.error(oe),this.cleanUp()),!0)},on:function(oe,le){return this._listeners[oe].push(le),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(oe,le){if(this._listeners[oe])for(var ce=0;ce<this._listeners[oe].length;ce++)this._listeners[oe][ce].call(this,le)},pipe:function(oe){return oe.registerPrevious(this)},registerPrevious:function(oe){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=oe.streamInfo,this.mergeStreamInfo(),this.previous=oe;var le=this;return oe.on("data",function(ce){le.processChunk(ce)}),oe.on("end",function(){le.end()}),oe.on("error",function(ce){le.error(ce)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var oe=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),oe=!0),this.previous&&this.previous.resume(),!oe},flush:function(){},processChunk:function(oe){this.push(oe)},withStreamInfo:function(oe,le){return this.extraStreamInfo[oe]=le,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var oe in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,oe)&&(this.streamInfo[oe]=this.extraStreamInfo[oe])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var oe="Worker "+this.name;return this.previous?this.previous+" -> "+oe:oe}},ae.exports=se},{}],29:[function(ne,ae,ie){var se=ne("../utils"),oe=ne("./ConvertWorker"),le=ne("./GenericWorker"),ce=ne("../base64"),he=ne("../support"),fe=ne("../external"),pe=null;if(he.nodestream)try{pe=ne("../nodejs/NodejsStreamOutputAdapter")}catch{}function ge(xe,be){return new fe.Promise(function(Se,ve){var Te=[],Ce=xe._internalType,Pe=xe._outputType,Be=xe._mimeType;xe.on("data",function(Ae,Me){Te.push(Ae),be&&be(Me)}).on("error",function(Ae){Te=[],ve(Ae)}).on("end",function(){try{var Ae=(function(Me,Ge,Ue){switch(Me){case"blob":return se.newBlob(se.transformTo("arraybuffer",Ge),Ue);case"base64":return ce.encode(Ge);default:return se.transformTo(Me,Ge)}})(Pe,(function(Me,Ge){var Ue,Ve=0,je=null,De=0;for(Ue=0;Ue<Ge.length;Ue++)De+=Ge[Ue].length;switch(Me){case"string":return Ge.join("");case"array":return Array.prototype.concat.apply([],Ge);case"uint8array":for(je=new Uint8Array(De),Ue=0;Ue<Ge.length;Ue++)je.set(Ge[Ue],Ve),Ve+=Ge[Ue].length;return je;case"nodebuffer":return Buffer.concat(Ge);default:throw new Error("concat : unsupported type '"+Me+"'")}})(Ce,Te),Be);Se(Ae)}catch(Me){ve(Me)}Te=[]}).resume()})}function ye(xe,be,Se){var ve=be;switch(be){case"blob":case"arraybuffer":ve="uint8array";break;case"base64":ve="string"}try{this._internalType=ve,this._outputType=be,this._mimeType=Se,se.checkSupport(ve),this._worker=xe.pipe(new oe(ve)),xe.lock()}catch(Te){this._worker=new le("error"),this._worker.error(Te)}}ye.prototype={accumulate:function(xe){return ge(this,xe)},on:function(xe,be){var Se=this;return xe==="data"?this._worker.on(xe,function(ve){be.call(Se,ve.data,ve.meta)}):this._worker.on(xe,function(){se.delay(be,arguments,Se)}),this},resume:function(){return se.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(xe){if(se.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new pe(this,{objectMode:this._outputType!=="nodebuffer"},xe)}},ae.exports=ye},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(ne,ae,ie){if(ie.base64=!0,ie.array=!0,ie.string=!0,ie.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",ie.nodebuffer=typeof Buffer<"u",ie.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")ie.blob=!1;else{var se=new ArrayBuffer(0);try{ie.blob=new Blob([se],{type:"application/zip"}).size===0}catch{try{var oe=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);oe.append(se),ie.blob=oe.getBlob("application/zip").size===0}catch{ie.blob=!1}}}try{ie.nodestream=!!ne("readable-stream").Readable}catch{ie.nodestream=!1}},{"readable-stream":16}],31:[function(ne,ae,ie){for(var se=ne("./utils"),oe=ne("./support"),le=ne("./nodejsUtils"),ce=ne("./stream/GenericWorker"),he=new Array(256),fe=0;fe<256;fe++)he[fe]=252<=fe?6:248<=fe?5:240<=fe?4:224<=fe?3:192<=fe?2:1;he[254]=he[254]=1;function pe(){ce.call(this,"utf-8 decode"),this.leftOver=null}function ge(){ce.call(this,"utf-8 encode")}ie.utf8encode=function(ye){return oe.nodebuffer?le.newBufferFrom(ye,"utf-8"):(function(xe){var be,Se,ve,Te,Ce,Pe=xe.length,Be=0;for(Te=0;Te<Pe;Te++)(64512&(Se=xe.charCodeAt(Te)))==55296&&Te+1<Pe&&(64512&(ve=xe.charCodeAt(Te+1)))==56320&&(Se=65536+(Se-55296<<10)+(ve-56320),Te++),Be+=Se<128?1:Se<2048?2:Se<65536?3:4;for(be=oe.uint8array?new Uint8Array(Be):new Array(Be),Te=Ce=0;Ce<Be;Te++)(64512&(Se=xe.charCodeAt(Te)))==55296&&Te+1<Pe&&(64512&(ve=xe.charCodeAt(Te+1)))==56320&&(Se=65536+(Se-55296<<10)+(ve-56320),Te++),Se<128?be[Ce++]=Se:(Se<2048?be[Ce++]=192|Se>>>6:(Se<65536?be[Ce++]=224|Se>>>12:(be[Ce++]=240|Se>>>18,be[Ce++]=128|Se>>>12&63),be[Ce++]=128|Se>>>6&63),be[Ce++]=128|63&Se);return be})(ye)},ie.utf8decode=function(ye){return oe.nodebuffer?se.transformTo("nodebuffer",ye).toString("utf-8"):(function(xe){var be,Se,ve,Te,Ce=xe.length,Pe=new Array(2*Ce);for(be=Se=0;be<Ce;)if((ve=xe[be++])<128)Pe[Se++]=ve;else if(4<(Te=he[ve]))Pe[Se++]=65533,be+=Te-1;else{for(ve&=Te===2?31:Te===3?15:7;1<Te&&be<Ce;)ve=ve<<6|63&xe[be++],Te--;1<Te?Pe[Se++]=65533:ve<65536?Pe[Se++]=ve:(ve-=65536,Pe[Se++]=55296|ve>>10&1023,Pe[Se++]=56320|1023&ve)}return Pe.length!==Se&&(Pe.subarray?Pe=Pe.subarray(0,Se):Pe.length=Se),se.applyFromCharCode(Pe)})(ye=se.transformTo(oe.uint8array?"uint8array":"array",ye))},se.inherits(pe,ce),pe.prototype.processChunk=function(ye){var xe=se.transformTo(oe.uint8array?"uint8array":"array",ye.data);if(this.leftOver&&this.leftOver.length){if(oe.uint8array){var be=xe;(xe=new Uint8Array(be.length+this.leftOver.length)).set(this.leftOver,0),xe.set(be,this.leftOver.length)}else xe=this.leftOver.concat(xe);this.leftOver=null}var Se=(function(Te,Ce){var Pe;for((Ce=Ce||Te.length)>Te.length&&(Ce=Te.length),Pe=Ce-1;0<=Pe&&(192&Te[Pe])==128;)Pe--;return Pe<0||Pe===0?Ce:Pe+he[Te[Pe]]>Ce?Pe:Ce})(xe),ve=xe;Se!==xe.length&&(oe.uint8array?(ve=xe.subarray(0,Se),this.leftOver=xe.subarray(Se,xe.length)):(ve=xe.slice(0,Se),this.leftOver=xe.slice(Se,xe.length))),this.push({data:ie.utf8decode(ve),meta:ye.meta})},pe.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:ie.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},ie.Utf8DecodeWorker=pe,se.inherits(ge,ce),ge.prototype.processChunk=function(ye){this.push({data:ie.utf8encode(ye.data),meta:ye.meta})},ie.Utf8EncodeWorker=ge},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(ne,ae,ie){var se=ne("./support"),oe=ne("./base64"),le=ne("./nodejsUtils"),ce=ne("./external");function he(be){return be}function fe(be,Se){for(var ve=0;ve<be.length;++ve)Se[ve]=255&be.charCodeAt(ve);return Se}ne("setimmediate"),ie.newBlob=function(be,Se){ie.checkSupport("blob");try{return new Blob([be],{type:Se})}catch{try{var ve=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return ve.append(be),ve.getBlob(Se)}catch{throw new Error("Bug : can't construct the Blob.")}}};var pe={stringifyByChunk:function(be,Se,ve){var Te=[],Ce=0,Pe=be.length;if(Pe<=ve)return String.fromCharCode.apply(null,be);for(;Ce<Pe;)Se==="array"||Se==="nodebuffer"?Te.push(String.fromCharCode.apply(null,be.slice(Ce,Math.min(Ce+ve,Pe)))):Te.push(String.fromCharCode.apply(null,be.subarray(Ce,Math.min(Ce+ve,Pe)))),Ce+=ve;return Te.join("")},stringifyByChar:function(be){for(var Se="",ve=0;ve<be.length;ve++)Se+=String.fromCharCode(be[ve]);return Se},applyCanBeUsed:{uint8array:(function(){try{return se.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return se.nodebuffer&&String.fromCharCode.apply(null,le.allocBuffer(1)).length===1}catch{return!1}})()}};function ge(be){var Se=65536,ve=ie.getTypeOf(be),Te=!0;if(ve==="uint8array"?Te=pe.applyCanBeUsed.uint8array:ve==="nodebuffer"&&(Te=pe.applyCanBeUsed.nodebuffer),Te)for(;1<Se;)try{return pe.stringifyByChunk(be,ve,Se)}catch{Se=Math.floor(Se/2)}return pe.stringifyByChar(be)}function ye(be,Se){for(var ve=0;ve<be.length;ve++)Se[ve]=be[ve];return Se}ie.applyFromCharCode=ge;var xe={};xe.string={string:he,array:function(be){return fe(be,new Array(be.length))},arraybuffer:function(be){return xe.string.uint8array(be).buffer},uint8array:function(be){return fe(be,new Uint8Array(be.length))},nodebuffer:function(be){return fe(be,le.allocBuffer(be.length))}},xe.array={string:ge,array:he,arraybuffer:function(be){return new Uint8Array(be).buffer},uint8array:function(be){return new Uint8Array(be)},nodebuffer:function(be){return le.newBufferFrom(be)}},xe.arraybuffer={string:function(be){return ge(new Uint8Array(be))},array:function(be){return ye(new Uint8Array(be),new Array(be.byteLength))},arraybuffer:he,uint8array:function(be){return new Uint8Array(be)},nodebuffer:function(be){return le.newBufferFrom(new Uint8Array(be))}},xe.uint8array={string:ge,array:function(be){return ye(be,new Array(be.length))},arraybuffer:function(be){return be.buffer},uint8array:he,nodebuffer:function(be){return le.newBufferFrom(be)}},xe.nodebuffer={string:ge,array:function(be){return ye(be,new Array(be.length))},arraybuffer:function(be){return xe.nodebuffer.uint8array(be).buffer},uint8array:function(be){return ye(be,new Uint8Array(be.length))},nodebuffer:he},ie.transformTo=function(be,Se){if(Se=Se||"",!be)return Se;ie.checkSupport(be);var ve=ie.getTypeOf(Se);return xe[ve][be](Se)},ie.resolve=function(be){for(var Se=be.split("/"),ve=[],Te=0;Te<Se.length;Te++){var Ce=Se[Te];Ce==="."||Ce===""&&Te!==0&&Te!==Se.length-1||(Ce===".."?ve.pop():ve.push(Ce))}return ve.join("/")},ie.getTypeOf=function(be){return typeof be=="string"?"string":Object.prototype.toString.call(be)==="[object Array]"?"array":se.nodebuffer&&le.isBuffer(be)?"nodebuffer":se.uint8array&&be instanceof Uint8Array?"uint8array":se.arraybuffer&&be instanceof ArrayBuffer?"arraybuffer":void 0},ie.checkSupport=function(be){if(!se[be.toLowerCase()])throw new Error(be+" is not supported by this platform")},ie.MAX_VALUE_16BITS=65535,ie.MAX_VALUE_32BITS=-1,ie.pretty=function(be){var Se,ve,Te="";for(ve=0;ve<(be||"").length;ve++)Te+="\\x"+((Se=be.charCodeAt(ve))<16?"0":"")+Se.toString(16).toUpperCase();return Te},ie.delay=function(be,Se,ve){setImmediate(function(){be.apply(ve||null,Se||[])})},ie.inherits=function(be,Se){function ve(){}ve.prototype=Se.prototype,be.prototype=new ve},ie.extend=function(){var be,Se,ve={};for(be=0;be<arguments.length;be++)for(Se in arguments[be])Object.prototype.hasOwnProperty.call(arguments[be],Se)&&ve[Se]===void 0&&(ve[Se]=arguments[be][Se]);return ve},ie.prepareContent=function(be,Se,ve,Te,Ce){return ce.Promise.resolve(Se).then(function(Pe){return se.blob&&(Pe instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Pe))!==-1)&&typeof FileReader<"u"?new ce.Promise(function(Be,Ae){var Me=new FileReader;Me.onload=function(Ge){Be(Ge.target.result)},Me.onerror=function(Ge){Ae(Ge.target.error)},Me.readAsArrayBuffer(Pe)}):Pe}).then(function(Pe){var Be=ie.getTypeOf(Pe);return Be?(Be==="arraybuffer"?Pe=ie.transformTo("uint8array",Pe):Be==="string"&&(Ce?Pe=oe.decode(Pe):ve&&Te!==!0&&(Pe=(function(Ae){return fe(Ae,se.uint8array?new Uint8Array(Ae.length):new Array(Ae.length))})(Pe))),Pe):ce.Promise.reject(new Error("Can't read the data of '"+be+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(ne,ae,ie){var se=ne("./reader/readerFor"),oe=ne("./utils"),le=ne("./signature"),ce=ne("./zipEntry"),he=ne("./support");function fe(pe){this.files=[],this.loadOptions=pe}fe.prototype={checkSignature:function(pe){if(!this.reader.readAndCheckSignature(pe)){this.reader.index-=4;var ge=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+oe.pretty(ge)+", expected "+oe.pretty(pe)+")")}},isSignature:function(pe,ge){var ye=this.reader.index;this.reader.setIndex(pe);var xe=this.reader.readString(4)===ge;return this.reader.setIndex(ye),xe},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var pe=this.reader.readData(this.zipCommentLength),ge=he.uint8array?"uint8array":"array",ye=oe.transformTo(ge,pe);this.zipComment=this.loadOptions.decodeFileName(ye)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var pe,ge,ye,xe=this.zip64EndOfCentralSize-44;0<xe;)pe=this.reader.readInt(2),ge=this.reader.readInt(4),ye=this.reader.readData(ge),this.zip64ExtensibleData[pe]={id:pe,length:ge,value:ye}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var pe,ge;for(pe=0;pe<this.files.length;pe++)ge=this.files[pe],this.reader.setIndex(ge.localHeaderOffset),this.checkSignature(le.LOCAL_FILE_HEADER),ge.readLocalPart(this.reader),ge.handleUTF8(),ge.processAttributes()},readCentralDir:function(){var pe;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(le.CENTRAL_FILE_HEADER);)(pe=new ce({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(pe);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var pe=this.reader.lastIndexOfSignature(le.CENTRAL_DIRECTORY_END);if(pe<0)throw this.isSignature(0,le.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(pe);var ge=pe;if(this.checkSignature(le.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===oe.MAX_VALUE_16BITS||this.diskWithCentralDirStart===oe.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===oe.MAX_VALUE_16BITS||this.centralDirRecords===oe.MAX_VALUE_16BITS||this.centralDirSize===oe.MAX_VALUE_32BITS||this.centralDirOffset===oe.MAX_VALUE_32BITS){if(this.zip64=!0,(pe=this.reader.lastIndexOfSignature(le.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(pe),this.checkSignature(le.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,le.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(le.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(le.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var ye=this.centralDirOffset+this.centralDirSize;this.zip64&&(ye+=20,ye+=12+this.zip64EndOfCentralSize);var xe=ge-ye;if(0<xe)this.isSignature(ge,le.CENTRAL_FILE_HEADER)||(this.reader.zero=xe);else if(xe<0)throw new Error("Corrupted zip: missing "+Math.abs(xe)+" bytes.")},prepareReader:function(pe){this.reader=se(pe)},load:function(pe){this.prepareReader(pe),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},ae.exports=fe},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(ne,ae,ie){var se=ne("./reader/readerFor"),oe=ne("./utils"),le=ne("./compressedObject"),ce=ne("./crc32"),he=ne("./utf8"),fe=ne("./compressions"),pe=ne("./support");function ge(ye,xe){this.options=ye,this.loadOptions=xe}ge.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(ye){var xe,be;if(ye.skip(22),this.fileNameLength=ye.readInt(2),be=ye.readInt(2),this.fileName=ye.readData(this.fileNameLength),ye.skip(be),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((xe=(function(Se){for(var ve in fe)if(Object.prototype.hasOwnProperty.call(fe,ve)&&fe[ve].magic===Se)return fe[ve];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+oe.pretty(this.compressionMethod)+" unknown (inner file : "+oe.transformTo("string",this.fileName)+")");this.decompressed=new le(this.compressedSize,this.uncompressedSize,this.crc32,xe,ye.readData(this.compressedSize))},readCentralPart:function(ye){this.versionMadeBy=ye.readInt(2),ye.skip(2),this.bitFlag=ye.readInt(2),this.compressionMethod=ye.readString(2),this.date=ye.readDate(),this.crc32=ye.readInt(4),this.compressedSize=ye.readInt(4),this.uncompressedSize=ye.readInt(4);var xe=ye.readInt(2);if(this.extraFieldsLength=ye.readInt(2),this.fileCommentLength=ye.readInt(2),this.diskNumberStart=ye.readInt(2),this.internalFileAttributes=ye.readInt(2),this.externalFileAttributes=ye.readInt(4),this.localHeaderOffset=ye.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");ye.skip(xe),this.readExtraFields(ye),this.parseZIP64ExtraField(ye),this.fileComment=ye.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var ye=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),ye==0&&(this.dosPermissions=63&this.externalFileAttributes),ye==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var ye=se(this.extraFields[1].value);this.uncompressedSize===oe.MAX_VALUE_32BITS&&(this.uncompressedSize=ye.readInt(8)),this.compressedSize===oe.MAX_VALUE_32BITS&&(this.compressedSize=ye.readInt(8)),this.localHeaderOffset===oe.MAX_VALUE_32BITS&&(this.localHeaderOffset=ye.readInt(8)),this.diskNumberStart===oe.MAX_VALUE_32BITS&&(this.diskNumberStart=ye.readInt(4))}},readExtraFields:function(ye){var xe,be,Se,ve=ye.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});ye.index+4<ve;)xe=ye.readInt(2),be=ye.readInt(2),Se=ye.readData(be),this.extraFields[xe]={id:xe,length:be,value:Se};ye.setIndex(ve)},handleUTF8:function(){var ye=pe.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=he.utf8decode(this.fileName),this.fileCommentStr=he.utf8decode(this.fileComment);else{var xe=this.findExtraFieldUnicodePath();if(xe!==null)this.fileNameStr=xe;else{var be=oe.transformTo(ye,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(be)}var Se=this.findExtraFieldUnicodeComment();if(Se!==null)this.fileCommentStr=Se;else{var ve=oe.transformTo(ye,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(ve)}}},findExtraFieldUnicodePath:function(){var ye=this.extraFields[28789];if(ye){var xe=se(ye.value);return xe.readInt(1)!==1||ce(this.fileName)!==xe.readInt(4)?null:he.utf8decode(xe.readData(ye.length-5))}return null},findExtraFieldUnicodeComment:function(){var ye=this.extraFields[25461];if(ye){var xe=se(ye.value);return xe.readInt(1)!==1||ce(this.fileComment)!==xe.readInt(4)?null:he.utf8decode(xe.readData(ye.length-5))}return null}},ae.exports=ge},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(ne,ae,ie){function se(xe,be,Se){this.name=xe,this.dir=Se.dir,this.date=Se.date,this.comment=Se.comment,this.unixPermissions=Se.unixPermissions,this.dosPermissions=Se.dosPermissions,this._data=be,this._dataBinary=Se.binary,this.options={compression:Se.compression,compressionOptions:Se.compressionOptions}}var oe=ne("./stream/StreamHelper"),le=ne("./stream/DataWorker"),ce=ne("./utf8"),he=ne("./compressedObject"),fe=ne("./stream/GenericWorker");se.prototype={internalStream:function(xe){var be=null,Se="string";try{if(!xe)throw new Error("No output type specified.");var ve=(Se=xe.toLowerCase())==="string"||Se==="text";Se!=="binarystring"&&Se!=="text"||(Se="string"),be=this._decompressWorker();var Te=!this._dataBinary;Te&&!ve&&(be=be.pipe(new ce.Utf8EncodeWorker)),!Te&&ve&&(be=be.pipe(new ce.Utf8DecodeWorker))}catch(Ce){(be=new fe("error")).error(Ce)}return new oe(be,Se,"")},async:function(xe,be){return this.internalStream(xe).accumulate(be)},nodeStream:function(xe,be){return this.internalStream(xe||"nodebuffer").toNodejsStream(be)},_compressWorker:function(xe,be){if(this._data instanceof he&&this._data.compression.magic===xe.magic)return this._data.getCompressedWorker();var Se=this._decompressWorker();return this._dataBinary||(Se=Se.pipe(new ce.Utf8EncodeWorker)),he.createWorkerFrom(Se,xe,be)},_decompressWorker:function(){return this._data instanceof he?this._data.getContentWorker():this._data instanceof fe?this._data:new le(this._data)}};for(var pe=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],ge=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},ye=0;ye<pe.length;ye++)se.prototype[pe[ye]]=ge;ae.exports=se},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(ne,ae,ie){(function(se){var oe,le,ce=se.MutationObserver||se.WebKitMutationObserver;if(ce){var he=0,fe=new ce(xe),pe=se.document.createTextNode("");fe.observe(pe,{characterData:!0}),oe=function(){pe.data=he=++he%2}}else if(se.setImmediate||se.MessageChannel===void 0)oe="document"in se&&"onreadystatechange"in se.document.createElement("script")?function(){var be=se.document.createElement("script");be.onreadystatechange=function(){xe(),be.onreadystatechange=null,be.parentNode.removeChild(be),be=null},se.document.documentElement.appendChild(be)}:function(){setTimeout(xe,0)};else{var ge=new se.MessageChannel;ge.port1.onmessage=xe,oe=function(){ge.port2.postMessage(0)}}var ye=[];function xe(){var be,Se;le=!0;for(var ve=ye.length;ve;){for(Se=ye,ye=[],be=-1;++be<ve;)Se[be]();ve=ye.length}le=!1}ae.exports=function(be){ye.push(be)!==1||le||oe()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(ne,ae,ie){var se=ne("immediate");function oe(){}var le={},ce=["REJECTED"],he=["FULFILLED"],fe=["PENDING"];function pe(ve){if(typeof ve!="function")throw new TypeError("resolver must be a function");this.state=fe,this.queue=[],this.outcome=void 0,ve!==oe&&be(this,ve)}function ge(ve,Te,Ce){this.promise=ve,typeof Te=="function"&&(this.onFulfilled=Te,this.callFulfilled=this.otherCallFulfilled),typeof Ce=="function"&&(this.onRejected=Ce,this.callRejected=this.otherCallRejected)}function ye(ve,Te,Ce){se(function(){var Pe;try{Pe=Te(Ce)}catch(Be){return le.reject(ve,Be)}Pe===ve?le.reject(ve,new TypeError("Cannot resolve promise with itself")):le.resolve(ve,Pe)})}function xe(ve){var Te=ve&&ve.then;if(ve&&(typeof ve=="object"||typeof ve=="function")&&typeof Te=="function")return function(){Te.apply(ve,arguments)}}function be(ve,Te){var Ce=!1;function Pe(Me){Ce||(Ce=!0,le.reject(ve,Me))}function Be(Me){Ce||(Ce=!0,le.resolve(ve,Me))}var Ae=Se(function(){Te(Be,Pe)});Ae.status==="error"&&Pe(Ae.value)}function Se(ve,Te){var Ce={};try{Ce.value=ve(Te),Ce.status="success"}catch(Pe){Ce.status="error",Ce.value=Pe}return Ce}(ae.exports=pe).prototype.finally=function(ve){if(typeof ve!="function")return this;var Te=this.constructor;return this.then(function(Ce){return Te.resolve(ve()).then(function(){return Ce})},function(Ce){return Te.resolve(ve()).then(function(){throw Ce})})},pe.prototype.catch=function(ve){return this.then(null,ve)},pe.prototype.then=function(ve,Te){if(typeof ve!="function"&&this.state===he||typeof Te!="function"&&this.state===ce)return this;var Ce=new this.constructor(oe);return this.state!==fe?ye(Ce,this.state===he?ve:Te,this.outcome):this.queue.push(new ge(Ce,ve,Te)),Ce},ge.prototype.callFulfilled=function(ve){le.resolve(this.promise,ve)},ge.prototype.otherCallFulfilled=function(ve){ye(this.promise,this.onFulfilled,ve)},ge.prototype.callRejected=function(ve){le.reject(this.promise,ve)},ge.prototype.otherCallRejected=function(ve){ye(this.promise,this.onRejected,ve)},le.resolve=function(ve,Te){var Ce=Se(xe,Te);if(Ce.status==="error")return le.reject(ve,Ce.value);var Pe=Ce.value;if(Pe)be(ve,Pe);else{ve.state=he,ve.outcome=Te;for(var Be=-1,Ae=ve.queue.length;++Be<Ae;)ve.queue[Be].callFulfilled(Te)}return ve},le.reject=function(ve,Te){ve.state=ce,ve.outcome=Te;for(var Ce=-1,Pe=ve.queue.length;++Ce<Pe;)ve.queue[Ce].callRejected(Te);return ve},pe.resolve=function(ve){return ve instanceof this?ve:le.resolve(new this(oe),ve)},pe.reject=function(ve){var Te=new this(oe);return le.reject(Te,ve)},pe.all=function(ve){var Te=this;if(Object.prototype.toString.call(ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ce=ve.length,Pe=!1;if(!Ce)return this.resolve([]);for(var Be=new Array(Ce),Ae=0,Me=-1,Ge=new this(oe);++Me<Ce;)Ue(ve[Me],Me);return Ge;function Ue(Ve,je){Te.resolve(Ve).then(function(De){Be[je]=De,++Ae!==Ce||Pe||(Pe=!0,le.resolve(Ge,Be))},function(De){Pe||(Pe=!0,le.reject(Ge,De))})}},pe.race=function(ve){var Te=this;if(Object.prototype.toString.call(ve)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ce=ve.length,Pe=!1;if(!Ce)return this.resolve([]);for(var Be=-1,Ae=new this(oe);++Be<Ce;)Me=ve[Be],Te.resolve(Me).then(function(Ge){Pe||(Pe=!0,le.resolve(Ae,Ge))},function(Ge){Pe||(Pe=!0,le.reject(Ae,Ge))});var Me;return Ae}},{immediate:36}],38:[function(ne,ae,ie){var se={};(0,ne("./lib/utils/common").assign)(se,ne("./lib/deflate"),ne("./lib/inflate"),ne("./lib/zlib/constants")),ae.exports=se},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(ne,ae,ie){var se=ne("./zlib/deflate"),oe=ne("./utils/common"),le=ne("./utils/strings"),ce=ne("./zlib/messages"),he=ne("./zlib/zstream"),fe=Object.prototype.toString,pe=0,ge=-1,ye=0,xe=8;function be(ve){if(!(this instanceof be))return new be(ve);this.options=oe.assign({level:ge,method:xe,chunkSize:16384,windowBits:15,memLevel:8,strategy:ye,to:""},ve||{});var Te=this.options;Te.raw&&0<Te.windowBits?Te.windowBits=-Te.windowBits:Te.gzip&&0<Te.windowBits&&Te.windowBits<16&&(Te.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new he,this.strm.avail_out=0;var Ce=se.deflateInit2(this.strm,Te.level,Te.method,Te.windowBits,Te.memLevel,Te.strategy);if(Ce!==pe)throw new Error(ce[Ce]);if(Te.header&&se.deflateSetHeader(this.strm,Te.header),Te.dictionary){var Pe;if(Pe=typeof Te.dictionary=="string"?le.string2buf(Te.dictionary):fe.call(Te.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Te.dictionary):Te.dictionary,(Ce=se.deflateSetDictionary(this.strm,Pe))!==pe)throw new Error(ce[Ce]);this._dict_set=!0}}function Se(ve,Te){var Ce=new be(Te);if(Ce.push(ve,!0),Ce.err)throw Ce.msg||ce[Ce.err];return Ce.result}be.prototype.push=function(ve,Te){var Ce,Pe,Be=this.strm,Ae=this.options.chunkSize;if(this.ended)return!1;Pe=Te===~~Te?Te:Te===!0?4:0,typeof ve=="string"?Be.input=le.string2buf(ve):fe.call(ve)==="[object ArrayBuffer]"?Be.input=new Uint8Array(ve):Be.input=ve,Be.next_in=0,Be.avail_in=Be.input.length;do{if(Be.avail_out===0&&(Be.output=new oe.Buf8(Ae),Be.next_out=0,Be.avail_out=Ae),(Ce=se.deflate(Be,Pe))!==1&&Ce!==pe)return this.onEnd(Ce),!(this.ended=!0);Be.avail_out!==0&&(Be.avail_in!==0||Pe!==4&&Pe!==2)||(this.options.to==="string"?this.onData(le.buf2binstring(oe.shrinkBuf(Be.output,Be.next_out))):this.onData(oe.shrinkBuf(Be.output,Be.next_out)))}while((0<Be.avail_in||Be.avail_out===0)&&Ce!==1);return Pe===4?(Ce=se.deflateEnd(this.strm),this.onEnd(Ce),this.ended=!0,Ce===pe):Pe!==2||(this.onEnd(pe),!(Be.avail_out=0))},be.prototype.onData=function(ve){this.chunks.push(ve)},be.prototype.onEnd=function(ve){ve===pe&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=oe.flattenChunks(this.chunks)),this.chunks=[],this.err=ve,this.msg=this.strm.msg},ie.Deflate=be,ie.deflate=Se,ie.deflateRaw=function(ve,Te){return(Te=Te||{}).raw=!0,Se(ve,Te)},ie.gzip=function(ve,Te){return(Te=Te||{}).gzip=!0,Se(ve,Te)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(ne,ae,ie){var se=ne("./zlib/inflate"),oe=ne("./utils/common"),le=ne("./utils/strings"),ce=ne("./zlib/constants"),he=ne("./zlib/messages"),fe=ne("./zlib/zstream"),pe=ne("./zlib/gzheader"),ge=Object.prototype.toString;function ye(be){if(!(this instanceof ye))return new ye(be);this.options=oe.assign({chunkSize:16384,windowBits:0,to:""},be||{});var Se=this.options;Se.raw&&0<=Se.windowBits&&Se.windowBits<16&&(Se.windowBits=-Se.windowBits,Se.windowBits===0&&(Se.windowBits=-15)),!(0<=Se.windowBits&&Se.windowBits<16)||be&&be.windowBits||(Se.windowBits+=32),15<Se.windowBits&&Se.windowBits<48&&(15&Se.windowBits)==0&&(Se.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fe,this.strm.avail_out=0;var ve=se.inflateInit2(this.strm,Se.windowBits);if(ve!==ce.Z_OK)throw new Error(he[ve]);this.header=new pe,se.inflateGetHeader(this.strm,this.header)}function xe(be,Se){var ve=new ye(Se);if(ve.push(be,!0),ve.err)throw ve.msg||he[ve.err];return ve.result}ye.prototype.push=function(be,Se){var ve,Te,Ce,Pe,Be,Ae,Me=this.strm,Ge=this.options.chunkSize,Ue=this.options.dictionary,Ve=!1;if(this.ended)return!1;Te=Se===~~Se?Se:Se===!0?ce.Z_FINISH:ce.Z_NO_FLUSH,typeof be=="string"?Me.input=le.binstring2buf(be):ge.call(be)==="[object ArrayBuffer]"?Me.input=new Uint8Array(be):Me.input=be,Me.next_in=0,Me.avail_in=Me.input.length;do{if(Me.avail_out===0&&(Me.output=new oe.Buf8(Ge),Me.next_out=0,Me.avail_out=Ge),(ve=se.inflate(Me,ce.Z_NO_FLUSH))===ce.Z_NEED_DICT&&Ue&&(Ae=typeof Ue=="string"?le.string2buf(Ue):ge.call(Ue)==="[object ArrayBuffer]"?new Uint8Array(Ue):Ue,ve=se.inflateSetDictionary(this.strm,Ae)),ve===ce.Z_BUF_ERROR&&Ve===!0&&(ve=ce.Z_OK,Ve=!1),ve!==ce.Z_STREAM_END&&ve!==ce.Z_OK)return this.onEnd(ve),!(this.ended=!0);Me.next_out&&(Me.avail_out!==0&&ve!==ce.Z_STREAM_END&&(Me.avail_in!==0||Te!==ce.Z_FINISH&&Te!==ce.Z_SYNC_FLUSH)||(this.options.to==="string"?(Ce=le.utf8border(Me.output,Me.next_out),Pe=Me.next_out-Ce,Be=le.buf2string(Me.output,Ce),Me.next_out=Pe,Me.avail_out=Ge-Pe,Pe&&oe.arraySet(Me.output,Me.output,Ce,Pe,0),this.onData(Be)):this.onData(oe.shrinkBuf(Me.output,Me.next_out)))),Me.avail_in===0&&Me.avail_out===0&&(Ve=!0)}while((0<Me.avail_in||Me.avail_out===0)&&ve!==ce.Z_STREAM_END);return ve===ce.Z_STREAM_END&&(Te=ce.Z_FINISH),Te===ce.Z_FINISH?(ve=se.inflateEnd(this.strm),this.onEnd(ve),this.ended=!0,ve===ce.Z_OK):Te!==ce.Z_SYNC_FLUSH||(this.onEnd(ce.Z_OK),!(Me.avail_out=0))},ye.prototype.onData=function(be){this.chunks.push(be)},ye.prototype.onEnd=function(be){be===ce.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=oe.flattenChunks(this.chunks)),this.chunks=[],this.err=be,this.msg=this.strm.msg},ie.Inflate=ye,ie.inflate=xe,ie.inflateRaw=function(be,Se){return(Se=Se||{}).raw=!0,xe(be,Se)},ie.ungzip=xe},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(ne,ae,ie){var se=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";ie.assign=function(ce){for(var he=Array.prototype.slice.call(arguments,1);he.length;){var fe=he.shift();if(fe){if(typeof fe!="object")throw new TypeError(fe+"must be non-object");for(var pe in fe)fe.hasOwnProperty(pe)&&(ce[pe]=fe[pe])}}return ce},ie.shrinkBuf=function(ce,he){return ce.length===he?ce:ce.subarray?ce.subarray(0,he):(ce.length=he,ce)};var oe={arraySet:function(ce,he,fe,pe,ge){if(he.subarray&&ce.subarray)ce.set(he.subarray(fe,fe+pe),ge);else for(var ye=0;ye<pe;ye++)ce[ge+ye]=he[fe+ye]},flattenChunks:function(ce){var he,fe,pe,ge,ye,xe;for(he=pe=0,fe=ce.length;he<fe;he++)pe+=ce[he].length;for(xe=new Uint8Array(pe),he=ge=0,fe=ce.length;he<fe;he++)ye=ce[he],xe.set(ye,ge),ge+=ye.length;return xe}},le={arraySet:function(ce,he,fe,pe,ge){for(var ye=0;ye<pe;ye++)ce[ge+ye]=he[fe+ye]},flattenChunks:function(ce){return[].concat.apply([],ce)}};ie.setTyped=function(ce){ce?(ie.Buf8=Uint8Array,ie.Buf16=Uint16Array,ie.Buf32=Int32Array,ie.assign(ie,oe)):(ie.Buf8=Array,ie.Buf16=Array,ie.Buf32=Array,ie.assign(ie,le))},ie.setTyped(se)},{}],42:[function(ne,ae,ie){var se=ne("./common"),oe=!0,le=!0;try{String.fromCharCode.apply(null,[0])}catch{oe=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{le=!1}for(var ce=new se.Buf8(256),he=0;he<256;he++)ce[he]=252<=he?6:248<=he?5:240<=he?4:224<=he?3:192<=he?2:1;function fe(pe,ge){if(ge<65537&&(pe.subarray&&le||!pe.subarray&&oe))return String.fromCharCode.apply(null,se.shrinkBuf(pe,ge));for(var ye="",xe=0;xe<ge;xe++)ye+=String.fromCharCode(pe[xe]);return ye}ce[254]=ce[254]=1,ie.string2buf=function(pe){var ge,ye,xe,be,Se,ve=pe.length,Te=0;for(be=0;be<ve;be++)(64512&(ye=pe.charCodeAt(be)))==55296&&be+1<ve&&(64512&(xe=pe.charCodeAt(be+1)))==56320&&(ye=65536+(ye-55296<<10)+(xe-56320),be++),Te+=ye<128?1:ye<2048?2:ye<65536?3:4;for(ge=new se.Buf8(Te),be=Se=0;Se<Te;be++)(64512&(ye=pe.charCodeAt(be)))==55296&&be+1<ve&&(64512&(xe=pe.charCodeAt(be+1)))==56320&&(ye=65536+(ye-55296<<10)+(xe-56320),be++),ye<128?ge[Se++]=ye:(ye<2048?ge[Se++]=192|ye>>>6:(ye<65536?ge[Se++]=224|ye>>>12:(ge[Se++]=240|ye>>>18,ge[Se++]=128|ye>>>12&63),ge[Se++]=128|ye>>>6&63),ge[Se++]=128|63&ye);return ge},ie.buf2binstring=function(pe){return fe(pe,pe.length)},ie.binstring2buf=function(pe){for(var ge=new se.Buf8(pe.length),ye=0,xe=ge.length;ye<xe;ye++)ge[ye]=pe.charCodeAt(ye);return ge},ie.buf2string=function(pe,ge){var ye,xe,be,Se,ve=ge||pe.length,Te=new Array(2*ve);for(ye=xe=0;ye<ve;)if((be=pe[ye++])<128)Te[xe++]=be;else if(4<(Se=ce[be]))Te[xe++]=65533,ye+=Se-1;else{for(be&=Se===2?31:Se===3?15:7;1<Se&&ye<ve;)be=be<<6|63&pe[ye++],Se--;1<Se?Te[xe++]=65533:be<65536?Te[xe++]=be:(be-=65536,Te[xe++]=55296|be>>10&1023,Te[xe++]=56320|1023&be)}return fe(Te,xe)},ie.utf8border=function(pe,ge){var ye;for((ge=ge||pe.length)>pe.length&&(ge=pe.length),ye=ge-1;0<=ye&&(192&pe[ye])==128;)ye--;return ye<0||ye===0?ge:ye+ce[pe[ye]]>ge?ye:ge}},{"./common":41}],43:[function(ne,ae,ie){ae.exports=function(se,oe,le,ce){for(var he=65535&se|0,fe=se>>>16&65535|0,pe=0;le!==0;){for(le-=pe=2e3<le?2e3:le;fe=fe+(he=he+oe[ce++]|0)|0,--pe;);he%=65521,fe%=65521}return he|fe<<16|0}},{}],44:[function(ne,ae,ie){ae.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(ne,ae,ie){var se=(function(){for(var oe,le=[],ce=0;ce<256;ce++){oe=ce;for(var he=0;he<8;he++)oe=1&oe?3988292384^oe>>>1:oe>>>1;le[ce]=oe}return le})();ae.exports=function(oe,le,ce,he){var fe=se,pe=he+ce;oe^=-1;for(var ge=he;ge<pe;ge++)oe=oe>>>8^fe[255&(oe^le[ge])];return-1^oe}},{}],46:[function(ne,ae,ie){var se,oe=ne("../utils/common"),le=ne("./trees"),ce=ne("./adler32"),he=ne("./crc32"),fe=ne("./messages"),pe=0,ge=4,ye=0,xe=-2,be=-1,Se=4,ve=2,Te=8,Ce=9,Pe=286,Be=30,Ae=19,Me=2*Pe+1,Ge=15,Ue=3,Ve=258,je=Ve+Ue+1,De=42,Ye=113,ke=1,$e=2,Oe=3,He=4;function qe(Ne,_t){return Ne.msg=fe[_t],_t}function Xe(Ne){return(Ne<<1)-(4<Ne?9:0)}function ze(Ne){for(var _t=Ne.length;0<=--_t;)Ne[_t]=0}function Ie(Ne){var _t=Ne.state,dt=_t.pending;dt>Ne.avail_out&&(dt=Ne.avail_out),dt!==0&&(oe.arraySet(Ne.output,_t.pending_buf,_t.pending_out,dt,Ne.next_out),Ne.next_out+=dt,_t.pending_out+=dt,Ne.total_out+=dt,Ne.avail_out-=dt,_t.pending-=dt,_t.pending===0&&(_t.pending_out=0))}function Fe(Ne,_t){le._tr_flush_block(Ne,0<=Ne.block_start?Ne.block_start:-1,Ne.strstart-Ne.block_start,_t),Ne.block_start=Ne.strstart,Ie(Ne.strm)}function Le(Ne,_t){Ne.pending_buf[Ne.pending++]=_t}function Ze(Ne,_t){Ne.pending_buf[Ne.pending++]=_t>>>8&255,Ne.pending_buf[Ne.pending++]=255&_t}function Qe(Ne,_t){var dt,Ke,Je=Ne.max_chain_length,ut=Ne.strstart,wt=Ne.prev_length,Et=Ne.nice_match,pt=Ne.strstart>Ne.w_size-je?Ne.strstart-(Ne.w_size-je):0,Rt=Ne.window,It=Ne.w_mask,Bt=Ne.prev,ct=Ne.strstart+Ve,bt=Rt[ut+wt-1],Mt=Rt[ut+wt];Ne.prev_length>=Ne.good_match&&(Je>>=2),Et>Ne.lookahead&&(Et=Ne.lookahead);do if(Rt[(dt=_t)+wt]===Mt&&Rt[dt+wt-1]===bt&&Rt[dt]===Rt[ut]&&Rt[++dt]===Rt[ut+1]){ut+=2,dt++;do;while(Rt[++ut]===Rt[++dt]&&Rt[++ut]===Rt[++dt]&&Rt[++ut]===Rt[++dt]&&Rt[++ut]===Rt[++dt]&&Rt[++ut]===Rt[++dt]&&Rt[++ut]===Rt[++dt]&&Rt[++ut]===Rt[++dt]&&Rt[++ut]===Rt[++dt]&&ut<ct);if(Ke=Ve-(ct-ut),ut=ct-Ve,wt<Ke){if(Ne.match_start=_t,Et<=(wt=Ke))break;bt=Rt[ut+wt-1],Mt=Rt[ut+wt]}}while((_t=Bt[_t&It])>pt&&--Je!=0);return wt<=Ne.lookahead?wt:Ne.lookahead}function St(Ne){var _t,dt,Ke,Je,ut,wt,Et,pt,Rt,It,Bt=Ne.w_size;do{if(Je=Ne.window_size-Ne.lookahead-Ne.strstart,Ne.strstart>=Bt+(Bt-je)){for(oe.arraySet(Ne.window,Ne.window,Bt,Bt,0),Ne.match_start-=Bt,Ne.strstart-=Bt,Ne.block_start-=Bt,_t=dt=Ne.hash_size;Ke=Ne.head[--_t],Ne.head[_t]=Bt<=Ke?Ke-Bt:0,--dt;);for(_t=dt=Bt;Ke=Ne.prev[--_t],Ne.prev[_t]=Bt<=Ke?Ke-Bt:0,--dt;);Je+=Bt}if(Ne.strm.avail_in===0)break;if(wt=Ne.strm,Et=Ne.window,pt=Ne.strstart+Ne.lookahead,Rt=Je,It=void 0,It=wt.avail_in,Rt<It&&(It=Rt),dt=It===0?0:(wt.avail_in-=It,oe.arraySet(Et,wt.input,wt.next_in,It,pt),wt.state.wrap===1?wt.adler=ce(wt.adler,Et,It,pt):wt.state.wrap===2&&(wt.adler=he(wt.adler,Et,It,pt)),wt.next_in+=It,wt.total_in+=It,It),Ne.lookahead+=dt,Ne.lookahead+Ne.insert>=Ue)for(ut=Ne.strstart-Ne.insert,Ne.ins_h=Ne.window[ut],Ne.ins_h=(Ne.ins_h<<Ne.hash_shift^Ne.window[ut+1])&Ne.hash_mask;Ne.insert&&(Ne.ins_h=(Ne.ins_h<<Ne.hash_shift^Ne.window[ut+Ue-1])&Ne.hash_mask,Ne.prev[ut&Ne.w_mask]=Ne.head[Ne.ins_h],Ne.head[Ne.ins_h]=ut,ut++,Ne.insert--,!(Ne.lookahead+Ne.insert<Ue)););}while(Ne.lookahead<je&&Ne.strm.avail_in!==0)}function Nt(Ne,_t){for(var dt,Ke;;){if(Ne.lookahead<je){if(St(Ne),Ne.lookahead<je&&_t===pe)return ke;if(Ne.lookahead===0)break}if(dt=0,Ne.lookahead>=Ue&&(Ne.ins_h=(Ne.ins_h<<Ne.hash_shift^Ne.window[Ne.strstart+Ue-1])&Ne.hash_mask,dt=Ne.prev[Ne.strstart&Ne.w_mask]=Ne.head[Ne.ins_h],Ne.head[Ne.ins_h]=Ne.strstart),dt!==0&&Ne.strstart-dt<=Ne.w_size-je&&(Ne.match_length=Qe(Ne,dt)),Ne.match_length>=Ue)if(Ke=le._tr_tally(Ne,Ne.strstart-Ne.match_start,Ne.match_length-Ue),Ne.lookahead-=Ne.match_length,Ne.match_length<=Ne.max_lazy_match&&Ne.lookahead>=Ue){for(Ne.match_length--;Ne.strstart++,Ne.ins_h=(Ne.ins_h<<Ne.hash_shift^Ne.window[Ne.strstart+Ue-1])&Ne.hash_mask,dt=Ne.prev[Ne.strstart&Ne.w_mask]=Ne.head[Ne.ins_h],Ne.head[Ne.ins_h]=Ne.strstart,--Ne.match_length!=0;);Ne.strstart++}else Ne.strstart+=Ne.match_length,Ne.match_length=0,Ne.ins_h=Ne.window[Ne.strstart],Ne.ins_h=(Ne.ins_h<<Ne.hash_shift^Ne.window[Ne.strstart+1])&Ne.hash_mask;else Ke=le._tr_tally(Ne,0,Ne.window[Ne.strstart]),Ne.lookahead--,Ne.strstart++;if(Ke&&(Fe(Ne,!1),Ne.strm.avail_out===0))return ke}return Ne.insert=Ne.strstart<Ue-1?Ne.strstart:Ue-1,_t===ge?(Fe(Ne,!0),Ne.strm.avail_out===0?Oe:He):Ne.last_lit&&(Fe(Ne,!1),Ne.strm.avail_out===0)?ke:$e}function Ct(Ne,_t){for(var dt,Ke,Je;;){if(Ne.lookahead<je){if(St(Ne),Ne.lookahead<je&&_t===pe)return ke;if(Ne.lookahead===0)break}if(dt=0,Ne.lookahead>=Ue&&(Ne.ins_h=(Ne.ins_h<<Ne.hash_shift^Ne.window[Ne.strstart+Ue-1])&Ne.hash_mask,dt=Ne.prev[Ne.strstart&Ne.w_mask]=Ne.head[Ne.ins_h],Ne.head[Ne.ins_h]=Ne.strstart),Ne.prev_length=Ne.match_length,Ne.prev_match=Ne.match_start,Ne.match_length=Ue-1,dt!==0&&Ne.prev_length<Ne.max_lazy_match&&Ne.strstart-dt<=Ne.w_size-je&&(Ne.match_length=Qe(Ne,dt),Ne.match_length<=5&&(Ne.strategy===1||Ne.match_length===Ue&&4096<Ne.strstart-Ne.match_start)&&(Ne.match_length=Ue-1)),Ne.prev_length>=Ue&&Ne.match_length<=Ne.prev_length){for(Je=Ne.strstart+Ne.lookahead-Ue,Ke=le._tr_tally(Ne,Ne.strstart-1-Ne.prev_match,Ne.prev_length-Ue),Ne.lookahead-=Ne.prev_length-1,Ne.prev_length-=2;++Ne.strstart<=Je&&(Ne.ins_h=(Ne.ins_h<<Ne.hash_shift^Ne.window[Ne.strstart+Ue-1])&Ne.hash_mask,dt=Ne.prev[Ne.strstart&Ne.w_mask]=Ne.head[Ne.ins_h],Ne.head[Ne.ins_h]=Ne.strstart),--Ne.prev_length!=0;);if(Ne.match_available=0,Ne.match_length=Ue-1,Ne.strstart++,Ke&&(Fe(Ne,!1),Ne.strm.avail_out===0))return ke}else if(Ne.match_available){if((Ke=le._tr_tally(Ne,0,Ne.window[Ne.strstart-1]))&&Fe(Ne,!1),Ne.strstart++,Ne.lookahead--,Ne.strm.avail_out===0)return ke}else Ne.match_available=1,Ne.strstart++,Ne.lookahead--}return Ne.match_available&&(Ke=le._tr_tally(Ne,0,Ne.window[Ne.strstart-1]),Ne.match_available=0),Ne.insert=Ne.strstart<Ue-1?Ne.strstart:Ue-1,_t===ge?(Fe(Ne,!0),Ne.strm.avail_out===0?Oe:He):Ne.last_lit&&(Fe(Ne,!1),Ne.strm.avail_out===0)?ke:$e}function kt(Ne,_t,dt,Ke,Je){this.good_length=Ne,this.max_lazy=_t,this.nice_length=dt,this.max_chain=Ke,this.func=Je}function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Te,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new oe.Buf16(2*Me),this.dyn_dtree=new oe.Buf16(2*(2*Be+1)),this.bl_tree=new oe.Buf16(2*(2*Ae+1)),ze(this.dyn_ltree),ze(this.dyn_dtree),ze(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new oe.Buf16(Ge+1),this.heap=new oe.Buf16(2*Pe+1),ze(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new oe.Buf16(2*Pe+1),ze(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Vt(Ne){var _t;return Ne&&Ne.state?(Ne.total_in=Ne.total_out=0,Ne.data_type=ve,(_t=Ne.state).pending=0,_t.pending_out=0,_t.wrap<0&&(_t.wrap=-_t.wrap),_t.status=_t.wrap?De:Ye,Ne.adler=_t.wrap===2?0:1,_t.last_flush=pe,le._tr_init(_t),ye):qe(Ne,xe)}function Kt(Ne){var _t=Vt(Ne);return _t===ye&&(function(dt){dt.window_size=2*dt.w_size,ze(dt.head),dt.max_lazy_match=se[dt.level].max_lazy,dt.good_match=se[dt.level].good_length,dt.nice_match=se[dt.level].nice_length,dt.max_chain_length=se[dt.level].max_chain,dt.strstart=0,dt.block_start=0,dt.lookahead=0,dt.insert=0,dt.match_length=dt.prev_length=Ue-1,dt.match_available=0,dt.ins_h=0})(Ne.state),_t}function jt(Ne,_t,dt,Ke,Je,ut){if(!Ne)return xe;var wt=1;if(_t===be&&(_t=6),Ke<0?(wt=0,Ke=-Ke):15<Ke&&(wt=2,Ke-=16),Je<1||Ce<Je||dt!==Te||Ke<8||15<Ke||_t<0||9<_t||ut<0||Se<ut)return qe(Ne,xe);Ke===8&&(Ke=9);var Et=new At;return(Ne.state=Et).strm=Ne,Et.wrap=wt,Et.gzhead=null,Et.w_bits=Ke,Et.w_size=1<<Et.w_bits,Et.w_mask=Et.w_size-1,Et.hash_bits=Je+7,Et.hash_size=1<<Et.hash_bits,Et.hash_mask=Et.hash_size-1,Et.hash_shift=~~((Et.hash_bits+Ue-1)/Ue),Et.window=new oe.Buf8(2*Et.w_size),Et.head=new oe.Buf16(Et.hash_size),Et.prev=new oe.Buf16(Et.w_size),Et.lit_bufsize=1<<Je+6,Et.pending_buf_size=4*Et.lit_bufsize,Et.pending_buf=new oe.Buf8(Et.pending_buf_size),Et.d_buf=1*Et.lit_bufsize,Et.l_buf=3*Et.lit_bufsize,Et.level=_t,Et.strategy=ut,Et.method=dt,Kt(Ne)}se=[new kt(0,0,0,0,function(Ne,_t){var dt=65535;for(dt>Ne.pending_buf_size-5&&(dt=Ne.pending_buf_size-5);;){if(Ne.lookahead<=1){if(St(Ne),Ne.lookahead===0&&_t===pe)return ke;if(Ne.lookahead===0)break}Ne.strstart+=Ne.lookahead,Ne.lookahead=0;var Ke=Ne.block_start+dt;if((Ne.strstart===0||Ne.strstart>=Ke)&&(Ne.lookahead=Ne.strstart-Ke,Ne.strstart=Ke,Fe(Ne,!1),Ne.strm.avail_out===0)||Ne.strstart-Ne.block_start>=Ne.w_size-je&&(Fe(Ne,!1),Ne.strm.avail_out===0))return ke}return Ne.insert=0,_t===ge?(Fe(Ne,!0),Ne.strm.avail_out===0?Oe:He):(Ne.strstart>Ne.block_start&&(Fe(Ne,!1),Ne.strm.avail_out),ke)}),new kt(4,4,8,4,Nt),new kt(4,5,16,8,Nt),new kt(4,6,32,32,Nt),new kt(4,4,16,16,Ct),new kt(8,16,32,32,Ct),new kt(8,16,128,128,Ct),new kt(8,32,128,256,Ct),new kt(32,128,258,1024,Ct),new kt(32,258,258,4096,Ct)],ie.deflateInit=function(Ne,_t){return jt(Ne,_t,Te,15,8,0)},ie.deflateInit2=jt,ie.deflateReset=Kt,ie.deflateResetKeep=Vt,ie.deflateSetHeader=function(Ne,_t){return Ne&&Ne.state?Ne.state.wrap!==2?xe:(Ne.state.gzhead=_t,ye):xe},ie.deflate=function(Ne,_t){var dt,Ke,Je,ut;if(!Ne||!Ne.state||5<_t||_t<0)return Ne?qe(Ne,xe):xe;if(Ke=Ne.state,!Ne.output||!Ne.input&&Ne.avail_in!==0||Ke.status===666&&_t!==ge)return qe(Ne,Ne.avail_out===0?-5:xe);if(Ke.strm=Ne,dt=Ke.last_flush,Ke.last_flush=_t,Ke.status===De)if(Ke.wrap===2)Ne.adler=0,Le(Ke,31),Le(Ke,139),Le(Ke,8),Ke.gzhead?(Le(Ke,(Ke.gzhead.text?1:0)+(Ke.gzhead.hcrc?2:0)+(Ke.gzhead.extra?4:0)+(Ke.gzhead.name?8:0)+(Ke.gzhead.comment?16:0)),Le(Ke,255&Ke.gzhead.time),Le(Ke,Ke.gzhead.time>>8&255),Le(Ke,Ke.gzhead.time>>16&255),Le(Ke,Ke.gzhead.time>>24&255),Le(Ke,Ke.level===9?2:2<=Ke.strategy||Ke.level<2?4:0),Le(Ke,255&Ke.gzhead.os),Ke.gzhead.extra&&Ke.gzhead.extra.length&&(Le(Ke,255&Ke.gzhead.extra.length),Le(Ke,Ke.gzhead.extra.length>>8&255)),Ke.gzhead.hcrc&&(Ne.adler=he(Ne.adler,Ke.pending_buf,Ke.pending,0)),Ke.gzindex=0,Ke.status=69):(Le(Ke,0),Le(Ke,0),Le(Ke,0),Le(Ke,0),Le(Ke,0),Le(Ke,Ke.level===9?2:2<=Ke.strategy||Ke.level<2?4:0),Le(Ke,3),Ke.status=Ye);else{var wt=Te+(Ke.w_bits-8<<4)<<8;wt|=(2<=Ke.strategy||Ke.level<2?0:Ke.level<6?1:Ke.level===6?2:3)<<6,Ke.strstart!==0&&(wt|=32),wt+=31-wt%31,Ke.status=Ye,Ze(Ke,wt),Ke.strstart!==0&&(Ze(Ke,Ne.adler>>>16),Ze(Ke,65535&Ne.adler)),Ne.adler=1}if(Ke.status===69)if(Ke.gzhead.extra){for(Je=Ke.pending;Ke.gzindex<(65535&Ke.gzhead.extra.length)&&(Ke.pending!==Ke.pending_buf_size||(Ke.gzhead.hcrc&&Ke.pending>Je&&(Ne.adler=he(Ne.adler,Ke.pending_buf,Ke.pending-Je,Je)),Ie(Ne),Je=Ke.pending,Ke.pending!==Ke.pending_buf_size));)Le(Ke,255&Ke.gzhead.extra[Ke.gzindex]),Ke.gzindex++;Ke.gzhead.hcrc&&Ke.pending>Je&&(Ne.adler=he(Ne.adler,Ke.pending_buf,Ke.pending-Je,Je)),Ke.gzindex===Ke.gzhead.extra.length&&(Ke.gzindex=0,Ke.status=73)}else Ke.status=73;if(Ke.status===73)if(Ke.gzhead.name){Je=Ke.pending;do{if(Ke.pending===Ke.pending_buf_size&&(Ke.gzhead.hcrc&&Ke.pending>Je&&(Ne.adler=he(Ne.adler,Ke.pending_buf,Ke.pending-Je,Je)),Ie(Ne),Je=Ke.pending,Ke.pending===Ke.pending_buf_size)){ut=1;break}ut=Ke.gzindex<Ke.gzhead.name.length?255&Ke.gzhead.name.charCodeAt(Ke.gzindex++):0,Le(Ke,ut)}while(ut!==0);Ke.gzhead.hcrc&&Ke.pending>Je&&(Ne.adler=he(Ne.adler,Ke.pending_buf,Ke.pending-Je,Je)),ut===0&&(Ke.gzindex=0,Ke.status=91)}else Ke.status=91;if(Ke.status===91)if(Ke.gzhead.comment){Je=Ke.pending;do{if(Ke.pending===Ke.pending_buf_size&&(Ke.gzhead.hcrc&&Ke.pending>Je&&(Ne.adler=he(Ne.adler,Ke.pending_buf,Ke.pending-Je,Je)),Ie(Ne),Je=Ke.pending,Ke.pending===Ke.pending_buf_size)){ut=1;break}ut=Ke.gzindex<Ke.gzhead.comment.length?255&Ke.gzhead.comment.charCodeAt(Ke.gzindex++):0,Le(Ke,ut)}while(ut!==0);Ke.gzhead.hcrc&&Ke.pending>Je&&(Ne.adler=he(Ne.adler,Ke.pending_buf,Ke.pending-Je,Je)),ut===0&&(Ke.status=103)}else Ke.status=103;if(Ke.status===103&&(Ke.gzhead.hcrc?(Ke.pending+2>Ke.pending_buf_size&&Ie(Ne),Ke.pending+2<=Ke.pending_buf_size&&(Le(Ke,255&Ne.adler),Le(Ke,Ne.adler>>8&255),Ne.adler=0,Ke.status=Ye)):Ke.status=Ye),Ke.pending!==0){if(Ie(Ne),Ne.avail_out===0)return Ke.last_flush=-1,ye}else if(Ne.avail_in===0&&Xe(_t)<=Xe(dt)&&_t!==ge)return qe(Ne,-5);if(Ke.status===666&&Ne.avail_in!==0)return qe(Ne,-5);if(Ne.avail_in!==0||Ke.lookahead!==0||_t!==pe&&Ke.status!==666){var Et=Ke.strategy===2?(function(pt,Rt){for(var It;;){if(pt.lookahead===0&&(St(pt),pt.lookahead===0)){if(Rt===pe)return ke;break}if(pt.match_length=0,It=le._tr_tally(pt,0,pt.window[pt.strstart]),pt.lookahead--,pt.strstart++,It&&(Fe(pt,!1),pt.strm.avail_out===0))return ke}return pt.insert=0,Rt===ge?(Fe(pt,!0),pt.strm.avail_out===0?Oe:He):pt.last_lit&&(Fe(pt,!1),pt.strm.avail_out===0)?ke:$e})(Ke,_t):Ke.strategy===3?(function(pt,Rt){for(var It,Bt,ct,bt,Mt=pt.window;;){if(pt.lookahead<=Ve){if(St(pt),pt.lookahead<=Ve&&Rt===pe)return ke;if(pt.lookahead===0)break}if(pt.match_length=0,pt.lookahead>=Ue&&0<pt.strstart&&(Bt=Mt[ct=pt.strstart-1])===Mt[++ct]&&Bt===Mt[++ct]&&Bt===Mt[++ct]){bt=pt.strstart+Ve;do;while(Bt===Mt[++ct]&&Bt===Mt[++ct]&&Bt===Mt[++ct]&&Bt===Mt[++ct]&&Bt===Mt[++ct]&&Bt===Mt[++ct]&&Bt===Mt[++ct]&&Bt===Mt[++ct]&&ct<bt);pt.match_length=Ve-(bt-ct),pt.match_length>pt.lookahead&&(pt.match_length=pt.lookahead)}if(pt.match_length>=Ue?(It=le._tr_tally(pt,1,pt.match_length-Ue),pt.lookahead-=pt.match_length,pt.strstart+=pt.match_length,pt.match_length=0):(It=le._tr_tally(pt,0,pt.window[pt.strstart]),pt.lookahead--,pt.strstart++),It&&(Fe(pt,!1),pt.strm.avail_out===0))return ke}return pt.insert=0,Rt===ge?(Fe(pt,!0),pt.strm.avail_out===0?Oe:He):pt.last_lit&&(Fe(pt,!1),pt.strm.avail_out===0)?ke:$e})(Ke,_t):se[Ke.level].func(Ke,_t);if(Et!==Oe&&Et!==He||(Ke.status=666),Et===ke||Et===Oe)return Ne.avail_out===0&&(Ke.last_flush=-1),ye;if(Et===$e&&(_t===1?le._tr_align(Ke):_t!==5&&(le._tr_stored_block(Ke,0,0,!1),_t===3&&(ze(Ke.head),Ke.lookahead===0&&(Ke.strstart=0,Ke.block_start=0,Ke.insert=0))),Ie(Ne),Ne.avail_out===0))return Ke.last_flush=-1,ye}return _t!==ge?ye:Ke.wrap<=0?1:(Ke.wrap===2?(Le(Ke,255&Ne.adler),Le(Ke,Ne.adler>>8&255),Le(Ke,Ne.adler>>16&255),Le(Ke,Ne.adler>>24&255),Le(Ke,255&Ne.total_in),Le(Ke,Ne.total_in>>8&255),Le(Ke,Ne.total_in>>16&255),Le(Ke,Ne.total_in>>24&255)):(Ze(Ke,Ne.adler>>>16),Ze(Ke,65535&Ne.adler)),Ie(Ne),0<Ke.wrap&&(Ke.wrap=-Ke.wrap),Ke.pending!==0?ye:1)},ie.deflateEnd=function(Ne){var _t;return Ne&&Ne.state?(_t=Ne.state.status)!==De&&_t!==69&&_t!==73&&_t!==91&&_t!==103&&_t!==Ye&&_t!==666?qe(Ne,xe):(Ne.state=null,_t===Ye?qe(Ne,-3):ye):xe},ie.deflateSetDictionary=function(Ne,_t){var dt,Ke,Je,ut,wt,Et,pt,Rt,It=_t.length;if(!Ne||!Ne.state||(ut=(dt=Ne.state).wrap)===2||ut===1&&dt.status!==De||dt.lookahead)return xe;for(ut===1&&(Ne.adler=ce(Ne.adler,_t,It,0)),dt.wrap=0,It>=dt.w_size&&(ut===0&&(ze(dt.head),dt.strstart=0,dt.block_start=0,dt.insert=0),Rt=new oe.Buf8(dt.w_size),oe.arraySet(Rt,_t,It-dt.w_size,dt.w_size,0),_t=Rt,It=dt.w_size),wt=Ne.avail_in,Et=Ne.next_in,pt=Ne.input,Ne.avail_in=It,Ne.next_in=0,Ne.input=_t,St(dt);dt.lookahead>=Ue;){for(Ke=dt.strstart,Je=dt.lookahead-(Ue-1);dt.ins_h=(dt.ins_h<<dt.hash_shift^dt.window[Ke+Ue-1])&dt.hash_mask,dt.prev[Ke&dt.w_mask]=dt.head[dt.ins_h],dt.head[dt.ins_h]=Ke,Ke++,--Je;);dt.strstart=Ke,dt.lookahead=Ue-1,St(dt)}return dt.strstart+=dt.lookahead,dt.block_start=dt.strstart,dt.insert=dt.lookahead,dt.lookahead=0,dt.match_length=dt.prev_length=Ue-1,dt.match_available=0,Ne.next_in=Et,Ne.input=pt,Ne.avail_in=wt,dt.wrap=ut,ye},ie.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(ne,ae,ie){ae.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(ne,ae,ie){ae.exports=function(se,oe){var le,ce,he,fe,pe,ge,ye,xe,be,Se,ve,Te,Ce,Pe,Be,Ae,Me,Ge,Ue,Ve,je,De,Ye,ke,$e;le=se.state,ce=se.next_in,ke=se.input,he=ce+(se.avail_in-5),fe=se.next_out,$e=se.output,pe=fe-(oe-se.avail_out),ge=fe+(se.avail_out-257),ye=le.dmax,xe=le.wsize,be=le.whave,Se=le.wnext,ve=le.window,Te=le.hold,Ce=le.bits,Pe=le.lencode,Be=le.distcode,Ae=(1<<le.lenbits)-1,Me=(1<<le.distbits)-1;e:do{Ce<15&&(Te+=ke[ce++]<<Ce,Ce+=8,Te+=ke[ce++]<<Ce,Ce+=8),Ge=Pe[Te&Ae];t:for(;;){if(Te>>>=Ue=Ge>>>24,Ce-=Ue,(Ue=Ge>>>16&255)===0)$e[fe++]=65535&Ge;else{if(!(16&Ue)){if((64&Ue)==0){Ge=Pe[(65535&Ge)+(Te&(1<<Ue)-1)];continue t}if(32&Ue){le.mode=12;break e}se.msg="invalid literal/length code",le.mode=30;break e}Ve=65535&Ge,(Ue&=15)&&(Ce<Ue&&(Te+=ke[ce++]<<Ce,Ce+=8),Ve+=Te&(1<<Ue)-1,Te>>>=Ue,Ce-=Ue),Ce<15&&(Te+=ke[ce++]<<Ce,Ce+=8,Te+=ke[ce++]<<Ce,Ce+=8),Ge=Be[Te&Me];n:for(;;){if(Te>>>=Ue=Ge>>>24,Ce-=Ue,!(16&(Ue=Ge>>>16&255))){if((64&Ue)==0){Ge=Be[(65535&Ge)+(Te&(1<<Ue)-1)];continue n}se.msg="invalid distance code",le.mode=30;break e}if(je=65535&Ge,Ce<(Ue&=15)&&(Te+=ke[ce++]<<Ce,(Ce+=8)<Ue&&(Te+=ke[ce++]<<Ce,Ce+=8)),ye<(je+=Te&(1<<Ue)-1)){se.msg="invalid distance too far back",le.mode=30;break e}if(Te>>>=Ue,Ce-=Ue,(Ue=fe-pe)<je){if(be<(Ue=je-Ue)&&le.sane){se.msg="invalid distance too far back",le.mode=30;break e}if(Ye=ve,(De=0)===Se){if(De+=xe-Ue,Ue<Ve){for(Ve-=Ue;$e[fe++]=ve[De++],--Ue;);De=fe-je,Ye=$e}}else if(Se<Ue){if(De+=xe+Se-Ue,(Ue-=Se)<Ve){for(Ve-=Ue;$e[fe++]=ve[De++],--Ue;);if(De=0,Se<Ve){for(Ve-=Ue=Se;$e[fe++]=ve[De++],--Ue;);De=fe-je,Ye=$e}}}else if(De+=Se-Ue,Ue<Ve){for(Ve-=Ue;$e[fe++]=ve[De++],--Ue;);De=fe-je,Ye=$e}for(;2<Ve;)$e[fe++]=Ye[De++],$e[fe++]=Ye[De++],$e[fe++]=Ye[De++],Ve-=3;Ve&&($e[fe++]=Ye[De++],1<Ve&&($e[fe++]=Ye[De++]))}else{for(De=fe-je;$e[fe++]=$e[De++],$e[fe++]=$e[De++],$e[fe++]=$e[De++],2<(Ve-=3););Ve&&($e[fe++]=$e[De++],1<Ve&&($e[fe++]=$e[De++]))}break}}break}}while(ce<he&&fe<ge);ce-=Ve=Ce>>3,Te&=(1<<(Ce-=Ve<<3))-1,se.next_in=ce,se.next_out=fe,se.avail_in=ce<he?he-ce+5:5-(ce-he),se.avail_out=fe<ge?ge-fe+257:257-(fe-ge),le.hold=Te,le.bits=Ce}},{}],49:[function(ne,ae,ie){var se=ne("../utils/common"),oe=ne("./adler32"),le=ne("./crc32"),ce=ne("./inffast"),he=ne("./inftrees"),fe=1,pe=2,ge=0,ye=-2,xe=1,be=852,Se=592;function ve(De){return(De>>>24&255)+(De>>>8&65280)+((65280&De)<<8)+((255&De)<<24)}function Te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new se.Buf16(320),this.work=new se.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ce(De){var Ye;return De&&De.state?(Ye=De.state,De.total_in=De.total_out=Ye.total=0,De.msg="",Ye.wrap&&(De.adler=1&Ye.wrap),Ye.mode=xe,Ye.last=0,Ye.havedict=0,Ye.dmax=32768,Ye.head=null,Ye.hold=0,Ye.bits=0,Ye.lencode=Ye.lendyn=new se.Buf32(be),Ye.distcode=Ye.distdyn=new se.Buf32(Se),Ye.sane=1,Ye.back=-1,ge):ye}function Pe(De){var Ye;return De&&De.state?((Ye=De.state).wsize=0,Ye.whave=0,Ye.wnext=0,Ce(De)):ye}function Be(De,Ye){var ke,$e;return De&&De.state?($e=De.state,Ye<0?(ke=0,Ye=-Ye):(ke=1+(Ye>>4),Ye<48&&(Ye&=15)),Ye&&(Ye<8||15<Ye)?ye:($e.window!==null&&$e.wbits!==Ye&&($e.window=null),$e.wrap=ke,$e.wbits=Ye,Pe(De))):ye}function Ae(De,Ye){var ke,$e;return De?($e=new Te,(De.state=$e).window=null,(ke=Be(De,Ye))!==ge&&(De.state=null),ke):ye}var Me,Ge,Ue=!0;function Ve(De){if(Ue){var Ye;for(Me=new se.Buf32(512),Ge=new se.Buf32(32),Ye=0;Ye<144;)De.lens[Ye++]=8;for(;Ye<256;)De.lens[Ye++]=9;for(;Ye<280;)De.lens[Ye++]=7;for(;Ye<288;)De.lens[Ye++]=8;for(he(fe,De.lens,0,288,Me,0,De.work,{bits:9}),Ye=0;Ye<32;)De.lens[Ye++]=5;he(pe,De.lens,0,32,Ge,0,De.work,{bits:5}),Ue=!1}De.lencode=Me,De.lenbits=9,De.distcode=Ge,De.distbits=5}function je(De,Ye,ke,$e){var Oe,He=De.state;return He.window===null&&(He.wsize=1<<He.wbits,He.wnext=0,He.whave=0,He.window=new se.Buf8(He.wsize)),$e>=He.wsize?(se.arraySet(He.window,Ye,ke-He.wsize,He.wsize,0),He.wnext=0,He.whave=He.wsize):($e<(Oe=He.wsize-He.wnext)&&(Oe=$e),se.arraySet(He.window,Ye,ke-$e,Oe,He.wnext),($e-=Oe)?(se.arraySet(He.window,Ye,ke-$e,$e,0),He.wnext=$e,He.whave=He.wsize):(He.wnext+=Oe,He.wnext===He.wsize&&(He.wnext=0),He.whave<He.wsize&&(He.whave+=Oe))),0}ie.inflateReset=Pe,ie.inflateReset2=Be,ie.inflateResetKeep=Ce,ie.inflateInit=function(De){return Ae(De,15)},ie.inflateInit2=Ae,ie.inflate=function(De,Ye){var ke,$e,Oe,He,qe,Xe,ze,Ie,Fe,Le,Ze,Qe,St,Nt,Ct,kt,At,Vt,Kt,jt,Ne,_t,dt,Ke,Je=0,ut=new se.Buf8(4),wt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!De||!De.state||!De.output||!De.input&&De.avail_in!==0)return ye;(ke=De.state).mode===12&&(ke.mode=13),qe=De.next_out,Oe=De.output,ze=De.avail_out,He=De.next_in,$e=De.input,Xe=De.avail_in,Ie=ke.hold,Fe=ke.bits,Le=Xe,Ze=ze,_t=ge;e:for(;;)switch(ke.mode){case xe:if(ke.wrap===0){ke.mode=13;break}for(;Fe<16;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}if(2&ke.wrap&&Ie===35615){ut[ke.check=0]=255&Ie,ut[1]=Ie>>>8&255,ke.check=le(ke.check,ut,2,0),Fe=Ie=0,ke.mode=2;break}if(ke.flags=0,ke.head&&(ke.head.done=!1),!(1&ke.wrap)||(((255&Ie)<<8)+(Ie>>8))%31){De.msg="incorrect header check",ke.mode=30;break}if((15&Ie)!=8){De.msg="unknown compression method",ke.mode=30;break}if(Fe-=4,Ne=8+(15&(Ie>>>=4)),ke.wbits===0)ke.wbits=Ne;else if(Ne>ke.wbits){De.msg="invalid window size",ke.mode=30;break}ke.dmax=1<<Ne,De.adler=ke.check=1,ke.mode=512&Ie?10:12,Fe=Ie=0;break;case 2:for(;Fe<16;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}if(ke.flags=Ie,(255&ke.flags)!=8){De.msg="unknown compression method",ke.mode=30;break}if(57344&ke.flags){De.msg="unknown header flags set",ke.mode=30;break}ke.head&&(ke.head.text=Ie>>8&1),512&ke.flags&&(ut[0]=255&Ie,ut[1]=Ie>>>8&255,ke.check=le(ke.check,ut,2,0)),Fe=Ie=0,ke.mode=3;case 3:for(;Fe<32;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}ke.head&&(ke.head.time=Ie),512&ke.flags&&(ut[0]=255&Ie,ut[1]=Ie>>>8&255,ut[2]=Ie>>>16&255,ut[3]=Ie>>>24&255,ke.check=le(ke.check,ut,4,0)),Fe=Ie=0,ke.mode=4;case 4:for(;Fe<16;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}ke.head&&(ke.head.xflags=255&Ie,ke.head.os=Ie>>8),512&ke.flags&&(ut[0]=255&Ie,ut[1]=Ie>>>8&255,ke.check=le(ke.check,ut,2,0)),Fe=Ie=0,ke.mode=5;case 5:if(1024&ke.flags){for(;Fe<16;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}ke.length=Ie,ke.head&&(ke.head.extra_len=Ie),512&ke.flags&&(ut[0]=255&Ie,ut[1]=Ie>>>8&255,ke.check=le(ke.check,ut,2,0)),Fe=Ie=0}else ke.head&&(ke.head.extra=null);ke.mode=6;case 6:if(1024&ke.flags&&(Xe<(Qe=ke.length)&&(Qe=Xe),Qe&&(ke.head&&(Ne=ke.head.extra_len-ke.length,ke.head.extra||(ke.head.extra=new Array(ke.head.extra_len)),se.arraySet(ke.head.extra,$e,He,Qe,Ne)),512&ke.flags&&(ke.check=le(ke.check,$e,Qe,He)),Xe-=Qe,He+=Qe,ke.length-=Qe),ke.length))break e;ke.length=0,ke.mode=7;case 7:if(2048&ke.flags){if(Xe===0)break e;for(Qe=0;Ne=$e[He+Qe++],ke.head&&Ne&&ke.length<65536&&(ke.head.name+=String.fromCharCode(Ne)),Ne&&Qe<Xe;);if(512&ke.flags&&(ke.check=le(ke.check,$e,Qe,He)),Xe-=Qe,He+=Qe,Ne)break e}else ke.head&&(ke.head.name=null);ke.length=0,ke.mode=8;case 8:if(4096&ke.flags){if(Xe===0)break e;for(Qe=0;Ne=$e[He+Qe++],ke.head&&Ne&&ke.length<65536&&(ke.head.comment+=String.fromCharCode(Ne)),Ne&&Qe<Xe;);if(512&ke.flags&&(ke.check=le(ke.check,$e,Qe,He)),Xe-=Qe,He+=Qe,Ne)break e}else ke.head&&(ke.head.comment=null);ke.mode=9;case 9:if(512&ke.flags){for(;Fe<16;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}if(Ie!==(65535&ke.check)){De.msg="header crc mismatch",ke.mode=30;break}Fe=Ie=0}ke.head&&(ke.head.hcrc=ke.flags>>9&1,ke.head.done=!0),De.adler=ke.check=0,ke.mode=12;break;case 10:for(;Fe<32;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}De.adler=ke.check=ve(Ie),Fe=Ie=0,ke.mode=11;case 11:if(ke.havedict===0)return De.next_out=qe,De.avail_out=ze,De.next_in=He,De.avail_in=Xe,ke.hold=Ie,ke.bits=Fe,2;De.adler=ke.check=1,ke.mode=12;case 12:if(Ye===5||Ye===6)break e;case 13:if(ke.last){Ie>>>=7&Fe,Fe-=7&Fe,ke.mode=27;break}for(;Fe<3;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}switch(ke.last=1&Ie,Fe-=1,3&(Ie>>>=1)){case 0:ke.mode=14;break;case 1:if(Ve(ke),ke.mode=20,Ye!==6)break;Ie>>>=2,Fe-=2;break e;case 2:ke.mode=17;break;case 3:De.msg="invalid block type",ke.mode=30}Ie>>>=2,Fe-=2;break;case 14:for(Ie>>>=7&Fe,Fe-=7&Fe;Fe<32;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}if((65535&Ie)!=(Ie>>>16^65535)){De.msg="invalid stored block lengths",ke.mode=30;break}if(ke.length=65535&Ie,Fe=Ie=0,ke.mode=15,Ye===6)break e;case 15:ke.mode=16;case 16:if(Qe=ke.length){if(Xe<Qe&&(Qe=Xe),ze<Qe&&(Qe=ze),Qe===0)break e;se.arraySet(Oe,$e,He,Qe,qe),Xe-=Qe,He+=Qe,ze-=Qe,qe+=Qe,ke.length-=Qe;break}ke.mode=12;break;case 17:for(;Fe<14;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}if(ke.nlen=257+(31&Ie),Ie>>>=5,Fe-=5,ke.ndist=1+(31&Ie),Ie>>>=5,Fe-=5,ke.ncode=4+(15&Ie),Ie>>>=4,Fe-=4,286<ke.nlen||30<ke.ndist){De.msg="too many length or distance symbols",ke.mode=30;break}ke.have=0,ke.mode=18;case 18:for(;ke.have<ke.ncode;){for(;Fe<3;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}ke.lens[wt[ke.have++]]=7&Ie,Ie>>>=3,Fe-=3}for(;ke.have<19;)ke.lens[wt[ke.have++]]=0;if(ke.lencode=ke.lendyn,ke.lenbits=7,dt={bits:ke.lenbits},_t=he(0,ke.lens,0,19,ke.lencode,0,ke.work,dt),ke.lenbits=dt.bits,_t){De.msg="invalid code lengths set",ke.mode=30;break}ke.have=0,ke.mode=19;case 19:for(;ke.have<ke.nlen+ke.ndist;){for(;kt=(Je=ke.lencode[Ie&(1<<ke.lenbits)-1])>>>16&255,At=65535&Je,!((Ct=Je>>>24)<=Fe);){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}if(At<16)Ie>>>=Ct,Fe-=Ct,ke.lens[ke.have++]=At;else{if(At===16){for(Ke=Ct+2;Fe<Ke;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}if(Ie>>>=Ct,Fe-=Ct,ke.have===0){De.msg="invalid bit length repeat",ke.mode=30;break}Ne=ke.lens[ke.have-1],Qe=3+(3&Ie),Ie>>>=2,Fe-=2}else if(At===17){for(Ke=Ct+3;Fe<Ke;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}Fe-=Ct,Ne=0,Qe=3+(7&(Ie>>>=Ct)),Ie>>>=3,Fe-=3}else{for(Ke=Ct+7;Fe<Ke;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}Fe-=Ct,Ne=0,Qe=11+(127&(Ie>>>=Ct)),Ie>>>=7,Fe-=7}if(ke.have+Qe>ke.nlen+ke.ndist){De.msg="invalid bit length repeat",ke.mode=30;break}for(;Qe--;)ke.lens[ke.have++]=Ne}}if(ke.mode===30)break;if(ke.lens[256]===0){De.msg="invalid code -- missing end-of-block",ke.mode=30;break}if(ke.lenbits=9,dt={bits:ke.lenbits},_t=he(fe,ke.lens,0,ke.nlen,ke.lencode,0,ke.work,dt),ke.lenbits=dt.bits,_t){De.msg="invalid literal/lengths set",ke.mode=30;break}if(ke.distbits=6,ke.distcode=ke.distdyn,dt={bits:ke.distbits},_t=he(pe,ke.lens,ke.nlen,ke.ndist,ke.distcode,0,ke.work,dt),ke.distbits=dt.bits,_t){De.msg="invalid distances set",ke.mode=30;break}if(ke.mode=20,Ye===6)break e;case 20:ke.mode=21;case 21:if(6<=Xe&&258<=ze){De.next_out=qe,De.avail_out=ze,De.next_in=He,De.avail_in=Xe,ke.hold=Ie,ke.bits=Fe,ce(De,Ze),qe=De.next_out,Oe=De.output,ze=De.avail_out,He=De.next_in,$e=De.input,Xe=De.avail_in,Ie=ke.hold,Fe=ke.bits,ke.mode===12&&(ke.back=-1);break}for(ke.back=0;kt=(Je=ke.lencode[Ie&(1<<ke.lenbits)-1])>>>16&255,At=65535&Je,!((Ct=Je>>>24)<=Fe);){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}if(kt&&(240&kt)==0){for(Vt=Ct,Kt=kt,jt=At;kt=(Je=ke.lencode[jt+((Ie&(1<<Vt+Kt)-1)>>Vt)])>>>16&255,At=65535&Je,!(Vt+(Ct=Je>>>24)<=Fe);){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}Ie>>>=Vt,Fe-=Vt,ke.back+=Vt}if(Ie>>>=Ct,Fe-=Ct,ke.back+=Ct,ke.length=At,kt===0){ke.mode=26;break}if(32&kt){ke.back=-1,ke.mode=12;break}if(64&kt){De.msg="invalid literal/length code",ke.mode=30;break}ke.extra=15&kt,ke.mode=22;case 22:if(ke.extra){for(Ke=ke.extra;Fe<Ke;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}ke.length+=Ie&(1<<ke.extra)-1,Ie>>>=ke.extra,Fe-=ke.extra,ke.back+=ke.extra}ke.was=ke.length,ke.mode=23;case 23:for(;kt=(Je=ke.distcode[Ie&(1<<ke.distbits)-1])>>>16&255,At=65535&Je,!((Ct=Je>>>24)<=Fe);){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}if((240&kt)==0){for(Vt=Ct,Kt=kt,jt=At;kt=(Je=ke.distcode[jt+((Ie&(1<<Vt+Kt)-1)>>Vt)])>>>16&255,At=65535&Je,!(Vt+(Ct=Je>>>24)<=Fe);){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}Ie>>>=Vt,Fe-=Vt,ke.back+=Vt}if(Ie>>>=Ct,Fe-=Ct,ke.back+=Ct,64&kt){De.msg="invalid distance code",ke.mode=30;break}ke.offset=At,ke.extra=15&kt,ke.mode=24;case 24:if(ke.extra){for(Ke=ke.extra;Fe<Ke;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}ke.offset+=Ie&(1<<ke.extra)-1,Ie>>>=ke.extra,Fe-=ke.extra,ke.back+=ke.extra}if(ke.offset>ke.dmax){De.msg="invalid distance too far back",ke.mode=30;break}ke.mode=25;case 25:if(ze===0)break e;if(Qe=Ze-ze,ke.offset>Qe){if((Qe=ke.offset-Qe)>ke.whave&&ke.sane){De.msg="invalid distance too far back",ke.mode=30;break}St=Qe>ke.wnext?(Qe-=ke.wnext,ke.wsize-Qe):ke.wnext-Qe,Qe>ke.length&&(Qe=ke.length),Nt=ke.window}else Nt=Oe,St=qe-ke.offset,Qe=ke.length;for(ze<Qe&&(Qe=ze),ze-=Qe,ke.length-=Qe;Oe[qe++]=Nt[St++],--Qe;);ke.length===0&&(ke.mode=21);break;case 26:if(ze===0)break e;Oe[qe++]=ke.length,ze--,ke.mode=21;break;case 27:if(ke.wrap){for(;Fe<32;){if(Xe===0)break e;Xe--,Ie|=$e[He++]<<Fe,Fe+=8}if(Ze-=ze,De.total_out+=Ze,ke.total+=Ze,Ze&&(De.adler=ke.check=ke.flags?le(ke.check,Oe,Ze,qe-Ze):oe(ke.check,Oe,Ze,qe-Ze)),Ze=ze,(ke.flags?Ie:ve(Ie))!==ke.check){De.msg="incorrect data check",ke.mode=30;break}Fe=Ie=0}ke.mode=28;case 28:if(ke.wrap&&ke.flags){for(;Fe<32;){if(Xe===0)break e;Xe--,Ie+=$e[He++]<<Fe,Fe+=8}if(Ie!==(4294967295&ke.total)){De.msg="incorrect length check",ke.mode=30;break}Fe=Ie=0}ke.mode=29;case 29:_t=1;break e;case 30:_t=-3;break e;case 31:return-4;case 32:default:return ye}return De.next_out=qe,De.avail_out=ze,De.next_in=He,De.avail_in=Xe,ke.hold=Ie,ke.bits=Fe,(ke.wsize||Ze!==De.avail_out&&ke.mode<30&&(ke.mode<27||Ye!==4))&&je(De,De.output,De.next_out,Ze-De.avail_out)?(ke.mode=31,-4):(Le-=De.avail_in,Ze-=De.avail_out,De.total_in+=Le,De.total_out+=Ze,ke.total+=Ze,ke.wrap&&Ze&&(De.adler=ke.check=ke.flags?le(ke.check,Oe,Ze,De.next_out-Ze):oe(ke.check,Oe,Ze,De.next_out-Ze)),De.data_type=ke.bits+(ke.last?64:0)+(ke.mode===12?128:0)+(ke.mode===20||ke.mode===15?256:0),(Le==0&&Ze===0||Ye===4)&&_t===ge&&(_t=-5),_t)},ie.inflateEnd=function(De){if(!De||!De.state)return ye;var Ye=De.state;return Ye.window&&(Ye.window=null),De.state=null,ge},ie.inflateGetHeader=function(De,Ye){var ke;return De&&De.state?(2&(ke=De.state).wrap)==0?ye:((ke.head=Ye).done=!1,ge):ye},ie.inflateSetDictionary=function(De,Ye){var ke,$e=Ye.length;return De&&De.state?(ke=De.state).wrap!==0&&ke.mode!==11?ye:ke.mode===11&&oe(1,Ye,$e,0)!==ke.check?-3:je(De,Ye,$e,$e)?(ke.mode=31,-4):(ke.havedict=1,ge):ye},ie.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(ne,ae,ie){var se=ne("../utils/common"),oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],le=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],he=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ae.exports=function(fe,pe,ge,ye,xe,be,Se,ve){var Te,Ce,Pe,Be,Ae,Me,Ge,Ue,Ve,je=ve.bits,De=0,Ye=0,ke=0,$e=0,Oe=0,He=0,qe=0,Xe=0,ze=0,Ie=0,Fe=null,Le=0,Ze=new se.Buf16(16),Qe=new se.Buf16(16),St=null,Nt=0;for(De=0;De<=15;De++)Ze[De]=0;for(Ye=0;Ye<ye;Ye++)Ze[pe[ge+Ye]]++;for(Oe=je,$e=15;1<=$e&&Ze[$e]===0;$e--);if($e<Oe&&(Oe=$e),$e===0)return xe[be++]=20971520,xe[be++]=20971520,ve.bits=1,0;for(ke=1;ke<$e&&Ze[ke]===0;ke++);for(Oe<ke&&(Oe=ke),De=Xe=1;De<=15;De++)if(Xe<<=1,(Xe-=Ze[De])<0)return-1;if(0<Xe&&(fe===0||$e!==1))return-1;for(Qe[1]=0,De=1;De<15;De++)Qe[De+1]=Qe[De]+Ze[De];for(Ye=0;Ye<ye;Ye++)pe[ge+Ye]!==0&&(Se[Qe[pe[ge+Ye]]++]=Ye);if(Me=fe===0?(Fe=St=Se,19):fe===1?(Fe=oe,Le-=257,St=le,Nt-=257,256):(Fe=ce,St=he,-1),De=ke,Ae=be,qe=Ye=Ie=0,Pe=-1,Be=(ze=1<<(He=Oe))-1,fe===1&&852<ze||fe===2&&592<ze)return 1;for(;;){for(Ge=De-qe,Ve=Se[Ye]<Me?(Ue=0,Se[Ye]):Se[Ye]>Me?(Ue=St[Nt+Se[Ye]],Fe[Le+Se[Ye]]):(Ue=96,0),Te=1<<De-qe,ke=Ce=1<<He;xe[Ae+(Ie>>qe)+(Ce-=Te)]=Ge<<24|Ue<<16|Ve|0,Ce!==0;);for(Te=1<<De-1;Ie&Te;)Te>>=1;if(Te!==0?(Ie&=Te-1,Ie+=Te):Ie=0,Ye++,--Ze[De]==0){if(De===$e)break;De=pe[ge+Se[Ye]]}if(Oe<De&&(Ie&Be)!==Pe){for(qe===0&&(qe=Oe),Ae+=ke,Xe=1<<(He=De-qe);He+qe<$e&&!((Xe-=Ze[He+qe])<=0);)He++,Xe<<=1;if(ze+=1<<He,fe===1&&852<ze||fe===2&&592<ze)return 1;xe[Pe=Ie&Be]=Oe<<24|He<<16|Ae-be|0}}return Ie!==0&&(xe[Ae+Ie]=De-qe<<24|64<<16|0),ve.bits=Oe,0}},{"../utils/common":41}],51:[function(ne,ae,ie){ae.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(ne,ae,ie){var se=ne("../utils/common"),oe=0,le=1;function ce(Je){for(var ut=Je.length;0<=--ut;)Je[ut]=0}var he=0,fe=29,pe=256,ge=pe+1+fe,ye=30,xe=19,be=2*ge+1,Se=15,ve=16,Te=7,Ce=256,Pe=16,Be=17,Ae=18,Me=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ge=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],je=new Array(2*(ge+2));ce(je);var De=new Array(2*ye);ce(De);var Ye=new Array(512);ce(Ye);var ke=new Array(256);ce(ke);var $e=new Array(fe);ce($e);var Oe,He,qe,Xe=new Array(ye);function ze(Je,ut,wt,Et,pt){this.static_tree=Je,this.extra_bits=ut,this.extra_base=wt,this.elems=Et,this.max_length=pt,this.has_stree=Je&&Je.length}function Ie(Je,ut){this.dyn_tree=Je,this.max_code=0,this.stat_desc=ut}function Fe(Je){return Je<256?Ye[Je]:Ye[256+(Je>>>7)]}function Le(Je,ut){Je.pending_buf[Je.pending++]=255&ut,Je.pending_buf[Je.pending++]=ut>>>8&255}function Ze(Je,ut,wt){Je.bi_valid>ve-wt?(Je.bi_buf|=ut<<Je.bi_valid&65535,Le(Je,Je.bi_buf),Je.bi_buf=ut>>ve-Je.bi_valid,Je.bi_valid+=wt-ve):(Je.bi_buf|=ut<<Je.bi_valid&65535,Je.bi_valid+=wt)}function Qe(Je,ut,wt){Ze(Je,wt[2*ut],wt[2*ut+1])}function St(Je,ut){for(var wt=0;wt|=1&Je,Je>>>=1,wt<<=1,0<--ut;);return wt>>>1}function Nt(Je,ut,wt){var Et,pt,Rt=new Array(Se+1),It=0;for(Et=1;Et<=Se;Et++)Rt[Et]=It=It+wt[Et-1]<<1;for(pt=0;pt<=ut;pt++){var Bt=Je[2*pt+1];Bt!==0&&(Je[2*pt]=St(Rt[Bt]++,Bt))}}function Ct(Je){var ut;for(ut=0;ut<ge;ut++)Je.dyn_ltree[2*ut]=0;for(ut=0;ut<ye;ut++)Je.dyn_dtree[2*ut]=0;for(ut=0;ut<xe;ut++)Je.bl_tree[2*ut]=0;Je.dyn_ltree[2*Ce]=1,Je.opt_len=Je.static_len=0,Je.last_lit=Je.matches=0}function kt(Je){8<Je.bi_valid?Le(Je,Je.bi_buf):0<Je.bi_valid&&(Je.pending_buf[Je.pending++]=Je.bi_buf),Je.bi_buf=0,Je.bi_valid=0}function At(Je,ut,wt,Et){var pt=2*ut,Rt=2*wt;return Je[pt]<Je[Rt]||Je[pt]===Je[Rt]&&Et[ut]<=Et[wt]}function Vt(Je,ut,wt){for(var Et=Je.heap[wt],pt=wt<<1;pt<=Je.heap_len&&(pt<Je.heap_len&&At(ut,Je.heap[pt+1],Je.heap[pt],Je.depth)&&pt++,!At(ut,Et,Je.heap[pt],Je.depth));)Je.heap[wt]=Je.heap[pt],wt=pt,pt<<=1;Je.heap[wt]=Et}function Kt(Je,ut,wt){var Et,pt,Rt,It,Bt=0;if(Je.last_lit!==0)for(;Et=Je.pending_buf[Je.d_buf+2*Bt]<<8|Je.pending_buf[Je.d_buf+2*Bt+1],pt=Je.pending_buf[Je.l_buf+Bt],Bt++,Et===0?Qe(Je,pt,ut):(Qe(Je,(Rt=ke[pt])+pe+1,ut),(It=Me[Rt])!==0&&Ze(Je,pt-=$e[Rt],It),Qe(Je,Rt=Fe(--Et),wt),(It=Ge[Rt])!==0&&Ze(Je,Et-=Xe[Rt],It)),Bt<Je.last_lit;);Qe(Je,Ce,ut)}function jt(Je,ut){var wt,Et,pt,Rt=ut.dyn_tree,It=ut.stat_desc.static_tree,Bt=ut.stat_desc.has_stree,ct=ut.stat_desc.elems,bt=-1;for(Je.heap_len=0,Je.heap_max=be,wt=0;wt<ct;wt++)Rt[2*wt]!==0?(Je.heap[++Je.heap_len]=bt=wt,Je.depth[wt]=0):Rt[2*wt+1]=0;for(;Je.heap_len<2;)Rt[2*(pt=Je.heap[++Je.heap_len]=bt<2?++bt:0)]=1,Je.depth[pt]=0,Je.opt_len--,Bt&&(Je.static_len-=It[2*pt+1]);for(ut.max_code=bt,wt=Je.heap_len>>1;1<=wt;wt--)Vt(Je,Rt,wt);for(pt=ct;wt=Je.heap[1],Je.heap[1]=Je.heap[Je.heap_len--],Vt(Je,Rt,1),Et=Je.heap[1],Je.heap[--Je.heap_max]=wt,Je.heap[--Je.heap_max]=Et,Rt[2*pt]=Rt[2*wt]+Rt[2*Et],Je.depth[pt]=(Je.depth[wt]>=Je.depth[Et]?Je.depth[wt]:Je.depth[Et])+1,Rt[2*wt+1]=Rt[2*Et+1]=pt,Je.heap[1]=pt++,Vt(Je,Rt,1),2<=Je.heap_len;);Je.heap[--Je.heap_max]=Je.heap[1],(function(Mt,Ut){var Yt,cn,In,qt,on,hn,Ht=Ut.dyn_tree,jn=Ut.max_code,Dn=Ut.stat_desc.static_tree,Ri=Ut.stat_desc.has_stree,Sr=Ut.stat_desc.extra_bits,sr=Ut.stat_desc.extra_base,or=Ut.stat_desc.max_length,Vn=0;for(qt=0;qt<=Se;qt++)Mt.bl_count[qt]=0;for(Ht[2*Mt.heap[Mt.heap_max]+1]=0,Yt=Mt.heap_max+1;Yt<be;Yt++)or<(qt=Ht[2*Ht[2*(cn=Mt.heap[Yt])+1]+1]+1)&&(qt=or,Vn++),Ht[2*cn+1]=qt,jn<cn||(Mt.bl_count[qt]++,on=0,sr<=cn&&(on=Sr[cn-sr]),hn=Ht[2*cn],Mt.opt_len+=hn*(qt+on),Ri&&(Mt.static_len+=hn*(Dn[2*cn+1]+on)));if(Vn!==0){do{for(qt=or-1;Mt.bl_count[qt]===0;)qt--;Mt.bl_count[qt]--,Mt.bl_count[qt+1]+=2,Mt.bl_count[or]--,Vn-=2}while(0<Vn);for(qt=or;qt!==0;qt--)for(cn=Mt.bl_count[qt];cn!==0;)jn<(In=Mt.heap[--Yt])||(Ht[2*In+1]!==qt&&(Mt.opt_len+=(qt-Ht[2*In+1])*Ht[2*In],Ht[2*In+1]=qt),cn--)}})(Je,ut),Nt(Rt,bt,Je.bl_count)}function Ne(Je,ut,wt){var Et,pt,Rt=-1,It=ut[1],Bt=0,ct=7,bt=4;for(It===0&&(ct=138,bt=3),ut[2*(wt+1)+1]=65535,Et=0;Et<=wt;Et++)pt=It,It=ut[2*(Et+1)+1],++Bt<ct&&pt===It||(Bt<bt?Je.bl_tree[2*pt]+=Bt:pt!==0?(pt!==Rt&&Je.bl_tree[2*pt]++,Je.bl_tree[2*Pe]++):Bt<=10?Je.bl_tree[2*Be]++:Je.bl_tree[2*Ae]++,Rt=pt,bt=(Bt=0)===It?(ct=138,3):pt===It?(ct=6,3):(ct=7,4))}function _t(Je,ut,wt){var Et,pt,Rt=-1,It=ut[1],Bt=0,ct=7,bt=4;for(It===0&&(ct=138,bt=3),Et=0;Et<=wt;Et++)if(pt=It,It=ut[2*(Et+1)+1],!(++Bt<ct&&pt===It)){if(Bt<bt)for(;Qe(Je,pt,Je.bl_tree),--Bt!=0;);else pt!==0?(pt!==Rt&&(Qe(Je,pt,Je.bl_tree),Bt--),Qe(Je,Pe,Je.bl_tree),Ze(Je,Bt-3,2)):Bt<=10?(Qe(Je,Be,Je.bl_tree),Ze(Je,Bt-3,3)):(Qe(Je,Ae,Je.bl_tree),Ze(Je,Bt-11,7));Rt=pt,bt=(Bt=0)===It?(ct=138,3):pt===It?(ct=6,3):(ct=7,4)}}ce(Xe);var dt=!1;function Ke(Je,ut,wt,Et){Ze(Je,(he<<1)+(Et?1:0),3),(function(pt,Rt,It,Bt){kt(pt),Le(pt,It),Le(pt,~It),se.arraySet(pt.pending_buf,pt.window,Rt,It,pt.pending),pt.pending+=It})(Je,ut,wt)}ie._tr_init=function(Je){dt||((function(){var ut,wt,Et,pt,Rt,It=new Array(Se+1);for(pt=Et=0;pt<fe-1;pt++)for($e[pt]=Et,ut=0;ut<1<<Me[pt];ut++)ke[Et++]=pt;for(ke[Et-1]=pt,pt=Rt=0;pt<16;pt++)for(Xe[pt]=Rt,ut=0;ut<1<<Ge[pt];ut++)Ye[Rt++]=pt;for(Rt>>=7;pt<ye;pt++)for(Xe[pt]=Rt<<7,ut=0;ut<1<<Ge[pt]-7;ut++)Ye[256+Rt++]=pt;for(wt=0;wt<=Se;wt++)It[wt]=0;for(ut=0;ut<=143;)je[2*ut+1]=8,ut++,It[8]++;for(;ut<=255;)je[2*ut+1]=9,ut++,It[9]++;for(;ut<=279;)je[2*ut+1]=7,ut++,It[7]++;for(;ut<=287;)je[2*ut+1]=8,ut++,It[8]++;for(Nt(je,ge+1,It),ut=0;ut<ye;ut++)De[2*ut+1]=5,De[2*ut]=St(ut,5);Oe=new ze(je,Me,pe+1,ge,Se),He=new ze(De,Ge,0,ye,Se),qe=new ze(new Array(0),Ue,0,xe,Te)})(),dt=!0),Je.l_desc=new Ie(Je.dyn_ltree,Oe),Je.d_desc=new Ie(Je.dyn_dtree,He),Je.bl_desc=new Ie(Je.bl_tree,qe),Je.bi_buf=0,Je.bi_valid=0,Ct(Je)},ie._tr_stored_block=Ke,ie._tr_flush_block=function(Je,ut,wt,Et){var pt,Rt,It=0;0<Je.level?(Je.strm.data_type===2&&(Je.strm.data_type=(function(Bt){var ct,bt=4093624447;for(ct=0;ct<=31;ct++,bt>>>=1)if(1&bt&&Bt.dyn_ltree[2*ct]!==0)return oe;if(Bt.dyn_ltree[18]!==0||Bt.dyn_ltree[20]!==0||Bt.dyn_ltree[26]!==0)return le;for(ct=32;ct<pe;ct++)if(Bt.dyn_ltree[2*ct]!==0)return le;return oe})(Je)),jt(Je,Je.l_desc),jt(Je,Je.d_desc),It=(function(Bt){var ct;for(Ne(Bt,Bt.dyn_ltree,Bt.l_desc.max_code),Ne(Bt,Bt.dyn_dtree,Bt.d_desc.max_code),jt(Bt,Bt.bl_desc),ct=xe-1;3<=ct&&Bt.bl_tree[2*Ve[ct]+1]===0;ct--);return Bt.opt_len+=3*(ct+1)+5+5+4,ct})(Je),pt=Je.opt_len+3+7>>>3,(Rt=Je.static_len+3+7>>>3)<=pt&&(pt=Rt)):pt=Rt=wt+5,wt+4<=pt&&ut!==-1?Ke(Je,ut,wt,Et):Je.strategy===4||Rt===pt?(Ze(Je,2+(Et?1:0),3),Kt(Je,je,De)):(Ze(Je,4+(Et?1:0),3),(function(Bt,ct,bt,Mt){var Ut;for(Ze(Bt,ct-257,5),Ze(Bt,bt-1,5),Ze(Bt,Mt-4,4),Ut=0;Ut<Mt;Ut++)Ze(Bt,Bt.bl_tree[2*Ve[Ut]+1],3);_t(Bt,Bt.dyn_ltree,ct-1),_t(Bt,Bt.dyn_dtree,bt-1)})(Je,Je.l_desc.max_code+1,Je.d_desc.max_code+1,It+1),Kt(Je,Je.dyn_ltree,Je.dyn_dtree)),Ct(Je),Et&&kt(Je)},ie._tr_tally=function(Je,ut,wt){return Je.pending_buf[Je.d_buf+2*Je.last_lit]=ut>>>8&255,Je.pending_buf[Je.d_buf+2*Je.last_lit+1]=255&ut,Je.pending_buf[Je.l_buf+Je.last_lit]=255&wt,Je.last_lit++,ut===0?Je.dyn_ltree[2*wt]++:(Je.matches++,ut--,Je.dyn_ltree[2*(ke[wt]+pe+1)]++,Je.dyn_dtree[2*Fe(ut)]++),Je.last_lit===Je.lit_bufsize-1},ie._tr_align=function(Je){Ze(Je,2,3),Qe(Je,Ce,je),(function(ut){ut.bi_valid===16?(Le(ut,ut.bi_buf),ut.bi_buf=0,ut.bi_valid=0):8<=ut.bi_valid&&(ut.pending_buf[ut.pending++]=255&ut.bi_buf,ut.bi_buf>>=8,ut.bi_valid-=8)})(Je)}},{"../utils/common":41}],53:[function(ne,ae,ie){ae.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(ne,ae,ie){(function(se){(function(oe,le){if(!oe.setImmediate){var ce,he,fe,pe,ge=1,ye={},xe=!1,be=oe.document,Se=Object.getPrototypeOf&&Object.getPrototypeOf(oe);Se=Se&&Se.setTimeout?Se:oe,ce={}.toString.call(oe.process)==="[object process]"?function(Pe){process.nextTick(function(){Te(Pe)})}:(function(){if(oe.postMessage&&!oe.importScripts){var Pe=!0,Be=oe.onmessage;return oe.onmessage=function(){Pe=!1},oe.postMessage("","*"),oe.onmessage=Be,Pe}})()?(pe="setImmediate$"+Math.random()+"$",oe.addEventListener?oe.addEventListener("message",Ce,!1):oe.attachEvent("onmessage",Ce),function(Pe){oe.postMessage(pe+Pe,"*")}):oe.MessageChannel?((fe=new MessageChannel).port1.onmessage=function(Pe){Te(Pe.data)},function(Pe){fe.port2.postMessage(Pe)}):be&&"onreadystatechange"in be.createElement("script")?(he=be.documentElement,function(Pe){var Be=be.createElement("script");Be.onreadystatechange=function(){Te(Pe),Be.onreadystatechange=null,he.removeChild(Be),Be=null},he.appendChild(Be)}):function(Pe){setTimeout(Te,0,Pe)},Se.setImmediate=function(Pe){typeof Pe!="function"&&(Pe=new Function(""+Pe));for(var Be=new Array(arguments.length-1),Ae=0;Ae<Be.length;Ae++)Be[Ae]=arguments[Ae+1];var Me={callback:Pe,args:Be};return ye[ge]=Me,ce(ge),ge++},Se.clearImmediate=ve}function ve(Pe){delete ye[Pe]}function Te(Pe){if(xe)setTimeout(Te,0,Pe);else{var Be=ye[Pe];if(Be){xe=!0;try{(function(Ae){var Me=Ae.callback,Ge=Ae.args;switch(Ge.length){case 0:Me();break;case 1:Me(Ge[0]);break;case 2:Me(Ge[0],Ge[1]);break;case 3:Me(Ge[0],Ge[1],Ge[2]);break;default:Me.apply(le,Ge)}})(Be)}finally{ve(Pe),xe=!1}}}}function Ce(Pe){Pe.source===oe&&typeof Pe.data=="string"&&Pe.data.indexOf(pe)===0&&Te(+Pe.data.slice(pe.length))}})(typeof self>"u"?se===void 0?this:se:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min)),jszip_min.exports}var jszip_minExports=requireJszip_min();const JSZip=getDefaultExportFromCjs(jszip_minExports),PAGE_SIZE$1=1e3,useFileSystemActions=(ee,te,ne,ae,ie,se,oe,le,ce,he,fe)=>{const pe=reactExports.useCallback(Ae=>le({isOpen:!0,type:"alert",title:"Notification",message:Ae,onConfirm:()=>{}}),[le]),ge=reactExports.useCallback((Ae,Me,Ge="",Ue=!1)=>new Promise(Ve=>{le({isOpen:!0,type:"prompt",title:Ae,message:Me,defaultValue:Ge,onConfirm:je=>(Ve(je||null),Ue)})}),[le]);return{handleSave:async(Ae,Me,Ge,Ue,Ve,je,De,Ye)=>{const ke=Me?Ge.trim():Ae;if(!ke)return;const $e=ke.startsWith("/")?ke:`/${ke}`;try{if(Me)await fileSystem.write($e,Ue);else{const Oe=(Ve-1)*PAGE_SIZE$1+1,qe=Ve===De?je:Ve*PAGE_SIZE$1;await fileSystem.replaceRange($e,Oe,qe,Ue)}ne(),Ye($e)}catch(Oe){pe(`Failed to save: ${Oe}`)}},handleDelete:async(Ae,Me)=>{Ae.length!==0&&le({isOpen:!0,type:"confirm",title:`Delete ${Ae.length} Item(s)?`,message:"This action cannot be undone. Are you sure?",onConfirm:async()=>{for(const Ge of Ae)try{await fileSystem.delete(Ge)}catch(Ue){console.error(`Failed to delete ${Ge}`,Ue)}Me(),ne()}})},handleDownload:async(Ae,Me)=>{try{let Ge;const Ue=Ae.split("/").pop()||"file";Me!==void 0?Ge=new Blob([Me],{type:"text/plain"}):Ge=await fileSystem.readFile(Ae);const Ve=URL.createObjectURL(Ge),je=document.createElement("a");je.href=Ve,je.download=Ue,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(Ve)}catch(Ge){pe(`Download failed: ${Ge}`)}},handleDownloadZip:async Ae=>{var Me;if(Ae.length!==0)try{const Ge=new JSZip;let Ue=0;for(const Ye of Ae){const ke=ee.find($e=>$e.path===Ye);if(ke)if(ke.kind==="directory"){const $e=ee.filter(Oe=>Oe.path.startsWith(Ye+"/")&&Oe.kind==="file");for(const Oe of $e){const He=await fileSystem.readFile(Oe.path),qe=Oe.path.startsWith("/")?Oe.path.slice(1):Oe.path;Ge.file(qe,He),Ue++}}else{const $e=await fileSystem.readFile(Ye),Oe=Ye.startsWith("/")?Ye.slice(1):Ye;Ge.file(Oe,$e),Ue++}}if(Ue===0){pe("No files found to download.");return}const Ve=await Ge.generateAsync({type:"blob"}),je=URL.createObjectURL(Ve),De=document.createElement("a");De.href=je,De.download=Ae.length===1&&((Me=ee.find(Ye=>Ye.path===Ae[0]))==null?void 0:Me.kind)!=="directory"?`${Ae[0].split("/").pop()}.zip`:"archive.zip",document.body.appendChild(De),De.click(),document.body.removeChild(De),URL.revokeObjectURL(je)}catch(Ge){pe(`Zip creation failed: ${Ge}`)}},handleMountGithub:async()=>{const Ae=await ge("Mount GitHub Repo - Step 1/4",'Choose a unique alias (e.g. "react-code").',`repo-${te.length+1}`,!0);if(!Ae)return;const Me=await ge("Mount GitHub Repo - Step 2/4","Enter GitHub Owner (User or Org).","",!0);if(!Me)return;const Ge=await ge("Mount GitHub Repo - Step 3/4","Enter Repository Name.","",!0);if(!Ge)return;const Ue=await ge("Mount GitHub Repo - Step 4/4","Enter Branch (default: main).","main",!1);try{await ie(Ae,Me,Ge,Ue||"main"),pe(`Successfully mounted ${Me}/${Ge} at /${Ae}`)}catch(Ve){pe(`Failed to mount GitHub repo: ${Ve.message}`)}},handleMountLocal:async()=>{const Ae=await ge("Mount Local Folder","Choose a unique name for this workspace.",`project-${te.length+1}`);if(Ae)try{await se(Ae)}catch{pe("Failed to mount. Ensure you select a directory.")}},handleUnmount:Ae=>{le({isOpen:!0,type:"confirm",title:"Unmount Workspace?",message:`Are you sure you want to unmount '${Ae}'? Unsaved changes in the overlay will be lost.`,onConfirm:async()=>{await oe(Ae)}})},handleAcceptChanges:async Ae=>{for(const Me of Ae)try{await fileSystem.flushFile(Me)}catch(Ge){console.error(Ge)}ne()},handleDiscardChanges:async(Ae,Me)=>{for(const Ge of Ae)try{await fileSystem.discardChange(Ge)}catch(Ue){console.error(Ue)}Me(),ne()},showAlert:pe,promptUser:ge}},useKeyboard=({isOpen:ee,selectedPath:te,selectedPaths:ne,fileList:ae,mounts:ie,expandedPaths:se,activeTab:oe,isPreviewMode:le,isImageMode:ce,isRenaming:he,isCreating:fe,dialogOpen:pe,contextMenuOpen:ge,onSelectFile:ye,onToggleExpand:xe,onSave:be,onDelete:Se,onDownload:ve,onDownloadZip:Te,onRename:Ce,onAcceptChanges:Pe,onDiscardChanges:Be,onTogglePreview:Ae,onChangeTab:Me,onMountLocal:Ge,onMountGithub:Ue,onStartCreate:Ve,onUnmount:je,onClose:De,onShortcutsOpen:Ye},ke)=>{const $e=Array.from(ne),Oe={ArrowDown:{action:Fe=>{const Le=ke.indexOf(te||"");Le<ke.length-1&&ye(ke[Le+1],{multi:Fe.ctrlKey||Fe.metaKey,range:Fe.shiftKey})},description:"Selects file down, supports ctrl and shift"},ArrowUp:{action:Fe=>{const Le=ke.indexOf(te||"");Le>0&&ye(ke[Le-1],{multi:Fe.ctrlKey||Fe.metaKey,range:Fe.shiftKey})},description:"Selects file upper, supports ctrl and shift"},Home:{action:()=>ke.length&&ye(ke[0],{multi:!1,range:!1}),description:"Selects first file"},End:{action:()=>ke.length&&ye(ke[ke.length-1],{multi:!1,range:!1}),description:"Selects last file"},ArrowRight:{action:()=>{if(!te)return;const Fe=ae.find(Le=>Le.path===te);(Fe==null?void 0:Fe.kind)==="directory"&&!se.has(te)?xe(te):ye(te,{multi:!1,range:!1,focusEditor:!0})},description:"Expands the folder or opens the file"},ArrowLeft:{action:()=>{if(!te)return;const Fe=ae.find(Le=>Le.path===te);if((Fe==null?void 0:Fe.kind)==="directory"&&se.has(te))xe(te);else{const Le=te.substring(0,te.lastIndexOf("/"));Le&&ke.includes(Le)&&ye(Le,{multi:!1,range:!1})}},description:"Shrinks the folder or jumps to the parent folder"},Enter:{action:()=>{if(!te)return;const Fe=ae.find(Le=>Le.path===te);(Fe==null?void 0:Fe.kind)==="directory"?xe(te):ye(te,{multi:!1,range:!1,focusEditor:!0})},description:"Opens file or expands/shrnks folder"},n:{action:Ve,disabled:he||fe,description:"Creates new file"},l:{action:Ge,disabled:he||fe,description:"Mounts local file"},g:{action:Ue,disabled:he||fe,description:"Mounts github repo"},F2:{action:()=>te&&Ce(te),disabled:ne.size!==1,description:"Renames the file"},Delete:{action:()=>Se($e),description:"Deletes the file or folder"},"Control+Backspace":{action:()=>Se($e),description:"Deletes the file or folder"},"Meta+Backspace":{action:()=>Se($e),description:"Deletes the file or folder"},s:{action:()=>{if($e.length>1)Te($e);else if(te){const Fe=ae.find(Le=>Le.path===te);(Fe==null?void 0:Fe.kind)==="directory"?Te([te]):ve(te)}},description:"(Save) Downloads folder or selection as zip or one file"},"Control+Alt+s":{action:()=>Te($e),description:"(Save) Downloads as zip"},"Meta+Alt+s":{action:()=>Te($e),description:"(Save) Downloads as zip"},u:{action:()=>{if(!te)return;const Fe=te.startsWith("/")?te.slice(1):te;ie.includes(Fe)&&je(Fe)},description:"Unmount the mount"},a:{action:()=>{const Fe=$e.filter(Le=>{var Ze;return((Ze=ae.find(Qe=>Qe.path===Le))==null?void 0:Ze.status)!=="original"});Fe.length&&Pe(Fe)},description:"Accept changes"},d:{action:()=>{const Fe=$e.filter(Le=>{var Ze;return((Ze=ae.find(Qe=>Qe.path===Le))==null?void 0:Ze.status)!=="original"});Fe.length&&Be(Fe)},description:"Discard changes"}},He={"Control+s":{action:be,description:"Save file"},"Meta+s":{action:be,description:"Save file"},"Control+d":{action:()=>te&&ve(te),description:"Download file"},"Meta+d":{action:()=>te&&ve(te),description:"Download file"},"Control+p":{action:Ae,description:"Toggle the markdown preview"},"Meta+p":{action:Ae,description:"Toggle the markdown preview"},"Alt+m":{action:Ae,description:"Toggle the markdown preview"},"Control+k":{action:()=>te&&Me(oe==="edit"?"diff":"edit"),description:"Toggle edit and diff view"},"Meta+k":{action:()=>te&&Me(oe==="edit"?"diff":"edit"),description:"Toggle edit and diff view"},"Alt+c":{action:()=>te&&Me(oe==="edit"?"diff":"edit"),description:"Toggle edit and diff view"},F2:{action:()=>te&&Ce(te),description:"Rename"},Delete:{action:()=>!he&&!fe&&te&&Se([te]),description:"Delete file"},"Control+Alt+s":{action:()=>te&&Te([te]),description:"Downloads file in zip"},"Meta+Alt+s":{action:()=>te&&Te([te]),description:"Downloads file in zip"}},qe={"?":{action:Fe=>{const Le=Fe.target;Le.tagName==="INPUT"||Le.tagName==="TEXTAREA"||Le.isContentEditable||Ye()},preventDefault:!1,description:"Opens this windows"},Escape:{action:Fe=>{var Qe,St,Nt;const Le=Fe.target;Le.tagName==="INPUT"||Le.tagName==="TEXTAREA"||Le.isContentEditable?(Le.blur(),(Qe=document.querySelector(".sidebar-container"))==null||Qe.focus()):Le.classList.contains("sidebar-container")?(St=document.querySelector(".close-button"))==null||St.focus():(Le.blur(),(Nt=document.querySelector(".sidebar-container"))==null||Nt.focus())},description:"Fucuses to close button and back"}},Xe=useKeyboardRegistry(Oe,{disabled:!ee||pe||ge}),ze=useKeyboardRegistry(He,{disabled:!ee||pe||ge}),Ie=useKeyboardRegistry(qe,{enableGlobal:!0,disabled:!ee||pe||ge});return{handleSidebarKeyDown:Xe.onKeyDown,handleEditorKeyDown:ze.onKeyDown,handleGlobalKeyDown:Ie.onKeyDown,documentation:[{title:"Sidebar",registry:Oe},{title:"Editor",registry:He},{title:"Global",registry:qe}]}},useFileSelection=({fileTree:ee})=>{const[te,ne]=reactExports.useState(null),[ae,ie]=reactExports.useState(new Set),[se,oe]=reactExports.useState(null),[le,ce]=reactExports.useState(new Set),he=reactExports.useCallback(pe=>{ce(ge=>{const ye=new Set(ge);return ye.has(pe)?ye.delete(pe):ye.add(pe),ye})},[]),fe=reactExports.useCallback((pe,ge)=>{const{multi:ye,range:xe}=ge;let be=new Set(ae),Se=se;if(xe&&se){const ve=getSortedFlatList(ee),Te=ve.indexOf(se),Ce=ve.indexOf(pe);if(Te!==-1&&Ce!==-1){const Pe=Math.min(Te,Ce),Be=Math.max(Te,Ce),Ae=ve.slice(Pe,Be+1);ye||be.clear(),Ae.forEach(Me=>be.add(Me))}else ye||be.clear(),be.add(pe),Se=pe}else ye?be.has(pe)?be.delete(pe):(be.add(pe),Se=pe):(be.clear(),be.add(pe),Se=pe);return ie(be),oe(Se),{newSelection:be,anchor:Se}},[ae,se,ee]);return{selectedPath:te,setSelectedPath:ne,selectedPaths:ae,setSelectedPaths:ie,lastSelectionPath:se,setLastSelectionPath:oe,expandedPaths:le,setExpandedPaths:ce,handleToggleExpand:he,updateSelection:fe}},useUIState=()=>{const[ee,te]=reactExports.useState(!1),[ne,ae]=reactExports.useState(!0),[ie,se]=reactExports.useState(null),[oe,le]=reactExports.useState(null),[ce,he]=reactExports.useState("edit"),[fe,pe]=reactExports.useState(!1),[ge,ye]=reactExports.useState(!1),[xe,be]=reactExports.useState({mode:"none",path:"",value:""}),Se=reactExports.useCallback((Pe="")=>{be({mode:"creating",path:"",value:Pe})},[]),ve=reactExports.useCallback(Pe=>{be({mode:"renaming",path:Pe,value:Pe})},[]),Te=reactExports.useCallback(()=>{be({mode:"none",path:"",value:""})},[]),Ce=reactExports.useCallback(Pe=>{be(Be=>({...Be,value:Pe}))},[]);return{isShortcutsOpen:ee,setShortcutsOpen:te,isSidebarOpen:ne,setIsSidebarOpen:ae,contextMenu:ie,setContextMenu:se,dialog:oe,setDialog:le,activeTab:ce,setActiveTab:he,isPreviewMode:fe,setIsPreviewMode:pe,isImageMode:ge,setIsImageMode:ye,fileOp:xe,startCreating:Se,startRenaming:ve,resetFileOp:Te,setFileOpValue:Ce}},ModalDialog=({dialog:ee,onClose:te})=>{const[ne,ae]=reactExports.useState((ee==null?void 0:ee.defaultValue)||""),ie=reactExports.useRef(null),se=reactExports.useRef(null);if(reactExports.useEffect(()=>{ee!=null&&ee.isOpen?(se.current=document.activeElement,ee.type==="prompt"&&(ae(ee.defaultValue||""),setTimeout(()=>{var le;return(le=ie.current)==null?void 0:le.focus()},50))):se.current&&(se.current.focus(),se.current=null)},[ee]),!ee||!ee.isOpen)return null;const oe=async()=>{if(ee.type==="prompt"&&!ne.trim())return;await ee.onConfirm(ee.type==="prompt"?ne:void 0)!==!0&&te()};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-150",onClick:le=>{le.target===le.currentTarget&&te()},children:jsxRuntimeExports.jsxs("div",{className:"bg-[#161b22] border border-gray-700 rounded-lg shadow-2xl p-6 w-full max-w-sm transform transition-all scale-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[ee.type==="alert"&&jsxRuntimeExports.jsx(TriangleAlert,{className:"text-yellow-500 w-6 h-6"}),ee.type==="confirm"&&jsxRuntimeExports.jsx(TriangleAlert,{className:"text-blue-500 w-6 h-6"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:ee.title})]}),ee.message&&jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mb-4 leading-relaxed",children:ee.message}),ee.type==="prompt"&&jsxRuntimeExports.jsx("input",{ref:ie,type:"text",value:ne,onChange:le=>ae(le.target.value),onKeyDown:le=>{le.key==="Enter"&&oe(),le.key==="Escape"&&te()},className:"w-full bg-[#0d1117] border border-gray-700 rounded px-3 py-2 text-sm text-white focus:ring-1 focus:ring-blue-500 outline-none mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[ee.type!=="alert"&&jsxRuntimeExports.jsx("button",{onClick:te,className:"px-4 py-2 text-xs font-medium text-gray-400 hover:text-white hover:bg-gray-800 rounded transition",children:"Cancel"}),jsxRuntimeExports.jsx("button",{autoFocus:ee.type!=="prompt",onClick:oe,className:`px-4 py-2 text-xs font-medium text-white rounded shadow-lg transition flex items-center gap-2
                            ${ee.type==="confirm"?"bg-red-600 hover:bg-red-500":"bg-blue-600 hover:bg-blue-500"}
                        `,onKeyDown:le=>{le.key==="Escape"&&te()},children:ee.type==="alert"?"OK":"Confirm"})]})]})})},ContextMenu=({menu:ee,onClose:te})=>{const[ne,ae]=reactExports.useState(0),ie=reactExports.useRef(null),se=reactExports.useRef(null);if(reactExports.useEffect(()=>{const le=ce=>{ee&&ie.current&&!ie.current.contains(ce.target)&&(se.current=null,te())};return ee&&(document.addEventListener("mousedown",le,!0),document.addEventListener("contextmenu",le,!0)),()=>{document.removeEventListener("mousedown",le,!0),document.removeEventListener("contextmenu",le,!0)}},[ee,te]),reactExports.useEffect(()=>{ee?(se.current=document.activeElement,ae(0),setTimeout(()=>{var le;return(le=ie.current)==null?void 0:le.focus()},50)):se!=null&&se.current&&(se.current.focus(),se.current=null)},[ee]),!ee)return null;const oe=le=>{le.key==="ArrowDown"?(le.preventDefault(),ae(ce=>(ce+1)%ee.options.length)):le.key==="ArrowUp"?(le.preventDefault(),ae(ce=>(ce-1+ee.options.length)%ee.options.length)):le.key==="Enter"?(le.preventDefault(),ee.options[ne].action(),te()):le.key==="Escape"&&(le.preventDefault(),te())};return jsxRuntimeExports.jsx("div",{ref:ie,tabIndex:0,onKeyDown:oe,className:"fixed z-[70] bg-[#161b22] border border-gray-700 rounded-lg shadow-xl py-1 w-56 text-sm animate-in fade-in zoom-in-95 duration-100 focus:outline-none",style:{top:Math.min(ee.y,window.innerHeight-200),left:Math.min(ee.x,window.innerWidth-200)},onContextMenu:le=>le.preventDefault(),children:ee.options.map((le,ce)=>jsxRuntimeExports.jsxs("button",{onClick:()=>{le.keepFocus&&(se.current=null),te(),le.action()},onMouseEnter:()=>ae(ce),className:`flex justify-between w-full text-left px-4 py-2 items-center gap-2 ${ce===ne?"hover:bg-gray-800/50":le.classes??"hover:bg-gray-700/50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[le.icon&&jsxRuntimeExports.jsx(le.icon,{className:`w-4 h-4 ${ce===ne?"opacity-100":"opacity-70"}`}),le.label]}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 font-mono self-center",children:le.shortcut})]},ce))})},PAGE_SIZE=1e3,VirtualFileManager=({isOpen:ee,onClose:te})=>{var Le;const ne=reactExports.useRef(null),ae=reactExports.useRef(null),ie=reactExports.useRef(null),{fileList:se,mounts:oe,refreshFiles:le,isMountedFile:ce,mountGithub:he,mountLocal:fe,unmount:pe}=useFileSystem(ee),ge=reactExports.useMemo(()=>buildFileTree(se),[se]),ye=useFileSelection({fileTree:ge}),xe=useUIState(),[be,Se]=reactExports.useState(""),[ve,Te]=reactExports.useState(null),[Ce,Pe]=reactExports.useState(!1),[Be,Ae]=reactExports.useState(0),[Me,Ge]=reactExports.useState(1),[Ue,Ve]=reactExports.useState(1),je=useFileSystemActions(se,oe,le,ce,he,fe,pe,xe.setDialog,ye.setSelectedPath,ye.setSelectedPaths),De=reactExports.useCallback(async(Ze,Qe)=>{Pe(!0);try{const St=(Qe-1)*PAGE_SIZE+1,Nt=Qe*PAGE_SIZE,Ct=await fileSystem.readWindow(Ze,St,Nt);Se(Ct),Ge(Qe)}catch(St){console.error(St)}finally{Pe(!1)}},[]),Ye=reactExports.useCallback(async(Ze,Qe)=>{var Kt;const{multi:St,range:Nt,focusEditor:Ct=!1}=Qe,{newSelection:kt}=ye.updateSelection(Ze,{multi:St,range:Nt});let At=Ze,Vt=!0;if(St&&!kt.has(Ze))if(ye.selectedPath===Ze){const jt=Array.from(kt).pop();At=jt||null,jt||(Vt=!1,ye.setSelectedPath(null),Se(""))}else Vt=!1;if(Vt&&At){if(ye.selectedPath===At&&xe.activeTab==="edit"&&!xe.isImageMode){Ct&&((Kt=ae.current)==null||Kt.focus());return}ye.setSelectedPath(At),xe.resetFileOp(),xe.setActiveTab("edit"),Te(null),xe.setIsImageMode(!1);try{if((await fileSystem.getMetadata(At)).kind==="directory")Se("");else if(isImageFile(At))xe.setIsPreviewMode(!0),Se(`![${At.split("/").pop()}](${At})`),Ae(0),Ve(1),Ge(1),xe.setIsImageMode(!0);else{const Ne=await fileSystem.countLines(At);Ae(Ne),Ve(Math.ceil(Ne/PAGE_SIZE)||1),Ge(1),await De(At,1)}}catch(jt){Se(`[Error: ${jt}]`)}Ct&&setTimeout(()=>{var jt;return(jt=ae.current)==null?void 0:jt.focus()},50)}},[ye,xe,De]),ke=async()=>{await je.handleSave(ye.selectedPath,xe.fileOp.mode==="creating",xe.fileOp.value,be,Me,Be,Ue,Ze=>{xe.resetFileOp(),ye.setSelectedPath(Ze),fileSystem.countLines(Ze).then(Qe=>{Ae(Qe),Ve(Math.ceil(Qe/PAGE_SIZE)||1)})})},$e=async Ze=>{if(Ze==="diff"&&ye.selectedPath){Pe(!0);try{const Qe=await fileSystem.diff(ye.selectedPath);Te(Qe||"No changes detected.")}finally{Pe(!1)}}xe.setActiveTab(Ze)},Oe=async()=>{const{path:Ze,value:Qe}=xe.fileOp;if(!Ze||!Qe.trim()||Qe===Ze){xe.resetFileOp();return}try{await fileSystem.rename(Ze,Qe.trim()),ye.setSelectedPath(Qe.trim()),xe.resetFileOp(),le()}catch(St){je.showAlert(`Rename failed: ${St}`)}},He=(Ze,Qe,St,Nt)=>{ye.selectedPaths.has(Qe)||(ye.setSelectedPaths(new Set([Qe])),ye.setSelectedPath(Qe));const Ct=Array.from(ye.selectedPaths.has(Qe)?ye.selectedPaths:new Set([Qe])),kt=[];if(Nt)kt.push({label:"New File Here",shortcut:"N",icon:Plus,action:()=>xe.startCreating(`${Qe.replace(/^\//,"")}/untitled.txt`),keepFocus:!0}),kt.push({label:"Unmount Workspace",shortcut:"U",icon:LogOut,classes:"text-red-400",action:()=>je.handleUnmount(Qe.replace(/^\//,""))}),kt.push({label:"Discard All Changes",icon:FileXCorner,classes:"text-yellow-200",action:()=>{const At=se.filter(Vt=>Vt.path.startsWith(Qe+"/")&&Vt.status&&Vt.status!=="original").map(Vt=>Vt.path);je.handleDiscardChanges(At,()=>{ye.selectedPath&&At.includes(ye.selectedPath)&&(ye.setSelectedPath(null),Se(""))})}}),kt.push({label:"Accept All Changes",icon:FileCheck,classes:"text-yellow-200",action:()=>{const At=se.filter(Vt=>Vt.path.startsWith(Qe+"/")&&Vt.status&&Vt.status!=="original").map(Vt=>Vt.path);je.handleAcceptChanges(At)}});else if(Ct.length>1)kt.push({label:"Download Zip",shortcut:"S",icon:Download,action:()=>je.handleDownloadZip(Ct)}),kt.push({label:`Delete ${Ct.length} Items`,shortcut:"Del",icon:Trash2,classes:"text-red-400",action:()=>je.handleDelete(Ct,()=>{ye.selectedPath&&Ct.includes(ye.selectedPath)&&(ye.setSelectedPath(null),Se("")),ye.setSelectedPaths(new Set)})}),Ct.some(At=>{var Vt;return((Vt=se.find(Kt=>Kt.path===At))==null?void 0:Vt.status)!=="original"})&&(kt.push({label:"Discard Changes",shortcut:"R",icon:FileXCorner,classes:"text-yellow-200",action:()=>je.handleDiscardChanges(Ct,()=>{ye.selectedPath&&Ct.includes(ye.selectedPath)&&(ye.setSelectedPath(null),Se("")),ye.setSelectedPaths(new Set)})}),kt.push({label:"Accept Changes",shortcut:"A",icon:FileCheck,classes:"text-yellow-200",action:()=>je.handleAcceptChanges(Ct)}));else if(St==="directory")kt.push({label:"New File",shortcut:"N",icon:Plus,action:()=>xe.startCreating(`${Qe.replace(/^\//,"")}/untitled.txt`),keepFocus:!0}),kt.push({label:"Download Zip",shortcut:"S",icon:Download,action:()=>je.handleDownloadZip([Qe])}),kt.push({label:"Delete",shortcut:"Del",icon:Trash2,classes:"text-red-400",action:()=>je.handleDelete([Qe],()=>{ye.selectedPath===Qe&&(ye.setSelectedPath(null),Se(""))})});else{kt.push({label:"Open",shortcut:"Enter",icon:FileText,action:()=>Ye(Qe,{multi:!1,range:!1})}),kt.push({label:"Download",shortcut:"S",icon:Download,action:()=>je.handleDownload(Qe)}),kt.push({label:"Delete",shortcut:"Del",icon:Trash2,classes:"text-red-400",action:()=>je.handleDelete([Qe],()=>{ye.selectedPath===Qe&&(ye.setSelectedPath(null),Se(""))})});const At=se.find(Vt=>Vt.path===Qe);At&&At.status&&At.status!=="original"&&(kt.push({label:"Discard Changes",shortcut:"R",icon:FileXCorner,classes:"text-yellow-200",action:()=>je.handleDiscardChanges([Qe],()=>{ye.selectedPath===Qe&&(ye.setSelectedPath(null),Se(""))})}),kt.push({label:"Accept Changes",shortcut:"A",icon:FileCheck,classes:"text-yellow-200",action:()=>je.handleAcceptChanges([Qe])}))}xe.setContextMenu({x:Ze.clientX,y:Ze.clientY,options:kt})},qe=reactExports.useMemo(()=>getVisiblePaths(ge,oe,ye.expandedPaths),[ge,oe,ye.expandedPaths]),{handleGlobalKeyDown:Xe,handleSidebarKeyDown:ze,handleEditorKeyDown:Ie,documentation:Fe}=useKeyboard({isOpen:ee,selectedPath:ye.selectedPath,selectedPaths:ye.selectedPaths,fileList:se,mounts:oe,expandedPaths:ye.expandedPaths,activeTab:xe.activeTab,isPreviewMode:xe.isPreviewMode,isImageMode:xe.isImageMode,isRenaming:xe.fileOp.mode==="renaming",isCreating:xe.fileOp.mode==="creating",dialogOpen:!!((Le=xe.dialog)!=null&&Le.isOpen),contextMenuOpen:!!xe.contextMenu,onSelectFile:Ye,onToggleExpand:ye.handleToggleExpand,onSave:ke,onDelete:Ze=>je.handleDelete(Ze||(ye.selectedPath?[ye.selectedPath]:[]),()=>{ye.selectedPath&&(Ze||[]).includes(ye.selectedPath)&&(ye.setSelectedPath(null),Se(""))}),onDownload:Ze=>je.handleDownload(Ze||ye.selectedPath||""),onDownloadZip:Ze=>je.handleDownloadZip(Ze),onRename:xe.startRenaming,onAcceptChanges:Ze=>je.handleAcceptChanges(Ze),onDiscardChanges:Ze=>je.handleDiscardChanges(Ze,()=>{ye.selectedPath&&Ze.includes(ye.selectedPath)&&(ye.setSelectedPath(null),Se(""))}),onTogglePreview:()=>xe.setIsPreviewMode(!xe.isPreviewMode),onChangeTab:$e,onMountLocal:je.handleMountLocal,onMountGithub:je.handleMountGithub,onStartCreate:()=>xe.startCreating(""),onShortcutsOpen:()=>xe.setShortcutsOpen(!0),onUnmount:je.handleUnmount,onClose:te},qe);return reactExports.useEffect(()=>{ee&&setTimeout(()=>{var Ze;return(Ze=ne.current)==null?void 0:Ze.focus()},100)},[ee]),ee?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4",onKeyDown:Xe,role:"dialog","aria-modal":"true","aria-labelledby":"file-manager-title",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#0d1117] border border-gray-700 rounded-xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden text-gray-300 font-sans animate-in fade-in zoom-in duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex-none h-12 px-4 border-b border-gray-800 flex justify-between items-center bg-[#161b22]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>xe.setIsSidebarOpen(!xe.isSidebarOpen),className:"p-1 text-gray-400 hover:text-white outline-none focus-visible:ring-1 focus-visible:ring-blue-500","aria-label":xe.isSidebarOpen?"Collapse sidebar":"Expand sidebar",children:jsxRuntimeExports.jsx(Menu,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx(Monitor,{className:"w-5 h-5 text-blue-400"}),jsxRuntimeExports.jsx("span",{id:"file-manager-title",className:"font-semibold text-gray-200 hidden sm:inline",children:"Agent Workspace"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-px bg-gray-700 mx-2 hidden sm:block"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 font-mono hidden sm:inline","aria-live":"polite",children:oe.length>0?`${oe.length} Projects Mounted`:"No Mounts"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{onClick:()=>xe.setShortcutsOpen(!0),className:"p-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white outline-none","aria-label":"Show shortcuts",children:jsxRuntimeExports.jsx(CircleQuestionMark,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{ref:ie,onKeyDown:Ze=>{var Qe;Ze.key==="Escape"&&(Ze.preventDefault(),(Qe=ne.current)==null||Qe.focus())},onClick:te,className:"close-button p-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white outline-none focus-visible:ring-1 focus-visible:ring-blue-500","aria-label":"Close file manager",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[jsxRuntimeExports.jsx(FileTreeSidebar,{innerRef:ne,isOpen:xe.isSidebarOpen,mounts:oe,fileTree:ge,selectedPaths:ye.selectedPaths,expandedPaths:ye.expandedPaths,onMountLocal:je.handleMountLocal,onMountGithub:je.handleMountGithub,onCreateFile:()=>xe.startCreating(""),onSelectFile:Ye,onToggleExpand:ye.handleToggleExpand,onContextMenu:He,onKeyDown:ze}),jsxRuntimeExports.jsx(FileEditor,{editorRef:ae,onSidebarFocus:()=>{var Ze;return(Ze=ne.current)==null?void 0:Ze.focus()},selectedPath:ye.selectedPath,selectedPaths:ye.selectedPaths,fileList:se,isCreating:xe.fileOp.mode==="creating",isRenaming:xe.fileOp.mode==="renaming",newFileName:xe.fileOp.value,renameValue:xe.fileOp.value,editorContent:be,diffContent:ve,activeTab:xe.activeTab,isPreviewMode:xe.isPreviewMode,isImageMode:xe.isImageMode,isLoadingContent:Ce,totalLines:Be,currentPage:Me,pageCount:Ue,isMountedFile:ce,onSetNewFileName:xe.setFileOpValue,onSetRenameValue:xe.setFileOpValue,onSave:ke,onCancelCreating:xe.resetFileOp,onCancelRenaming:xe.resetFileOp,onSubmitRename:Oe,onChangeTab:$e,onTogglePreview:()=>xe.setIsPreviewMode(!xe.isPreviewMode),onStartRename:()=>xe.startRenaming(ye.selectedPath||""),onDownload:()=>je.handleDownload(ye.selectedPath||""),onDownloadZip:()=>je.handleDownloadZip(Array.from(ye.selectedPaths)),onDelete:()=>je.handleDelete(Array.from(ye.selectedPaths),()=>{ye.setSelectedPath(null),Se("")}),onEditorChange:Se,onPageChange:Ze=>ye.selectedPath&&De(ye.selectedPath,Ze),onKeyDown:Ie})]}),jsxRuntimeExports.jsx(ContextMenu,{menu:xe.contextMenu,onClose:()=>xe.setContextMenu(null)}),jsxRuntimeExports.jsx(ModalDialog,{dialog:xe.dialog,onClose:()=>xe.setDialog(null)}),jsxRuntimeExports.jsx(ShortcutModal,{sections:Fe,isOpen:xe.isShortcutsOpen,onClose:()=>xe.setShortcutsOpen(!1)})]})}):null};function useKnowledge({onSearch:ee,getAllItems:te,onUpdate:ne,onDelete:ae,onAdd:ie}){const[se,oe]=reactExports.useState([]),[le,ce]=reactExports.useState(!1),he=reactExports.useCallback(async()=>{ce(!0);try{const xe=await te();oe(xe.sort((be,Se)=>Se.timestamp-be.timestamp))}catch(xe){console.error(xe)}finally{ce(!1)}},[te]),fe=reactExports.useCallback(async xe=>{if(!xe.trim()){he();return}ce(!0);try{const be=await ee(xe);oe(be.sort((Se,ve)=>ve.timestamp-Se.timestamp))}catch(be){console.error(be)}finally{ce(!1)}},[ee,he]),pe=reactExports.useCallback(async(xe,be,Se)=>{const ve=Se.split(",").map(Te=>Te.trim()).filter(Te=>Te!=="");try{await ne({...xe,content:be,tags:ve}),he()}catch(Te){throw console.error("Failed to update memory",Te),Te}},[ne,he]),ge=reactExports.useCallback(async xe=>{try{await ae(xe),he()}catch(be){throw console.error("Failed to delete memory",be),be}},[ae,he]),ye=reactExports.useCallback(async(xe,be)=>{if(!xe.trim())return;const Se=be.split(",").map(ve=>ve.trim()).filter(ve=>ve!=="");try{await ie(xe,Se),he()}catch(ve){throw console.error("Failed to add memory",ve),ve}},[ie,he]);return{items:se,loading:le,loadAll:he,handleSearch:fe,handleUpdateItem:pe,handleDeleteItem:ge,handleAddItem:ye}}const KnowledgeItem=({item:ee,onUpdate:te,onDelete:ne})=>{const[ae,ie]=reactExports.useState(!1),[se,oe]=reactExports.useState(ee.content),[le,ce]=reactExports.useState(ee.tags.join(", ")),he=async()=>{try{await te(ee,se,le),ie(!1)}catch{alert("Failed to update memory item")}};return jsxRuntimeExports.jsxs("div",{className:"bg-gray-950 border border-gray-800 rounded-lg overflow-hidden hover:border-gray-700 transition-all shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-900/50 px-4 py-2 border-b border-gray-800 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-mono text-gray-600 bg-gray-950 px-1.5 py-0.5 rounded border border-gray-800",children:ee.id}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"})," ",new Date(ee.timestamp).toLocaleString()]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:ae?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:he,className:"p-1.5 text-green-500 hover:bg-green-500/10 rounded-md transition-colors",title:"Save Changes",children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>ie(!1),className:"p-1.5 text-gray-500 hover:bg-gray-800 rounded-md transition-colors",title:"Cancel",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>ie(!0),className:"p-1.5 text-gray-500 hover:text-blue-400 hover:bg-blue-400/10 rounded-md transition-colors",title:"Edit Item",children:jsxRuntimeExports.jsx(Pen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs(ConfirmationButton,{onClick:()=>ne(ee.id),className:"p-1 text-gray-400 hover:text-red-400 hover:bg-gray-800 rounded",activeClassName:"p-1 text-red-400 bg-red-400/200 rounded",title:"Delete Item",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 transform scale-110 text-red-500"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"p-4",children:ae?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("textarea",{value:se,onChange:fe=>oe(fe.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-sm text-gray-200 min-h-[150px] focus:ring-1 focus:ring-blue-500 outline-none"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3.5 h-3.5 text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",value:le,onChange:fe=>ce(fe.target.value),placeholder:"Tags (comma separated)...",className:"flex-1 bg-gray-900 border border-gray-700 rounded-lg px-3 py-1 text-xs text-gray-200 focus:ring-1 focus:ring-blue-500 outline-none"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300 whitespace-pre-wrap break-words",children:ee.content}),ee.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4 flex flex-wrap gap-1.5",children:ee.tags.map(fe=>jsxRuntimeExports.jsxs("span",{className:"text-[10px] font-medium bg-green-950/30 text-green-400 px-2 py-0.5 rounded-full flex items-center gap-1 border border-green-900/30",children:[jsxRuntimeExports.jsx(Tag,{className:"w-2.5 h-2.5"})," ",fe]},fe))})]})})]})},KnowledgeAddForm=({newContent:ee,setNewContent:te,newTags:ne,setNewTags:ae,onAdd:ie,onCancel:se})=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-950 border border-green-900/50 rounded-lg p-4 shadow-lg animate-in slide-in-from-top-4 duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-3",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-bold text-green-400 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})," New Knowledge Entry"]}),jsxRuntimeExports.jsx("button",{onClick:se,className:"text-gray-500 hover:text-gray-300",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("textarea",{value:ee,onChange:oe=>te(oe.target.value),placeholder:"Knowledge content (markdown supported)...",className:"w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-sm text-gray-200 min-h-[150px] focus:ring-1 focus:ring-green-500 outline-none mb-3"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Tag,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",value:ne,onChange:oe=>ae(oe.target.value),placeholder:"Tags (comma separated)...",className:"flex-1 bg-gray-900 border border-gray-700 rounded-lg px-3 py-1.5 text-xs text-gray-200 focus:ring-1 focus:ring-green-500 outline-none"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:se,className:"px-3 py-1.5 text-xs text-gray-400 hover:text-gray-200",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:ie,className:"px-4 py-1.5 bg-green-600 hover:bg-green-700 text-white text-xs font-bold rounded-lg transition-colors flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(Save,{className:"w-3.5 h-3.5"})," Save Knowledge"]})]})]}),KnowledgeViewer=ee=>{const{isOpen:te,onClose:ne}=ee,{items:ae,loading:ie,loadAll:se,handleSearch:oe,handleUpdateItem:le,handleDeleteItem:ce,handleAddItem:he}=useKnowledge(ee),[fe,pe]=reactExports.useState(""),[ge,ye]=reactExports.useState(!1),[xe,be]=reactExports.useState(""),[Se,ve]=reactExports.useState("");reactExports.useEffect(()=>{te&&se()},[te,se]);const Te=async()=>{try{await he(xe,Se),ye(!1),be(""),ve("")}catch{alert("Failed to add memory item")}},Ce=reactExports.useMemo(()=>({Enter:{action:()=>oe(fe),description:"Search knowledge"},Escape:{action:ne,description:"Close viewer"}}),[oe,fe,ne]),{onKeyDown:Pe}=useKeyboardRegistry(Ce);return te?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4",onKeyDown:Pe,children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl shadow-2xl w-full max-w-4xl h-[85vh] flex flex-col animate-in fade-in zoom-in duration-200",onClick:Be=>Be.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex-none p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950 rounded-t-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Book,{className:"w-5 h-5 text-green-400"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-white",children:"Knowledge Database"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>ye(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white text-xs font-medium rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})," Add Knowledge"]}),jsxRuntimeExports.jsx("button",{onClick:ne,className:"p-1 text-gray-400 hover:text-white rounded hover:bg-gray-800 transition",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-900 border-b border-gray-800 flex gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("input",{type:"text",value:fe,onChange:Be=>pe(Be.target.value),placeholder:"Search stored knowledge...",className:"w-full bg-gray-950 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-sm text-gray-200 focus:ring-1 focus:ring-green-500 outline-none transition-all"}),jsxRuntimeExports.jsx(Search,{className:"w-4 h-4 text-gray-500 absolute left-3 top-2.5"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>oe(fe),className:"px-4 py-2 bg-gray-800 text-sm font-medium rounded-lg text-gray-300 hover:bg-gray-700 transition-colors",children:"Search"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4 bg-gray-900",children:[ge&&jsxRuntimeExports.jsx(KnowledgeAddForm,{newContent:xe,setNewContent:be,newTags:Se,setNewTags:ve,onAdd:Te,onCancel:()=>ye(!1)}),ie?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500 gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Accessing database..."})]}):ae.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500 py-20 flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx(Book,{className:"w-10 h-10 opacity-20"}),jsxRuntimeExports.jsx("p",{children:"No items found in database."})]}):ae.map(Be=>jsxRuntimeExports.jsx(KnowledgeItem,{item:Be,onUpdate:le,onDelete:ce},Be.id))]})]})}):null},Header=({modelName:ee,onShowContext:te,onShowFiles:ne,onShowKnowledge:ae,onClearContext:ie,onShowSettings:se,onShowVariables:oe,autoScroll:le,onToggleAutoScroll:ce,onToggleSidebar:he})=>jsxRuntimeExports.jsxs("header",{className:"flex-none bg-[#0d1117] border-b border-gray-800 px-4 py-3 flex items-center justify-between z-10 sticky top-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:he,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800/50 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Menu,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent font-bold text-lg tracking-tight",children:"Agentic researcher"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"hidden md:flex items-center gap-2 mr-4 text-xs font-mono text-gray-600 bg-gray-900/50 px-2 py-1 rounded border border-gray-800/50",children:jsxRuntimeExports.jsx("span",{children:ee})}),jsxRuntimeExports.jsx("button",{onClick:ce,className:`p-2 rounded-lg transition ${le?"text-blue-400 bg-blue-900/10":"text-gray-500 hover:text-gray-300"}`,title:le?"Auto-scroll Enabled (Results Only)":"Auto-scroll Disabled",children:jsxRuntimeExports.jsx(CircleArrowDown,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"w-px h-5 bg-gray-800 mx-1"}),jsxRuntimeExports.jsx("button",{onClick:te,className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-gray-800/50 rounded-lg transition",title:"Context Window Management",children:jsxRuntimeExports.jsx(ListChecks,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:ne,className:"p-2 text-gray-400 hover:text-yellow-400 hover:bg-gray-800/50 rounded-lg transition",title:"Virtual File System",children:jsxRuntimeExports.jsx(FolderOpen,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:ae,className:"p-2 text-gray-400 hover:text-green-400 hover:bg-gray-800/50 rounded-lg transition",title:"Knowledge Base",children:jsxRuntimeExports.jsx(Book,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:oe,className:"p-2 text-gray-400 hover:text-green-400 hover:bg-gray-800/50 rounded-lg transition",title:"Variables Viewer",children:jsxRuntimeExports.jsx(Variable,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"w-px h-5 bg-gray-800 mx-2"}),jsxRuntimeExports.jsxs(ConfirmationButton,{onClick:ie,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-gray-800 rounded",activeClassName:"p-2 text-red-400 bg-red-400/200 rounded",title:"Clear context",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-5 h-5"}),jsxRuntimeExports.jsx(Trash2,{className:"w-5 h-5 transform scale-110"})]}),jsxRuntimeExports.jsx("button",{onClick:se,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800/50 rounded-lg transition",title:"Global Settings",children:jsxRuntimeExports.jsx(Settings,{className:"w-5 h-5"})})]})]}),TaskEventView=reactExports.memo(({event:ee})=>{var ie;const te=ee.type==="tool_call",ne=ee.type==="tool_result";if(te)return jsxRuntimeExports.jsxs("div",{className:"ml-4 mt-1 bg-yellow-900/10 border-l-2 border-yellow-700/50 pl-2 py-1 text-[10px] font-mono",children:[jsxRuntimeExports.jsxs("div",{className:"text-yellow-500 font-bold flex items-center gap-1",children:[jsxRuntimeExports.jsx(Terminal,{className:"w-2.5 h-2.5"}),"CALL: ",ee.content]}),ee.metadata&&jsxRuntimeExports.jsx("div",{className:"text-gray-400 mt-0.5 break-all whitespace-pre-wrap opacity-75",children:JSON.stringify(ee.metadata)})]});if(ne)return jsxRuntimeExports.jsxs("div",{className:"ml-4 mt-1 bg-green-900/10 border-l-2 border-green-700/50 pl-2 py-1 text-[10px] font-mono",children:[jsxRuntimeExports.jsxs("div",{className:"text-green-500 font-bold flex items-center gap-1",children:[jsxRuntimeExports.jsx(Database,{className:"w-2.5 h-2.5"}),"RESULT (",(ie=ee.metadata)==null?void 0:ie.toolName,")"]}),jsxRuntimeExports.jsx("div",{className:"text-gray-400 mt-0.5 break-all whitespace-pre-wrap max-h-20 overflow-hidden opacity-75",children:ee.content})]});const ae=ee.type==="error";return jsxRuntimeExports.jsxs("div",{className:`ml-4 text-[10px] font-mono flex gap-2 leading-relaxed ${ae?"text-red-400":"text-gray-500"}`,children:[jsxRuntimeExports.jsx("span",{className:"opacity-50 flex-none w-10 text-[8px] mt-0.5",children:new Date(ee.timestamp).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),jsxRuntimeExports.jsx("span",{className:"break-words",children:ee.content})]})});function useDebateStats(ee){return reactExports.useMemo(()=>{const te=new Map;return ee.forEach(ne=>{const ae=[...ne.events].reverse().find(le=>{var ce;return(le.type==="tool_call"||le.type==="tool_result")&&(le.content==="submit_opinion"||((ce=le.metadata)==null?void 0:ce.toolName)==="submit_opinion")});if(!(ae!=null&&ae.metadata))return;const ie=ae.metadata.args||ae.metadata;if(!ie)return;const se=ne.name.replace(" Thinking...","").replace(/\[.*?\]/,"").trim();if(ie.propose_new_option&&ie.propose_new_option.id){const le=ie.propose_new_option.id;te.has(le)||te.set(le,{id:le,description:ie.propose_new_option.description,votes:0,voters:[],isNewProposal:!0})}const oe=[];Array.isArray(ie.selected_options)?oe.push(...ie.selected_options):typeof ie.vote=="string"&&oe.push(ie.vote),oe.forEach(le=>{te.has(le)||te.set(le,{id:le,description:"Option",votes:0,voters:[],isNewProposal:!1});const ce=te.get(le);ce.votes+=1,ce.voters.includes(se)||ce.voters.push(se)})}),Array.from(te.values()).sort((ne,ae)=>ae.votes-ne.votes)},[ee])}const DebateRoundSummary=reactExports.memo(({subTasks:ee})=>{const te=useDebateStats(ee);if(te.length===0)return null;const ne=ee.length;return jsxRuntimeExports.jsxs("div",{className:"ml-6 mb-4 mt-2 bg-[#0d1117] rounded-lg border border-gray-800 overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 px-3 py-2 flex items-center justify-between border-b border-gray-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-300 uppercase tracking-wider",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-3.5 h-3.5 text-indigo-400"}),"Round Tally"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-gray-500",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),ne," Agents"]})]}),jsxRuntimeExports.jsx("div",{className:"p-2 space-y-2",children:te.map(ae=>{const ie=ne>0?Math.round(ae.votes/ne*100):0,se=ie>50;return jsxRuntimeExports.jsxs("div",{className:`relative flex flex-col gap-1 p-2 rounded border transition-all ${se?"bg-indigo-900/10 border-indigo-500/30":"bg-gray-800/30 border-gray-700/30"}`,children:[jsxRuntimeExports.jsx("div",{className:`absolute top-0 left-0 bottom-0 opacity-10 transition-all duration-700 ${se?"bg-indigo-500":"bg-gray-500"}`,style:{width:`${ie}%`}}),jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[se&&jsxRuntimeExports.jsx(Trophy,{className:"w-3.5 h-3.5 text-yellow-500 animate-pulse"}),ae.isNewProposal&&jsxRuntimeExports.jsx(Lightbulb,{className:"w-3.5 h-3.5 text-amber-400"}),jsxRuntimeExports.jsx("span",{className:`text-xs font-bold ${se?"text-indigo-200":"text-gray-300"}`,children:ae.id})]}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-mono font-medium text-gray-500",children:[ae.votes,"/",ne]})]}),ae.description&&jsxRuntimeExports.jsx("div",{className:"text-[10px] text-gray-500 truncate pl-5 relative z-10",children:ae.description}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 mt-1 pl-5 relative z-10",children:ae.voters.map(oe=>jsxRuntimeExports.jsx("span",{className:"text-[9px] bg-gray-900/50 px-1.5 py-0.5 rounded text-gray-400 border border-gray-800",children:oe},oe))})]},ae.id)})})]})}),TaskNode=reactExports.memo(({task:ee,allTasks:te})=>{const ne=ee.name.startsWith("Round "),[ae,ie]=reactExports.useState(ee.status==="running"),[se,oe]=reactExports.useState(!1),le=reactExports.useMemo(()=>{if(!ee.subTasks||ee.subTasks.length===0)return[];const ge=[];for(const ye of ee.subTasks){const xe=te.get(ye);xe&&ge.push(xe)}return ge},[ee.subTasks,te]),ce=reactExports.useMemo(()=>{if(!ee.events||ee.events.length===0)return[];const ge=se?ee.events:ee.events.slice(-15),ye=[];for(const xe of ge){const be=ye[ye.length-1];xe.type==="log"&&be&&be.type==="log"?(be.content+=`
`+xe.content,be.count=(be.count||1)+1):ye.push({...xe})}return ye},[ee.events,se]),he={pending:"text-gray-500",running:"text-blue-400 animate-pulse",completed:"text-green-500",failed:"text-red-500"},fe={pending:Circle,running:Clock,completed:CircleCheck,failed:CircleX}[ee.status],pe=reactExports.useRef(null);return reactExports.useEffect(()=>{ee.status==="running"&&pe.current&&(pe.current.scrollTop=pe.current.scrollHeight)},[ee.events.length,ee.status]),jsxRuntimeExports.jsxs("div",{className:"ml-2 border-l border-gray-800 pl-3 py-1 animate-in fade-in slide-in-from-left-1 duration-200",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 select-none group cursor-pointer hover:bg-white/5 rounded px-1 -ml-1 py-0.5 transition",onClick:()=>ie(!ae),children:[jsxRuntimeExports.jsx("button",{className:"text-gray-500 hover:text-white transition focus:outline-none",children:le.length>0||ee.inputArgs?ae?jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-3 h-3"}):jsxRuntimeExports.jsx("span",{className:"w-3 h-3 block"})}),jsxRuntimeExports.jsx(fe,{className:`w-3.5 h-3.5 ${he[ee.status]}`}),jsxRuntimeExports.jsx("span",{className:`text-xs font-mono font-medium ${ee.status==="running"?"text-blue-300":"text-gray-300"}`,children:ee.name}),ne&&ee.status==="completed"&&jsxRuntimeExports.jsxs("span",{className:"ml-auto text-[9px] text-green-400 flex items-center gap-1 opacity-75",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-3 h-3"})," Round Done"]})]})}),ae&&jsxRuntimeExports.jsxs("div",{className:"mt-1 space-y-2",children:[ne&&le.length>0&&jsxRuntimeExports.jsx(DebateRoundSummary,{subTasks:le}),ee.inputArgs&&jsxRuntimeExports.jsxs("div",{className:"ml-6 bg-blue-900/10 rounded p-1.5 border border-blue-900/30",children:[jsxRuntimeExports.jsxs("div",{className:"text-[9px] text-blue-400 font-bold uppercase mb-1 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Settings,{className:"w-2.5 h-2.5"})," Input"]}),jsxRuntimeExports.jsx("pre",{className:"text-[9px] text-gray-400 font-mono whitespace-pre-wrap leading-tight max-h-40 overflow-y-auto",children:JSON.stringify(ee.inputArgs,null,2)})]}),ce.length>0&&jsxRuntimeExports.jsxs("div",{className:"ml-6",children:[!se&&ee.events.length>15&&jsxRuntimeExports.jsxs("button",{onClick:ge=>{ge.stopPropagation(),oe(!0)},className:"text-[9px] text-gray-500 hover:text-blue-400 mb-1 transition-colors",children:["+ Show ",ee.events.length-15," more events"]}),jsxRuntimeExports.jsx("div",{ref:pe,className:"bg-black/20 rounded p-1.5 border border-gray-800/50 max-h-[300px] overflow-y-auto custom-scrollbar",children:ce.map((ge,ye)=>jsxRuntimeExports.jsx(TaskEventView,{event:ge},ye))})]}),le.map(ge=>jsxRuntimeExports.jsx(TaskNode,{task:ge,allTasks:te},ge.id))]})]})}),TaskTreeView=reactExports.memo(({tasks:ee,rootTaskId:te,toolCallId:ne})=>{const ae=reactExports.useMemo(()=>{const ie=[];if(ne)for(const oe of ee.values())oe.toolCallId===ne&&ie.push(oe);else if(te){const oe=ee.get(te);oe&&ie.push(oe)}else for(const oe of ee.values())(!oe.parentId||!ee.has(oe.parentId))&&ie.push(oe);if(ie.length===0)return[];const se=Math.min(...ie.map(oe=>oe.depth));return ie.filter(oe=>oe.depth===se)},[ee,ne,te]);return ae.length===0?null:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:ae.map(ie=>jsxRuntimeExports.jsx("div",{className:"-ml-2",children:jsxRuntimeExports.jsx(TaskNode,{task:ie,allTasks:ee})},ie.id))})}),TaskTreeView$1=reactExports.memo(TaskTreeView),IconMap={Github,Search,Code,Cpu,Activity,Brain,FileText,Image:Image$1,Terminal},ToolCallItem=({tool:ee,tasks:te})=>{const[ne,ae]=reactExports.useState(!1),[ie,se]=reactExports.useState(!1),[oe,le]=reactExports.useState(!1),ce=reactExports.useMemo(()=>getToolDefinition(ee.toolName),[ee.toolName]),he=reactExports.useMemo(()=>{var xe;if((xe=ce==null?void 0:ce.ui)!=null&&xe.renderSummary)return ce.ui.renderSummary(ee.args);const ye=JSON.stringify(ee.args);return ye.length>80?ye.substring(0,80)+"...":ye},[ce,ee.args]),fe=reactExports.useMemo(()=>{var xe;const ye=((xe=ce==null?void 0:ce.ui)==null?void 0:xe.iconName)||"Terminal";return IconMap[ye]||Terminal},[ce]),pe=reactExports.useMemo(()=>ie?JSON.stringify(ee.args,null,2):"",[ee.args,ie]),ge=reactExports.useMemo(()=>!oe||!ee.result?"":typeof ee.result=="string"?ee.result:JSON.stringify(ee.result,null,2),[ee.result,oe]);return reactExports.useEffect(()=>{ee.status==="error"&&ae(!0),(ee.toolName.includes("delegate_research")||ee.toolName==="run_flow")&&ee.status==="pending"&&ae(!0)},[ee.status,ee.toolName]),jsxRuntimeExports.jsxs("div",{className:`mb-2 rounded-lg border transition-all overflow-hidden ${ee.status==="error"?"border-red-900/50 bg-red-950/10":ee.status==="success"?"border-gray-800 bg-[#1e232b]":"border-gray-800 bg-gray-900/30"}`,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>ae(!ne),className:"w-full flex items-center justify-between p-2.5 text-xs text-left hover:bg-gray-800/50 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2.5 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:`p-1 rounded ${ee.status==="pending"?"bg-blue-900/20 text-blue-400":ee.status==="success"?"bg-green-900/20 text-green-400":"bg-red-900/20 text-red-400"}`,children:jsxRuntimeExports.jsx(fe,{className:"w-3.5 h-3.5"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-300 truncate",children:ee.toolName}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 font-mono hidden sm:inline truncate",children:he})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-none ml-2",children:[ee.status==="pending"&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3.5 h-3.5 animate-spin text-blue-400"}),ee.status==="success"&&jsxRuntimeExports.jsx(CircleCheck,{className:"w-3.5 h-3.5 text-green-500/50"}),ee.status==="error"&&jsxRuntimeExports.jsx(CircleAlert,{className:"w-3.5 h-3.5 text-red-500/50"}),ne?jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4 text-gray-600"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 text-gray-600"})]})]}),ne&&jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-800/50 bg-black/20 p-3 space-y-3 animate-in slide-in-from-top-1 duration-150",children:[(ee.toolName.includes("delegate_research")||ee.toolName==="run_flow"||ee.toolName==="start_debate")&&jsxRuntimeExports.jsx(TaskTreeView$1,{tasks:te,toolCallId:ee.id}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-500 mb-1 flex items-center gap-1 cursor-pointer",onClick:()=>se(!ie),children:[jsxRuntimeExports.jsx("div",{className:"text-gray-500 hover:text-white transition",children:ie?jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-3 h-3"})}),jsxRuntimeExports.jsx(Settings,{className:"w-3 h-3"})," Arguments"]}),ie&&jsxRuntimeExports.jsx("div",{className:"bg-gray-950 rounded p-2 overflow-x-auto border border-gray-800/50",children:jsxRuntimeExports.jsx("pre",{className:"text-gray-400 text-[10px] font-mono leading-relaxed",children:pe})})]}),ee.result&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:`text-[10px] uppercase font-bold mb-1 flex items-center gap-1 cursor-pointer ${ee.status==="error"?"text-red-400":"text-green-400"}`,onClick:()=>le(!oe),children:[jsxRuntimeExports.jsx("div",{className:"text-gray-500 hover:text-white transition",children:oe?jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-3 h-3"})}),ee.status==="error"?jsxRuntimeExports.jsx(CircleAlert,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(Database,{className:"w-3 h-3"}),"Result"]}),oe&&jsxRuntimeExports.jsx("div",{className:`rounded p-2 overflow-x-auto border max-h-60 custom-scrollbar ${ee.status==="error"?"bg-red-950/20 border-red-900/30 text-red-300":"bg-gray-950 border-gray-800/50 text-gray-400"}`,children:jsxRuntimeExports.jsx("pre",{className:"text-[10px] font-mono leading-relaxed whitespace-pre-wrap break-all",children:ge})})]})]})]})},ToolCallItem$1=React.memo(ToolCallItem),ChatItem=reactExports.memo(({msg:ee,index:te,tasks:ne,editingMessageId:ae,editContent:ie,setEditContent:se,onSaveEdit:oe,onCancelEdit:le,onDeleteMessage:ce,onEditMessage:he})=>{const fe=ee.toolCalls||[],pe=fe.length>0;return jsxRuntimeExports.jsx("div",{className:"flex gap-4 max-w-5xl p-1 mx-auto group animate-in fade-in slide-in-from-bottom-2 duration-300",children:jsxRuntimeExports.jsx("div",{className:`flex-1 min-w-0 space-y-2 ${ee.role===MessageRole.USER?"flex flex-col items-end":""}`,children:jsxRuntimeExports.jsxs("div",{className:`relative rounded-xl px-5 py-4 shadow-sm max-w-full ${ee.role===MessageRole.USER?"bg-[#1F2937] text-gray-200 border border-gray-700":ee.role===MessageRole.SYSTEM?"bg-red-950/20 border border-red-900/40 text-red-200":"bg-[#0d1117] text-gray-300 border border-gray-800/60"} ${ee.role===MessageRole.MODEL?"w-full":"inline-block text-left"}`,children:[jsxRuntimeExports.jsxs("div",{className:"absolute -top-3 right-0 opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-opacity flex items-center gap-1 bg-gray-900 border border-gray-700 rounded-md px-1 py-0.5 shadow-lg",children:[jsxRuntimeExports.jsx("button",{onClick:()=>he(ee),className:"p-1 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded",title:"Edit Content",children:jsxRuntimeExports.jsx(Pencil,{className:"w-3 h-3"})}),jsxRuntimeExports.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ee.content)},className:"p-1 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded",title:"Copy Content",children:jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3"})}),jsxRuntimeExports.jsxs(ConfirmationButton,{onClick:()=>ce(te),className:"p-1 text-gray-400 hover:text-red-400 hover:bg-gray-800 rounded",activeClassName:"p-1 text-red-400 bg-red-400/200 rounded",title:"Delete",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3"}),jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3 transform scale-110 text-red-500"})]})]}),ee.attachments&&ee.attachments.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:ee.attachments.map((ge,ye)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/50 px-2 py-1 rounded text-xs border border-gray-700",children:[jsxRuntimeExports.jsx(Paperclip,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{className:"truncate max-w-[150px]",children:ge.name})]},ye))}),pe&&jsxRuntimeExports.jsx("div",{className:"w-full space-y-1 mb-3 pl-1",children:fe.map(ge=>jsxRuntimeExports.jsx(ToolCallItem$1,{tool:ge,tasks:ne},ge.id))}),ae===ee.id?jsxRuntimeExports.jsxs("div",{className:"w-full min-w-[300px]",children:[jsxRuntimeExports.jsx("textarea",{value:ie,onChange:ge=>se(ge.target.value),className:"w-full bg-gray-950 border border-gray-700 rounded p-2 text-sm text-gray-200 focus:outline-none focus:border-blue-500 mb-2 font-mono custom-scrollbar",rows:5}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:le,className:"px-2 py-1 text-xs text-gray-400 hover:text-white",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:()=>oe(te),className:"px-2 py-1 bg-blue-600 hover:bg-blue-500 text-white rounded text-xs flex items-center gap-1",children:[jsxRuntimeExports.jsx(Save,{className:"w-3 h-3"})," Save"]})]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ee.content?jsxRuntimeExports.jsx(MarkdownRenderer,{content:ee.content}):!pe&&ee.role===MessageRole.MODEL&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-600 italic text-sm py-2",children:[jsxRuntimeExports.jsx(MessageSquareDashed,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"(No text response provided)"})]})}),ee.sources&&ee.sources.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-800/50",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase font-bold text-gray-500 mb-2",children:"Sources"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:ee.sources.map((ge,ye)=>jsxRuntimeExports.jsxs("a",{href:ge.uri,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 rounded bg-gray-800/30 hover:bg-gray-800 transition text-xs text-blue-400 truncate border border-gray-800/30",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-3 h-3 flex-none"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:ge.title})]},ye))})]})]})})})},(ee,te)=>{if(ee.msg!==te.msg||ee.index!==te.index||ee.editingMessageId!==te.editingMessageId||ee.editContent!==te.editContent)return!1;if(ee.tasks!==te.tasks){const ne=ee.msg.toolCalls;if(!ne||ne.length===0)return!0;for(const ae of ne){const ie=ee.tasks.get(ae.id),se=te.tasks.get(ae.id);if(ie!==se||ee.msg.role===MessageRole.MODEL)return!1}}return!0}),ChatItem$1=reactExports.memo(ChatItem),ChatEmptyState=()=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500 space-y-4 opacity-50 pb-20",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-gray-800/30 rounded-full",children:jsxRuntimeExports.jsx(Bot,{className:"w-12 h-12 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-medium text-gray-300",children:"The Agent is ready"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-1",children:"Research, analyse code, and plan."})]})]}),EMPTY_TASKS=new Map,ChatList=({messages:ee,tasks:te,isLoading:ne,editingMessageId:ae,editContent:ie,setEditContent:se,onSaveEdit:oe,onCancelEdit:le,onDeleteMessage:ce,onEditMessage:he,messagesEndRef:fe})=>jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6",children:[ee.length===0&&jsxRuntimeExports.jsx(ChatEmptyState,{}),ee.map((pe,ge)=>jsxRuntimeExports.jsx(ChatItem$1,{msg:pe,index:ge,tasks:pe.toolCalls&&pe.toolCalls.length>0?te:EMPTY_TASKS,editingMessageId:ae,editContent:ie,setEditContent:se,onSaveEdit:oe,onCancelEdit:le,onDeleteMessage:ce,onEditMessage:he},pe.id)),ne&&jsxRuntimeExports.jsx("div",{className:"flex gap-4 max-w-5xl mx-auto pl-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm bg-[#0d1117] border border-gray-800 px-4 py-2 rounded-full",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin text-purple-500"}),jsxRuntimeExports.jsx("span",{className:"animate-pulse",children:"Agent is thinking..."})]})}),jsxRuntimeExports.jsx("div",{ref:fe})]}),ChatList$1=reactExports.memo(ChatList),ChatInput=({inputValue:ee,setInputValue:te,attachments:ne,setAttachments:ae,isLoading:ie,onSend:se,onFileUpload:oe,fileInputRef:le})=>{const ce=reactExports.useRef(null),he=reactExports.useCallback(()=>{const xe=ce.current;xe&&(xe.style.height="auto",xe.style.height=`${Math.min(xe.scrollHeight,200)}px`)},[]);reactExports.useEffect(()=>{he()},[ee,he]),reactExports.useEffect(()=>{var xe;(xe=ce.current)==null||xe.focus()},[]);const fe=xe=>{xe.key==="Enter"&&!xe.shiftKey&&(xe.preventDefault(),se())},pe=xe=>{var ve;const be=(ve=xe.clipboardData)==null?void 0:ve.items;if(!be)return;const Se=[];for(let Te=0;Te<be.length;Te++)if(be[Te].type.indexOf("image")!==-1){const Ce=be[Te].getAsFile();Ce&&Se.push(Ce)}if(Se.length>0){const Te=new DataTransfer;Se.forEach(Ce=>Te.items.add(Ce)),oe(Te.files)}},ge=xe=>{xe.preventDefault(),xe.dataTransfer.files&&xe.dataTransfer.files.length>0&&oe(xe.dataTransfer.files)},ye=xe=>{xe.preventDefault()};return jsxRuntimeExports.jsx("footer",{className:"flex-none p-4 bg-[#0d1117] z-10",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[ne.length>0&&jsxRuntimeExports.jsx("div",{className:"flex gap-2 mb-3 overflow-x-auto pb-2 custom-scrollbar",children:ne.map((xe,be)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 text-gray-300 px-3 py-1.5 rounded-lg text-xs border border-gray-700 shadow-sm animate-in fade-in zoom-in duration-200",children:[jsxRuntimeExports.jsx(Paperclip,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{className:"truncate max-w-[150px]",children:xe.name}),jsxRuntimeExports.jsx("button",{onClick:()=>ae(Se=>Se.filter((ve,Te)=>Te!==be)),className:"hover:text-red-400 ml-1 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-3 h-3"})})]},be))}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-end flex-col justify-items-stretch gap-2 bg-[#161b22] border border-gray-700/50 rounded-xl p-2 shadow-lg focus-within:ring-1 focus-within:ring-blue-500/30 transition-all",onDrop:ge,onDragOver:ye,children:[jsxRuntimeExports.jsx("textarea",{value:ee,ref:ce,onChange:xe=>te(xe.target.value),onKeyDown:fe,onPaste:pe,placeholder:"Ask the agent to research, analyze code, or explain concepts...",className:"h-auto w-full bg-transparent border-transparent text-gray-200 placeholder-gray-600 py-2.5 resize-none leading-relaxed max-h-[200px] overflow-y-auto outline-none custom-scrollbar"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between w-full px-2 pb-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{var xe;return(xe=le.current)==null?void 0:xe.click()},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition",title:"Attach File",children:jsxRuntimeExports.jsx(Paperclip,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,className:"hidden",ref:le,onChange:xe=>oe(xe)}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-gray-500 ml-2 hidden md:block",children:["Press ",jsxRuntimeExports.jsx("kbd",{className:"bg-gray-800 px-1 rounded",children:"Enter"})," to send, ",jsxRuntimeExports.jsx("kbd",{className:"bg-gray-800 px-1 rounded",children:"Shift+Enter"})," for newline"]})]}),jsxRuntimeExports.jsx("button",{onClick:se,disabled:!ee.trim()&&ne.length===0||ie,className:"p-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition disabled:opacity-50 disabled:hover:bg-blue-600 shadow-lg shadow-blue-600/20",children:ie?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):jsxRuntimeExports.jsx(Send,{className:"w-5 h-5"})})]})]})]})})},VariablesViewer=({variablesHook:ee,isOpen:te,onClose:ne})=>{const[ae,ie]=reactExports.useState([]);reactExports.useEffect(()=>{te&&se()},[te]);const se=async()=>{try{ie(ee.getState().variables.entries().map(([oe,le])=>le).toArray())}catch(oe){console.error(oe)}finally{}};return te?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col animate-in fade-in zoom-in duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex-none p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950 rounded-t-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Book,{className:"w-5 h-5 text-green-400"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-white",children:"Variables viewer"})]}),jsxRuntimeExports.jsx("button",{onClick:ne,className:"p-1 text-gray-400 hover:text-white rounded hover:bg-gray-800 transition",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4 bg-gray-900",children:ae.length===0?jsxRuntimeExports.jsx("div",{className:"text-center text-gray-500 py-10",children:"The model not used any variable."}):ae.map(oe=>jsxRuntimeExports.jsx("div",{className:"bg-gray-950 border border-gray-800 rounded-lg p-4 shadow-sm hover:border-gray-700 transition",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300 prose prose-invert max-w-none",children:jsxRuntimeExports.jsx("text",{children:JSON.stringify(oe.getUnwrapped())})})},oe.id))})]})}):null},Sidebar=({sessions:ee,activeSessionId:te,onSelectSession:ne,onNewChat:ae,onDeleteSession:ie,isOpen:se,onToggle:oe})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[se&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden",onClick:oe}),jsxRuntimeExports.jsx("aside",{className:`
                fixed lg:static inset-y-0 left-0 z-50
                bg-[#0d1117] border-r border-gray-800/60
                transition-all duration-300 ease-in-out flex 
                flex-col overflow-hidden
                ${se?"w-72 translate-x-0 opacity-100":"w-0 -translate-x-full lg:translate-x-0"}
            `,children:jsxRuntimeExports.jsxs("div",{className:`flex flex-col h-full w-72 ${!se&&"lg:invisible"}`,children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-gray-800/40",children:jsxRuntimeExports.jsxs("button",{onClick:ae,className:"w-full flex items-center justify-center gap-2 p-2.5 bg-gray-800/50 hover:bg-gray-700/50 text-gray-200 border border-gray-700/50 rounded-xl transition-all shadow-sm group",title:"New Chat",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 text-blue-400 group-hover:scale-110 transition-transform"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"New Chat"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"px-2 mb-2",children:jsxRuntimeExports.jsx("h2",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Recent Chats"})}),ee.length===0?jsxRuntimeExports.jsx("div",{className:"p-4 text-center text-gray-600 text-xs italic",children:"No history yet"}):ee.map(le=>jsxRuntimeExports.jsxs("div",{className:`
                                        group flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all relative
                                        ${te===le.id?"bg-blue-600/10 text-blue-400 border border-blue-500/20":"text-gray-400 hover:bg-gray-800/40 hover:text-gray-200 border border-transparent"}
                                    `,onClick:()=>ne(le.id),children:[jsxRuntimeExports.jsx(MessageSquare,{className:`w-4 h-4 flex-none ${te===le.id?"text-blue-400":"text-gray-500 group-hover:text-gray-400"}`}),jsxRuntimeExports.jsx("span",{className:"flex-1 truncate text-sm",children:le.title||"New Chat"}),jsxRuntimeExports.jsxs(ConfirmationButton,{onClick:ce=>{ce.stopPropagation(),ie(le.id)},className:"p-1 text-gray-400 hover:text-red-400 hover:bg-gray-800 rounded opacity-0 group-hover:opacity-100",activeClassName:"p-1 text-red-400 bg-red-400/200 rounded",title:"Delete chat",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx(Trash2,{className:"w-3.5 h-3.5 transform scale-110 text-red-500"})]})]},le.id))]}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-gray-800/40 bg-[#090c10]",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 px-2 py-1 text-gray-500",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"System Online"})]})})]})})]}),useAppKeyboard=({onNewChat:ee,onToggleSidebar:te,onShowFiles:ne,onShowSettings:ae,onShowKnowledge:ie,onShowVariables:se,onShowContext:oe,onClearContext:le,onToggleAutoScroll:ce,onShortcutsOpen:he,isAnyModalOpen:fe})=>{const pe={"Alt+n":{action:ee,description:"New Chat"},"Control+n":{action:ee,description:"New Chat"},"Alt+b":{action:te,description:"Toggle Sidebar"},"Control+b":{action:te,description:"Toggle Sidebar"},"Control+Shift+f":{action:ne,description:"Open Virtual File Manager"},"Alt+f":{action:ne,description:"Open Virtual File Manager"},"Control+,":{action:ae,description:"Open Settings"},"Control+Shift+k":{action:ie,description:"Open Knowledge Base"},"Control+Shift+v":{action:se,description:"Open Variables Viewer"},"Control+Shift+c":{action:oe,description:"Open Context Viewer"},"Control+Shift+x":{action:le,description:"Clear Context"},"Alt+a":{action:ce,description:"Toggle Auto-scroll"},"?":{action:ge=>{const ye=ge.target;ye.tagName==="INPUT"||ye.tagName==="TEXTAREA"||ye.isContentEditable||he()},preventDefault:!1,description:"Show Shortcuts"}};return{onKeyDown:useKeyboardRegistry(pe,{enableGlobal:!0,disabled:fe}).onKeyDown,documentation:[{title:"Application",registry:pe}]}},App=()=>{const{messages:ee,inputValue:te,setInputValue:ne,isLoading:ae,tasks:ie,modelConfig:se,setModelConfig:oe,toolConfig:le,setToolConfig:ce,setGeminiKeyConfig:he,attachments:fe,setAttachments:pe,editingMessageId:ge,editContent:ye,setEditContent:xe,handleSendMessage:be,handleFileUpload:Se,handleClearContext:ve,handleDeleteMessage:Te,handleEditMessage:Ce,handleSaveEdit:Pe,cancelEdit:Be,gemini:Ae,toggleToolCall:Me,sessions:Ge,activeSessionId:Ue,setActiveSession:Ve,handleNewChat:je,deleteSession:De}=useChat(),[Ye,ke]=reactExports.useState(!1),[$e,Oe]=reactExports.useState(!1),[He,qe]=reactExports.useState(!1),[Xe,ze]=reactExports.useState(!1),[Ie,Fe]=reactExports.useState(!1),[Le,Ze]=reactExports.useState(!1),[Qe,St]=reactExports.useState(!0),[Nt,Ct]=reactExports.useState(!0),[kt,At]=reactExports.useState(!1),Vt=reactExports.useRef(null),Kt=reactExports.useRef(null),jt=Ye||$e||Xe||Ie||Le||kt,{onKeyDown:Ne,documentation:_t}=useAppKeyboard({onNewChat:je,onToggleSidebar:()=>Ct(!Nt),onShowFiles:()=>ze(!0),onShowSettings:()=>ke(!0),onShowKnowledge:()=>Fe(!0),onShowVariables:()=>Ze(!0),onShowContext:()=>Oe(!0),onClearContext:ve,onToggleAutoScroll:()=>St(!Qe),onShortcutsOpen:()=>At(!0),isAnyModalOpen:jt});return reactExports.useEffect(()=>{var dt;Qe&&!ae&&((dt=Vt.current)==null||dt.scrollIntoView({behavior:"smooth"}))},[ee.length,ae,Qe]),reactExports.useEffect(()=>{Ae.automaticContextManagement=He},[He]),reactExports.useEffect(()=>{const dt=Ke=>{const{msgIdx:Je,toolId:ut}=Ke.detail;Me(Je,ut)};return window.addEventListener("toggle-tool-call",dt),()=>window.removeEventListener("toggle-tool-call",dt)},[Me]),jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-[#0d1117] text-gray-300 font-sans selection:bg-blue-500/30 overflow-hidden",onKeyDown:Ne,children:[jsxRuntimeExports.jsx(Header,{modelName:se.modelName,onShowContext:()=>Oe(!0),onShowFiles:()=>ze(!0),onShowKnowledge:()=>Fe(!0),onClearContext:ve,onShowSettings:()=>ke(!0),onShowVariables:()=>Ze(!0),autoScroll:Qe,onToggleAutoScroll:()=>St(!Qe),onToggleSidebar:()=>Ct(!Nt)}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[jsxRuntimeExports.jsx(Sidebar,{sessions:Ge,activeSessionId:Ue,onSelectSession:Ve,onNewChat:je,onDeleteSession:De,isOpen:Nt,onToggle:()=>Ct(!Nt)}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col min-w-0 relative",children:[jsxRuntimeExports.jsx(ChatList$1,{messages:ee,tasks:ie,isLoading:ae,editingMessageId:ge,editContent:ye,setEditContent:xe,onSaveEdit:Pe,onCancelEdit:Be,onDeleteMessage:Te,onEditMessage:Ce,messagesEndRef:Vt}),jsxRuntimeExports.jsx(ChatInput,{inputValue:te,setInputValue:ne,attachments:fe,setAttachments:pe,isLoading:ae,onSend:be,onFileUpload:Se,fileInputRef:Kt})]})]}),jsxRuntimeExports.jsx(SettingsModal,{isOpen:Ye,onClose:()=>ke(!1),toolConfig:le,onToolConfigChange:ce,modelConfig:se,onModelConfigChange:oe,onGeminiKeyChange:he}),jsxRuntimeExports.jsx(ContextViewer,{isOpen:$e,onClose:()=>Oe(!1),messages:ee,onToggleMessage:dt=>Ae.toggleContextTurn(dt,ee[dt].disabled?"enable":"disable"),editingMessageId:ge,editContent:ye,setEditContent:xe,onSaveEdit:Pe,onCancelEdit:Be,onDeleteMessage:Te,onEditMessage:Ce,automaticContextManagement:He,setAutomaticContextManagement:qe}),jsxRuntimeExports.jsx(VariablesViewer,{variablesHook:Ae.localValues,isOpen:Le,onClose:()=>Ze(!1)}),jsxRuntimeExports.jsx(VirtualFileManager,{isOpen:Xe,onClose:()=>ze(!1)}),jsxRuntimeExports.jsx(KnowledgeViewer,{isOpen:Ie,onClose:()=>Fe(!1),onSearch:dt=>Ae.searchMemoryItems(dt),getAllItems:()=>Ae.getMemoryItems(),onUpdate:dt=>Ae.updateMemoryItem(dt),onDelete:dt=>Ae.deleteMemoryItem(dt),onAdd:(dt,Ke)=>Ae.saveToMemory(dt,Ke)}),jsxRuntimeExports.jsx(ShortcutModal,{isOpen:kt,onClose:()=>At(!1),sections:_t})]})},rootElement=document.getElementById("root");if(!rootElement)throw new Error("Could not find root element to mount to");const root=ReactDOM.createRoot(rootElement);root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{withPath as $,rgba$1 as A,setupGraphViewbox2 as B,cleanAndMerge as C,getConfig as D,defaultConfig_default as E,random as F,selectSvgElement as G,version as H,getThemeVariables3 as I,JSON_SCHEMA as J,line$1 as K,hasKatex as L,calculateMathMLDimensions as M,parseFontSize as N,renderKatex as O,parseGenericTypes as P,curveBasis as Q,generateId as R,lineBreakRegex as S,setupGraphViewbox as T,isDark as U,lighten as V,darken as W,__export as X,commonDb_exports as Y,ZERO_WIDTH_SPACE as Z,__name as _,getAccTitle as a,constant$2 as a$,halfPi as a0,epsilon as a1,tau as a2,cos as a3,sin as a4,min as a5,abs$1 as a6,constant$1 as a7,pi as a8,sqrt as a9,isArrayLikeObject as aA,constant as aB,isFunction as aC,isEmpty as aD,computeDimensionOfText as aE,array as aF,getDefaultExportFromCjs as aG,getIconSVG as aH,registerIconPacks as aI,unknownIcon as aJ,isObject as aK,isIterateeCall as aL,keysIn as aM,eq as aN,isArrayLike as aO,isArray as aP,identity as aQ,isIndex as aR,assignValue as aS,Rgb as aT,rgbConvert as aU,define as aV,extend as aW,Color as aX,nogamma as aY,hue as aZ,dayjs2 as a_,atan2 as aa,asin as ab,acos as ac,max as ad,insertCluster as ae,insertNode as af,positionNode as ag,getLineFunctionsWithOffset as ah,evaluate as ai,createText as aj,getSubGraphTitleMargins as ak,replaceIconSubstring as al,decodeEntities as am,getStylesFromArray as an,Utils as ao,Color$1 as ap,markers_default as aq,clear2 as ar,clear as as,clear$1 as at,updateNodeBounds as au,setNodeElem as av,insertEdge as aw,positionEdgeLabel as ax,insertEdgeLabel as ay,baseRest as az,setAccTitle as b,interpolateNumber as b0,interpolateRgb as b1,interpolateString as b2,color as b3,setToString as b4,overRest as b5,baseFor as b6,baseAssignValue as b7,baseUnary as b8,merge as b9,isObjectLike as ba,baseGetTag as bb,Symbol$1 as bc,arrayLikeKeys as bd,baseKeys as be,memoize as bf,isArguments as bg,copyObject as bh,getPrototype as bi,cloneArrayBuffer as bj,cloneTypedArray as bk,getTag as bl,nodeUtil as bm,copyArray as bn,isBuffer as bo,cloneBuffer as bp,initCloneObject as bq,Stack as br,MapCache as bs,Uint8Array$1 as bt,isTypedArray as bu,isLength as bv,Set$1 as bw,createAssigner as bx,isPrototype as by,__vitePreload as bz,getConfig2 as c,select as d,configureSvgSize as e,assignWithDepth_default as f,getAccDescription as g,calculateTextWidth as h,sanitizeText as i,distExports as j,common_default as k,log as l,calculateTextHeight as m,getDiagramTitle as n,setDiagramTitle as o,setConfig2 as p,getRegisteredLayoutAlgorithm as q,render$1 as r,setAccDescription as s,defaultConfig2 as t,utils_default as u,clear$2 as v,wrapLabel as w,load as x,isValidShape as y,getEdgeId as z};
